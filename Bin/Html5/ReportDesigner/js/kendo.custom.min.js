!function(define){define("kendo.core.min",["jquery"],function(){var D={id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."},E={name:"@progress/kendo-ui",productName:"Kendo UI",productCodes:["KENDOUICOMPLETE","KENDOUI","KENDOUI","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://docs.telerik.com/kendo-ui/intro/installation/using-license-code"},g=jQuery,v=window,R=void 0,M=v.kendo=v.kendo||{cultures:{}},u=g.extend,r=g.each,d=Array.isArray,A=g.noop,l=Math,e,F=v.JSON||{},c={},H=/%/,P=/\{(\d+)(:[^\}]+)?\}/g,O=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,W=/^(\+|-?)\d+(\.?)\d*$/,f="function",_="string",p="number",h="object",j="null",q="boolean",G="undefined",K="prefix",$="aria-labelledby",Y="aria-label",Q="_label",X={},J={},Z=[].slice,ee=["themeColor","fillMode","shape","size","rounded","positionMode"],te=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,d=false;if(typeof o==="boolean"){d=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&typeof o!=="function")o={};if(s===l){o=this;s--}for(;s<l;s++)if((r=arguments[s])!=null)for(n in r){if(n=="filters"||n=="concat"||n==":")continue;e=o[n];i=r[n];if(o===i)continue;if(d&&i&&(jQuery.isPlainObject(i)||(t=Array.isArray(i)))){if(t){t=false;a=e&&Array.isArray(e)?e:[]}else a=e&&jQuery.isPlainObject(e)?e:{};o[n]=te(d,a,i)}else if(i!==R)o[n]=i}return o};function ie(){}M.version="2022.3.913".replace(/^\s+|\s+$/g,""),ie.extend=function(e){var t=function(){},i,n=this,r=e&&e.init?e.init:function(){n.apply(this,arguments)},a;t.prototype=n.prototype;a=r.fn=r.prototype=new t;for(i in e)if(e[i]!=null&&e[i].constructor===Object)a[i]=u(true,{},t.prototype[i],e[i]);else a[i]=e[i];a.constructor=r;r.extend=n.extend;return r},ie.prototype._initOptions=function(e){this.options=rt({},this.options,e)};var ne=M.isFunction=function(e){return typeof e==="function"},re=function(){this._defaultPrevented=true},ae=function(){return this._defaultPrevented===true},oe=ie.extend({init:function(){this._events={}},bind:function(e,t,i){var n=this,r,a=typeof e===_?[e]:e,o,s,l,d=typeof t===f,u;if(t===R){for(r in e)n.bind(r,e[r]);return n}for(r=0,o=a.length;r<o;r++){e=a[r];l=d?t:t[e];if(l){if(i){s=l;l=function(){n.unbind(e,l);s.apply(n,arguments)};l.original=s}u=n._events[e]=n._events[e]||[];u.push(l)}}return n},one:function(e,t){return this.bind(e,t,true)},first:function(e,t){var i=this,n,r=typeof e===_?[e]:e,a,o,s=typeof t===f,l;for(n=0,a=r.length;n<a;n++){e=r[n];o=s?t:t[e];if(o){l=i._events[e]=i._events[e]||[];l.unshift(o)}}return i},trigger:function(e,t){var i=this,n=i._events[e],r,a;if(n){t=t||{};t.sender=i;t._defaultPrevented=false;t.preventDefault=re;t.isDefaultPrevented=ae;n=n.slice();for(r=0,a=n.length;r<a;r++)n[r].call(i,t);return t._defaultPrevented===true}return false},unbind:function(e,t){var i=this,n=i._events[e],r;if(e===R)i._events={};else if(n)if(t){for(r=n.length-1;r>=0;r--)if(n[r]===t||n[r].original===t)n.splice(r,1)}else i._events[e]=[];return i}});function se(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";else{var i=e.charAt(0),n=e.substring(1);if(i==="=")return"+("+n+")+";else if(i===":")return"+$kendoHtmlEncode("+n+")+";else return";"+e+";$kendoOutput+="}}var le=/^\w+/,de=/\$\{([^}]*)\}/g,ue=/\\\}/g,ce=/__CURLY__/g,fe=/\\#/g,pe=/__SHARP__/g,he=["","0","00","000","0000"];function m(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return he[t].substring(0,i)+e;return e}e={paramName:"data",useWithBlock:true,render:function(e,t){var i,n,r="";for(i=0,n=t.length;i<n;i++)r+=e(t[i]);return r},compile:function(t,e){var i=u({},this,e),n=i.paramName,r=n.match(le)[0],a=i.useWithBlock,o="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",s,l,d;if(ne(t))return t;o+=a?"with("+n+"){":"";o+="$kendoOutput=";l=t.replace(ue,"__CURLY__").replace(de,"#=$kendoHtmlEncode($1)#").replace(ce,"}").replace(fe,"__SHARP__").split("#");for(d=0;d<l.length;d++)o+=se(l[d],d%2===0);o+=a?";}":";";o+="return $kendoOutput;";o=o.replace(pe,"#");try{s=new Function(r,o);s._slotCount=Math.floor(l.length/2);return s}catch(e){throw new Error(M.format("Invalid template:'{0}' Generated code:'{1}'",t,o))}}};var me=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,ge,ve={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k,_e={}.toString;if(typeof Date.prototype.toJSON!==f){Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?m(e.getUTCFullYear(),4)+"-"+m(e.getUTCMonth()+1)+"-"+m(e.getUTCDate())+"T"+m(e.getUTCHours())+":"+m(e.getUTCMinutes())+":"+m(e.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function be(e){me.lastIndex=0;return me.test(e)?'"'+e.replace(me,function(e){var t=ve[e];return typeof t===_?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function ke(e,t){var i,n,r,a,o=b,s,l=t[e],d;if(l&&typeof l===h&&typeof l.toJSON===f)l=l.toJSON(e);if(typeof k===f)l=k.call(t,e,l);d=typeof l;if(d===_)return be(l);else if(d===p)return isFinite(l)?String(l):j;else if(d===q||d===j)return String(l);else if(d===h){if(!l)return j;b+=ge;s=[];if(_e.apply(l)==="[object Array]"){a=l.length;for(i=0;i<a;i++)s[i]=ke(i,l)||j;r=s.length===0?"[]":b?"[\n"+b+s.join(",\n"+b)+"\n"+o+"]":"["+s.join(",")+"]";b=o;return r}if(k&&typeof k===h){a=k.length;for(i=0;i<a;i++)if(typeof k[i]===_){n=k[i];r=ke(n,l);if(r)s.push(be(n)+(b?": ":":")+r)}}else for(n in l)if(Object.hasOwnProperty.call(l,n)){r=ke(n,l);if(r)s.push(be(n)+(b?": ":":")+r)}r=s.length===0?"{}":b?"{\n"+b+s.join(",\n"+b)+"\n"+o+"}":"{"+s.join(",")+"}";b=o;return r}}if(typeof F.stringify!==f)F.stringify=function(e,t,i){var n;b="";ge="";if(typeof i===p)for(n=0;n<i;n+=1)ge+=" ";else if(typeof i===_)ge=i;k=t;if(t&&typeof t!==f&&(typeof t!==h||typeof t.length!==p))throw new Error("JSON.stringify");return ke("",{"":e})};var we=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,ye=/^(n|c|p|e)(\d*)$/i,xe=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,Ce=/\,/g,N="",L=".",Se=",",B="#",V="0",Te="??",Ie="en-US",De={}.toString;function Ee(e){if(e){if(e.numberFormat)return e;if(typeof e===_){var t=M.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function Ae(e){if(e)e=Ee(e);return e||M.cultures.current}function Fe(r,e,t){t=Ae(t);var a=t.calendars.standard,o=a.days,s=a.months;e=a.patterns[e]||e;return e.replace(we,function(e){var t;var i;var n;if(e==="d")i=r.getDate();else if(e==="dd")i=m(r.getDate());else if(e==="ddd")i=o.namesAbbr[r.getDay()];else if(e==="dddd")i=o.names[r.getDay()];else if(e==="M")i=r.getMonth()+1;else if(e==="MM")i=m(r.getMonth()+1);else if(e==="MMM")i=s.namesAbbr[r.getMonth()];else if(e==="MMMM")i=s.names[r.getMonth()];else if(e==="yy")i=m(r.getFullYear()%100);else if(e==="yyyy")i=m(r.getFullYear(),4);else if(e==="h")i=r.getHours()%12||12;else if(e==="hh")i=m(r.getHours()%12||12);else if(e==="H")i=r.getHours();else if(e==="HH")i=m(r.getHours());else if(e==="m")i=r.getMinutes();else if(e==="mm")i=m(r.getMinutes());else if(e==="s")i=r.getSeconds();else if(e==="ss")i=m(r.getSeconds());else if(e==="f")i=l.floor(r.getMilliseconds()/100);else if(e==="ff"){i=r.getMilliseconds();if(i>99)i=l.floor(i/10);i=m(i)}else if(e==="fff")i=m(r.getMilliseconds(),3);else if(e==="tt")i=r.getHours()<12?a.AM[0]:a.PM[0];else if(e==="zzz"){t=r.getTimezoneOffset();n=t<0;i=l.abs(t/60).toString().split(".")[0];t=l.abs(t)-i*60;i=(n?"+":"-")+m(i);i+=":"+m(t)}else if(e==="zz"||e==="z"){i=r.getTimezoneOffset()/60;n=i<0;i=l.abs(i).toString().split(".")[0];i=(n?"+":"-")+(e==="zz"?m(i):i)}return i!==R?i:e.slice(1,e.length-1)})}function He(e,t,i){i=Ae(i);var n=i.numberFormat,r=n[L],a=n.decimals,o=n.pattern[0],s=[],l,d,u,c,f,p=e<0,h,m,g,v,_=N,b=N,k,w,y,x,C,S,T,I,D,E,A,F,H,P=-1,O;if(e===R)return N;if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():e.toString();f=ye.exec(t);if(f){t=f[1].toLowerCase();d=t==="c";u=t==="p";if(d||u){n=d?n.currency:n.percent;r=n[L];a=n.decimals;l=n.symbol;o=n.pattern[p?0:1]}c=f[2];if(c)a=+c;if(t==="e"){var z=c?e.toExponential(a):e.toExponential();return z.replace(L,n[L])}if(u)e*=100;e=U(e,a);p=e<0;e=e.split(L);h=e[0];m=e[1];if(p)h=h.substring(1);b=Pe(h,0,h.length,n);if(m)b+=r+m;if(t==="n"&&!p)return b;e=N;for(k=0,w=o.length;k<w;k++){y=o.charAt(k);if(y==="n")e+=b;else if(y==="$"||y==="%")e+=l;else e+=y}return e}if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)t=t.replace(xe,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");s.push(i);return Te});t=t.split(";");if(p&&t[1]){t=t[1];C=true}else if(e===0&&t[2]){t=t[2];if(t.indexOf(B)==-1&&t.indexOf(V)==-1)return t}else t=t[0];A=t.indexOf("%");F=t.indexOf("$");u=A!=-1;d=F!=-1;if(u)e*=100;if(d&&t[F-1]==="\\"){t=t.split("\\").join("");d=false}if(d||u){n=d?n.currency:n.percent;r=n[L];a=n.decimals;l=n.symbol}x=t.indexOf(Se)>-1;if(x)t=t.replace(Ce,N);S=t.indexOf(L);w=t.length;if(S!=-1){m=e.toString().split("e");if(m[1])m=U(e,Math.abs(m[1]));else m=m[0];m=m.split(L)[1]||N;I=t.lastIndexOf(V)-S;T=t.lastIndexOf(B)-S;D=I>-1;E=T>-1;k=m.length;if(!D&&!E){t=t.substring(0,S)+t.substring(S+1);w=t.length;S=-1;k=0}if(D&&I>T)k=I;else if(T>I)if(E&&k>T){var M=U(e,T,p);while(M.charAt(M.length-1)===V&&T>0&&T>I){T--;M=U(e,T,p)}k=T}else if(D&&k<I)k=I}e=U(e,k,p);T=t.indexOf(B);H=I=t.indexOf(V);if(T==-1&&I!=-1)P=I;else if(T!=-1&&I==-1)P=T;else P=T>I?I:T;T=t.lastIndexOf(B);I=t.lastIndexOf(V);if(T==-1&&I!=-1)O=I;else if(T!=-1&&I==-1)O=T;else O=T>I?T:I;if(P==w)O=P;if(P!=-1){b=e.toString().split(L);h=b[0];m=b[1]||N;g=h.length;v=m.length;if(p&&e*-1>=0)p=false;e=t.substring(0,P);if(p&&!C)e+="-";for(k=P;k<w;k++){y=t.charAt(k);if(S==-1){if(O-k<g){e+=h;break}}else{if(I!=-1&&I<k)_=N;if(S-k<=g&&S-k>-1){e+=h;k=S}if(S===k){e+=(m?r:N)+m;k+=O-S+1;continue}}if(y===V){e+=y;_=y}else if(y===B)e+=_}if(x)e=Pe(e,P+(p&&!C?1:0),Math.max(O,g+P),n);if(O>=P)e+=t.substring(O+1);if(d||u){b=N;for(k=0,w=e.length;k<w;k++){y=e.charAt(k);b+=y==="$"||y==="%"?l:y}e=b}w=s.length;if(w)for(k=0;k<w;k++)e=e.replace(Te,s[k])}return e}M.cultures["en-US"]={name:Ie,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},M.culture=function(e){var t=M.cultures,i;if(e!==R){i=Ee(e)||t[Ie];i.calendar=i.calendars.standard;t.current=i}else return t.current},M.findCulture=Ee,M.getCulture=Ae,M.culture(Ie);var Pe=function(e,t,i,n){var r=e.indexOf(n[L]);var a=n.groupSize.slice();var o=a.shift();var s,l;var d,u,c;var f;i=r!==-1?r:i+1;s=e.substring(t,i);l=s.length;if(l>=o){d=l;u=[];while(d>-1){c=s.substring(d-o,d);if(c)u.push(c);d-=o;f=a.shift();o=f!==R?f:o;if(o===0){if(d>0)u.push(s.substring(0,d));break}}s=u.reverse().join(n[Se]);e=e.substring(0,t)+s+e.substring(i)}return e},U=function(e,t,i){t=t||0;e=e.toString().split("e");e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)));if(i)e=-e;e=e.toString().split("e");e=+(e[0]+"e"+(e[1]?+e[1]-t:-t));return e.toFixed(Math.min(t,20))},Oe=function(e,t,i){if(t)if(De.call(e)==="[object Date]")return Fe(e,t,i);else if(typeof e===p)return He(e,t,i);return e!==R?e:""},Me=(M.format=function(e){var r=arguments;return e.replace(P,function(e,t,i){var n=r[parseInt(t,10)+1];return Oe(n,i?i.substring(1):"")})},M._extractFormat=function(e){if(e.slice(0,3)==="{0:")e=e.slice(3,e.length-1);return e},M._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},M._round=U,M._outerWidth=function(e,t){return g(e).outerWidth(t||false)||0},M._outerHeight=function(e,t){return g(e).outerHeight(t||false)||0},M.toString=Oe,/\u00A0/g),ze=/\s/g,Re=/[eE][\-+]?[0-9]+/,Ne=/[+|\-]\d{1,2}/,Le=/[+|\-]\d{1,2}:?\d{2}/,Be=/^\/Date\((.*?)\)\/$/,Ve=/[+-]\d*/,Ue=[[],["G","g","F"],["D","d","y","m","T","t"]],We=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],je={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},qe={}.toString;function z(e,t,i){return!(e>=t&&e<=i)}function Ge(e){return e.charAt(0)}function Ke(e){return g.map(e,Ge)}function $e(e,t){if(!t&&e.getHours()===23)e.setHours(e.getHours()+2)}function Ye(e){var t=0,i=e.length,n=[];for(;t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}function Qe(e){var t={},i;for(i in e)t[i]=Ye(e[i]);return t}function Xe(d,i,e,t){if(!d)return null;var n=function(e){var t=0;while(i[g]===e){t++;g++}if(t>0)g-=1;return t},r=function(e){var t=je[e]||new RegExp("^\\d{1,"+e+"}"),i=d.substr(v,e).match(t);if(i){i=i[0];v+=i.length;return parseInt(i,10)}return null},a=function(e,t){var i=0,n=e.length,r,a,o=0,s=0,l;for(;i<n;i++){r=e[i];a=r.length;l=d.substr(v,a);if(t)l=l.toLowerCase();if(l==r&&a>o){o=a;s=i}}if(o){v+=o;return s+1}return null},o=function(){var e=false;if(d.charAt(v)===i[g]){v++;e=true}return e},s=e.calendars.standard,l=null,u=null,c=null,f=null,p=null,h=null,m=null,g=0,v=0,_=false,b=new Date,k=s.twoDigitYearMax||2029,w=b.getFullYear(),y,x,C,S,T,I,D,E,A,F,H,P,O;if(!i)i="d";S=s.patterns[i];if(S)i=S;i=i.split("");C=i.length;for(;g<C;g++){y=i[g];if(_)if(y==="'")_=false;else o();else if(y==="d"){x=n("d");if(!s._lowerDays)s._lowerDays=Qe(s.days);if(c!==null&&x>2)continue;c=x<3?r(2):a(s._lowerDays[x==3?"namesAbbr":"names"],true);if(c===null||z(c,1,31))return null}else if(y==="M"){x=n("M");if(!s._lowerMonths)s._lowerMonths=Qe(s.months);u=x<3?r(2):a(s._lowerMonths[x==3?"namesAbbr":"names"],true);if(u===null||z(u,1,12))return null;u-=1}else if(y==="y"){x=n("y");l=r(x);if(l===null)return null;if(x==2){if(typeof k==="string")k=w+parseInt(k,10);l=w-w%100+l;if(l>k)l-=100}}else if(y==="h"){n("h");f=r(2);if(f==12)f=0;if(f===null||z(f,0,11))return null}else if(y==="H"){n("H");f=r(2);if(f===null||z(f,0,23))return null}else if(y==="m"){n("m");p=r(2);if(p===null||z(p,0,59))return null}else if(y==="s"){n("s");h=r(2);if(h===null||z(h,0,59))return null}else if(y==="f"){x=n("f");O=d.substr(v,x).match(je[3]);m=r(x);if(m!==null){m=parseFloat("0."+O[0],10);m=M._round(m,3);m*=1e3}if(m===null||z(m,0,999))return null}else if(y==="t"){x=n("t");E=s.AM;A=s.PM;if(x===1){E=Ke(E);A=Ke(A)}T=a(A);if(!T&&!a(E))return null}else if(y==="z"){I=true;x=n("z");if(d.substr(v,1)==="Z"){o();continue}D=d.substr(v,6).match(x>2?Le:Ne);if(!D)return null;D=D[0].split(":");F=D[0];H=D[1];if(!H&&F.length>3){v=F.length-2;H=F.substring(v);F=F.substring(0,v)}F=parseInt(F,10);if(z(F,-12,13))return null;if(x>2){H=D[0][0]+H;H=parseInt(H,10);if(isNaN(H)||z(H,-59,59))return null}}else if(y==="'"){_=true;o()}else if(!o())return null}if(t&&!/^\s*$/.test(d.substr(v)))return null;P=f!==null||p!==null||h||null;if(l===null&&u===null&&c===null&&P){l=w;u=b.getMonth();c=b.getDate()}else{if(l===null)l=w;if(c===null)c=1}if(T&&f<12)f+=12;if(I){if(F)f+=-F;if(H)p+=-H;d=new Date(Date.UTC(l,u,c,f,p,h,m))}else{d=new Date(l,u,c,f,p,h,m);$e(d,f)}if(l<100)d.setFullYear(l);if(d.getDate()!==c&&I===R)return null;return d}function Je(e){var t=e.substr(0,1)==="-"?-1:1;e=e.substring(1);e=parseInt(e.substr(0,2),10)*60+parseInt(e.substring(2),10);return t*e}function Ze(e){var t=l.max(Ue.length,We.length);var i=e.calendar||e.calendars.standard;var n=i.patterns;var r,a,o;var s=[];for(o=0;o<t;o++){r=Ue[o];for(a=0;a<r.length;a++)s.push(n[r[a]]);s=s.concat(We[o])}return s}function et(e,t,i,n){if(qe.call(e)==="[object Date]")return e;var r=0;var a=null;var o;var s;if(e&&e.indexOf("/D")===0){a=Be.exec(e);if(a){a=a[1];s=Ve.exec(a.substring(1));a=new Date(parseInt(a,10));if(s){s=Je(s[0]);a=M.timezone.apply(a,0);a=M.timezone.convert(a,0,-1*s)}return a}}i=M.getCulture(i);if(!t)t=Ze(i);t=d(t)?t:[t];o=t.length;for(;r<o;r++){a=Xe(e,t[r],i,n);if(a)return a}return a}function tt(e){var t=e.css(M.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t?t.match(O)||[0,0,0,0,0]:[0,0,0,0,0],n=l.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}}function it(e,t){var i,n=M._outerWidth,r=M._outerHeight,a=e.parent(),o=n(v);a.removeClass("k-animation-container-sm");if(!a.hasClass("k-animation-container")){var s=e[0].style.width,l=e[0].style.height,d=H.test(s),u=H.test(l),c=e.hasClass("k-tooltip")||e.is(".k-menu-horizontal.k-context-menu");i=d||u;if(!d&&(!t||t&&s||c))s=t?n(e)+1:n(e);if(!u&&(!t||t&&l)||e.is(".k-menu-horizontal.k-context-menu"))l=r(e);e.wrap(g("<div/>").addClass("k-animation-container").attr("role","region").css({width:s,height:l}));a=e.parent();if(i)e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}else nt(e,t);if(o<n(a)){a.addClass("k-animation-container-sm");nt(e,t)}return a}function nt(e,t){var i,n=M._outerWidth,r=M._outerHeight,a=e.parent(".k-animation-container"),o=a[0].style;if(a.is(":hidden"))a.css({display:"",position:""});i=H.test(o.width)||H.test(o.height);if(!i)a.css({width:t?n(e)+1:n(e),height:r(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function rt(e){var t=1,i=arguments.length;for(t=1;t<i;t++)at(e,arguments[t]);return e}function at(e,t){var i=M.data.ObservableArray,n=M.data.LazyObservableArray,r=M.data.DataSource,a=M.data.HierarchicalDataSource,o,s,l,d,u;for(o in t){s=t[o];l=typeof s;if(l===h&&s!==null)d=s.constructor;else d=null;if(d&&d!==Array&&d!==i&&d!==n&&d!==r&&d!==a&&d!==RegExp&&(!M.isFunction(v.ArrayBuffer)||d!==ArrayBuffer)&&!(s instanceof HTMLElement))if(s instanceof Date)e[o]=new Date(s.getTime());else if(ne(s.clone))e[o]=s.clone();else{u=e[o];if(typeof u===h)e[o]=u||{};else e[o]={};at(e[o],s)}else if(l!==G)e[o]=s}return e}function ot(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return i!==R?i:e}function st(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function lt(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function dt(e,t){var i={},n;if(document.defaultView&&document.defaultView.getComputedStyle){n=document.defaultView.getComputedStyle(e,"");if(t)g.each(t,function(e,t){i[t]=n.getPropertyValue(t)})}else{n=e.currentStyle;if(t)g.each(t,function(e,t){i[t]=n[lt(t)]})}if(!M.size(i))i=n;return i}function ut(e){if(e&&e.className&&typeof e.className==="string"&&e.className.indexOf("k-auto-scrollable")>-1)return true;var t=dt(e,["overflow"]).overflow;return t.indexOf("auto")>-1||t.indexOf("scroll")>-1}function ct(e,i){var t=c.browser.webkit;var n=c.browser.mozilla;var r=c.browser.version;var a,o;if(e instanceof g&&i!==R){e.each(function(e,t){ct(t,i)});return}else a=e instanceof g?e[0]:e;if(!a)return;o=c.isRtl(e);if(i!==R)if(o&&t&&(r<85||c.browser.safari))a.scrollLeft=a.scrollWidth-a.clientWidth-i;else if(o&&(n||t)&&i>0)a.scrollLeft=-i;else a.scrollLeft=i;else if(o&&t&&(r<85||c.browser.safari))return a.scrollWidth-a.clientWidth-a.scrollLeft;else return Math.abs(a.scrollLeft)}M.parseDate=function(e,t,i){return et(e,t,i,false)},M.parseExactDate=function(e,t,i){return et(e,t,i,true)},M.parseInt=function(e,t){var i=M.parseFloat(e,t);if(i)i=i|0;return i},M.parseFloat=function(e,t,i){if(!e&&e!==0)return null;if(typeof e===p)return e;e=e.toString();t=M.getCulture(t);var n=t.numberFormat,r=n.percent,a=n.currency,o=a.symbol,s=r.symbol,l=e.indexOf("-"),d,u;if(Re.test(e)){e=parseFloat(e.replace(n["."],"."));if(isNaN(e))e=null;return e}if(l>0)return null;else l=l>-1;if(e.indexOf(o)>-1||i&&i.toLowerCase().indexOf("c")>-1){n=a;d=n.pattern[0].replace("$",o).split("n");if(e.indexOf(d[0])>-1&&e.indexOf(d[1])>-1){e=e.replace(d[0],"").replace(d[1],"");l=true}}else if(e.indexOf(s)>-1){u=true;n=r;o=s}e=e.replace("-","").replace(o,"").replace(Me," ").split(n[","].replace(Me," ")).join("").replace(ze,"").replace(n["."],".");e=parseFloat(e);if(isNaN(e))e=null;else if(l)e*=-1;if(e&&u)e/=100;return e},c._scrollbar=R,c.scrollbar=function(e){if(!isNaN(c._scrollbar)&&!e)return c._scrollbar;else{var t=document.createElement("div"),i;t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";t.innerHTML="&nbsp;";document.body.appendChild(t);c._scrollbar=i=t.offsetWidth-t.scrollWidth;document.body.removeChild(t);return i}},c.isRtl=function(e){return g(e).closest(".k-rtl").length>0};var ft=document.createElement("table");try{ft.innerHTML="<tr><td></td></tr>";c.tbodyInnerHtml=true}catch(e){c.tbodyInnerHtml=false}c.touch="ontouchstart"in v;var t=document.documentElement.style,n=c.transitions=false,pt=c.transforms=false,i="HTMLElement"in v?HTMLElement.prototype:[];c.hasHW3D="WebKitCSSMatrix"in v&&"m11"in new v.WebKitCSSMatrix||"MozPerspective"in t||"msPerspective"in t,c.cssFlexbox="flexWrap"in t||"WebkitFlexWrap"in t||"msFlexWrap"in t,r(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof ft.style[e+"Transition"]===_;if(t||typeof ft.style[e+"Transform"]===_){var i=e.toLowerCase();pt={css:i!="ms"?"-"+i+"-":"",prefix:e,event:i==="o"||i==="webkit"?i:""};if(t){n=pt;n.event=n.event?n.event+"TransitionEnd":"transitionend"}return false}}),ft=null,c.transforms=pt,c.transitions=n,c.devicePixelRatio=v.devicePixelRatio===R?1:v.devicePixelRatio;try{c.screenWidth=v.outerWidth||v.screen?v.screen.availWidth:v.innerWidth;c.screenHeight=v.outerHeight||v.screen?v.screen.availHeight:v.innerHeight}catch(e){c.screenWidth=v.screen.availWidth;c.screenHeight=v.screen.availHeight}c.detectOS=function(e){var t=false,i,n=[],r=!/mobile safari/i.test(e),a={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var d in a)if(a.hasOwnProperty(d)){n=e.match(a[d]);if(n){if(d=="windows"&&"plugins"in navigator)return false;t={};t.device=d;t.tablet=ot(d,s,false);t.browser=ot(e,l,"default");t.name=ot(d,o);t[t.name]=true;t.majorVersion=n[2];t.minorVersion=(n[3]||"0").replace("_",".");i=t.minorVersion.replace(".","").substr(0,2);t.flatVersion=t.majorVersion+i+new Array(3-(i.length<3?i.length:2)).join("0");t.cordova=typeof v.PhoneGap!==G||typeof v.cordova!==G;t.appMode=v.navigator.standalone||/file|local|wmapp/.test(v.location.protocol)||t.cordova;if(t.android&&(c.devicePixelRatio<1.5&&t.flatVersion<400||r)&&(c.screenWidth>800||c.screenHeight>800))t.tablet=d;break}}return t};var a=c.mobileOS=c.detectOS(navigator.userAgent);if(c.wpDevicePixelRatio=a.wp?screen.width/320:0,c.hasNativeScrolling=false,a.ios||a.android&&a.majorVersion>2||a.wp)c.hasNativeScrolling=a;if(c.delayedClick=function(){if(c.touch){if(a.ios)return true;if(a.android){if(!c.browser.chrome)return true;if(c.browser.version<32)return false;return!(g("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}}return false},c.mouseAndTouchPresent=c.touch&&!(c.mobileOS.ios||c.mobileOS.android),c.detectBrowser=function(e){var t=false,i=[],n=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a in r)if(r.hasOwnProperty(a)){i=e.match(r[a]);if(i){t={};t[a]=true;t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=true;t.version=parseInt(document.documentMode||i[2],10);if(t.chrome){n=e.match(/(edg)[ \/]([\w.]+)/i);if(n)t.chromiumEdge=true}break}}return t},c.browser=c.detectBrowser(navigator.userAgent),!a&&c.touch&&c.browser.safari)a=c.mobileOS={ios:true,tablet:"tablet",device:"ipad"};c.detectClipboardAccess=function(){var e={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):false,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):false,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):false};if(c.browser.chrome){e.paste=false;if(c.browser.version>=43){e.copy=true;e.cut=true}}return e},c.clipboard=c.detectClipboardAccess(),c.zoomLevel=function(){try{var e=c.browser;var t=0;var i=document.documentElement;if(e.msie&&e.version==11&&i.scrollHeight>i.clientHeight&&!c.touch)t=c.scrollbar();return c.touch?i.clientWidth/v.innerWidth:e.msie&&e.version>=10?((top||v).document.documentElement.offsetWidth+t)/(top||v).innerWidth:1}catch(e){return 1}};var o=c.browser,s="",ht=g(document.documentElement),mt=parseInt(o.version,10);if(o.msie)s="ie";else if(o.mozilla)s="ff";else if(o.safari)s="safari";else if(o.webkit)s="webkit";else if(o.opera)s="opera";else if(o.edge)s="edge";if(s)s="k-"+s+" k-"+s+mt;if(c.mobileOS)s+=" k-mobile";if(!c.cssFlexbox)s+=" k-no-flexbox";ht.addClass(s),c.eventCapture=document.documentElement.addEventListener;var w=document.createElement("input"),gt=(c.placeholder="placeholder"in w,c.propertyChangeEvent="onpropertychange"in w,c.input=function(){var e=["number","date","time","month","week","datetime","datetime-local"];var t=e.length;var i="test";var n={};var r=0;var a;for(;r<t;r++){a=e[r];w.setAttribute("type",a);w.value=i;n[a.replace("-","")]=w.type!=="text"&&w.value!==i}return n}(),w.style.cssText="float:left;",c.cssFloat=!!w.style.cssFloat,w=null,c.stableSort=function(){var e=513;var t=[{index:0,field:"b"}];for(var i=1;i<e;i++)t.push({index:i,field:"a"});t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0});return t[0].index===1}(),c.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||i.matches||function(e){var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:g(e),i=t.length;while(i--)if(t[i]==this)return true;return false},c.matchMedia="matchMedia"in v,c.pushState=v.history&&v.history.pushState,c.hashChange="onhashchange"in v,c.customElements="registerElement"in v.document,c.browser.chrome),vt=c.browser.crios,_t=c.browser.mozilla,bt=c.browser.safari;function kt(e){var t=0,i;for(i in e)if(e.hasOwnProperty(i)&&i!="toJSON")t++;return t}function wt(e,t,i){if(!t)t="offset";var n=e[t]();var r={top:n.top,right:n.right,bottom:n.bottom,left:n.left};if(c.browser.msie&&(c.pointers||c.msPointers)&&!i){var a=c.isRtl(e)?1:-1;r.top-=v.pageYOffset-document.documentElement.scrollTop;r.left-=v.pageXOffset+a*document.documentElement.scrollLeft}return r}c.msPointers=!gt&&v.MSPointerEvent,c.pointers=!gt&&!vt&&!_t&&!bt&&v.PointerEvent,c.kineticScrollNeeded=a&&(c.touch||c.msPointers||c.pointers);var yt={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}};function xt(e){var t={};r(typeof e==="string"?e.split(" "):e,function(e){t[e]=this});return t}function Ct(e){return new M.effects.Element(e)}var y={};function St(e,t,i,n){if(typeof e===_){if(ne(t)){n=t;t=400;i=false}if(ne(i)){n=i;i=false}if(typeof t===q){i=t;t=400}e={effects:e,duration:t,reverse:i,complete:n}}return u({effects:{},duration:400,reverse:false,init:A,teardown:A,hide:false},e,{completeCallback:e.complete,complete:A})}function Tt(e,t,i,n,r){var a=0,o=e.length,s;for(;a<o;a++){s=g(e[a]);s.queue(function(){y.promise(s,St(t,i,n,r))})}return e}function It(i,e,t,n){if(e){e=e.split(" ");r(e,function(e,t){i.toggleClass(t,n)})}return i}if(g.extend(y,{enabled:true,Element:function(e){this.element=g(e)},promise:function(e,t){if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.hide)e.data("olddisplay",e.css("display")).hide();if(t.init)t.init();if(t.completeCallback)t.completeCallback(e);e.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}}),y.promiseShim=y.promise,!("kendoAnimate"in g.fn))u(g.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,n){return Tt(this,e,t,i,n)},kendoAddClass:function(e,t){return M.toggleClass(this,e,t,true)},kendoRemoveClass:function(e,t){return M.toggleClass(this,e,t,false)},kendoToggleClass:function(e,t,i){return M.toggleClass(this,e,t,i)}});var Dt=/&/g,Et=/</g,At=/"/g,Ft=/'/g,Ht=/>/g;function Pt(e){return(""+e).replace(Dt,"&amp;").replace(Et,"&lt;").replace(Ht,"&gt;").replace(At,"&quot;").replace(Ft,"&#39;")}function Ot(t){var i;try{i=v.decodeURIComponent(t)}catch(e){i=t.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(e,t,i){return String.fromCharCode(parseInt("0x"+(t||i),16))})}return i}var Mt=function(e){return e.target};if(c.touch){Mt=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target};r(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}})}if(c.touch)if(!c.mobileOS){c.mousedown="mousedown touchstart";c.mouseup="mouseup touchend";c.mousemove="mousemove touchmove";c.mousecancel="mouseleave touchcancel";c.click="click";c.resize="resize"}else{c.mousedown="touchstart";c.mouseup="touchend";c.mousemove="touchmove";c.mousecancel="touchcancel";c.click="touchend";c.resize="orientationchange"}else if(c.pointers){c.mousemove="pointermove";c.mousedown="pointerdown";c.mouseup="pointerup";c.mousecancel="pointercancel";c.click="pointerup";c.resize="orientationchange resize"}else if(c.msPointers){c.mousemove="MSPointerMove";c.mousedown="MSPointerDown";c.mouseup="MSPointerUp";c.mousecancel="MSPointerCancel";c.click="MSPointerUp";c.resize="orientationchange resize"}else{c.mousemove="mousemove";c.mousedown="mousedown";c.mouseup="mouseup";c.mousecancel="mouseleave";c.click="click";c.resize="resize"}var zt=function(e,t){var i=t||"d",n,r,a,o,s=1;for(r=0,a=e.length;r<a;r++){o=e[r];if(o!==""){n=o.indexOf("[");if(n!==0)if(n==-1)o="."+o;else{s++;o="."+o.substring(0,n)+" || {})"+o.substring(n)}s++;i+=o+(r<a-1?" || {})":")")}}return new Array(s).join("(")+i},Rt=/^([a-z]+:)?\/\//i,x=(u(M,{widgets:[],_widgetRegisteredCallbacks:[],ui:M.ui||{},fx:M.fx||Ct,effects:M.effects||y,mobile:M.mobile||{},data:M.data||{},dataviz:M.dataviz||{},drawing:M.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:M.support||c,animate:M.animate||Tt,ns:"",attr:function(e){return"data-"+M.ns+e},getShadows:tt,wrap:it,deepExtend:rt,getComputedStyles:dt,isScrollable:ut,scrollLeft:ct,size:kt,toCamelCase:lt,toHyphens:st,getOffset:M.getOffset||wt,parseEffects:M.parseEffects||xt,toggleClass:M.toggleClass||It,directions:M.directions||yt,Observable:oe,Class:ie,Template:e,template:e.compile.bind(e),render:e.render.bind(e),stringify:F.stringify.bind(F),eventTarget:Mt,htmlEncode:Pt,unescape:Ot,isLocalUrl:function(e){return e&&!Rt.test(e)},expr:function(e,t,i){e=e||"";if(typeof t==_){i=t;t=false}i=i||"d";if(e&&e.charAt(0)!=="[")e="."+e;if(t){e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");e=zt(e.split("."),i);e=e.replace(/_\$DOT\$_/g,".")}else e=i+e;return e},getter:function(e,t){var i=e+t;return X[i]=X[i]||new Function("d","return "+M.expr(e,t))},setter:function(e){return J[e]=J[e]||new Function("d,value",M.expr(e)+"=value")},accessor:function(e){return{get:M.getter(e),set:M.setter(e)}},guid:function(){var e="",t,i,n="abcdef";e+=n[Math.floor(Math.random()*Math.floor(n.length))];for(t=1;t<32;t++){i=l.random()*16|0;if(t==8||t==12||t==16||t==20)e+="-";e+=(t==12?4:t==16?i&3|8:i).toString(16)}return e},roleSelector:function(e){return e.replace(/(\S+)/g,"["+M.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)if(t[i]!="view")t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2");return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=M.widgets.length;t<i;t++)e(M.widgets[t]);M._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=v.console;if(!M.suppressLog&&typeof i!="undefined"&&i.log)i[t||"log"](e)}}),oe.extend({init:function(e,t){var i=this;_i();i.element=M.jQuery(e).handler(i);i.angular("init",t);oe.fn.init.call(i);var n=t?t.dataSource:null;var r;if(t)r=(i.componentTypes||{})[(t||{}).componentType];if(n)t=u({},t,{dataSource:{}});t=i.options=u(true,{},i.options,i.defaults,r||{},t);if(n)t.dataSource=n;if(!i.element.attr(M.attr("role")))i.element.attr(M.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",n=e.attr(i)||t.attr(i);t.removeAttr(i);e.attr(i,!isNaN(n)?n:0)},setOptions:function(e){this._clearCssClasses(e);this._setEvents(e);g.extend(this.options,e);this._applyCssClasses()},_setEvents:function(e){var t=this,i=0,n=t.events.length,r;for(;i<n;i++){r=t.events[i];if(t.options[r]&&e[r]){t.unbind(r,t.options[r]);if(t._events&&t._events[r])delete t._events[r]}}t.bind(t.events,e)},resize:function(e){var t=this.getSize(),i=this._size;if(e||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height)){this._size=t;this._resize(t,e);this.trigger("resize",t)}},getSize:function(){return M.dimensions(this.element)},size:function(e){if(!e)return this.getSize();else this.setSize(e)},setSize:g.noop,_resize:g.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name);e.element.removeData("handler");e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=true;e.call(this);this._muteRebind=false},_applyCssClasses:function(e){var t=this.__proto__.options,i=this.options,n=e||this.wrapper||this.element,r=[],a,o,s,l;if(!M.cssProperties.propertyDictionary[t.name])return;for(a=0;a<ee.length;a++){o=ee[a];l=this.options._altname||t.name;if(t.hasOwnProperty(o))if(o==="themeColor"){s=M.cssProperties.getValidClass({widget:l,propName:"fillMode",value:i.fillMode});if(s&&s.length)r.push(M.cssProperties.getValidClass({widget:l,propName:o,value:i[o],fill:i.fillMode}))}else r.push(M.cssProperties.getValidClass({widget:l,propName:o,value:i[o]}))}n.addClass(r.join(" "))},_ariaLabel:function(e){var t=this,i=t.element,n=i.attr("id"),r=g('label[for="'+n+'"]'),a=i.attr(Y),o=i.attr($),s;if(e[0]===i[0])return;if(a)e.attr(Y,a);else if(o)e.attr($,o);else if(r.length){s=r.attr("id")||t._generateLabelId(r,n||M.guid());e.attr($,s)}},_clearCssClasses:function(e,t){var i=this.__proto__.options,n=this.options,r=t||this.wrapper||this.element,a,o,s;if(!M.cssProperties.propertyDictionary[i.name])return;for(a=0;a<ee.length;a++){o=ee[a];s=this.options._altname||i.name;if(i.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o==="themeColor")r.removeClass(M.cssProperties.getValidClass({widget:s,propName:o,value:n[o],fill:n.fillMode}));else{if(o==="fillMode")r.removeClass(M.cssProperties.getValidClass({widget:s,propName:"themeColor",value:n.themeColor,fill:n.fillMode}));r.removeClass(M.cssProperties.getValidClass({widget:s,propName:o,value:n[o]}))}}},_generateLabelId:function(e,t){var i=t+Q;e.attr("id",i);return i}})),Nt=x.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:g.map(t.dataItems(),function(e){return{dataItem:e}})}})}}),Lt=(M.dimensions=function(e,t){var i=e[0];if(t)e.css(t);return{width:i.offsetWidth,height:i.offsetHeight}},M.notify=A,/template$/i),Bt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Vt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,Ut=/([A-Z])/g;function Wt(e,t){var i;if(t.indexOf("data")===0){t=t.substring(4);t=t.charAt(0).toLowerCase()+t.substring(1)}t=t.replace(Ut,"-$1");i=e.getAttribute("data-"+M.ns+t);if(i===null)i=R;else if(i==="null")i=null;else if(i==="true")i=true;else if(i==="false")i=false;else if(W.test(i)&&t!="mask"&&t!="format")i=parseFloat(i);else if(Bt.test(i)&&!Vt.test(i))i=new Function("return ("+i+")")();return i}function jt(e,t,i){var n={},r,a,o=e.getAttribute("data-"+M.ns+"role");for(r in t){a=Wt(e,r);if(a!==R){if(Lt.test(r)&&o!="drawer")if(typeof a==="string"){if(g("#"+a).length)a=M.template(g("#"+a).html());else if(i)a=M.template(i[a])}else a=e.getAttribute(r);n[r]=a}}return n}function qt(e,t){return g.contains(e,t)?-1:1}function Gt(){var e=g(this);return g.inArray(e.attr("data-"+M.ns+"role"),["slider","rangeslider","breadcrumb"])>-1||e.is(":visible")}M.initWidget=function(e,t,i){var n,r,a,o,s,l,d,u,c,f;if(!i)i=M.ui.roles;else if(i.roles)i=i.roles;e=e.nodeType?e:e[0];l=e.getAttribute("data-"+M.ns+"role");if(!l)return;c=l.indexOf(".")===-1;if(c)a=i[l];else a=M.getter(l)(v);var p=g(e).data(),h=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"";if(c)f=new RegExp("^kendo.*"+l+"$","i");else f=new RegExp("^"+h+"$","i");for(var m in p)if(m.match(f))if(m===h)n=p[m];else return p[m];if(!a)return;u=Wt(e,"dataSource");t=g.extend({},jt(e,g.extend({},a.fn.options,a.fn.defaults)),t);if(u)if(typeof u===_)t.dataSource=M.getter(u)(v);else t.dataSource=u;for(o=0,s=a.fn.events.length;o<s;o++){r=a.fn.events[o];d=Wt(e,r);if(d!==R)t[r]=M.getter(d)(v)}if(!n)n=new a(e,t);else if(!g.isEmptyObject(t))n.setOptions(t);return n},M.rolesFromNamespaces=function(e){var t=[],i,n;if(!e[0])e=[M.ui,M.dataviz.ui];for(i=0,n=e.length;i<n;i++)t[i]=e[i].roles;return u.apply(null,[{}].concat(t.reverse()))},M.init=function(e){var t=M.rolesFromNamespaces(Z.call(arguments,1));g(e).find("[data-"+M.ns+"role]").addBack().each(function(){M.initWidget(this,{},t)})},M.destroy=function(e){g(e).find("[data-"+M.ns+"role]").addBack().each(function(){var e=g(this).data();for(var t in e)if(t.indexOf("kendo")===0&&typeof e[t].destroy===f)e[t].destroy()})},M.resize=function(e,t){var i=g(e).find("[data-"+M.ns+"role]").addBack().filter(Gt);if(!i.length)return;var n=g.makeArray(i);n.sort(qt);g.each(n,function(){var e=M.widgetInstance(g(this));if(e)e.resize(t)})},M.parseOptions=jt,u(M.ui,{Widget:x,DataBoundWidget:Nt,roles:{},progress:function(e,t,i){var n=e.find(".k-loading-mask"),r=M.support,a=r.browser,o,s,l,d,u;i=g.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:false},i);u=i.opacity?"k-loading-mask k-opaque":"k-loading-mask";if(t){if(!n.length){o=r.isRtl(e);s=o?"right":"left";d=M.scrollLeft(e);l=a.webkit?!o?0:e[0].scrollWidth-e.width()-2*d:0;n=g(M.format("<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>",u,M.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(s,Math.abs(d)+l).prependTo(e)}}else if(n)n.remove()},plugin:function(e,t,i){var o=e.fn.options.name,n;t=t||M.ui;i=i||"";t[o]=e;t.roles[o.toLowerCase()]=e;n="getKendo"+i+o;o="kendo"+i+o;var r={name:o,widget:e,prefix:i||""};M.widgets.push(r);for(var a=0,s=M._widgetRegisteredCallbacks.length;a<s;a++)M._widgetRegisteredCallbacks[a](r);g.fn[o]=function(n){var r=this,a;if(typeof n===_){a=Z.call(arguments,1);this.each(function(){var e=g.data(this,o),t,i;if(!e)throw new Error(M.format("Cannot call method '{0}' of {1} before it is initialized",n,o));t=e[n];if(typeof t!==f)throw new Error(M.format("Cannot find method '{0}' of {1}",n,o));i=t.apply(e,a);if(i!==R){r=i;return false}})}else this.each(function(){return new e(this,n)});return r};g.fn[o].widget=e;g.fn[n]=function(){return this.data(o)}}}),M.ui.progress.messages={loading:"Loading..."};var Kt={bind:function(){return this},nullObject:true,options:{}},$t=x.extend({init:function(e,t){x.fn.init.call(this,e,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){x.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(M.roleSelector("view splitview modalview drawer"));return M.widgetInstance(e,M.mobile.ui)||Kt},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(M.roleSelector("view layout modalview drawer splitview"));return M.widgetInstance(e.eq(0),M.mobile.ui)||Kt}});function Yt(e,t){var i=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!e.disabled:i==="a"?e.href||t:t)&&Qt(e)}function Qt(e){return g.expr.pseudos.visible(e)&&!g(e).parents().addBack().filter(function(){return g.css(this,"visibility")==="hidden"}).length}u(M.mobile,{init:function(e){M.init(e,M.mobile.ui,M.ui,M.dataviz.ui)},appLevelNativeScrolling:function(){return M.mobile.application&&M.mobile.application.options&&M.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:$t,DataBoundWidget:Nt.extend($t.prototype),roles:{},plugin:function(e){M.ui.plugin(e,M.mobile.ui,"Mobile")}}}),rt(M.dataviz,{init:function(e){M.init(e,M.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){M.ui.plugin(e,M.dataviz.ui)}},roles:{}}),M.touchScroller=function(e,i){if(!i)i={};i.useNative=true;return g(e).map(function(e,t){t=g(t);if(c.kineticScrollNeeded&&M.mobile.ui.Scroller&&!t.data("kendoMobileScroller")){t.kendoMobileScroller(i);return t.data("kendoMobileScroller")}else return false})[0]},M.preventDefault=function(e){e.preventDefault()},M.widgetInstance=function(e,t){var i=e.data(M.ns+"role"),n=[],r,a,o=e.data("kendoView");if(i){if(i==="content")i="scroller";if(i==="editortoolbar"){var s=e.data("kendoEditorToolbar");if(s)return s}if(i==="view"&&o)return o;if(t)if(t[0])for(r=0,a=t.length;r<a;r++)n.push(t[r].roles[i]);else n.push(t.roles[i]);else n=[M.ui.roles[i],M.dataviz.ui.roles[i],M.mobile.ui.roles[i]];if(i.indexOf(".")>=0)n=[M.getter(i)(v)];for(r=0,a=n.length;r<a;r++){var l=n[r];if(l){var d=e.data("kendo"+l.fn.options.prefix+l.fn.options.name);if(d)return d}}}},M.onResize=function(e){var t=e;if(c.mobileOS.android)t=function(){setTimeout(e,600)};g(v).on(c.resize,t);return t},M.unbindResize=function(e){g(v).off(c.resize,e)},M.attrValue=function(e,t){return e.data(M.ns+t)},M.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g.extend(g.expr.pseudos,{kendoFocusable:function(e){var t=g.attr(e,"tabindex");return Yt(e,!isNaN(t)&&t>-1)}});var Xt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Jt="label, input, [data-rel=external]",C={setupMouseMute:function(){var e=0,t=Xt.length,i=document.documentElement;if(C.mouseTrap||!c.eventCapture)return;C.mouseTrap=true;C.bustClick=false;C.captureMouse=false;var n=function(e){if(C.captureMouse)if(e.type==="click"){if(C.bustClick&&!g(e.target).is(Jt)){e.preventDefault();e.stopPropagation()}}else e.stopPropagation()};for(;e<t;e++)i.addEventListener(Xt[e],n,true)},muteMouse:function(e){C.captureMouse=true;if(e.data.bustClick)C.bustClick=true;clearTimeout(C.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(C.mouseTrapTimeoutID);C.mouseTrapTimeoutID=setTimeout(function(){C.captureMouse=false;C.bustClick=false},400)}},S={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(c.touch&&(c.mobileOS.ios||c.mobileOS.android))S={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"};else if(c.pointers)S={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};else if(c.msPointers)S={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"};if(c.msPointers&&!("onmspointerenter"in v))g.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,a){g.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,i=this,n=e.relatedTarget,r=e.handleObj;if(!n||n!==i&&!g.contains(i,n)){e.type=r.origType;t=r.handler.apply(this,arguments);e.type=a}return t}}});var Zt=function(e){return S[e]||e},ei=/([^ ]+)/g,ti=(M.applyEventMap=function(e,t){e=e.replace(ei,Zt);if(t)e=e.replace(ei,"$1."+t);return e},M.keyDownHandler=function(e,t){var i=t._events.kendoKeydown;if(!i)return true;i=i.slice();e.sender=t;e.preventKendoKeydown=false;for(var n=0,r=i.length;n<r;n++)i[n].call(t,e);return!e.preventKendoKeydown},g.fn.on);function T(e,t){return new T.fn.init(e,t)}te(true,T,g),(((T.fn=T.prototype=new g).constructor=T).fn.init=function(e,t){if(t&&t instanceof g&&!(t instanceof T))t=T(t);return g.fn.init.call(this,e,t,ii)}).prototype=T.fn;var ii=T(document),ni=(u(T.fn,{handler:function(e){this.data("handler",e);return this},autoApplyNS:function(e){this.data("kendoNS",e||M.guid());return this},on:function(){var e=this,t=e.data("kendoNS");if(arguments.length===1)return ti.call(e,arguments[0]);var i=e,n=Z.call(arguments);if(typeof n[n.length-1]===G)n.pop();var r=n[n.length-1],a=M.applyEventMap(n[0],t);if(c.mouseAndTouchPresent&&a.search(/mouse|click/)>-1&&this[0]!==document.documentElement){C.setupMouseMute();var o=n.length===2?null:n[1],s=a.indexOf("click")>-1&&a.indexOf("touchend")>-1;ti.call(this,{touchstart:C.muteMouse,touchend:C.unMuteMouse},o,{bustClick:s})}if(arguments[0].indexOf("keydown")!==-1&&n[1]&&n[1].options){n[0]=a;var l=n[1];var d=n[n.length-1];n[n.length-1]=function(e){if(M.keyDownHandler(e,l))return d.apply(this,[e])};ti.apply(e,n);return e}if(typeof r===_){i=e.data("handler");r=i[r];n[n.length-1]=function(e){r.call(i,e)}}n[0]=a;ti.apply(e,n);return e},kendoDestroy:function(e){e=e||this.data("kendoNS");if(e)this.off("."+e);return this}}),M.jQuery=T,M.eventMap=S,M.timezone=function(){var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function s(e,t){var i;var n;var r;var a=t[3];var o=t[4];var s=t[5];var l=t[8];if(!l)t[8]=l={};if(l[e])return l[e];if(!isNaN(o))i=new Date(Date.UTC(e,d[a],o,s[0],s[1],s[2],0));else if(o.indexOf("last")===0){i=new Date(Date.UTC(e,d[a]+1,1,s[0]-24,s[1],s[2],0));n=u[o.substr(4,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r-(n>r?7:0))}else if(o.indexOf(">=")>=0){i=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0));n=u[o.substr(0,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r+(n<r?7:0))}else if(o.indexOf("<=")>=0){i=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0));n=u[o.substr(0,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r-(n>r?7:0))}return l[e]=i}function a(e,t,i){t=t[i];if(!t){var n=i.split(":");var r=0;if(n.length>1)r=n[0]*60+Number(n[1]);return[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]}var a=new Date(e).getUTCFullYear();t=jQuery.grep(t,function(e){var t=e[0];var i=e[1];return t<=a&&(i>=a||t==a&&i=="only"||i=="max")});t.push(e);t.sort(function(e,t){if(typeof e!="number")e=Number(s(a,e));if(typeof t!="number")t=Number(s(a,t));return e-t});var o=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(o)?o:null}function o(e,t,i){var n=t[i];if(typeof n==="string")n=t[n];if(!n)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var r=n.length-1;r>=0;r--){var a=n[r][3];if(a&&e>a)break}var o=n[r+1];if(!o)throw new Error('Timezone "'+i+'" not found on '+e+".");return o}function l(e,t,i,n){if(typeof e!=p)e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var r=o(e,t,n);return{zone:r,rule:a(e,i,r[1])}}function e(e,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var i=l(e,this.zones,this.rules,t);var n=i.zone;var r=i.rule;return M.parseFloat(r?n[0]-r[6]:n[0])}function t(e,t){var i=l(e,this.zones,this.rules,t);var n=i.zone;var r=i.rule;var a=n[2];if(a.indexOf("/")>=0)return a.split("/")[r&&+r[6]?1:0];else if(a.indexOf("%s")>=0)return a.replace("%s",!r||r[7]=="-"?"":r[7]);return a}function i(e,t,i){var n=i;var r;if(typeof t==_)t=this.offset(e,t);if(typeof i==_)i=this.offset(e,i);var a=e.getTimezoneOffset();e=new Date(e.getTime()+(t-i)*6e4);var o=e.getTimezoneOffset();if(typeof n==_)n=this.offset(e,n);r=o-a+(i-n);return new Date(e.getTime()+r*6e4)}function n(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function r(e,t){return this.convert(e,t,e.getTimezoneOffset())}function c(e){return this.apply(new Date(e),"Etc/UTC")}return{zones:{},rules:{},offset:e,convert:i,apply:n,remove:r,abbr:t,toLocalDate:c}}(),M.date=function(){var a=6e4,o=864e5;function r(e,t){if(t===0&&e.getHours()===23){e.setHours(e.getHours()+2);return true}return false}function n(e,t,i){var n=e.getHours();i=i||1;t=(t-e.getDay()+7*i)%7;e.setDate(e.getDate()+t);r(e,n)}function i(e,t,i){e=new Date(e);n(e,t,i);return e}function s(e){return new Date(e.getFullYear(),e.getMonth(),1)}function e(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=s(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(n)t.setHours(i.getHours()+n/60);return t}function t(e){return new Date(e.getFullYear(),0,1)}function l(e){return new Date(e.getFullYear(),11,31)}function d(e,t){if(t!==1)return v(i(e,t,-1),4);return v(e,4-(e.getDay()||7))}function u(e,t){var i=new Date(e.getFullYear(),0,1,-6);var n=d(e,t);var r=n.getTime()-i.getTime();var a=Math.floor(r/o);return 1+Math.floor(a/7)}function c(e,t){if(t===R)t=M.culture().calendar.firstDay;var i=v(e,-7);var n=v(e,7);var r=u(e,t);if(r===0)return u(i,t)+1;if(r===53&&u(n,t)>1)return 1;return r}function f(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);r(e,0);return e}function p(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function h(e){return y(e).getTime()-f(y(e))}function m(e,t,i){var n=h(t),r=h(i),a;if(!e||n==r)return true;if(t>=i)i+=o;a=h(e);if(n>a)a+=o;if(r<n)r+=o;return a>=n&&a<=r}function g(e,t,i){var n=t.getTime(),r=i.getTime(),a;if(n>=r)r+=o;a=e.getTime();return a>=n&&a<=r}function v(e,t){var i=e.getHours();e=new Date(e);_(e,t*o);r(e,i);return e}function _(e,t,i){var n=e.getTimezoneOffset();var r;e.setTime(e.getTime()+t);if(!i){r=e.getTimezoneOffset()-n;e.setTime(e.getTime()+r*a)}}function b(e,t){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());r(e,t.getHours());return e}function k(){return f(new Date)}function w(e){return f(e).getTime()==k().getTime()}function y(e){var t=new Date(1980,1,1,0,0,0);if(e)t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return t}function x(e,t){var i=new Date(e);return new Date(i.setFullYear(i.getFullYear()+t))}return{adjustDST:r,dayOfWeek:i,setDayOfWeek:n,getDate:f,isInDateRange:g,isInTimeRange:m,isToday:w,nextDay:function(e){return v(e,1)},previousDay:function(e){return v(e,-1)},toUtcTime:p,MS_PER_DAY:o,MS_PER_HOUR:60*a,MS_PER_MINUTE:a,setTime:_,setHours:b,addDays:v,today:k,toInvariantTime:y,firstDayOfMonth:s,lastDayOfMonth:e,weekInYear:c,getMilliseconds:h,firstDayOfYear:t,lastDayOfYear:l,nextYear:function(e){return x(e,1)},previousYear:function(e){return x(e,-1)}}}(),M.stripWhitespace=function(t){if(document.createNodeIterator){var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(e.nextNode())if(e.referenceNode&&!e.referenceNode.textContent.trim())e.referenceNode.parentNode.removeChild(e.referenceNode)}else for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];if(n.nodeType==3&&!/\S/.test(n.nodeValue)){t.removeChild(n);i--}if(n.nodeType==1)M.stripWhitespace(n)}},v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||v.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}),I=(M.animationFrame=function(e){ni.call(v,e)},[]),ri=(M.queueAnimation=function(e){I[I.length]=e;if(I.length===1)M.runNextAnimation()},M.runNextAnimation=function(){M.animationFrame(function(){if(I[0]){I.shift()();if(I[0])M.runNextAnimation()}})},M.parseQueryStringParams=function(e){var t=e.split("?")[1]||"",i={},n=t.split(/&|=/),r=n.length,a=0;for(;a<r;a+=2)if(n[a]!=="")i[decodeURIComponent(n[a])]=decodeURIComponent(n[a+1]);return i},M.elementUnderCursor=function(e){if(typeof e.x.client!="undefined")return document.elementFromPoint(e.x.client,e.y.client)},M.wheelDeltaY=function(e){var t=e.originalEvent,i=t.wheelDeltaY,n;if(t.wheelDelta){if(i===R||i)n=t.wheelDelta}else if(t.detail&&t.axis===t.VERTICAL_AXIS)n=-t.detail*10;return n},M.throttle=function(r,a){var o;var s=0;if(!a||a<=0)return r;var e=function(){var e=this;var t=+new Date-s;var i=arguments;function n(){r.apply(e,i);s=+new Date}if(!s)return n();if(o)clearTimeout(o);if(t>a)n();else o=setTimeout(n,a-t)};e.cancel=function(){clearTimeout(o)};return e},M.caret=function(e,t,i){var n;var r=t!==R;if(i===R)i=t;if(e[0])e=e[0];if(r&&e.disabled)return;try{if(e.selectionStart!==R)if(r){e.focus();var a=c.mobileOS;if(a.wp||a.android)setTimeout(function(){e.setSelectionRange(t,i)},0);else e.setSelectionRange(t,i)}else t=[e.selectionStart,e.selectionEnd];else if(document.selection){if(g(e).is(":visible"))e.focus();n=e.createTextRange();if(r){n.collapse(true);n.moveStart("character",t);n.moveEnd("character",i-t);n.select()}else{var o=n.duplicate(),s,l;n.moveToBookmark(document.selection.createRange().getBookmark());o.setEndPoint("EndToStart",n);s=o.text.length;l=s+n.text.length;t=[s,l]}}}catch(e){t=[]}return t},M.compileMobileDirective=function(t,i){var e=v.angular;t.attr("data-"+M.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));e.element(t).injector().invoke(["$compile",function(e){e(t)(i);if(!/^\$(digest|apply)$/.test(i.$$phase))i.$digest()}]);return M.widgetInstance(t,M.mobile.ui)},M.antiForgeryTokens=function(){var e={},t=g("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=g("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");g("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value});if(i!==R&&t!==R)e[i]=t;return e},M.cycleForm=function(e){var t=e.find("input, .k-widget, .k-dropdownlist, .k-combobox").first();var i=e.find("button, .k-button").last();function n(e){var t=M.widgetInstance(e);if(t&&t.focus)t.focus();else e.trigger("focus")}i.on("keydown",function(e){if(e.keyCode==M.keys.TAB&&!e.shiftKey){e.preventDefault();n(t)}});t.on("keydown",function(e){if(e.keyCode==M.keys.TAB&&e.shiftKey){e.preventDefault();n(i)}})},M.focusElement=function(t){var i=[];var e=t.parentsUntil("body").filter(function(e,t){var i=M.getComputedStyles(t,["overflow"]);return i.overflow!=="visible"}).add(v);e.each(function(e,t){i[e]=g(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){g(t).scrollTop(i[e])})},M.focusNextElement=function(){if(document.activeElement){var e=g(":kendoFocusable");var t=e.index(document.activeElement);if(t>-1){var i=e[t+1]||e[0];i.focus()}}},M.trim=function(e){if(!!e)return e.toString().trim();else return""},M.getWidgetFocusableElement=function(e){var t=e.closest(":kendoFocusable"),i=M.widgetInstance(e),n;if(t.length)n=t;else if(i)n=i.options.name==="Editor"?g(i.body):i.wrapper.find(":kendoFocusable").first();else n=e;return n},M.addAttribute=function(e,t,i){var n=e.attr(t)||"";if(n.indexOf(i)<0)e.attr(t,(n+" "+i).trim())},M.removeAttribute=function(e,t,i){var n=e.attr(t)||"";e.attr(t,n.replace(i,"").trim())},M.toggleAttribute=function(e,t,i){var n=e.attr(t)||"";if(n.indexOf(i)<0)M.addAttribute(e,t,i);else M.removeAttribute(e,t,i)},M.matchesMedia=function(e){var t=M._bootstrapToMedia(e)||e;return c.matchMedia&&v.matchMedia(t).matches},M._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},M.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},M.getFileGroup=function(e,t){var i=M.fileGroupMap;var n=Object.keys(i);var r="file";if(e===R||!e.length)return r;for(var a=0;a<n.length;a+=1){var o=i[n[a]];if(o.indexOf(e.toLowerCase())>-1)return t?"file-"+n[a]:n[a]}return r},M.getFileSizeMessage=function(e){var t=["Bytes","KB","MB","GB","TB"];if(e===0)return"0 Byte";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return Math.round(e/Math.pow(1024,i),2)+" "+t[i]},M.selectorFromClasses=function(e){return"."+e.split(" ").join(".")},["base","primary","secondary","tertiary","inherit","info","success","warning","error","dark","light","inverse"]),ai=["solid","outline","flat"],oi=["rectangle","square"],si=[["small","sm"],["medium","md"],["large","lg"]],li=[["small","sm"],["medium","md"],["large","lg"]],di=["fixed","static","sticky","absolute"],ui=["both","horizontal","vertical"],ci=["auto","hidden","visible","scroll","clip"];function fi(e,t,i,n){var r=g("<form>").attr({action:i,method:"POST",target:n});var a=M.antiForgeryTokens();a.fileName=t;var o=e.split(";base64,");a.contentType=o[0].replace("data:","");a.base64=o[1];for(var s in a)if(a.hasOwnProperty(s))g("<input>").attr({value:a[s],name:s,type:"hidden"}).appendTo(r);r.appendTo("body").submit().remove()}M.cssProperties=function(){var n={},e={};function t(e,t){var i=M.cssProperties.propertyDictionary;if(!i[e])i[e]={};i[e][K]=t}function i(e,t){var i=M.cssProperties.propertyDictionary,n,r,a,o,s,l;for(n=0;n<t.length;n++){a=t[n].prop;s=t[n].values;if(!i[e][a])i[e][a]={};o=i[e][a];for(r=0;r<s.length;r++){l=s[r];if(d(s[r]))o[l[0]]=l[1];else o[l]=l}}}function r(e,t,i){if(!n[e])n[e]={};n[e][t]=i||t}function a(e,t){for(var i=0;i<t.length;i++)if(d(t[i]))r(e,t[i][0],t[i][1]);else r(e,t[i])}function o(e){var t=e.widget,i=e.propName,n=e.value,r=e.fill,a=M.cssProperties,o=a.defaultValues[i],s=a.propertyDictionary[t],l,d,u;if(!s)return"";l=s[i];d=l?l[n]||o[n]:o[n];if(d){if(i==="themeColor")u=s[K]+r+"-";else if(i==="positionMode")u="k-pos-";else if(i==="rounded")u="k-rounded-";else if(i==="resize")u="k-resize-";else if(i==="overflow")u="k-overflow-";else u=s[K];return u+d}else return""}a("themeColor",ri);a("fillMode",ai);a("shape",oi);a("size",si);a("positionMode",di);a("rounded",li);a("resize",ui);a("overflow",ci);return{positionModeValues:di,roundedValues:li,sizeValues:si,shapeValues:oi,fillModeValues:ai,themeColorValues:ri,defaultValues:n,propertyDictionary:e,registerValues:i,getValidClass:o,registerPrefix:t}}(),M.registerCssClass=function(e,t,i){if(!M.propertyToCssClassMap[e])M.propertyToCssClassMap[e]={};M.propertyToCssClassMap[e][t]=i||t},M.registerCssClasses=function(e,t){for(var i=0;i<t.length;i++)if(d(t[i]))M.registerCssClass(e,t[i][0],t[i][1]);else M.registerCssClass(e,t[i])},M.getValidCssClass=function(e,t,i){var n=M.propertyToCssClassMap[t][i];if(n)return e+n},M.propertyToCssClassMap={},M.registerCssClasses("themeColor",ri),M.registerCssClasses("fill",ai),M.registerCssClasses("shape",oi),M.registerCssClasses("size",si),M.registerCssClasses("positionMode",di),M.whenAll=function(e){var n=arguments.length==1&&Array.isArray(e)?e:Array.prototype.slice.call(arguments),t=n.length,r=t,a=g.Deferred(),i=0,o=0,s=Array(t),l=Array(t),d=Array(t),u;function c(e,t,i){return function(){if(i!=n)o++;a.notifyWith(t[e]=this,i[e]=Array.prototype.slice.call(arguments));if(!--r)a[(!o?"resolve":"reject")+"With"](t,i)}}for(;i<t;i++)if((u=n[i])&&M.isFunction(u.promise))u.promise().done(c(i,d,n)).fail(c(i,s,l));else{a.notifyWith(this,u);--r}if(!r)a.resolveWith(d,n);return a.promise()};var pi=document.createElement("a"),hi="download"in pi&&!M.support.browser.edge;function mi(e,t){var i=e;if(typeof e=="string"){var n=e.split(";base64,");var r=n[0];var a=atob(n[1]);var o=new Uint8Array(a.length);for(var s=0;s<a.length;s++)o[s]=a.charCodeAt(s);i=new Blob([o.buffer],{type:r})}navigator.msSaveBlob(i,t)}function gi(e,t){if(v.Blob&&e instanceof Blob)e=URL.createObjectURL(e);pi.download=t;pi.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",true,false,v,0,0,0,0,0,false,false,false,false,0,null);pi.dispatchEvent(i);setTimeout(function(){URL.revokeObjectURL(e)})}M.saveAs=function(e){var t=fi;if(!e.forceProxy)if(hi)t=gi;else if(navigator.msSaveBlob)t=mi;t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)},M.proxyModelSetters=function e(i){var n={};Object.keys(i||{}).forEach(function(t){Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){i[t]=e;i.dirty=true}})});return n},M.getSeriesColors=function(){var e='<div class="k-var--series-a"></div>'+'<div class="k-var--series-b"></div>'+'<div class="k-var--series-c"></div>'+'<div class="k-var--series-d"></div>'+'<div class="k-var--series-e"></div>'+'<div class="k-var--series-f"></div>',t=g(e),i=[];t.appendTo(g("body"));t.each(function(e,t){i.push(g(t).css("background-color"))});t.remove();return i},M.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},M.defaults=M.defaults||{},M.setDefaults=function(e,t){var i=e.split(".");var n=M.defaults;e=i.pop();i.forEach(function(e){if(n[e]===R)n[e]={};n=n[e]});if(t.constructor===Object)n[e]=rt({},n[e],t);else n[e]=t},M.class2type={},jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){M.class2type["[object "+t+"]"]=t.toLowerCase()}),M.type=function(e){if(e==null)return e+"";return typeof e==="object"||typeof e==="function"?M.class2type[Object.prototype.toString.call(e)]||"object":typeof e};var vi={validatePackage:function(){},setScriptKey:function(){}};function _i(){vi.validatePackage(E)}return v.KendoLicensing={setScriptKey:vi.setScriptKey},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.badge.min",["kendo.core.min"],function(){var e={id:"badge",name:"Badge",category:"web",description:"The Badge decorates avatars, navigation menus, or other components in the application when visual notification is needed",depends:["core"]},t=window.kendo.jQuery,g=void 0,a=window.kendo,n=a.ui.Widget,i=a.ui,v="k-hidden",r="<span class='k-badge-icon k-icon k-i-#= icon #'></span>",o="<span class='k-badge-icon k-svg-icon'>#= icon #</span>",s=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i._content();i._appearance();a.notify(i)},destroy:function(){var e=this;n.fn.destroy.call(e)},options:{name:"Badge",cutoutBorder:false,data:{},fillMode:"solid",icon:"",max:Infinity,position:"inline",align:"",rounded:"medium",roundings:{small:"sm",medium:"md",large:"lg",full:"full"},sizes:{small:"sm",medium:"md",large:"lg"},size:"medium",template:null,text:"",themeColor:"secondary",visible:true,_classNames:[]},_content:function(){var e=this;var t=e.options.text;var i=e.options.template;var n=e.options.data;var r=e.options.icon;if(i!==null){e._text=t;e._template=a.template(i).bind(e);e.element.html(e._template(n));return}if(r!==""){e.icon(r);return}if(t!==""){e.text(t);return}e.text(e.element.html())},_appearance:function(){var e=this;e._themeColor=e.options.themeColor;e._shape=e.options.shape;e._sizes=e.options.sizes;e._size=e.options.size;e._fillMode=e.options.fillMode;e._rounded=e.options.rounded;e._roundings=e.options.roundings;e._cutoutBorder=e.options.cutoutBorder;e._align=e.options.align;e._position=e.options.position;e._visible=e.options.visible;e._updateClassNames()},_updateClassNames:function(){var i=this;var e=["k-badge"];var n=i.options._classNames;var t=i._themeColor;var r=i._shape;var a=i._sizes;var o=i._size;var s=a[o]===g?o:a[o];var l=i._fillMode;var d=i._rounded;var u=i._roundings;var c=u[d]===g?d:u[d];var f=i._cutoutBorder;var p=i._align;var h=i._position;var m=i._visible;i.element.removeClass(function(e,t){if(t.indexOf("k-")===0&&n.indexOf(t)===-1)i.element.removeClass(t)});if(typeof l==="string"&&l!=="")e.push("k-badge-"+l);if(typeof t==="string"&&t!=="")e.push("k-badge-"+l+"-"+t);if(typeof o==="string"&&o!=="")e.push("k-badge-"+s);if(typeof d==="string"&&d!=="")e.push("k-rounded-"+c);if(typeof r==="string"&&r!=="")e.push("k-badge-"+r);if(typeof f==="boolean"&&f===true)e.push("k-badge-border-cutout");if(typeof h==="string"&&h!=="")e.push("k-badge-"+h);if(typeof h==="string"&&h!==""&&h!=="inline"&&typeof p==="string"&&p.split(" ").length==2)e.push("k-"+p.replace(" ","-"));if(m===false)e.push(v);i.element.addClass(e.join(" "))},setOptions:function(e){var i=this;i.element.removeClass(function(e,t){if(t.indexOf("k-")>=0)i.element.removeClass(t)});n.fn.setOptions.call(i,e);i._content();i._appearance()},text:function(e){var t=this;var i=t.options.max;if(arguments.length===0||e===g)return t._text;t._text=e;if(e===true||e===false||e===null){t.element.html("");return}if(typeof e==="string"){t.element.html(e);return}if(typeof e==="number"){if(e>i)t.element.html(i+"+");else t.element.html(e);return}if(typeof e==="object"&&"toString"in e){t.element.html(e.toString());return}},icon:function(e){var t=this;var i;if(arguments.length===0||e===g)return t._icon;t._icon=e;if(e.indexOf("<svg")===0){i=a.template(o);t.element.html(i({icon:e}));return}i=a.template(r);t.element.html(i({icon:e}))},themeColor:function(e){var t=this;if(arguments.length===0||e===g)return t._themeColor;t._themeColor=e;t._updateClassNames()},rounded:function(e){var t=this;if(arguments.length===0||e===g)return t._rounded;t._rounded=e;t._updateClassNames()},hide:function(){var e=this;e._visible=false;e._updateClassNames()},show:function(){var e=this;e._visible=true;e._updateClassNames()}});return i.plugin(s),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.base.min",["kendo.core.min"],function(){var e={id:"html.base",name:"Html.Base",category:"web",description:"",depends:["core"],features:[]},n=window.kendo.jQuery,t=void 0,r=window.kendo,i=r.Class,a=(r.html=r.html||{},i.extend({init:function(e,t){var i=this;i.element=n(e);t=t||{};delete t.name;i._initOptions(t)},options:{stylingOptions:[]},_addClasses:function(){var e=this,i=e.options,t=i.stylingOptions,n=e.wrapper.data("added-classes");t=t.map(function(e){var t;if(e==="themeColor"){t=r.cssProperties.getValidClass({widget:i.name,propName:"fillMode",value:i.fillMode});if(!t||t.length===0)return""}return r.cssProperties.getValidClass({widget:i.name,propName:e,value:i[e],fill:i.fillMode})});if(n)e.wrapper.removeClass(n.join(" "));e.wrapper.data("added-classes",t);e.wrapper.addClass(t.join(" "))},html:function(){var e=this;return e.wrapper[0].outerHTML}}));return n.extend(r.html,{HTMLBase:a}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.button.min",["kendo.html.base.min"],function(){var e={id:"html.button",name:"Html.Button",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},u=window.kendo.jQuery,i=void 0,c=window.kendo,n=c.html.HTMLBase,r="k-button",f="k-button-icon",a="k-button-text",t=function(e,t){if(arguments[0]===i||u.isPlainObject(arguments[0])){t=e;e=u("<button></button>")}return new o(e,t).html()},o=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i.wrapper=i.element.addClass(r);if(!i.element.attr("type"))i.element.attr("type",i.options.type);i._addClasses();i.iconElement();i._textElement()},options:{name:"HTMLButton",type:"button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base",stylingOptions:["size","rounded","fillMode","themeColor"]},iconElement:function(){var e=this,t=e.element,i=e.options,n=i.icon,r=i.iconClass,a=i.spriteCssClass,o=i.imageUrl,s,l,d;if(a||o||n||r){d=true;t.contents().filter(function(){return!u(this).hasClass("k-sprite")&&!u(this).hasClass("k-icon")&&!u(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&c.trim(t.nodeValue).length>0)d=false})}if(d)e.element.addClass("k-icon-button");if(o){l=t.children("img.k-image").first();if(!l[0])l=u('<img alt="icon" class="k-image" />').prependTo(t);l.attr("src",o);l.addClass(f)}else if(n||r){s=t.children("span.k-icon").first();if(!s[0])s=u("<span></span>").prependTo(t);s.attr("class",n?"k-icon k-i-"+n:r);s.addClass(f)}else if(a){s=t.children("span.k-sprite").first();if(!s[0])s=u('<span class="k-sprite"></span>').prependTo(t);s.addClass(a+" "+f)}},_textElement:function(){var e=this.element;e.contents().filter(function(){return!u(this).hasClass(f)&&!u(this).hasClass("k-sprite")&&!u(this).hasClass("k-icon")&&!u(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&c.trim(t.nodeValue).length>0){if(t.nodeType===3){var i=document.createElement("span");t.parentNode.insertBefore(i,t);i.appendChild(t);t=i}t.classList.add(a)}})}});return u.extend(c.html,{renderButton:t,HTMLButton:o}),c.cssProperties.registerPrefix("HTMLButton","k-button-"),c.cssProperties.registerValues("HTMLButton",[{prop:"fillMode",values:c.cssProperties.fillModeValues.concat(["link"])},{prop:"rounded",values:c.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.button.min",["kendo.core.min","kendo.badge.min","kendo.html.button.min"],function(){var e={id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core","badge","html.button"]},n=window.kendo.jQuery,r=void 0,a=window.kendo,o=a.ui.Widget,s=a.html,l=a.ui,i=a.keys,d="click",u=a.support.mousedown,c=a.support.mouseup,f="mouseout",p=".kendoButton",h="disabled",m="k-disabled",t="k-focus",g="k-active",v,_=(a.setDefaults("button",{icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",badge:null}),o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);e=i.wrapper=i.element;t=i.options;s.renderButton(e,n.extend({},t));e.attr("role","button");t.enable=t.enable&&t.enabled&&!e.attr(h);i.enable(t.enable);if(t.enable)i._tabindex();i._badge();e.on(d+p,i._click.bind(i)).on("focus"+p,i._focus.bind(i)).on("blur"+p,i._blur.bind(i)).on("keydown"+p,i._keydown.bind(i)).on("keyup"+p,i._removeActive.bind(i)).on(u+p,i._addActive.bind(i)).on(c+p+" "+f+p,i._removeActive.bind(i));a.notify(i)},destroy:function(){var e=this;e.wrapper.off(p);if(e.badge)e.badge.destroy();o.fn.destroy.call(e)},events:[d],options:{name:"Button",enable:true,enabled:true,icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",badge:null,size:"medium",shape:"rectangle",rounded:"medium",fillMode:"solid",themeColor:"base"},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(e){if(this.options.enable)if(this.trigger(d,{event:e}))e.preventDefault()},_focus:function(){if(this.options.enable)this.element.addClass(t)},_blur:function(){var e=this;e.element.removeClass(t);setTimeout(function(){e.element.removeClass(g)})},_keydown:function(e){var t=this;if(e.keyCode==i.ENTER||e.keyCode==i.SPACEBAR){t._addActive();if(!t._isNativeButton()){if(e.keyCode==i.SPACEBAR)e.preventDefault();t._click(e)}}},_removeActive:function(){this.element.removeClass(g)},_addActive:function(){if(this.options.enable)this.element.addClass(g)},enable:function(e){var t=this,i=t.element;if(e===r)e=true;e=!!e;t.options.enable=e;i.toggleClass(m,!e).attr("aria-disabled",!e).attr(h,!e);if(e)t._tabindex();try{i.trigger("blur")}catch(e){}},_badge:function(){var e=this;var t=e.options.badge;var i;if(t===null||t===r)return;if(t.constructor!==Object)t={text:t};if(t.position===r||t.position===""){t.position="edge";if(t.align===r||t.align==="")t.align="top end"}t._classNames=["k-button-badge"];e.element.addClass("k-badge-container");i=n("<span />").appendTo(e.element);e.badge=new l.Badge(i,t)}}));if(_.fn.hasOwnProperty("defaults")===false)Object.defineProperty(_.fn,"defaults",{get:function(){return a.defaults.button}});return a.cssProperties.registerPrefix("Button","k-button-"),a.cssProperties.registerValues("Button",[{prop:"fillMode",values:a.cssProperties.fillModeValues.concat(["link"])},{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),a.ui.plugin(_),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.buttongroup.min",["kendo.core.min","kendo.badge.min"],function(){var e={id:"buttongroup",name:"ButtonGroup",category:"web",description:"The Kendo ButtonGroup widget is a linear set of grouped buttons.",depends:["core","badge"]},l=window.kendo.jQuery,r=void 0,d=window.kendo,n=d.ui,a=n.Widget,u=d.keys,t=d.template,i=".kendoButtonGroup",o="k-widget",s="k-button-group",c="k-button",f="k-button-md k-rounded-md k-button-solid k-button-solid-base",p="k-icon-button",h="k-selected",m="k-disabled",g="select",v="click",_="keydown",b="focus",k="focusout",w="mousedown",y=d.support.browser.msie,x={item:t("<span "+'#= item.enabled === false ? "disabled" : "" # '+">"+"#= icon(iconClass) #"+"#= image(item) #"+"# if(!!text) { #"+'<span class="k-button-text"> #= text # </span>'+"# } #"+"</span>"),image:t('<img alt="icon" src="#=data.imageUrl#" class="k-button-icon"/>'),icon:t('<span class="k-button-icon #=data#"></span>'),empty:t("")};function C(e,t){var i;if(e===null||e===r)return;if(e.constructor!==Object)e={text:e};if(e.position===r||e.position===""){e.position="edge";if(e.align===r||e.align==="")e.align="top end"}e._classNames=["k-button-badge"];t.addClass("k-badge-container");i=l("<span />").appendTo(t);t.badge=new n.Badge(i,e)}var S=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.wrapper=i.element;if(i.options.items)i._renderItems(i.options.items);i.selectedIndices=[];i.element.addClass(o+" "+s).attr("role","group").attr("tabindex",i.element.attr("tabindex")||"0").children().each(function(){var e=l(this);i._updateClasses.bind(i)(e)});i._enable=true;if(!i.options.enable||!i.options.enabled){i._enable=false;i.element.attr("aria-disabled",true).addClass(m);i.element.children().addClass(m)}i.select(i.options.index);i._attachEvents()},events:[g],options:{name:"ButtonGroup",selection:"single",index:-1,enable:true,enabled:true},current:function(){return this.element.find("."+h)},_attachEvents:function(){var e=this;e.element.on(v+i,"."+c,e._click.bind(e)).on(b+i,e._focus.bind(e)).on(k+i,e._focusout.bind(e)).on(_+i,e._keyDown.bind(e)).on(w+i,e._mouseDown.bind(e))},_renderItems:function(e){var i=this;e.forEach(function(e){var t=l(x.item({image:e.imageUrl?x.image:x.empty,icon:!e.imageUrl&&(e.iconClass||e.icon)?x.icon:x.empty,iconClass:e.iconClass||"k-icon k-i-"+e.icon,item:e,text:e.text?e.encoded===false?e.text:d.htmlEncode(e.text):""}));if(e.attributes)t.attr(e.attributes);if(e.selected)t.addClass(h);if((e.iconClass||e.icon||e.imageUrl)&&!e.text)t.addClass(p);if(e.badge)C(e.badge,t);t.appendTo(i.element)})},_mouseDown:function(e){var t=e.clientX,i=e.clientY,n=document.elementFromPoint(t,i);if(n!==this.element[0]){this.preventFocus=true;this.preventFocusOut=true}if(y)this._focus()},_focus:function(){var e=l(this.element);e.removeAttr("tabindex");e.find("[role='button']").attr("tabindex","0");if(this.preventFocus){this.preventFocus=false;return}if(e.find("."+h).length)e.find("."+h).first().trigger("focus");else e.children().first().trigger("focus")},_focusout:function(){var e=this;var t=e.wrapper;if(this.preventFocusOut){this.preventFocusOut=false;return}setTimeout(function(){if(!t[0].contains(document.activeElement)){t.attr("tabindex","0");t.find("[role='button']").removeAttr("tabindex")}})},_keyDown:function(e){var t=this;var i=l(t.element);var n=i.find("."+c);var r=i.find(":focus");var a=n.index(r);var o=d.support.isRtl(t.element);var s;if(e.keyCode===u.LEFT&&!o||e.keyCode===u.RIGHT&&o){s=a===0?n.eq(n.length-1):l(n[a-1]);s.trigger("focus");e.preventDefault()}else if(e.keyCode===u.LEFT&&o||e.keyCode===u.RIGHT&&!o){s=a+1===n.length?n.eq(0):l(n[a+1]);s.trigger("focus");e.preventDefault()}else if(e.keyCode===u.ENTER||e.keyCode===u.SPACEBAR){t._select(r);e.preventDefault()}},select:function(e){var t=this,i,n=-1;if(e===r||e===-1)return;if(typeof e==="number"){n=e;e=t.element.children().eq(e)}else if(e.nodeType){e=l(e);n=e.index()}if(t.options.selection==="multiple"){i=e.attr("aria-pressed")==="true";e.attr("aria-pressed",!i).toggleClass(h);if(t.selectedIndices.indexOf(n)===-1)t.selectedIndices.push(n);else t.selectedIndices.splice(t.selectedIndices.indexOf(n),1)}else{t.selectedIndices=[];t.current().attr("aria-pressed",false).removeClass(h);e.attr("aria-pressed",true).addClass(h);t.selectedIndices.push(n)}},badge:function(e,t){var i=this.element;var n=!isNaN(e)?i.children().eq(e):i.find(e);var r=t||t===0;var a;if(!n.length)return;a=n.children(".k-badge").eq(0).data("kendoBadge");if(!a&&r){C({text:d.htmlEncode(t)},n);return d.htmlEncode(t)}if(r)a.text(d.htmlEncode(t));else if(t===false){a.element.empty().remove();a.destroy();return}return a?a.text():null},enable:function(e){if(typeof e=="undefined")e=true;this.element.attr("aria-disabled",!e).toggleClass(m,!e);this.element.children().toggleClass(m,!e);this._enable=this.options.enable=e},destroy:function(){var e=this;e.element.off(i);e.element.find(".k-badge").each(function(){l(this).data("kendoBadge").destroy()});a.fn.destroy.call(e)},_updateClasses:function(e){var t=d.attrValue(e,"icon");var i=d.attrValue(e,"badge");var n=e.find("img").addClass("k-image");var r=true;e.attr("aria-pressed",false).attr("role","button").addClass(c).addClass(f);if(e.is("[disabled]")||e.hasClass(m))e.addClass(m).attr("aria-disabled",true).removeAttr("disabled");if(e.is("."+h)){e.removeClass(h);if(!e.hasClass(m)&&this.options.selection==="single"||this.options.selection==="multiple")this.select(e[0])}if(!n[0]&&t)e.prepend(l(x.icon("k-icon k-i-"+t)));e.contents().filter(function(){return!l(this).hasClass("k-icon")&&!l(this).hasClass("k-image")}).each(function(){if(this.nodeType==1||this.nodeType==3&&d.trim(this.nodeValue).length>0)r=false});if((n[0]||t)&&r)e.addClass(p);if(i||i===0)C(i,e)},_click:function(e){var t=l(e.target).closest("."+c);if(e.isDefaultPrevented())return;e.target.focus();this._select(t)},_select:function(e){var t=e;if(!this._enable||t.is("."+m))return;this.select(e[0]);this.trigger(g,{indices:this.selectedIndices})}});return n.plugin(S),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.odata.min",["kendo.core.min"],function(){var e={id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true},n=window.kendo.jQuery,p=void 0,h=window.kendo,l=n.extend,d="\r\n",u="\r\n\r\n",c=h.isFunction,m={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isnullorempty:"eq",isnotnullorempty:"ne",isempty:"eq",isnotempty:"ne"},g=l({},m,{contains:"contains"}),s={pageSize:n.noop,page:n.noop,filter:function(e,t,i){if(t){t=v(t,i);if(t)e.$filter=t}},sort:function(e,t){var i=n.map(t,function(e){var t=e.field.replace(/\./g,"/");if(e.dir==="desc")t+=" desc";return t}).join(",");if(i)e.$orderby=i},skip:function(e,t){if(t)e.$skip=t},take:function(e,t){if(t)e.$top=t}},f={read:{dataType:"jsonp"}};function v(e,t){var i=[],n=e.logic||"and",r,a,o,s,l,d,u,c,f=e.filters;for(r=0,a=f.length;r<a;r++){e=f[r];o=e.field;u=e.value;d=e.operator;if(e.filters)e=v(e,t);else{c=e.ignoreCase;o=o.replace(/\./g,"/");e=m[d];if(t)e=g[d];if(d==="isnullorempty")e=h.format("{0} {1} null or {0} {1} ''",o,e);else if(d==="isnotnullorempty")e=h.format("{0} {1} null and {0} {1} ''",o,e);else if(d==="isnull"||d==="isnotnull")e=h.format("{0} {1} null",o,e);else if(d==="isempty"||d==="isnotempty")e=h.format("{0} {1} ''",o,e);else if(e&&u!==p){s=h.type(u);if(s==="string"){l="'{1}'";u=u.replace(/'/g,"''");if(c===true)o="tolower("+o+")"}else if(s==="date")if(t){l="{1:yyyy-MM-ddTHH:mm:ss+00:00}";u=h.timezone.apply(u,"Etc/UTC")}else l="datetime'{1:yyyy-MM-ddTHH:mm:ss}'";else l="{1}";if(e.length>3)if(e!=="substringof")l="{0}({2},"+l+")";else{l="{0}("+l+",{2})";if(d==="doesnotcontain")if(t){l="{0}({2},'{1}') eq -1";e="indexof"}else l+=" eq false"}else l="{2} {0} "+l;e=h.format(l,e,u,o)}}i.push(e)}e=i.join(" "+n+" ");if(i.length>1)e="("+e+")";return e}function i(e){for(var t in e)if(t.indexOf("@odata")===0)delete e[t]}function t(){return Math.floor((1+Math.random())*65536).toString(16).substr(1)}function _(e){return e+t()+"-"+t()+"-"+t()}function b(e,t){var i=d+"--"+e;if(t)i+="--";return i}function k(e,t,i,n){var r=e.options[n].url;var a=h.format("{0} ",i);if(c(r))return a+r(t);else return a+r}function w(e,t){var i="";i+=b(e,false);i+=d+"Content-Type: application/http";i+=d+"Content-Transfer-Encoding: binary";i+=d+"Content-ID: "+t;return i}function y(e){var t="";t+=d+"Content-Type: application/json;odata=minimalmetadata";t+=d+"Prefer: return=representation";t+=u+h.stringify(e);return t}function x(e,t,i,n,r,a){var o="";for(var s=0;s<e.length;s++){o+=w(t,i);o+=u+k(r,e[s],r.options[n].type,n)+" HTTP/1.1";if(!a)o+=y(e[s]);o+=d;i++}return o}function C(e,t,i,n,r,a,o){var s="";s+=S(t,i);s+=x(e,i,n,a,r,o);s+=b(i,true);s+=d;return s}function S(e,t){var i="";i+="--"+e+d;i+="Content-Type: multipart/mixed; boundary="+t+d;return i}function o(e,t){var i=l({},e.options.batch);var n=_("sf_batch_");var r="";var a=0;var o=e.options.batch.url;var s=_("sf_changeset_");i.type=e.options.batch.type;i.url=c(o)?o():o;i.headers=l(i.headers||{},{"Content-Type":"multipart/mixed; boundary="+n});if(t.updated.length){r+=C(t.updated,n,s,a,e,"update",false);a+=t.updated.length;s=_("sf_changeset_")}if(t.destroyed.length){r+=C(t.destroyed,n,s,a,e,"destroy",true);a+=t.destroyed.length;s=_("sf_changeset_")}if(t.created.length)r+=C(t.created,n,s,a,e,"create",false);r+=b(n,true);i.data=r;return i}function T(e){var t=e.match(/--changesetresponse_[a-z0-9-]+$/gm);var i=0;var n=[];var r;var a;var o;var s;var l;n.push({models:[],passed:true});for(var d=0;d<t.length;d++){s=t[d];if(s.lastIndexOf("--",s.length-1)){if(d<t.length-1)n.push({models:[],passed:true});continue}if(!i)i=e.indexOf(s);else i=e.indexOf(s,i+s.length);r=e.substring(i,e.indexOf("--",i+1));a=r.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop();o=h.parseFloat(a.match(/\d{3}/g).pop());if(o>=200&&o<=299){l=r.match(/\{.*\}/gm);if(l)n[n.length-1].models.push(JSON.parse(l[0]))}else n[n.length-1].passed=false}return n}return l(true,h.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t,i){var n,r,a,o;e=e||{};t=t||"read";o=(this.options||f)[t];o=o?o.dataType:"json";if(t==="read"){n={$inlinecount:"allpages"};if(o!="json")n.$format="json";for(a in e)if(s[a])s[a](n,e[a],i);else n[a]=e[a]}else{if(o!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(a in e){r=e[a];if(typeof r==="number")e[a]=r+""}n=h.stringify(e)}}return n}}}}),l(true,h.data,{schemas:{"odata-v4":{type:"json",data:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)i(e[t]);return e}else{e=n.extend({},e);i(e);if(e.value)return e.value;return[e]}},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var i=h.data.transports.odata.parameterMap(e,t,true);if(t=="read"){i.$count=true;delete i.$inlinecount}if(i&&i.$filter)i.$filter=i.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/gi,function(e){return e.substring(1,e.length-1)});return i},submit:function(r){var e=this;var t=o(e,r.data);var a=r.data;if(!a.updated.length&&!a.destroyed.length&&!a.created.length)return;n.ajax(l(true,{},{success:function(e){var t=T(e);var i=0;var n;if(a.updated.length){n=t[i];if(n.passed)r.success(n.models.length?n.models:[],"update");i++}if(a.destroyed.length){n=t[i];if(n.passed)r.success([],"destroy");i++}if(a.created.length){n=t[i];if(n.passed)r.success(n.models,"create")}},error:function(e,t,i){r.error(e,t,i)}},t))}}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.xml.min",["kendo.core.min"],function(){var e={id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true},r=window.kendo.jQuery,c=void 0,f=window.kendo,p=Array.isArray,h=r.isPlainObject,m=r.map,g=r.each,v=r.extend,t=f.getter,i,n=f.Class.extend({init:function(e){var i=this,t=e.total,r=e.model,n=e.parse,a=e.errors,o=e.serialize,s=e.data;if(r){if(h(r)){var l=e.modelBase||f.data.Model;if(r.fields)g(r.fields,function(e,t){if(h(t)&&t.field){if(!f.isFunction(t.field))t=v(t,{field:i.getter(t.field)})}else t={field:i.getter(t)};r.fields[e]=t});var d=r.id;if(d){var u={};u[i.xpathToMember(d,true)]={field:i.getter(d)};r.fields=v(u,r.fields);r.id=i.xpathToMember(d)}r=l.define(r)}i.model=r}if(t)if(typeof t=="string"){t=i.getter(t);i.total=function(e){return parseInt(t(e),10)}}else if(typeof t=="function")i.total=t;if(a)if(typeof a=="string"){a=i.getter(a);i.errors=function(e){return a(e)||null}}else if(typeof a=="function")i.errors=a;if(s)if(typeof s=="string"){s=i.xpathToMember(s);i.data=function(e){var t=i.evaluate(e,s),n;t=p(t)?t:[t];if(i.model&&r.fields){n=new i.model;return m(t,function(e){if(e){var t={},i;for(i in r.fields)t[i]=n._parse(i,r.fields[i].field(e));return t}})}return t}}else if(typeof s=="function")i.data=s;if(typeof n=="function"){var c=i.parse;i.parse=function(e){var t=n.call(i,e);return c.call(i,t)}}if(typeof o=="function")i.serialize=o},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var t={},i,n,r,a,o,s,l=e.attributes,d=l.length,u;for(u=0;u<d;u++){s=l[u];t["@"+s.nodeName]=s.nodeValue}for(n=e.firstChild;n;n=n.nextSibling){r=n.nodeType;if(r===3||r===4)t["#text"]=n.nodeValue;else if(r===1){i=this.parseDOM(n);a=n.nodeName;o=t[a];if(p(o))o.push(i);else if(o!==c)o=[o,i];else o=i;t[a]=o}}return t},evaluate:function(e,t){var i=t.split("."),n,r,a,o,s;while(n=i.shift()){e=e[n];if(p(e)){r=[];t=i.join(".");for(s=0,a=e.length;s<a;s++){o=this.evaluate(e[s],t);o=p(o)?o:[o];r.push.apply(r,o)}return r}}return e},parse:function(e){var t,i,n={};t=e.documentElement||r.parseXML(e).documentElement;i=this.parseDOM(t);n[t.nodeName]=i;return n},xpathToMember:function(e,t){if(!e)return"";e=e.replace(/^\//,"").replace(/\//g,".");if(e.indexOf("@")>=0)return e.replace(/\.?(@.*)/,t?"$1":'["$1"]');if(e.indexOf("text()")>=0)return e.replace(/(\.?text\(\))/,t?"#text":'["#text"]');return e},getter:function(e){return t(this.xpathToMember(e),true)}});return r.extend(true,f.data,{XmlDataReader:n,readers:{xml:n}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],function(){var i={id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]},v=window.kendo.jQuery,T=void 0,m=v.extend,g=v.isPlainObject,_=v.isEmptyObject,u=Array.isArray,N=v.grep,n=v.ajax,b,k=v.each,p=v.noop,w=window.kendo,h=w.isFunction,o=w.Observable,e=w.Class,y="string",L="function",B="asc",V="create",U="read",W="update",j="destroy",x="change",q="sync",G="get",a="error",c="requestStart",s="progress",C="requestEnd",r="itemsLoaded",K="itemLoad",$=[V,U,W,j],t=function(e){return e},S=w.getter,Y=w.stringify,I=Math,Q=[].push,X,J=[].pop,Z=[].splice,ee=[].shift,f=[].slice,te=[].unshift,ie={}.toString,ne=w.support.stableSort,re=/^\/Date\((.*?)\)\/$/,ae=[],D=o.extend({init:function(e,t){var i=this;i.type=t||d;o.fn.init.call(i);i.length=e.length;i.wrapAll(e,i);i._loadPromises=[];i._loadedNodes=[]},at:function(e){return this[e]},toJSON:function(e){var t,i=this.length,n,r=new Array(i);for(t=0;t<i;t++){n=this[t];if(n instanceof d)n=n.toJSON(e);r[t]=n}return r},parent:p,wrapAll:function(e,t){var i=this,n,r,a=function(){return i};t=t||[];for(n=0,r=e.length;n<r;n++)t[n]=i.wrap(e[n],a);return t},wrap:function(i,e){var n=this,t;if(i!==null&&ie.call(i)==="[object Object]"){t=i instanceof n.type||i instanceof E;if(!t){i=i instanceof d?i.toJSON():i;i=new n.type(i)}i.parent=e;i.bind(x,function(e){var t=i.hasOwnProperty("hasSubgroups");n.trigger(x,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node||t?e.action||"itemloaded":"itemchange"})});i.bind(K,function(t){n._loadPromises.push(t.promise);n._loading=true;t.promise.done(function(){n._loadedNodes.push(t.node);var e=n._loadPromises.indexOf(t.promise);n._loadPromises.splice(e,1);if(!n._loadPromises.length){n._loading=false;n.trigger(r,{collection:n,nodes:n._loadedNodes});n._loadedNodes=[]}})})}return i},loading:function(){return this._loading},push:function(){var e=this.length,t=this.wrapAll(arguments),i;i=Q.apply(this,t);if(!this.omitChangeEvent)this.trigger(x,{action:"add",index:e,items:t});return i},slice:f,sort:[].sort,join:[].join,pop:function(){var e=this.length,t=J.apply(this);if(e)this.trigger(x,{action:"remove",index:e-1,items:[t]});return t},splice:function(e,t,i){var n=this.wrapAll(f.call(arguments,2)),r,a,o;r=Z.apply(this,[e,t].concat(n));if(r.length){if(!this.omitChangeEvent)this.trigger(x,{action:"remove",index:e,items:r});for(a=0,o=r.length;a<o;a++)if(r[a]&&r[a].children)r[a].unbind(x)}if(i)if(!this.omitChangeEvent)this.trigger(x,{action:"add",index:e,items:n});return r},shift:function(){var e=this.length,t=ee.apply(this);if(e)this.trigger(x,{action:"remove",index:0,items:[t]});return t},unshift:function(){var e=this.wrapAll(arguments),t;t=te.apply(this,e);this.trigger(x,{action:"add",index:0,items:e});return t},indexOf:function(e){var t=this,i,n;for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(e,t){var i=0;var n=this.length;var r=t||window;for(;i<n;i++)e.call(r,this[i],i,this)},map:function(e,t){var i=0;var n=[];var r=this.length;var a=t||window;for(;i<r;i++)n[i]=e.call(a,this[i],i,this);return n},reduce:function(e){var t=0,i,n=this.length;if(arguments.length==2)i=arguments[1];else if(t<n)i=this[t++];for(;t<n;t++)i=e(i,this[t],t,this);return i},reduceRight:function(e){var t=this.length-1,i;if(arguments.length==2)i=arguments[1];else if(t>0)i=this[t--];for(;t>=0;t--)i=e(i,this[t],t,this);return i},filter:function(e,t){var i=0;var n=[];var r;var a=this.length;var o=t||window;for(;i<a;i++){r=this[i];if(e.call(o,r,i,this))n[n.length]=r}return n},find:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(e.call(a,n,i,this))return n}},every:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(!e.call(a,n,i,this))return false}return true},some:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(e.call(a,n,i,this))return true}return false},remove:function(e){var t=this.indexOf(e);if(t!==-1)this.splice(t,1)},empty:function(){this.splice(0,this.length)}});if(typeof Symbol!=="undefined"&&Symbol.iterator&&!D.prototype[Symbol.iterator])D.prototype[Symbol.iterator]=[][Symbol.iterator];var oe=D.extend({init:function(e,t,i){var n=function(){return this};o.fn.init.call(this);this.type=t||d;if(i)this._events=i;for(var r=0;r<e.length;r++)this[r]=e[r];this.length=r;this._parent=n.bind(this)},at:function(e){var t=this[e];if(!(t instanceof this.type))t=this[e]=this.wrap(t,this._parent);else t.parent=this._parent;return t}});function se(n,r,a,o){return function(e){var t={},i;for(i in e)t[i]=e[i];if(o)t.field=a+"."+e.field;else t.field=a;if(r==x&&n._notifyChange)n._notifyChange(t);n.trigger(r,t)}}function le(e){return typeof e==="object"&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})||Object.getPrototypeOf(e)===Object.getPrototypeOf(new Date)||typeof e!=="object"}function de(e,t){var i=[];var n=[];var r,a;e=e||{};if(!le(e))n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));r=Object.getOwnPropertyNames(e).concat(n);a=ae.filter(function(e){return r.indexOf(e)<0});while(e){Object.getOwnPropertyNames(e).forEach(function(e){if(i.indexOf(e)===-1&&(!t||a.indexOf(e)<0))i.push(e)});e=Object.getPrototypeOf(e)}return i}ae=de({},false);var d=o.extend({init:function(t){var i=this,n,e=de(t,true),r=function(){return i};o.fn.init.call(this);this._handlers={};e.forEach(function(e){n=t[e];if(typeof n==="object"&&n&&!n.getTime&&e.charAt(0)!="_")n=i.wrap(n,e,r);i[e]=n});i.uid=w.guid()},shouldSerialize:function(e,t){return this.hasOwnProperty(e)&&e!=="_handlers"&&e!=="_events"&&(t&&t[e]||typeof this[e]!==L)&&e!=="uid"},forEach:function(e){for(var t in this)if(this.shouldSerialize(t))e(this[t],t)},toJSON:function(e){var t={},i,n;for(n in this)if(this.shouldSerialize(n,e)){i=this[n];if(i instanceof d||i instanceof D)i=i.toJSON(e);t[n]=i}return t},get:function(e){var t=this,i;t.trigger(G,{field:e});if(e==="this")i=t;else i=w.getter(e,true)(t);return i},_set:function(e,t){var i=this;var n=e.indexOf(".")>=0;if(n){var r=e.split("."),a="";while(r.length>1){a+=r.shift();var o=w.getter(a,true)(i);if(o instanceof d){o.set(r.join("."),t);return n}a+="."}}w.setter(e)(i,t);return n},set:function(e,t){var i=this,n=false,r=e.indexOf(".")>=0,a=w.getter(e,true)(i);if(a!==t){if(a instanceof o&&this._handlers[e]){if(this._handlers[e].get)a.unbind(G,this._handlers[e].get);a.unbind(x,this._handlers[e].change)}n=i.trigger("set",{field:e,value:t});if(!n){if(!r)t=i.wrap(t,e,function(){return i});if(!i._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)i.trigger(x,{field:e})}}return n},parent:p,wrap:function(e,t,i){var n=this;var r;var a;var o=ie.call(e);if(e!=null&&(o==="[object Object]"||o==="[object Array]")){var s=e instanceof D;var l=e instanceof z;if(o==="[object Object]"&&!l&&!s){if(!(e instanceof d))e=new d(e);r=se(n,G,t,true);e.bind(G,r);a=se(n,x,t,true);e.bind(x,a);n._handlers[t]={get:r,change:a}}else if(o==="[object Array]"||s||l){if(!s&&!l)e=new D(e);a=se(n,x,t,false);e.bind(x,a);n._handlers[t]={change:a}}e.parent=i}return e}});function ue(e,t){if(e===t)return true;var i=w.type(e),n=w.type(t),r;if(i!==n)return false;if(i==="date")return e.getTime()===t.getTime();if(i!=="object"&&i!=="array")return false;for(r in e)if(!ue(e[r],t[r]))return false;return true}var ce={number:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return w.parseFloat(e)},date:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return w.parseDate(e)},boolean:function(e){if(typeof e===y)if(e.toLowerCase()==="null")return null;else return e.toLowerCase()==="true";return e!=null?!!e:e},string:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return e!=null?e+"":e},default:function(e){return e}},fe={string:"",number:0,date:new Date,boolean:false,default:""};function pe(e,t){var i,n;for(n in e){i=e[n];if(g(i)&&i.field&&i.field===t)return i;else if(i===t)return i}return null}var E=d.extend({init:function(e){var t=this;if(!e||v.isEmptyObject(e)){e=v.extend({},t.defaults,e);if(t._initializers)for(var i=0;i<t._initializers.length;i++){var n=t._initializers[i];e[n]=t.defaults[n]()}}d.fn.init.call(t,e);t.dirty=false;t.dirtyFields={};if(t.idField){t.id=t.get(t.idField);if(t.id===T)t.id=t._defaultId}},shouldSerialize:function(e){return d.fn.shouldSerialize.call(this,e)&&e!=="uid"&&!(this.idField!=="id"&&e==="id")&&e!=="dirty"&&e!=="dirtyFields"&&e!=="_accessors"},_parse:function(e,t){var i=this,n=e,r=i.fields||{},a;e=r[e];if(!e)e=pe(r,n);if(e){a=e.parse;if(!a&&e.type)a=ce[e.type.toLowerCase()]}return a?a(t):t},_notifyChange:function(e){var t=e.action;if(t=="add"||t=="remove"){this.dirty=true;this.dirtyFields[e.field]=true}},editable:function(e){e=(this.fields||{})[e];return e?e.editable!==false:true},set:function(e,t){var i=this;var n=i.dirty;if(i.editable(e)){t=i._parse(e,t);if(!ue(t,i.get(e))){i.dirty=true;i.dirtyFields[e]=true;if(d.fn.set.call(i,e,t)&&!n){i.dirty=n;if(!i.dirty)i.dirtyFields[e]=false}}else i.trigger("equalSet",{field:e,value:t})}},accept:function(e){var t=this,i=function(){return t},n;for(n in e){var r=e[n];if(n.charAt(0)!="_")r=t.wrap(e[n],n,i);t._set(n,r)}if(t.idField)t.id=t.get(t.idField);t.dirty=false;t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}}),l=(E.define=function(e,t){if(t===T){t=e;e=E}var i,n=m({defaults:{}},t),r,a,o,s,l,d,u={},c,f=n.id,p=[];if(f)n.idField=f;if(n.id)delete n.id;if(f)n.defaults[f]=n._defaultId="";if(ie.call(n.fields)==="[object Array]"){for(l=0,d=n.fields.length;l<d;l++){a=n.fields[l];if(typeof a===y)u[a]={};else if(a.field)u[a.field]=a}n.fields=u}for(r in n.fields){a=n.fields[r];o=a.type||"default";s=null;c=r;r=typeof a.field===y?a.field:r;if(!a.nullable){s=n.defaults[c!==r?c:r]=a.defaultValue!==T?a.defaultValue:fe[o.toLowerCase()];if(typeof s==="function")p.push(r)}if(t.id===r)n._defaultId=s;n.defaults[c!==r?c:r]=s;a.parse=a.parse||ce[o]}if(p.length>0)n._initializers=p;i=e.extend(n);i.define=function(e){return E.define(i,e)};if(n.fields){i.fields=n.fields;i.idField=n.idField}return i},{selector:function(e){return h(e)?e:S(e)},compare:function(e){var i=this.selector(e);return function(e,t){e=i(e);t=i(t);if(e==null&&t==null)return 0;if(e==null)return-1;if(t==null)return 1;if(e.localeCompare)return e.localeCompare(t);return e>t?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);if(e.dir=="desc")return function(e,t){return i(t,e,true)};return i},combine:function(a){return function(e,t){var i=a[0](e,t),n,r;for(n=1,r=a.length;n<r;n++)i=i||a[n](e,t);return i}}}),he=m({},l,{asc:function(e){var r=this.selector(e);return function(e,t){var i=r(e);var n=r(t);if(i&&i.getTime&&n&&n.getTime){i=i.getTime();n=n.getTime()}if(i===n)return e.__position-t.__position;if(i==null)return-1;if(n==null)return 1;if(i.localeCompare)return i.localeCompare(n);return i>n?1:-1}},desc:function(e){var r=this.selector(e);return function(e,t){var i=r(e);var n=r(t);if(i&&i.getTime&&n&&n.getTime){i=i.getTime();n=n.getTime()}if(i===n)return e.__position-t.__position;if(i==null)return 1;if(n==null)return-1;if(n.localeCompare)return n.localeCompare(i);return i<n?1:-1}},create:function(e){return this[e.dir](e.field)}}),me=(b=function(e,t){var i,n=e.length,r=new Array(n);for(i=0;i<n;i++)r[i]=t(e[i],i,e);return r},function(){function o(e){if(typeof e=="string")e=e.replace(/[\r\n]+/g,"");return JSON.stringify(e)}function e(r){return function(e,t,i,n){t+="";if(i){e="("+e+" + '').toString()"+(n?".toLocaleLowerCase('"+n+"')":".toLowerCase()");t=n?t.toLocaleLowerCase(n):t.toLowerCase()}return r(e,o(t),i)}}function r(e,t,i,n,r){if(i!=null){if(typeof i===y){var a=re.exec(i);if(a)i=new Date(+a[1]);else if(n){i=o(r?i.toLocaleLowerCase(r):i.toLowerCase());t="(("+t+" || '')+'')"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()")}else i=o(i)}if(i.getTime){t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")";i=i.getTime()}}return t+" "+e+" "+i}function i(e){for(var t="/^",i=false,n=0;n<e.length;++n){var r=e.charAt(n);if(i)t+="\\"+r;else if(r=="~"){i=true;continue}else if(r=="*")t+=".*";else if(r=="?")t+=".";else if(".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(r)>=0)t+="\\"+r;else t+=r;i=false}return t+"$/"}return{quote:function(e){if(e&&e.getTime)return"new Date("+e.getTime()+")";return o(e)},eq:function(e,t,i,n){return r("==",e,t,i,n)},neq:function(e,t,i,n){return r("!=",e,t,i,n)},gt:function(e,t,i){return r(">",e,t,i)},gte:function(e,t,i){return r(">=",e,t,i)},lt:function(e,t,i){return r("<",e,t,i)},lte:function(e,t,i){return r("<=",e,t,i)},startswith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") >= 0"}),doesnotendwith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") < 0"}),contains:e(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:e(function(e,t){return e+".indexOf("+t+") == -1"}),matches:e(function(e,t){t=t.substring(1,t.length-1);return i(t)+".test("+e+")"}),doesnotmatch:e(function(e,t){t=t.substring(1,t.length-1);return"!"+i(t)+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}());function A(e){this.data=e||[]}function F(e,t){if(e){var i=typeof e===y?{field:e,dir:t}:e,n=u(i)?i:i!==T?[i]:[];return N(n,function(e){return!!e.dir})}}function ge(e,t){var i={};if(e){var n=typeof e===y?{field:e,dir:t}:e,r=u(n)?n:n!==T?[n]:[];for(var a=0;a<r.length;a++)i[r[a].field]={dir:r[a].dir,index:a+1}}return i}A.filterExpr=function(e){var t=[],i={and:" && ",or:" || "},n,r,a,o,s=[],l=[],d,u,c=e.filters;for(n=0,r=c.length;n<r;n++){a=c[n];d=a.field;u=a.operator;if(a.filters){o=A.filterExpr(a);a=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){t=+t;return"__o["+(l.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){t=+t;return"__f["+(s.length+t)+"]"});l.push.apply(l,o.operators);s.push.apply(s,o.fields)}else{if(typeof d===L){o="__f["+s.length+"](d)";s.push(d)}else o=w.expr(d);if(typeof u===L){a="__o["+l.length+"]("+o+", "+me.quote(a.value)+")";l.push(u)}else a=me[(u||"eq").toLowerCase()](o,a.value,a.ignoreCase!==T?a.ignoreCase:true,e.accentFoldingFiltering)}t.push(a)}return{expression:"("+t.join(i[e.logic])+")",fields:s,operators:l}};var ve={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function _e(e){var t,i,n,r,a=e.filters;if(a)for(t=0,i=a.length;t<i;t++){n=a[t];r=n.operator;if(r&&typeof r===y)n.operator=ve[r.toLowerCase()]||r;_e(n)}}function H(e){if(e&&!_(e)){if(u(e)||!e.filters)e={logic:"and",filters:u(e)?e:[e]};_e(e);return e}}function be(e,t){if(e.logic||t.logic)return false;return e.field===t.field&&e.value===t.value&&e.operator===t.operator}function ke(e){e=e||{};if(_(e))return{logic:"and",filters:[]};return H(e)}function we(e,t){if(t.logic||e.field>t.field)return 1;else if(e.field<t.field)return-1;else return 0}function ye(e,t){e=ke(e);t=ke(t);if(e.logic!==t.logic)return false;var i,n;var r=(e.filters||[]).slice();var a=(t.filters||[]).slice();if(r.length!==a.length)return false;r=r.sort(we);a=a.sort(we);for(var o=0;o<r.length;o++){i=r[o];n=a[o];if(i.logic&&n.logic){if(!ye(i,n))return false}else if(!be(i,n))return false}return true}function xe(e){return u(e)?e:[e]}function P(e,t,i,n){var r=typeof e===y?{field:e,dir:t,compare:i,skipItemSorting:n}:e,a=u(r)?r:r!==T?[r]:[];return b(a,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function Ce(e,t,i){var n=P(e,t,i);for(var r=0;r<n.length;r++)delete n[r].compare;return n}function Se(e){var t=u(e)?e:[e];for(var i=0;i<t.length;i++)if(t[i]&&h(t[i].compare))return true;return false}function Te(e,t){if(e&&e.getTime&&t&&t.getTime)return e.getTime()===t.getTime();return e===t}function Ie(e,t,i,n,r,a){t=t||[];var o,s,l,d=t.length;for(o=0;o<d;o++){s=t[o];l=s.aggregate;var u=s.field;e[u]=e[u]||{};a[u]=a[u]||{};a[u][l]=a[u][l]||{};e[u][l]=De[l.toLowerCase()](e[u][l],i,w.accessor(u),n,r,a[u][l])}}A.normalizeFilter=H,A.compareFilters=ye,A.prototype={toArray:function(){return this.data},range:function(e,t){return new A(this.data.slice(e,e+t))},skip:function(e){return new A(this.data.slice(e))},take:function(e){return new A(this.data.slice(0,e))},select:function(e){return new A(b(this.data,e))},order:function(e,t,i){var n={dir:t};if(e)if(e.compare)n.compare=e.compare;else n.field=e;if(i)return new A(this.data.sort(l.create(n)));return new A(this.data.slice(0).sort(l.create(n)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,n){var r,a,o=F(e,t),s=[];i=i||l;if(o.length){for(r=0,a=o.length;r<a;r++)s.push(i.create(o[r]));return this.orderBy({compare:i.combine(s)},n)}return this},filter:function(e){var t,i,n,r,a,o=this.data,s,l,d=[],u;e=H(e);if(!e||e.filters.length===0)return this;r=A.filterExpr(e);s=r.fields;l=r.operators;a=u=new Function("d, __f, __o","return "+r.expression);if(s.length||l.length)u=function(e){return a(e,s,l)};for(t=0,n=o.length;t<n;t++){i=o[t];if(u(i))d.push(i)}return new A(d)},group:function(n,r,a){n=P(n||[]);r=r||this.data;var e=this,t=new A(e.data),o;if(n.length>0){o=n[0];if(a&&a.groupPaging)t=new A(r).groupAllData(o,r).select(function(e){var t=new A(r).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);var i=n.length>1?new A(e.items).group(n.slice(1),t.toArray(),a).toArray():e.items;return{field:e.field,value:e.value,hasSubgroups:n.length>1,items:i,aggregates:t.aggregate(o.aggregates),uid:w.guid(),itemCount:i.length,subgroupCount:i.length}});else t=t.groupBy(o).select(function(e){var t=new A(r).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);return{field:e.field,value:e.value,items:n.length>1?new A(e.items).group(n.slice(1),t.toArray()).toArray():e.items,hasSubgroups:n.length>1,aggregates:t.aggregate(o.aggregates)}})}return t},groupBy:function(e){var t=this;if(_(e)||!this.data.length)return new A([]);var i=e.field,n=e.skipItemSorting?this.data:this._sortForGrouping(i,e.dir||"asc"),r=w.accessor(i),a,o=r.get(n[0],i),s={field:i,value:o,items:[]},l,d,u,c=[s];for(d=0,u=n.length;d<u;d++){a=n[d];l=r.get(a,i);if(!Te(o,l)){o=l;s={field:i,value:o,items:[]};c.push(s)}s.items.push(a)}c=t._sortGroups(c,e);return new A(c)},groupAllData:function(e,t){if(_(e)||this.data&&!this.data.length)return new A([]);var i=e.field,n=e.skipItemSorting?t:new A(t).sort(i,e.dir||"asc",he).toArray(),r=w.accessor(i),a,o=r.get(n[0],i),s={field:i,value:o,items:[]},l,d,u,c=[s];for(d=0,u=n.length;d<u;d++){a=n[d];l=r.get(a,i);if(!Te(o,l)){o=l;s={field:i,value:o,items:[]};c.push(s)}s.items.push(a)}c=this._sortGroups(c,e);return new A(c)},_sortForGrouping:function(e,t){var i,n,r=this.data;if(!ne){for(i=0,n=r.length;i<n;i++)r[i].__position=i;r=new A(r).sort(e,t,he).toArray();for(i=0,n=r.length;i<n;i++)delete r[i].__position;return r}return this.sort(e,t).toArray()},_sortGroups:function(e,t){var i=e;if(t&&h(t.compare))i=new A(i).order({compare:t.compare},t.dir||B).toArray();return i},aggregate:function(e){var t,i,n={},r={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)Ie(n,e,this.data[t],t,i,r);return n}};var De={sum:function(e,t,i){var n=i.get(t);if(!O(e))e=n;else if(O(n))e+=n;return e},count:function(e){return(e||0)+1},average:function(e,t,i,n,r,a){var o=i.get(t);if(a.count===T)a.count=0;if(!O(e))e=o;else if(O(o))e+=o;if(O(o))a.count++;if(n==r-1&&O(e))e=e/a.count;return e},max:function(e,t,i){var n=i.get(t);if(!O(e)&&!Ee(e))e=n;if(e<n&&(O(n)||Ee(n)))e=n;return e},min:function(e,t,i){var n=i.get(t);if(!O(e)&&!Ee(e))e=n;if(e>n&&(O(n)||Ee(n)))e=n;return e}};function O(e){return typeof e==="number"&&!isNaN(e)}function Ee(e){return e&&e.getTime}function Ae(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;t++)n[t]=e[t].toJSON();return n}A.normalizeGroup=P,A.normalizeSort=F,A.process=function(e,t,i){t=t||{};var n=t.group;var r=Se(P(n||[]));var a=new A(e),o=Ce(n||[]),s=F(t.sort||[]),l=r?s:o.concat(s),d,u,c=t.filterCallback,f=t.filter,p=t.skip,h=t.take;if(l&&i)a=a.sort(l,T,T,i);if(f){a=a.filter(f);if(c)a=c(a);u=a.toArray().length}if(l){if(!i)a=a.sort(l);if(n)e=a.toArray()}if(r){a=a.group(n,e,t);if(p!==T&&h!==T&&!t.groupPaging){a=new A(Ve(a.toArray())).range(p,h);d=b(o,function(e){return m({},e,{skipItemSorting:true})});a=a.group(d,e,t)}}else{if(p!==T&&h!==T){u=a.data.length;if(p+h>u&&t.virtual){p-=p+h-u;p=p<0?0:p}a=a.range(p,h)}if(n&&(!_(n)||n.length!==0))a=a.group(n,e,t)}return{total:u,data:a.toArray()}};var Fe=e.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),He=e.extend({init:function(i){var e=this,n;i=e.options=m({},e.options,i);k($,function(e,t){if(typeof i[t]===y)i[t]={url:i[t]}});e.cache=i.cache?M.create(i.cache):{find:p,add:p};n=i.parameterMap;if(i.submit)e.submit=i.submit;if(h(i.push))e.push=i.push;if(!e.push)e.push=t;e.parameterMap=h(n)?n:function(e){var i={};k(e,function(e,t){if(e in n){e=n[e];if(g(e)){t=e.value(t);e=e.key}}i[e]=t});return i}},options:{parameterMap:t},create:function(e){return n(this.setup(e,V))},read:function(t){var e=this,i,n,r,a=e.cache;t=e.setup(t,U);i=t.success||p;n=t.error||p;r=a.find(t.data);if(r!==T)i(r);else{t.success=function(e){a.add(t.data,e);i(e)};v.ajax(t)}},update:function(e){return n(this.setup(e,W))},destroy:function(e){return n(this.setup(e,j))},setup:function(e,t){e=e||{};var i=this,n,r=i.options[t],a=h(r.data)?r.data(e.data):r.data;e=m(true,{},r,e);n=m(true,{},a,e.data);e.data=i.parameterMap(n,t);if(h(e.url))e.url=e.url(n);return e}}),M=e.extend({init:function(){this._store={}},add:function(e,t){if(e!==T)this._store[Y(e)]=t},find:function(e){return this._store[Y(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[Y(e)]}});function Pe(e,t,i,n,r){var a,o,s,l,d={},u;for(l=0,u=e.length;l<u;l++){a=e[l];for(o in t){s=r[o];if(s&&s!==o){if(!d[s])d[s]=w.setter(s);d[s](a,t[o](a));delete a[o]}}}}function Oe(e,t,i,n,r){var a,o,s,l,d;for(l=0,d=e.length;l<d;l++){a=e[l];for(o in t){a[o]=i._parse(o,t[o](a));s=r[o];if(s&&s!==o)delete a[s]}}}function Me(e,t,i,n,r){var a,o,s,l;for(o=0,l=e.length;o<l;o++){a=e[o];s=n[a.field];if(s&&s!=a.field)a.field=s;a.value=i._parse(a.field,a.value);if(a.items)if(a.hasSubgroups)Me(a.items,t,i,n,r);else Oe(a.items,t,i,n,r)}}function ze(t,i,n,r,a,o){return function(e){e=t(e);return Re(i,n,r,a,o)(e)}}function Re(t,i,n,r,a){return function(e){if(e&&!_(n)){if(ie.call(e)!=="[object Array]"&&!(e instanceof D))e=[e];i(e,n,new t,r,a)}return e||[]}}M.create=function(e){var t={inmemory:function(){return new M}};if(g(e)&&h(e.find))return e;if(e===true)return new M;return t[e]()};var Ne=e.extend({init:function(e){var t=this,i,n,r,a;e=e||{};for(i in e){n=e[i];t[i]=typeof n===y?S(n):n}a=e.modelBase||E;if(g(t.model))t.model=r=a.define(t.model);var o=t.data.bind(t);t._dataAccessFunction=o;if(t.model){var s=t.groups.bind(t),l=t.serialize.bind(t),d={},u={},c={},f={},p=false,h,m;r=t.model;if(r.fields){k(r.fields,function(e,t){var i;h=e;if(g(t)&&t.field)h=t.field;else if(typeof t===y)h=t;if(g(t)&&t.from)i=t.from;p=p||i&&i!==e||h!==e;m=i||h;u[e]=m.indexOf(".")!==-1?S(m,true):S(m);c[e]=S(e);d[i||h]=e;f[e]=i||h});if(!e.serialize&&p)t.serialize=ze(l,r,Pe,c,d,f)}t._dataAccessFunction=o;t._wrapDataAccessBase=Re(r,Oe,u,d,f);t.data=ze(o,r,Oe,u,d,f);t.groups=ze(s,r,Me,u,d,f)}},errors:function(e){return e?e.errors:null},parse:t,data:t,total:function(e){return e.length},groups:t,aggregates:function(){return{}},serialize:function(e){return e}});function Le(e,t){var i;var n;if(t.items&&t.items.length)for(var r=0;r<t.items.length;r++){i=e.items[e.items.length-1];n=t.items[r];if(i&&n)if(i.hasSubgroups&&i.value==n.value)Le(i,n);else if(i.field&&i.value==n.value){i.items.omitChangeEvent=true;i.items.push.apply(i.items,n.items);i.items.omitChangeEvent=false}else{e.items.omitChangeEvent=true;e.items.push.apply(e.items,[n]);e.items.omitChangeEvent=false}else if(n){e.items.omitChangeEvent=true;e.items.push.apply(e.items,[n]);e.items.omitChangeEvent=false}}}function Be(e,t,i,n){var r,a=0,o;while(t.length&&n){r=t[a];o=r.items;var s=o.length;if(e&&e.field===r.field&&e.value===r.value){if(e.hasSubgroups&&e.items.length)Be(e.items[e.items.length-1],r.items,i,n);else{o=o.slice(i,i+n);e.items=e.items.concat(o)}t.splice(a--,1)}else if(r.hasSubgroups&&o.length){Be(r,o,i,n);if(!r.items.length)t.splice(a--,1)}else{o=o.slice(i,i+n);r.items=o;if(!r.items.length)t.splice(a--,1)}if(o.length===0)i-=s;else{i=0;n-=o.length}if(++a>=t.length)break}if(a<t.length)t.splice(a,t.length-a)}function Ve(e,t){var i=[];var n=(e||[]).length;var r;var a;var o=h(t)?t:function(e,t){return e[t]};for(var s=0;s<n;s++){r=o(e,s);if(r.hasSubgroups)i=i.concat(Ve(r.items));else{a=r.items;for(var l=0;l<a.length;l++)i.push(o(a,l))}}return i}function Ue(e){var t,i=[],n,r,a;for(t=0,n=e.length;t<n;t++){var o=e.at(t);if(o.items)if(o.hasSubgroups)i=i.concat(Ue(o.items));else{r=o.items;for(a=0;a<r.length;a++)i.push(r.at(a))}}return i}function We(e,t){var i,n,r;if(t)for(i=0,n=e.length;i<n;i++){r=e.at(i);if(r.items)if(r.hasSubgroups)We(r.items,t);else r.items=new oe(r.items,t,r.items._events)}}function je(e,t){for(var i=0;i<e.length;i++)if(e[i].hasSubgroups){if(je(e[i].items,t))return true}else if(t(e[i].items,e[i]))return true}function qe(e,t,i,n){for(var r=0;r<e.length;r++){if(e[r].data===t)break;if(Ge(e[r].data,i,n))break}}function Ge(e,t,i){for(var n=0,r=e.length;n<r;n++)if(e[n]&&e[n].hasSubgroups)return Ge(e[n].items,t,i);else if(e[n]===t||e[n]===i){e[n]=i;return true}}function Ke(e,t,i,n,r){for(var a=0,o=e.length;a<o;a++){var s=e[a];if(!s||s instanceof n)continue;if(s.hasSubgroups!==T&&!r)Ke(s.items,t,i,n,r);else for(var l=0;l<t.length;l++)if(t[l]===s){e[a]=t.at(l);qe(i,t,s,e[a]);break}}}function $e(e,t){if(!e)return;var i=e.length;var n;var r;for(r=0;r<i;r++){n=e[r];if(n.uid&&n.uid==t.uid){e.splice(r,1);return n}}}function Ye(e,t){if(t)return Xe(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId});return-1}function Qe(e,t){if(t)return Xe(e,function(e){return e.uid==t.uid});return-1}function Xe(e,t){var i,n;if(!e)return;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function Je(e,t){if(e&&!_(e)){var i=e[t];var n;if(g(i))n=i.from||i.field||t;else n=e[t]||t;if(h(n))return t;return n}return t}function Ze(e,t){var i,n,r={};for(var a in e)if(a!=="filters")r[a]=e[a];if(e.filters){r.filters=[];for(i=0,n=e.filters.length;i<n;i++)r.filters[i]=Ze(e.filters[i],t)}else r.field=Je(t.fields,r.field);return r}function et(e,t){var i,n,r=[],a,o;for(i=0,n=e.length;i<n;i++){a={};o=e[i];for(var s in o)a[s]=o[s];a.field=Je(t.fields,a.field);if(a.aggregates&&u(a.aggregates))a.aggregates=et(a.aggregates,t);r.push(a)}return r}var z=o.extend({init:function(e){var t=this,i,n;if(e)n=e.data;e=t.options=m({},t.options,e);t._map={};t._prefetch={};t._data=[];t._pristineData=[];t._ranges=[];t._view=[];t._pristineTotal=0;t._destroyed=[];t._pageSize=e.pageSize;t._page=e.page||(e.pageSize?1:T);t._sort=F(e.sort);t._sortFields=ge(e.sort);t._filter=H(e.filter);t._group=P(e.group);t._aggregate=e.aggregate;t._total=e.total;t._groupPaging=e.groupPaging;if(t._groupPaging)t._groupsState={};t._shouldDetachObservableParents=true;o.fn.init.call(t);t.transport=tt.create(e,n,t);if(h(t.transport.push))t.transport.push({pushCreate:t._pushCreate.bind(t),pushUpdate:t._pushUpdate.bind(t),pushDestroy:t._pushDestroy.bind(t)});if(e.offlineStorage!=null)if(typeof e.offlineStorage=="string"){var r=e.offlineStorage;t._storage={getItem:function(){return JSON.parse(localStorage.getItem(r))},setItem:function(e){localStorage.setItem(r,Y(t.reader.serialize(e)))}}}else t._storage=e.offlineStorage;t.reader=new w.data.readers[e.schema.type||"json"](e.schema);i=t.reader.model||{};t._detachObservableParents();t._data=t._observe(t._data);t._online=true;t.bind(["push",a,x,c,q,C,s],e)},options:{data:null,schema:{modelBase:E},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false,inPlaceSort:false},clone:function(){return this},online:function(e){if(e!==T){if(this._online!=e){this._online=e;if(e)return this.sync()}return v.Deferred().resolve().promise()}else return this._online},offlineData:function(e){if(this.options.offlineStorage==null)return null;if(e!==T)return this._storage.setItem(e);return this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_isServerGroupPaged:function(){return this._isServerGrouped()&&this._groupPaging},_isGroupPaged:function(){var e=this._group||[];return this._groupPaging&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);if(!i)i=e;this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return Ue(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:p,get:function(e){var t,i,n=this._flatData(this._data,this.options.useRanges);for(t=0,i=n.length;t<i;t++)if(n[t].id==e)return n[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,n,r=this._flatData(t,this.options.useRanges);if(!r)return;for(i=0,n=r.length;i<n;i++)if(r[i].uid==e)return r[i]},indexOf:function(e){return Qe(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(e!==T){t._detachObservableParents();t._data=this._observe(e);t._pristineData=e.slice(0);t._storeData();t._ranges=[];t.trigger("reset");t._addRange(t._data);t._total=t._data.length;t._pristineTotal=t._total;t._process(t._data)}else{if(t._data)for(var i=0;i<t._data.length;i++)t._data.at(i);return t._data}},view:function(e){if(e===T)return this._view;else this._view=this._observeView(e)},_observeView:function(e){var t=this;Ke(e,t._data,t._ranges,t.reader.model||d,t._isServerGrouped());var i=new oe(e,t.reader.model);i.parent=function(){return t.parent()};return i},flatView:function(){var e=this.group()||[];if(e.length)return Ue(this._view);else return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){if(this.reader.model)return new this.reader.model(e);if(e instanceof d)return e;return new d(e)},insert:function(e,t){if(!t){t=e;e=0}if(!(t instanceof E))t=this._createNewModel(t);if(this._isServerGrouped())this._data.splice(e,0,this._wrapInEmptyGroup(t));else this._data.splice(e,0,t);this._insertModelInRange(e,t);return t},pushInsert:function(e,t){var i=this;var n=i._getCurrentRangeSpan();if(!t){t=e;e=0}if(!u(t))t=[t];var r=[];var a=this.options.autoSync;this.options.autoSync=false;try{for(var o=0;o<t.length;o++){var s=t[o];var l=this.insert(e,s);r.push(l);var d=l.toJSON();if(this._isServerGrouped())d=this._wrapInEmptyGroup(d);this._pristineData.push(d);if(n&&n.length)v(n).last()[0].pristineData.push(d);e++}}finally{this.options.autoSync=a}if(r.length)this.trigger("push",{type:"create",items:r})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){if(!u(e))e=[e];var t=[];for(var i=0;i<e.length;i++){var n=e[i];var r=this._createNewModel(n);var a=this.get(r.id);if(a){t.push(a);a.accept(n);a.trigger(x);this._updatePristineForModel(a,n)}else this.pushCreate(n)}if(t.length)this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);if(t.length)this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){if(!u(e))e=[e];var i=typeof t!=="undefined"?t:true;var n=[];var r=this.options.autoSync;this.options.autoSync=false;try{for(var a=0;a<e.length;a++){var o=e[a];var s=this._createNewModel(o);var l=false;this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===s.id){n.push(i);e.splice(t,1);l=true;break}}});if(l&&i){this._removePristineForModel(s);this._destroyed.pop()}}}finally{this.options.autoSync=r}return n},pushMove:function(e,t){var i=this._moveItems(e,t);if(i.length)this.trigger("push",{type:"update",items:i})},_moveItems:function(n,e){if(!u(e))e=[e];var r=[];var t=this.options.autoSync;this.options.autoSync=false;try{for(var i=0;i<e.length;i++){var a=e[i];var o=this._createNewModel(a);this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===o.id){r.push(i);e.splice(n>=t?--n:n,0,e.splice(t,1)[0]);n++;break}}})}}finally{this.options.autoSync=t}return r},remove:function(t){var i,e=this,n=e._isServerGrouped();if(n&&t.uid&&(!t.isNew||!t.isNew()))e._pushInDestroyed(t);this._eachItem(e._data,function(e){i=$e(e,t);if(i&&n)return true});this._removeModelFromRanges(t);return t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&n[e].isNew())i.push(n[e]);return i},updated:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&!n[e].isNew()&&n[e].dirty)i.push(n[e]);return i},sync:function(){var i=this,e=[],t=[],n=i._destroyed;var r=v.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return r;e=i.created();t=i.updated();var a=[];if(i.options.batch&&i.transport.submit)a=i._sendSubmit(e,t,n);else{a.push.apply(a,i._send("create",e));a.push.apply(a,i._send("update",t));a.push.apply(a,i._send("destroy",n))}r=v.when.apply(null,a).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)if(arguments[e])i._accept(arguments[e]);i._storeData(true);i._syncEnd();i._change({action:"sync"});i.trigger(q);if(i._isServerGroupPaged())i.read()})}else{i._storeData(true);i._syncEnd();i._change({action:"sync"})}return r},_syncEnd:p,cancelChanges:function(e){var t=this;if(e instanceof w.data.Model)t._cancelModel(e);else{t._destroyed=[];t._detachObservableParents();t._data=t._observe(t._pristineData);if(t.options.serverPaging)t._total=t._pristineTotal;t._ranges=[];t._addRange(t._data,0);t._changesCanceled();t._change();t._markOfflineUpdatesAsDirty();if(t._isServerGrouped())t.read()}},_changesCanceled:p,_markOfflineUpdatesAsDirty:function(){var e=this;if(e.options.offlineStorage!=null)e._eachItem(e._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.__state__=="update"||i.__state__=="create")i.dirty=true}})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return true;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return true;return false},_accept:function(e){var t=this,i=e.models,n=e.response,r=0,a=t._isServerGrouped(),o=t._pristineData,s=e.type,l;t.trigger(C,{response:n,type:s});if(n&&!_(n)){n=t.reader.parse(n);if(t._handleCustomErrors(n))return;n=t.reader.data(n);if(!u(n))n=[n]}else n=v.map(i,function(e){return e.toJSON()});if(s==="destroy")t._destroyed=[];for(r=0,l=i.length;r<l;r++)if(s!=="destroy"){i[r].accept(n[r]);if(s==="create")o.push(a?t._wrapInEmptyGroup(i[r].toJSON()):n[r]);else if(s==="update")t._updatePristineForModel(i[r],n[r])}else t._removePristineForModel(i[r])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){w.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,n){this._eachPristineItem(function(e){var t=Ye(e,i);if(t>-1){n(t,e);return true}})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=!this._isServerGrouped()?this.reader.data:this.reader.groups;return t.call(this.reader,e)},_eachPristineItem:function(i){var n=this;var e=n.options;var t=n._getCurrentRangeSpan();n._eachItem(n._pristineData,i);if(e.serverPaging&&e.useRanges)k(t,function(e,t){n._eachItem(t.pristineData,i)})},_eachItem:function(e,t){if(e&&e.length)if(this._isServerGrouped())je(e,t);else t(e)},_pristineForModel:function(t){var i,n,e=function(e){n=Ye(e,t);if(n>-1){i=e[n];return true}};this._eachPristineItem(e);return i},_cancelModel:function(i){var n=this;var r=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=Qe(e,i);if(t>=0)if(r&&(!i.isNew()||r.__state__)){e[t].accept(r);if(r.__state__=="update")e[t].dirty=true}else{n._modelCanceled(i);e.splice(t,1);n._removeModelFromRanges(i)}})},_modelCanceled:p,_submit:function(r,e){var a=this;a.trigger(c,{type:"submit"});a.trigger(s);a.transport.submit(m({success:function(e,t){var i=v.grep(r,function(e){return e.type==t})[0];if(i)i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var n=0;n<r.length;n++)r[n].reject(e);a.error(e,t,i)}},e))},_sendSubmit:function(t,i,n){var e=this,r=[];if(e.options.batch){if(t.length)r.push(v.Deferred(function(e){e.type="create";e.models=t}));if(i.length)r.push(v.Deferred(function(e){e.type="update";e.models=i}));if(n.length)r.push(v.Deferred(function(e){e.type="destroy";e.models=n}));e._submit(r,{data:{created:e.reader.serialize(Ae(t)),updated:e.reader.serialize(Ae(i)),destroyed:e.reader.serialize(Ae(n))}})}return r},_promise:function(e,t,i){var r=this;return v.Deferred(function(n){r.trigger(c,{type:i});r.trigger(s);r.transport[i].call(r.transport,m({success:function(e){n.resolve({response:e,models:t,type:i})},error:function(e,t,i){n.reject(e);r.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i=this,n,r,a=[],o=i.reader.serialize(Ae(t));if(i.options.batch){if(t.length)a.push(i._promise({data:{models:o}},t,e))}else for(n=0,r=t.length;n<r;n++)a.push(i._promise({data:o[n]},[t[n]],e));return a},read:function(e){var t=this,i=t._params(e);var n=v.Deferred();t._queueRequest(i,function(){var e=t.trigger(c,{type:"read"});if(!e){t.trigger(s);t._ranges=[];t.trigger("reset");if(t.online())t.transport.read({data:i,success:function(e){t._ranges=[];t.success(e,i);n.resolve()},error:function(){var e=f.call(arguments);t.error.apply(t,e);n.reject.apply(n,e)}});else if(t.options.offlineStorage!=null){t.success(t.offlineData(),i);n.resolve()}}else{t._dequeueRequest();n.resolve(e)}});return n.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t=this,i=t.options,n,r;t.trigger(C,{response:e,type:"read"});if(t.online()){e=t.reader.parse(e);if(t._handleCustomErrors(e)){t._dequeueRequest();return}t._total=t.reader.total(e);if(t._isServerGroupPaged())t._serverGroupsTotal=t._total;if(t._pageSize>t._total){t._pageSize=t._total;if(t.options.pageSize&&t.options.pageSize>t._pageSize)t._pageSize=t.options.pageSize}if(t._aggregate&&i.serverAggregates)t._aggregateResult=t._readAggregates(e);e=t._readData(e);t._destroyed=[]}else{e=t._readData(e);n=[];var a={};var o=t.reader.model;var s=o?o.idField:"id";var l;for(l=0;l<this._destroyed.length;l++){var d=this._destroyed[l][s];a[d]=d}for(l=0;l<e.length;l++){var u=e[l];var c=u.__state__;if(c=="destroy"){if(!a[u[s]])this._pushInDestroyed(this._createNewModel(u))}else n.push(u)}e=n;t._total=e.length}t._pristineTotal=t._total;r=t._skip&&t._data.length&&t._skip<t._data.length;if(t.options.endless){if(r)t._pristineData.splice(t._skip,t._pristineData.length);n=e.slice(0);for(var f=0;f<n.length;f++)t._pristineData.push(n[f])}else t._pristineData=e.slice(0);t._detachObservableParents();if(t.options.endless){t._data.unbind(x,t._changeHandler);if(t._isServerGrouped()&&t._data[t._data.length-1].value===e[0].value){Le(t._data[t._data.length-1],e[0]);e.shift()}e=t._observe(e);if(r)t._data.splice(t._skip,t._data.length);for(var p=0;p<e.length;p++)t._data.push(e[p]);t._data.bind(x,t._changeHandler)}else t._data=t._observe(e);t._markOfflineUpdatesAsDirty();t._storeData();t._addRange(t._data);t._process(t._data);t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)if(this._data[e].parent)this._data[e].parent=p},_storeData:function(e){var a=this._isServerGrouped();var o=this.reader.model;function s(e){var t=[];for(var i=0;i<e.length;i++){var n=e.at(i);var r=n.toJSON();if(a&&n.items)r.items=s(n.items);else{r.uid=n.uid;if(o)if(n.isNew())r.__state__="create";else if(n.dirty)r.__state__="update"}t.push(r)}return t}if(this.options.offlineStorage!=null){var t=s(this._data);var i=[];for(var n=0;n<this._destroyed.length;n++){var r=this._destroyed[n].toJSON();r.__state__="destroy";i.push(r)}this.offlineData(t.concat(i));if(e)this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t)}},_addRange:function(e,t){var i=this,n=typeof t!=="undefined"?t:i._skip||0,r,a={data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()};if(this._isGroupPaged()){r=n+e.length;a.outerStart=n;a.outerEnd=r}else r=n+i._flatData(e,true).length;a.start=n;a.end=r;i._ranges.push(a);i._sortRanges();if(i._isGroupPaged()){if(!i._groupsFlat)i._groupsFlat=[];i._appendToGroupsFlat(a.data);i._updateOuterRangesLength()}},_appendToGroupsFlat:function(e){var t=e.length;for(var i=0;i<t;i++)this._groupsFlat.push(e[i])},_getGroupByUid:function(e){var t=this._groupsFlat.length;var i;for(var n=0;n<t;n++){i=this._groupsFlat[n];if(i.uid===e)return i}},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest();this.trigger(C,{});this.trigger(a,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=m({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate,groupPaging:!!t._groupPaging},e);if(!t.options.serverPaging){delete i.take;delete i.skip;delete i.page;delete i.pageSize}if(!t.options.serverGrouping)delete i.group;else if(t.reader.model&&i.group)i.group=et(i.group,t.reader.model);if(!t.options.serverFiltering)delete i.filter;else if(t.reader.model&&i.filter)i.filter=Ze(i.filter,t.reader.model);if(!t.options.serverSorting)delete i.sort;else if(t.reader.model&&i.sort)i.sort=et(i.sort,t.reader.model);if(!t.options.serverAggregates)delete i.aggregate;else if(t.reader.model&&i.aggregate)i.aggregate=et(i.aggregate,t.reader.model);if(!t.options.groupPaging)delete i.groupPaging;return i},_queueRequest:function(e,t){var i=this;if(!i._requestInProgress){i._requestInProgress=true;i._pending=T;t()}else i._pending={callback:t.bind(i),options:e}},_dequeueRequest:function(){var e=this;e._requestInProgress=false;if(e._pending)e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t){this.trigger(a,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t});return true}}return false},_shouldWrap:function(e){var t=this.reader.model;if(t&&e.length)return!(e[0]instanceof t);return false},_observe:function(e){var t=this,i=t.reader.model;t._shouldDetachObservableParents=true;if(e instanceof D){t._shouldDetachObservableParents=false;if(t._shouldWrap(e)){e.type=t.reader.model;e.wrapAll(e,e)}}else{var n=t.pageSize()&&!t.options.serverPaging?oe:D;e=new n(e,t.reader.model);e.parent=function(){return t.parent()}}if(t._isServerGrouped())We(e,i);if(t._changeHandler&&t._data&&t._data instanceof D&&!(t.options.useRanges&&t.options.serverPaging))t._data.unbind(x,t._changeHandler);else t._changeHandler=t._change.bind(t);return e.bind(x,t._changeHandler)},_updateTotalForAction:function(e,t){var i=this;var n=parseInt(i._total,10);if(!O(i._total))n=parseInt(i._pristineTotal,10);if(e==="add")n+=t.length;else if(e==="remove")n-=t.length;else if(e!=="itemchange"&&e!=="sync"&&!i.options.serverPaging)n=i._pristineTotal;else if(e==="sync")n=i._pristineTotal=parseInt(i._total,10);i._total=n},_pushInDestroyed:function(t){var e=this._destroyed.find(function(e){return e.uid===t.uid});if(!e)this._destroyed.push(t)},_change:function(t){var i=this,e,n,r=t?t.action:"";if(r==="remove")for(e=0,n=t.items.length;e<n;e++)if(!t.items[e].isNew||!t.items[e].isNew())i._pushInDestroyed(t.items[e]);if(i.options.autoSync&&(r==="add"||r==="remove"||r==="itemchange")){var a=function(e){if(e.action==="sync"){i.unbind("change",a);i._updateTotalForAction(r,t.items)}};i.first("change",a);i.sync()}else{i._updateTotalForAction(r,t?t.items:[]);i._process(i._data,t)}},_calculateAggregates:function(e,t){t=t||{};var i=new A(e),n=t.aggregate,r=t.filter;if(r)i=i.filter(r);return i.aggregate(n)},_process:function(e,t){var i=this,n={},r;if(i.options.serverPaging!==true){n.skip=i._skip;n.take=i._take||i._pageSize;if(n.skip===T&&i._page!==T&&i._pageSize!==T)n.skip=(i._page-1)*i._pageSize;if(i.options.useRanges)n.skip=i.currentRangeStart()}if(i.options.serverSorting!==true)n.sort=i._sort;if(i.options.serverFiltering!==true)n.filter=i._filter;if(i.options.serverGrouping!==true)n.group=i._group;if(i.options.serverAggregates!==true)n.aggregate=i._aggregate;if(i.options.serverGrouping)i._clearEmptyGroups(e);n.groupPaging=i._groupPaging;if(i._isGroupPaged()&&t&&(t.action==="page"||t.action==="expandGroup"||t.action==="collapseGroup"))r=i._queryProcess(e,{aggregate:i._aggregate});else r=i._queryProcess(e,n);if(i._filter&&t&&t.action==="add"){var a=t.items[0],o=r.data;var s=o.find(function(e){return e.uid===a.uid});if(!s){r.data.splice(a.index,0,a);r.total++}}if(i.options.serverAggregates!==true)i._aggregateResult=i._calculateAggregates(r.dataToAggregate||e,n);i._setView(r,n,t);i._setFilterTotal(r.total,false);t=t||{};t.items=t.items||i._view;i.trigger(x,t)},_setView:function(e,t,i){var n=this;if(n._isGroupPaged()&&!n._isServerGrouped())if(i&&(i.action==="page"||i.action==="expandGroup"||i.action==="collapseGroup")){n.view(e.data);n._updateOuterRangesLength()}else{n._ranges=[];var r=new A(e.data);n._addRange(n._observe(e.data));if(t.skip+t.take>e.data.length)t.skip=e.data.length-t.take;n.view(r.range(t.skip,t.take).toArray())}else n.view(e.data)},_clearEmptyGroups:function(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i.hasSubgroups)this._clearEmptyGroups(i.items);if(i.items&&!i.items.length&&!i.itemCount)Z.apply(i.parent(),[t,1])}},_queryProcess:function(e,t){if(this.options.inPlaceSort)return A.process(e,t,this.options.inPlaceSort);else return A.process(e,t)},_mergeState:function(e){var t=this;if(e!==T){t._pageSize=e.pageSize;t._page=e.page;t._sort=e.sort;t._filter=e.filter;t._group=e.group;t._aggregate=e.aggregate;t._skip=t._currentRangeStart=e.skip;t._take=e.take;if(t._skip===T){t._skip=t._currentRangeStart=t.skip();e.skip=t.skip()}if(t._take===T&&t._pageSize!==T){t._take=t._pageSize;e.take=t._take}if(t.options.virtual)e.virtual=t.options.virtual;if(e.sort){t._sort=e.sort=F(e.sort);t._sortFields=ge(e.sort)}if(e.filter)t._filter=e.filter=t.options.accentFoldingFiltering&&!v.isEmptyObject(e.filter)?v.extend({},H(e.filter),{accentFoldingFiltering:t.options.accentFoldingFiltering}):H(e.filter);if(e.group)t._group=e.group=P(e.group);if(e.aggregate)t._aggregate=e.aggregate=xe(e.aggregate)}return e},query:function(e){var t;var i=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(i||(this._data===T||this._data.length===0)&&!this._destroyed.length){if(this.options.endless){var n=e.pageSize-this.pageSize();if(n>0){n=this.pageSize();e.page=e.pageSize/n;e.pageSize=n}else{e.page=1;this.options.endless=false}}return this.read(this._mergeState(e))}var r=this.trigger(c,{type:"read"});if(!r){this.trigger(s);if(e)e.groupPaging=this._groupPaging;t=this._queryProcess(this._data,this._mergeState(e));this._setFilterTotal(t.total,true);this._aggregateResult=this._calculateAggregates(t.dataToAggregate||this._data,e);this._setView(t,e);this.trigger(C,{type:"read"});this.trigger(x,{items:t.data,action:e?e.action:""})}return v.Deferred().resolve(r).promise()},_hasExpandedSubGroups:function(e){var t=false;var i=e.items?e.items.length:0;if(!e.hasSubgroups)return false;for(var n=0;n<i;n++)if(this._groupsState[e.items[n].uid]){t=true;break}return t},_findGroupedRange:function(e,t,i,n,r){var a=this;var o=e.length;var s;var l;var d;var u;var c;for(var f=0;f<o;f++){s=e[f];if(i.taken>=i.take)break;if(!a._getGroupByUid(s.uid))a._groupsFlat.push(s);if(a._groupsState[s.uid]){if(a._isServerGroupPaged()){if(a._fetchGroupItems(s,i,n,r)){a._fetchingGroupItems=true;return}u=(s.subgroupCount||s.itemCount)+1;c=i.skip-i.skipped;if(!a._hasExpandedSubGroups(s)&&c>u){i.skipped+=u;continue}}if(i.includeParents&&i.skipped<i.skip){i.skipped++;s.excludeHeader=true}else if(i.includeParents){i.taken++;s.excludeHeader=false}if(s.hasSubgroups&&s.items&&s.items.length){s.currentItems=[];if(!n)n=[];n.push(s);a._findGroupedRange(s.items,s.currentItems,i,n,r);n.pop();if(s.currentItems.length||i.taken>0)t.push(s);else s.excludeHeader=false}else{l=[];d=s.items.length;for(var p=0;p<d;p++){if(i.skipped<i.skip){i.skipped++;continue}if(i.taken>=i.take)break;l.push(s.items[p]);i.taken++}if(l.length||i.taken>0){s.currentItems=l;t.push(s)}else s.excludeHeader=false}}else{if(i.skipped<i.skip){i.skipped++;continue}t.push(s);i.taken++}}},_expandedSubGroupItemsCount:function(e,t,i){var n=this;var r=0;var a;var o=typeof t==="number";var s=o?t:e.subgroupCount;var l;if(!e.hasSubgroups)return r;for(var d=0;d<s;d++){a=e.items[d];if(!a)break;if(a.hasSubgroups&&n._groupsState[e.uid]){l=n._expandedSubGroupItemsCount(a,s,true);r+=l;if(o)s-=l}else if(!a.hasSubgroups&&n._groupsState[a.uid]){l=a.items?a.items.length:0;r+=l;if(o)s-=l}if(i){r+=1;if(o)s-=1}if(o&&r>s)return r}return r},_fetchGroupItems:function(e,t,i,n){var r=this;var a;var o;var s;var l=e.hasSubgroups?e.subgroupCount:e.itemCount;var d=t.take;var u=t.skipped;var c=r.take();var f;if(t.includeParents)if(u<t.skip)u+=1;else d-=1;if(!e.items||e.items&&!e.items.length){r.getGroupItems(e,t,i,n,0);return true}else{f=this._expandedSubGroupItemsCount(e,t.skip-u);a=Math.max(t.skip-(u+f),0);if(a>=l)return false;o=e.items[a];s=e.items[Math.min(a+d,l-1)];if(o.notFetched){r.getGroupItems(e,t,i,n,I.max(I.floor(a/c),0)*c,I.round((a+c)/c));return true}if(s.notFetched){r.getGroupItems(e,t,i,n,I.max(I.floor((a+c)/c),0)*c,I.round((a+c)/c));return true}}},getGroupItems:function(e,t,i,n,r,a){var o=this;var s;var l;var d;var u;if(!e.items)e.items=[];s=o.take();l=this._composeItemsFilter(e,i);d={page:a||1,pageSize:s,skip:r,take:s,filter:l,aggregate:o._aggregate,sort:o._sort};u=o.findSubgroups(e);if(u&&u.length){d.group=u;d.groupPaging=true}clearTimeout(o._timeout);o._timeout=setTimeout(function(){o._queueRequest(d,function(){if(!o.trigger(c,{type:"read"}))o.transport.read({data:d,success:o._groupItemsSuccessHandler(e,t.skip,o.take(),n,r),error:function(){var e=f.call(arguments);o.error.apply(o,e)}});else o._dequeueRequest()})},100)},_groupItemsSuccessHandler:function(a,o,s,l,d){var u=this;var c=u._timeStamp();l=h(l)?l:p;var f=u.options.schema&&u.options.schema.total?u.options.schema.total:"Total";return function(e){var t;var i=E.define(u.options.schema.model);var n;u._dequeueRequest();u.trigger(C,{response:e,type:"read"});if(h(f))n=f(e);else n=e[f];e=u.reader.parse(e);if(a.hasSubgroups){t=u.reader.groups(e);a.subgroupCount=n}else{t=u.reader.data(e);t=t.map(function(e){return new i(e)})}a.items.omitChangeEvent=true;for(var r=0;r<n;r++)if(r>=d&&r<d+s)a.items.splice(r,1,t[r-d]);else if(!a.items[r])a.items.splice(r,0,{notFetched:true});a.items.omitChangeEvent=false;u._updateRangePristineData(a);u._fetchingGroupItems=false;if(!a.countAdded){u._serverGroupsTotal+=n;a.countAdded=true}u.range(o,s,l,"expandGroup");if(c>=u._currentRequestTimeStamp||!u._skipRequestsInProgress)u.trigger(x,{})}},findSubgroups:function(e){var t=this._group.map(function(e){return e.field}).indexOf(e.field);return this._group.slice(t+1,this._group.length)},_composeItemsFilter:function(e,t){var i=this.filter()||{logic:"and",filters:[]};i.logic="and";i=m(true,{},i);i.filters.push({field:e.field,operator:"eq",value:e.value});if(t)for(var n=0;n<t.length;n++)i.filters.push({field:t[n].field,operator:"eq",value:t[n].value});return i},_updateRangePristineData:function(e){var t=this;var i=t._ranges;var n=i.length;var r;var a;var o;var s;var l;var d;for(var u=0;u<n;u++){o=i[u];s=o.data.length;l=[];r=null;for(var c=0;c<s;c++){a=o.data[c];l.push(c);if(a.uid===e.uid||a.hasSubgroups&&a.items.length&&t._containsSubGroup(a,e,l))break;l.pop()}if(l.length){r=i[u].pristineData;while(l.length>1){d=l.splice(0,1)[0];r=r[d].items}r[l[0]]=t._cloneGroup(e);break}}},_containsSubGroup:function(e,t,i){var n=this;var r=e.items.length;var a;if(e.hasSubgroups&&r)for(var o=0;o<r;o++){a=e.items[o];i.push(o);if(a.uid===t.uid||a.hasSubgroups&&a.items.length&&n._containsSubGroup(a,t,i))return true;i.pop()}},_cloneGroup:function(e){var t=this;e=typeof e.toJSON=="function"?e.toJSON():e;if(e.items&&e.items.length)e.items=e.items.map(function(e){return t._cloneGroup(e)});return e},_setFilterTotal:function(e,t){var i=this;if(!i.options.serverFiltering)if(e!==T)i._total=e;else if(t)i._total=i._data.length},fetch:function(t){var i=this;var e=function(e){if(e!==true&&h(t))t.call(i)};return this._query().done(e)},_query:function(e){var t=this;return t.query(m({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),n=t.total();e=e||{};if(!i||n&&i+1>t.totalPages())return;t._skip=t._currentRangeStart=i*t.take();i+=1;e.page=i;t._query(e);return i},prev:function(e){var t=this,i=t.page();e=e||{};if(!i||i===1)return;t._skip=t._currentRangeStart=t._skip-t.take();i-=1;e.page=i;t._query(e);return i},page:function(e){var t=this,i;if(e!==T){e=I.max(I.min(I.max(e,1),t.totalPages()),1);var n=t.take();if(t._isGroupPaged()){e-=1;t.range(e*n,n,null,"page");return}t._query(t._pageableQueryOptions({page:e}));return}i=t.skip();return i!==T?I.round((i||0)/(t.take()||1))+1:T},pageSize:function(e){var t=this;if(e!==T){t._query(t._pageableQueryOptions({pageSize:e,page:1}));return}return t.take()},sort:function(e){var t=this;if(e!==T){t.trigger("sort");t._query({sort:e});return}return t._sort},filter:function(e){var t=this;if(e===T)return t._filter;t.trigger("reset");t._query({filter:e,page:1})},group:function(e){var t=this;var i={group:e};if(t._groupPaging){if(e!==T&&(!e||!e.length))t._ranges=[];i.page=1}if(e!==T){t._query(i);return}return t._group},getGroupsFlat:function(e){var t,i=[],n;for(t=0,n=e.length;t<n;t++){var r=e[t];if(r.hasSubgroups)i=i.concat(this.getGroupsFlat(r.items));i.push(r)}return i},total:function(){return parseInt(this._total||0,10)},groupsTotal:function(e){var t=this;if(!t._group.length)return t.total();if(t._isServerGrouped()){if(t._serverGroupsTotal)return t._serverGroupsTotal;t._serverGroupsTotal=t.total();return t._serverGroupsTotal}return t._calculateGroupsTotal(t._ranges.length?t._ranges[0].data:[],e)},_calculateGroupsTotal:function(e,t,i,n){var r=this;i=i||"items";var a;var o;if(r._group.length&&e){a=0;o=e.length;for(var s=0;s<o;s++)a+=r.groupCount(e[s],t,i,n);r._groupsTotal=a;return a}r._groupsTotal=r._data.length;return r._groupsTotal},groupCount:function(e,t,i,n){var r=this;var a=0;if(e.hasSubgroups&&r._groupsState[e.uid]){if(t&&!e.excludeHeader||n)a+=1;e[i].forEach(function(e){a+=r.groupCount(e,t,i,n)})}else if(r._groupsState[e.uid]){if(t&&!e.excludeHeader||n)a++;a+=e[i]?e[i].length:0}else a++;return a},countGroupRange:function(e){var t=0;var i=e.length;for(var n=0;n<i;n++)t+=this.groupCount(e[n],true);return t},aggregate:function(e){var t=this;if(e!==T){t._query({aggregate:e});return}return t._aggregate},aggregates:function(){var e=this._aggregateResult;if(_(e))e=this._emptyAggregates(this.aggregate());return e},_emptyAggregates:function(e){var t={};if(!_(e)){var i={};if(!u(e))e=[e];for(var n=0;n<e.length;n++){i[e[n].aggregate]=0;t[e[n].field]=i}}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t=this.group(),i,n,r,a;for(r=t.length-1,a=0;r>=a;r--){n=t[r];i={value:e.get?e.get(n.field):e[n.field],field:n.field,items:i?[i]:[e],hasSubgroups:!!i,aggregates:this._emptyAggregates(n.aggregates)}}return i},totalPages:function(){var e=this,t=e.pageSize()||e.total(),i=e._isGroupPaged()?e.groupsTotal(true):e.total();return I.ceil((i||0)/t)},inRange:function(e,t){var i=this,n=I.min(e+t,i.total());if(!i.options.serverPaging&&i._data.length>0)return true;return i._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i,n){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;var r=this._isGroupPaged()?this.groupsTotal(true):this.total();if(n==="expandGroup"||n==="collapseGroup")this._updateOuterRangesLength();e=I.min(e||0,r);i=h(i)?i:p;var a=this,o=I.max(I.floor(e/t),0)*t,s=I.min(o+t,r),l;l=a._findRange(e,I.min(e+t,r),i);if((l.length||r===0)&&!a._fetchingGroupItems){a._processRangeData(l,e,t,a._originalPageSkip||o,a._originalSize||s,{action:n});a._originalPageSkip=null;a._originalSize=null;i();return}if(a._isGroupPaged()){a._originalPageSkip=o;a._originalSize=s;o=I.max(I.floor(a._adjustPageSkip(e,t)/t),0)*t;s=I.min(o+t,r)}if(t!==T&&!a._fetchingGroupItems)if(a._isGroupPaged()&&!a._groupRangeExists(o,t)||!a._rangeExists(o,s))a.prefetch(o,t,function(){if(e>o&&s<a.total()&&!a._rangeExists(s,I.min(s+t,a.total())))a.prefetch(s,t,function(){a.range(e,t,i)});else a.range(e,t,i)});else if(o<e)a.prefetch(s,t,function(){a.range(e,t,i)})},_findRange:function(e,t,i){var n=this,r=n._ranges,a,o=[],s,l,d,u,c,f,p,h=n.options,m=h.serverSorting||h.serverPaging||h.serverFiltering||h.serverGrouping||h.serverAggregates,g,v,_,b={take:t-e,skip:e,skipped:0,taken:0,includeParents:true},k,w=n._isGroupPaged(),y=w?"outerStart":"start",x=w?"outerEnd":"end",C;for(s=0,_=r.length;s<_;s++){a=r[s];if(w){if(a.outerStart>=t)return[];if(e>a.outerEnd){b.skipped+=a.outerEnd-(k||0);k=a.outerEnd;continue}if(typeof k!=="undefined"&&k!=a.outerStart)b.skipped+=a.outerStart-k;if(b.skipped>b.skip)return[];if(typeof k==="undefined"&&e>0&&a.start>0)b.skipped=a.outerStart;l=s;while(true){this._findGroupedRange(a.data,o,b,null,i);C=n._calculateGroupsTotal(o,true,"currentItems");if(C>=b.take)return o;if(n._fetchingGroupItems)return[];l++;if(r[l]&&r[l].outerStart===a.outerEnd)a=r[l];else break}}else if(e>=a[y]&&e<=a[x]){v=0;for(l=s;l<_;l++){a=r[l];g=n._flatData(a.data,true);if(g.length&&e+v>=a.start){c=a.data;f=a.end;if(!m){if(h.inPlaceSort)p=n._queryProcess(a.data,{filter:n.filter()});else{var S=Ce(n.group()||[]).concat(F(n.sort()||[]));p=n._queryProcess(a.data,{sort:S,filter:n.filter()})}g=c=p.data;if(p.total!==T)f=p.total}d=0;if(e+v>a.start)d=e+v-a.start;u=g.length;if(f>t)u=u-(f-t);v+=u-d;o=n._mergeGroups(o,c,d,u);if(t<=a.end&&v==t-e)return o}}break}k=a.outerEnd}return[]},_getRangesMismatch:function(e){var t=this;var i=t._ranges;var n=0;var r=0;while(true){var a=i[r];if(!a||a.outerStart>e)break;if(a.outerEnd!=a.end)n=a.outerEnd-a.end;r++}return n},_mergeGroups:function(e,t,i,n){if(this._isServerGrouped()){var r=t.toJSON(),a;if(e.length)a=e[e.length-1];Be(a,r,i,n);return e.concat(r)}return e.concat(t.slice(i,n))},_processRangeData:function(e,t,i,n,r,a){var o=this;o._pending=T;o._skip=t>o.skip()&&!o._omitPrefetch?I.min(r,(o.totalPages()-1)*o.take()):n;o._currentRangeStart=t;o._take=i;var s=o.options.serverPaging;var l=o.options.serverSorting;var d=o.options.serverFiltering;var u=o.options.serverAggregates;try{o.options.serverPaging=true;if(!o._isServerGrouped()&&!(o.group()&&o.group().length))o.options.serverSorting=true;o.options.serverFiltering=true;o.options.serverPaging=true;o.options.serverAggregates=true;if(s){o._detachObservableParents();o._data=e=o._observe(e)}o._process(e,a)}finally{o.options.serverPaging=s;o.options.serverSorting=l;o.options.serverFiltering=d;o.options.serverAggregates=u}},skip:function(){var e=this;if(e._skip===T)return e._page!==T?(e._page-1)*(e.take()||1):T;return e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(o,s,l,d){var u=this;var c=u._timeStamp();return function(e){var t=false,i={start:o,end:s,data:[],timestamp:u._timeStamp()},n,r,a;u._dequeueRequest();u.trigger(C,{response:e,type:"read"});e=u.reader.parse(e);a=u._readData(e);if(a.length){for(n=0,r=u._ranges.length;n<r;n++)if(u._ranges[n].start===o){t=true;i=u._ranges[n];if(!u._isGroupPaged()){i.pristineData=a;i.data=u._observe(a);i.end=i.start+u._flatData(i.data,true).length;u._sortRanges()}break}if(!t)u._addRange(u._observe(a),o)}u._total=u.reader.total(e);if(d||(c>=u._currentRequestTimeStamp||!u._skipRequestsInProgress))if(l&&a.length)l();else u.trigger(x,{})}},prefetch:function(e,t,i){var n=this,r=I.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};if(n._isGroupPaged()&&!n._isServerGrouped()&&n._groupRangeExists(e,r)){if(i)i();return}if(n._isServerGroupPaged()&&!n._groupRangeExists(e,r)||!n._rangeExists(e,r)){clearTimeout(n._timeout);n._timeout=setTimeout(function(){n._queueRequest(a,function(){if(!n.trigger(c,{type:"read"})){if(n._omitPrefetch)n.trigger(s);n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i),error:function(){var e=f.call(arguments);n.error.apply(n,e)}})}else n._dequeueRequest()})},100)}else if(i)i()},_multiplePrefetch:function(e,t,i){var n=this,r=I.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};if(!n._rangeExists(e,r)){if(!n.trigger(c,{type:"read"}))n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i,true)})}else if(i)i()},_adjustPageSkip:function(e,t){var i=this;var n=i._getPrevRange(e);var r;var a=i.total();var o;if(n){o=i._getRangesMismatch(e);if(!o)return e;e-=o}r=I.max(I.floor(e/t),0)*t;if(r>a)while(true){r-=t;if(r<a)break}return r},_getNextRange:function(e){var t=this,i=t._ranges,n,r;for(n=0,r=i.length;n<r;n++)if(i[n].start<=e&&i[n].end>=e)return i[n]},_getPrevRange:function(e){var t=this,i=t._ranges,n,r,a=i.length;for(n=a-1;n>=0;n--)if(i[n].outerStart<=e){r=i[n];break}return r},_rangeExists:function(e,t){var i=this,n=i._ranges,r,a;for(r=0,a=n.length;r<a;r++)if(n[r].start<=e&&n[r].end>=t)return true;return false},_groupRangeExists:function(e,t){var i=this,n=i._ranges,r,a,o=0,s=i.groupsTotal(true);if(t>s&&!i._isServerGrouped())t=s;for(r=0,a=n.length;r<a;r++){var l=n[r];if(l.outerStart<=e&&l.outerEnd>=e)o+=l.outerEnd-e;else if(l.outerStart<=t&&l.outerEnd>=t)o+=t-l.outerStart}return o>=t-e},_getCurrentRangeSpan:function(){var e=this;var t=e._ranges;var i=e.currentRangeStart();var n=i+(e.take()||0);var r=[];var a;var o;var s=t.length;for(o=0;o<s;o++){a=t[o];if(a.start<=i&&a.end>=i||a.start>=i&&a.start<=n)r.push(a)}return r},_removeModelFromRanges:function(e){var t=this;var i;for(var n=0,r=this._ranges.length;n<r;n++){i=this._ranges[n];t._removeModelFromRange(i,e)}t._updateRangesLength()},_removeModelFromRange:function(e,n){this._eachItem(e.data,function(e){if(!e)return;for(var t=0;t<e.length;t++){var i=e[t];if(i.uid&&i.uid==n.uid){[].splice.call(e,t,1);break}}})},_insertModelInRange:function(e,t){var i=this;var n=i._ranges||[];var r=n.length;var a;var o;for(o=0;o<r;o++){a=n[o];if(a.start<=e&&a.end>=e){if(!i._getByUid(t.uid,a.data))if(i._isServerGrouped())a.data.splice(e,0,i._wrapInEmptyGroup(t));else a.data.splice(e,0,t);break}}i._updateRangesLength()},_updateRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var n=false;var r=0;var a=0;var o;var s;var l;for(l=0;l<i;l++){s=t[l];o=e._isGroupPaged()?s.data.length:e._flatData(s.data,true).length;a=o-I.abs(s.end-s.start);if(!n&&a!==0){n=true;r=a;s.end+=r;continue}if(n){s.start+=r;s.end+=r}}},_updateOuterRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var n=0;var r;var a;var o;var s;for(a=0;a<i;a++){r=t[a];s=e._isGroupPaged()?e._calculateGroupsTotal(r.data,true,"items",true):e._flatData(r.data,true).length;if(o){if(o.end!=r.start)n=r.start-o.end;r.outerStart=o.outerEnd+n;n=0}else r.outerStart=r.start;r.outerEnd=r.outerStart+s;o=r}}}),tt={};function it(e,t){e=v(e)[0];var i=e.options;var n=t[0];var r=t[1];var a=[];var o,s;var l;var d;var u;var c;for(o=0,s=i.length;o<s;o++){u={};d=i[o];l=d.parentNode;if(l===e)l=null;if(d.disabled||l&&l.disabled)continue;if(l)u.optgroup=l.label;u[n.field]=d.text;c=d.attributes.value;if(c&&c.specified)c=d.value;else c=d.text;u[r.field]=c;a.push(u)}return a}function nt(e,t){var i=v(e)[0].tBodies[0],n=i?i.rows:[],r,a,o,s=t.length,l=[],d,u,c,f;for(r=0,a=n.length;r<a;r++){u={};f=true;d=n[r].cells;for(o=0;o<s;o++){c=d[o];if(c.nodeName.toLowerCase()!=="th"){f=false;u[t[o].field]=c.innerHTML}}if(!f)l.push(u)}return l}tt.create=function(e,t,i){var n,r=e.transport?v.extend({},e.transport):null;if(r){r.read=typeof r.read===y?{url:r.read}:r.read;if(e.type==="jsdo")r.dataSource=i;if(e.type){w.data.transports=w.data.transports||{};w.data.schemas=w.data.schemas||{};if(!w.data.transports[e.type])w.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn");else if(!g(w.data.transports[e.type]))n=new w.data.transports[e.type](m(r,{data:t}));else r=m(true,{},w.data.transports[e.type],r);e.schema=m(true,{},w.data.schemas[e.type],e.schema)}if(!n)n=h(r.read)?r:new He(r)}else n=new Fe({data:e.data||[]});return n},z.create=function(e){if(u(e)||e instanceof D)e={data:e};var t=e||{},i=t.data,n=t.fields,r=t.table,a=t.select,o,s,l={},d;if(!i&&n&&!t.transport)if(r)i=nt(r,n);else if(a){i=it(a,n);if(t.group===T&&i[0]&&i[0].optgroup!==T)t.group="optgroup"}if(w.data.Model&&n&&(!t.schema||!t.schema.model)){for(o=0,s=n.length;o<s;o++){d=n[o];if(d.type)l[d.field]=d}if(!_(l))t.schema=m(true,t.schema,{model:{fields:l}})}t.data=i;a=null;t.select=null;r=null;t.table=null;return t instanceof z?t:new z(t)};var rt=E.define({idField:"id",init:function(e){var t=this,i=t.hasChildren||e&&e.hasChildren,n="items",r={};w.data.Model.fn.init.call(t,e);if(typeof t.children===y)n=t.children;r={schema:{data:n,model:{hasChildren:i,id:t.idField,fields:t.fields}}};if(typeof t.children!==y)m(r,t.children);r.data=e;if(!i)i=r.schema.data;if(typeof i===y)i=w.getter(i);if(h(i)){var a=i.call(t,t);if(a&&a.length===0)t.hasChildren=false;else t.hasChildren=!!a}t._childrenOptions=r;if(t.hasChildren)t._initChildren();t._loaded=!!(e&&e._loaded)},_initChildren:function(){var i=this;var e,t,n;if(!(i.children instanceof R)){e=i.children=new R(i._childrenOptions);t=e.transport;n=t.parameterMap;t.parameterMap=function(e,t){e[i.idField||"id"]=i.id;if(n)e=n.call(i,e,t);return e};e.parent=function(){return i};e.bind(x,function(e){e.node=e.node||i;i.trigger(x,e)});e.bind(a,function(e){var t=i.parent();if(t){e.node=e.node||i;t.trigger(a,e)}});e.bind(r,function(e){var t=i.parent();if(t)t.trigger(r,e)});i._updateChildrenField()}},append:function(e){this._initChildren();this.loaded(true);this.children.add(e)},hasChildren:false,level:function(){var e=this.parentNode(),t=0;while(e&&e.parentNode){t++;e=e.parentNode?e.parentNode():null}return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var e={};var t="_query";var i,n;if(this.hasChildren){this._initChildren();i=this.children;e[this.idField||"id"]=this.id;if(!this._loaded){i._data=T;t="read"}i.one(x,this._childrenLoaded.bind(this));if(this._matchFilter)e.filter={field:"_matchFilter",operator:"eq",value:true};n=i[t](e);if(!this._loaded)this.trigger(K,{promise:n,node:this})}else this.loaded(true);return n||v.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){if(e!==T)this._loaded=e;else return this._loaded},shouldSerialize:function(e){return E.fn.shouldSerialize.call(this,e)&&e!=="children"&&e!=="_loaded"&&e!=="hasChildren"&&e!=="_childrenOptions"}});function at(i){return function(){var e=this._data,t=z.fn[i].apply(this,f.call(arguments));if(this._data!=e)this._attachBubbleHandlers();return t}}var R=z.extend({init:function(e){var t=rt.define({children:e});if(e.filter&&!e.serverFiltering){this._hierarchicalFilter=e.filter;e.filter=null}z.fn.init.call(this,m(true,{},{schema:{modelBase:t,model:t}},e));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(a,function(e){t.trigger(a,e)});t._data.bind(r,function(e){t.trigger(r,e)})},loading:function(){if(this._data)return this._data.loading()||this._childrenLoading();return false},_childrenLoading:function(){var t=false;this._data.forEach(function(e){if(e.hasChildren&&e.children.loading())t=true});return t},read:function(e){var t=z.fn.read.call(this,e);if(this._hierarchicalFilter)if(this._data&&this._data.length>0)this.filter(this._hierarchicalFilter);else{this.options.filter=this._hierarchicalFilter;this._filter=H(this.options.filter);this._hierarchicalFilter=null}return t},remove:function(e){var t=e.parentNode(),i=this,n;if(t&&t._initChildren)i=t.children;n=z.fn.remove.call(i,e);if(t&&!i.data().length)t.hasChildren=false;return n},success:at("success"),data:at("data"),insert:function(e,t){var i=this.parent();if(i&&i._initChildren){i.hasChildren=true;i._initChildren()}return z.fn.insert.call(this,e,t)},filter:function(e){if(e===T)return this._filter;if(!this.options.serverFiltering&&this._markHierarchicalQuery(e))e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:true}]};this.trigger("reset");this._query({filter:e,page:1})},_markHierarchicalQuery:function(e){var t;var i;var n;var r;var a;var o=this.options.accentFoldingFiltering;e=o?v.extend({},H(e),{accentFoldingFiltering:o}):H(e);if(!e||e.filters.length===0){this._updateHierarchicalFilter(function(){return true});return false}t=A.filterExpr(e);n=t.fields;r=t.operators;i=a=new Function("d, __f, __o","return "+t.expression);if(n.length||r.length)a=function(e){return i(e,n,r)};this._updateHierarchicalFilter(a);return true},_updateHierarchicalFilter:function(e){var t;var i=this._data;var n=false;for(var r=0;r<i.length;r++){t=i[r];if(t.hasChildren){t._matchFilter=t.children._updateHierarchicalFilter(e);if(!t._matchFilter)t._matchFilter=e(t)}else t._matchFilter=e(t);if(t._matchFilter)n=true}return n},_find:function(e,t){var i,n,r,a;var o=this._data;if(!o)return;r=z.fn[e].call(this,t);if(r)return r;o=this._flatData(this._data);for(i=0,n=o.length;i<n;i++){a=o[i].children;if(!(a instanceof R))continue;r=a[e](t);if(r)return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});function ot(e,t){var i=v(e).children(),n,r,a=[],o,s=t[0].field,l=t[1]&&t[1].field,d=t[2]&&t[2].field,u=t[3]&&t[3].field,c,f,p,h,m;function g(e,t){return e.filter(t).add(e.find(t))}for(n=0,r=i.length;n<r;n++){o={_loaded:true};c=i.eq(n);p=c[0].firstChild;m=c.children();e=m.filter("ul");m=m.filter(":not(ul)");f=c.attr("data-id");if(f)o.id=f;if(p)o[s]=p.nodeType==3?p.nodeValue:m.text();if(l)o[l]=g(m,"a").attr("href");if(u)o[u]=g(m,"img").attr("src");if(d){h=g(m,".k-sprite").prop("className");o[d]=h&&w.trim(h.replace("k-sprite",""))}if(e.length)o.items=ot(e.eq(0),t);if(c.attr("data-hasChildren")=="true")o.hasChildren=true;a.push(o)}return a}R.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data,n=t.fields,r=t.list;if(i&&i._dataSource)return i._dataSource;if(!i&&n&&!t.transport)if(r)i=ot(r,n);t.data=i;return t instanceof R?t:new R(t)};var st=w.Observable.extend({init:function(e,t,i){w.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=e;this.prefetch=!i;var n=this;e.bind("change",function(){n._change()});e.bind("reset",function(){n._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(e){this.viewSize=e;this._recalculate()},at:function(e){var t=this.pageSize,i=true;if(e>=this.total()){this.trigger("endreached",{index:e});return null}if(!this.useRanges)return this.dataSource.view()[e];if(this.useRanges){if(e<this.dataOffset||e>=this.skip+t)i=this.range(Math.floor(e/t)*t);if(e===this.prefetchThreshold)this._prefetch();if(e===this.midPageThreshold)this.range(this.nextMidRange,true);else if(e===this.nextPageThreshold)this.range(this.nextFullRange);else if(e===this.pullBackThreshold)if(this.offset===this.skip)this.range(this.previousMidRange);else this.range(this.previousFullRange);if(i)return this.dataSource.at(e-this.dataOffset);else{this.trigger("endreached",{index:e});return null}}},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,n=I.max(I.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(n,t,function(){e._goToRange(i,true)})},range:function(e,t){if(this.offset===e)return true;var i=this,n=this.pageSize,r=I.max(I.floor(e/n),0)*n,a=this.dataSource;if(t)r+=n;if(a.inRange(e,n)){this.offset=e;this._recalculate();this._goToRange(e);return true}else if(this.prefetch){a.prefetch(r,n,function(){i.offset=e;i._recalculate();i._goToRange(e,true)});return false}return true},syncDataSource:function(){var e=this.offset;this.offset=null;this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,n=this.dataSource;if(!n.inRange(i,t)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:i,take:t});n.prefetch(i,t,function(){e._prefetching=false;e.trigger("prefetched",{skip:i,take:t})})}},_goToRange:function(e,t){if(this.offset!==e)return;this.dataOffset=e;this._expanding=t;this.dataSource.range(e,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding)this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid();this.dataOffset=this.offset=e.skip()||0;this.pageSize=e.pageSize();this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n;this.midPageThreshold=n+e-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(e/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+e-i;this.nextFullRange=n;this.previousMidRange=t-i;this.previousFullRange=n-e}}),lt=w.Observable.extend({init:function(e,t){var i=this;w.Observable.fn.init.call(i);this.dataSource=e;this.batchSize=t;this._total=0;this.buffer=new st(e,t*3);this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0;i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize);i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t=this.buffer,i=e*this.batchSize,n=this.batchSize,r=[],a;if(t.offset>i)t.at(t.offset-1);for(var o=0;o<n;o++){a=t.at(i+o);if(a===null)break;r.push(a)}return r},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});return m(true,w.data,{readers:{json:Ne},Query:A,DataSource:z,HierarchicalDataSource:R,Node:rt,Comparer:l,ObservableObject:d,ObservableArray:D,LazyObservableArray:oe,LocalTransport:Fe,RemoteTransport:He,Cache:M,DataReader:Ne,Model:E,Buffer:st,BatchBuffer:lt}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.popup.min",["kendo.core.min"],function(){var T={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true},H=window.kendo.jQuery,c=void 0,P=window.kendo,e=P.ui,r=e.Widget,I=P.Class,O=P.support,M=P.getOffset,z=P._outerWidth,R=P._outerHeight,f="open",s="close",i="deactivate",a="activate",b="center",t="left",k="right",p="top",w="bottom",N="absolute",h="hidden",m="body",L="location",B="position",o="visible",g="effects",n="k-active",l="k-state-border",D=/k-state-border-(\w+)/,d=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",v=H(document.documentElement),A=H(window),u="scroll",F,_=O.transitions.css+"transform",V=H.extend,y=".kendoPopup",x=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function C(e,t){if(!e||!t)return false;return e===t||H.contains(e,t)}var U=r.extend({init:function(e,t){var i=this,n;t=t||{};if(t.isRtl){t.origin=t.origin||w+" "+k;t.position=t.position||p+" "+k}r.fn.init.call(i,e,t);e=i.element;t=i.options;i.collisions=t.collision?t.collision.split(" "):[];i.downEvent=P.applyEventMap(E,P.guid());if(i.collisions.length===1)i.collisions.push(i.collisions[0]);n=H(i.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");t.appendTo=H(H(t.appendTo)[0]||n[0]||document.body);i.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:N}).appendTo(t.appendTo).attr("aria-hidden",true).on("mouseenter"+y,function(){i._hovered=true}).on("wheel"+y,function(e){var t=H(e.target).find(".k-list");var i=t.parent();if(t.length&&t.is(":visible")&&(i.scrollTop()===0&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&e.originalEvent.deltaY>0))e.preventDefault()}).on("mouseleave"+y,function(){i._hovered=false});i.wrapper=H();if(t.animation===false)t.animation={open:{effects:{}},close:{hide:true,effects:{}}};V(t.animation.open,{complete:function(){i.wrapper.css({overflow:o});i._activated=true;i._trigger(a)}});V(t.animation.close,{complete:function(){i._animationClose()}});i._mousedownProxy=function(e){i._mousedown(e)};if(O.mobileOS.android)i._resizeProxy=function(e){setTimeout(function(){i._resize(e)},600)};else i._resizeProxy=function(e){i._resize(e)};if(t.toggleTarget)H(t.toggleTarget).on(t.toggleEvent+y,i.toggle.bind(i))},events:[f,a,s,i],options:{name:"Popup",toggleEvent:"click",origin:w+" "+t,position:p+" "+t,anchor:m,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}},omitOriginOffsets:false},_animationClose:function(){var e=this;var t=e.wrapper.data(L);e.wrapper.hide();if(t)e.wrapper.css(t);if(e.options.anchor!=m)e._hideDirClass();e._closing=false;e._trigger(i)},destroy:function(){var e=this,t=e.options,i=e.element.off(y),n;r.fn.destroy.call(e);if(t.toggleTarget)H(t.toggleTarget).off(y);if(!t.modal){v.off(e.downEvent,e._mousedownProxy);e._toggleResize(false)}P.destroy(e.element.children());i.removeData();if(t.appendTo[0]===document.body){n=i.parent(".k-animation-container");if(n[0])n.remove();else i.remove()}},open:function(e,t){var i=this,n={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},r=i.element,a=i.options,o,s,l=H(a.anchor),d=r[0]&&r.hasClass("km-widget"),u=r.find("[role='listbox']");if(!i.visible()){if(a.copyAnchorStyles){if(d&&x[0]=="font-size")x.shift();r.css(P.getComputedStyles(l[0],x))}if(r.data("animating")||i._trigger(f))return;i._activated=false;if(!a.modal){v.off(i.downEvent,i._mousedownProxy).on(i.downEvent,i._mousedownProxy);i._toggleResize(false);i._toggleResize(true)}i.wrapper=s=P.wrap(r,a.autosize).css({overflow:h,display:"block",position:N}).attr("aria-hidden",false);if(u.attr("aria-label"))s.attr("aria-label",u.attr("aria-label"));else if(u.attr("aria-labelledby"))s.attr("aria-labelledby",u.attr("aria-labelledby"));if(O.mobileOS.android)s.css(_,"translatez(0)");s.css(B);if(H(a.appendTo)[0]==document.body)s.css(p,"-10000px");i.flipped=i._position(n);o=i._openAnimation();if(a.anchor!=m)i._showDirClass(o);if(!r.is(":visible")&&r.data("olddisplay")===c){r.show();r.data("olddisplay",r.css("display"));r.hide()}r.data(g,o.effects).kendoStop(true).kendoAnimate(o).attr("aria-hidden",false)}},_location:function(e){var t=this,i=t.element,n=t.options,r,a=H(n.anchor),o=i[0]&&i.hasClass("km-widget");if(n.copyAnchorStyles){if(o&&x[0]=="font-size")x.shift();i.css(P.getComputedStyles(a[0],x))}t.wrapper=r=P.wrap(i,n.autosize).css({overflow:h,display:"block",position:N});if(O.mobileOS.android)r.css(_,"translatez(0)");r.css(B);if(H(n.appendTo)[0]==document.body)r.css(p,"-10000px");t._position(e||{});var s=r.offset();return{width:P._outerWidth(r),height:P._outerHeight(r),left:s.left,top:s.top}},_openAnimation:function(){var e=V(true,{},this.options.animation.open);e.effects=P.parseEffects(e.effects,this.flipped);return e},_hideDirClass:function(){var e=H(this.options.anchor);var t=((e.attr("class")||"").match(D)||["","down"])[1];var i=l+"-"+t;e.removeClass(i).children(d).removeClass(n).removeClass(i);this.element.removeClass(l+"-"+P.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down";var i=l+"-"+t;H(this.options.anchor).addClass(i).children(d).addClass(n).addClass(i);this.element.addClass(l+"-"+P.directions[t].reverse)},position:function(){if(this.visible())this.flipped=this._position()},toggle:function(){var e=this;e[e.visible()?s:f]()},visible:function(){return this.element.is(":"+o)},close:function(i){var e=this,t=e.options,n,r,a,o;if(e.visible()){n=e.wrapper[0]?e.wrapper:P.wrap(e.element).hide();e._toggleResize(false);if(e._closing||e._trigger(s)){e._toggleResize(true);return}e.element.find(".k-popup").each(function(){var e=H(this),t=e.data("kendoPopup");if(t)t.close(i)});v.off(e.downEvent,e._mousedownProxy);if(i)r={hide:true,effects:{}};else{r=V(true,{},t.animation.close);a=e.element.data(g);o=r.effects;if(!o&&!P.size(o)&&a&&P.size(a)){r.effects=a;r.reverse=true}e._closing=true}e.element.kendoStop(true).attr("aria-hidden",true);n.css({overflow:h}).attr("aria-hidden",true);e.element.kendoAnimate(r);if(i)e._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;if(O.resize.indexOf(e.type)!==-1){clearTimeout(t._resizeTimeout);t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)}else if(!t._hovered||t._activated&&t.element.find(".k-list").length>0)t.close()},_toggleResize:function(e){var t=e?"on":"off";var i=O.resize;if(!(O.mobileOS.ios||O.mobileOS.android||O.browser.safari))i+=" "+u;if(e&&!this.scrollableParents)this.scrollableParents=this._scrollableParents();if(this.scrollableParents&&this.scrollableParents.length)this.scrollableParents[t](u,this._resizeProxy);A[t](i,this._resizeProxy)},_mousedown:function(e){var t=this,i=t.element[0],n=t.options,r=H(n.anchor)[0],a=n.toggleTarget,o=P.eventTarget(e),s=H(o).closest(".k-popup"),l=s.parent().parent(".km-shim").length;s=s[0];if(!l&&s&&s!==t.element[0])return;if(H(e.target).closest("a").data("rel")==="popover")return;if(!C(i,o)&&!C(r,o)&&!(a&&C(H(a)[0],o)))t.close()},_fit:function(e,t,i){var n=0;if(e+t>i)n=i-(e+t);if(e<0)n=-e;return n},_flip:function(e,t,i,n,r,a,o){var s=0;o=o||t;if(a!==r&&a!==b&&r!==b){if(e+o>n)s+=-(i+t);if(e+s<0)s+=i+t}return s},_scrollableParents:function(){return H(this.options.anchor).parentsUntil("body").filter(function(e,t){return P.isScrollable(t)})},_position:function(e){var t=this,i=t.element,n=t.wrapper,r=t.options,a=H(r.viewport),o=O.zoomLevel(),s=!!(a[0]==window&&window.innerWidth&&o<=1.02),l=H(r.anchor),d=r.origin.toLowerCase().split(" "),u=r.position.toLowerCase().split(" "),c=t.collisions,f,p,h,m=10002,g=0,v=document.documentElement,_,b,k,w;if(r.viewport===window)b={top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0};else b=a.offset();if(s){k=window.innerWidth;w=window.innerHeight}else{k=a.width();w=a.height()}if(s&&v.scrollHeight-v.clientHeight>0){var y=r.isRtl?-1:1;k-=y*P.support.scrollbar()}f=l.parents().filter(n.siblings());if(f[0]){h=Math.max(Number(f.css("zIndex")),0);if(h)m=h+10;else{p=l.parentsUntil(f);for(_=p.length;g<_;g++){h=Number(H(p[g]).css("zIndex"));if(h&&m<h)m=h+10}}}n.css("zIndex",m);if(e&&e.isFixed)n.css({left:e.x,top:e.y});else n.css(t._align(d,u));var x=M(n,B,l[0]===n.offsetParent()[0]),C=M(n),S=l.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(S.length){x=M(n,B,true);C=M(n)}C.top-=b.top;C.left-=b.left;if(!t.wrapper.data(L))n.data(L,V({},x));var T=V({},C),I=V({},x),D=r.adjustSize;if(c[0]==="fit")I.top+=t._fit(T.top,R(n)+D.height,w/o);if(c[1]==="fit")I.left+=t._fit(T.left,z(n)+D.width,k/o);var E=V({},I);var A=R(i);var F=R(n);if(!n.height()&&A)F=F+A;if(c[0]==="flip")I.top+=t._flip(T.top,A,R(l),w/o,d[0],u[0],F);if(c[1]==="flip")I.left+=t._flip(T.left,z(i),z(l),k/o,d[1],u[1],z(n));i.css(B,N);n.css(I);return I.left!=E.left||I.top!=E.top},_align:function(e,t){var i=this,n=i.wrapper,r=H(i.options.anchor),a=e[0],o=e[1],s=t[0],l=t[1],d=M(r),u=H(i.options.appendTo),c,f=z(n),p=R(n)||R(n.children().first()),h=z(r),m=R(r),g=i.options.omitOriginOffsets?0:d.top,v=i.options.omitOriginOffsets?0:d.left,_=Math.round;if(u[0]!=document.body){c=M(u);g-=c.top;v-=c.left}if(a===w)g+=m;if(a===b)g+=_(m/2);if(s===w)g-=p;if(s===b)g-=_(p/2);if(o===k)v+=h;if(o===b)v+=_(h/2);if(l===k)v-=f;if(l===b)v-=_(f/2);return{top:g,left:v}}}),W=(e.plugin(U),P.support.stableSort),S="kendoTabKeyTrap",j="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",q=I.extend({init:function(e){this.element=H(e);this.element.autoApplyNS(S)},trap:function(){this.element.on("keydown",this._keepInTrap.bind(this))},removeTrap:function(){this.element.kendoDestroy(S)},destroy:function(){this.element.kendoDestroy(S);this.element=c},shouldTrap:function(){return true},_keepInTrap:function(e){if(e.which!==9||!this.shouldTrap()||e.isDefaultPrevented())return;var t=this._focusableElements();var i=this._sortFocusableElements(t);var n=this._nextFocusable(e,i);this._focus(n);e.preventDefault()},_focusableElements:function(){var e=this.element.find(j).filter(function(e,t){return t.tabIndex>=0&&H(t).is(":visible")&&!H(t).is("[disabled]")});if(this.element.is("[tabindex]"))e.push(this.element[0]);return e},_sortFocusableElements:function(e){var t;if(W)t=e.sort(function(e,t){return e.tabIndex-t.tabIndex});else{var i="__k_index";e.each(function(e,t){t.setAttribute(i,e)});t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex});e.removeAttr(i)}return t},_nextFocusable:function(e,t){var i=t.length;var n=t.index(e.target);return t.get((n+(e.shiftKey?-1:1))%i)},_focus:function(e){if(e.nodeName=="IFRAME"){e.contentWindow.document.body.focus();return}e.focus();if(e.nodeName=="INPUT"&&e.setSelectionRange&&this._haveSelectionRange(e))e.setSelectionRange(0,e.value.length)},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return t==="text"||t==="search"||t==="url"||t==="tel"||t==="password"}});return e.Popup.TabKeyTrap=q,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.list.min",["kendo.data.min","kendo.popup.min"],function(){var t={id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true},m=window.kendo.jQuery,p=void 0,h=window.kendo,n=h.ui,l=h._outerHeight,g=/^\d+(\.\d+)?%$/i,a=n.Widget,v=h.keys,o=h.support,R=h.htmlEncode,_=h._activeElement,s=h._outerWidth,N=h.data.ObservableArray,r="id",b="change",d="k-focus",u="k-hover",k="k-selected",i="k-i-loading k-input-loading-icon",L="k-list",B="k-table",V="k-data-table",U="k-table-md",c="k-list-ul",W="k-table-list",f=".k-list-group-sticky-header",j=".k-list-item-group-label",q=".k-list-item",G=".k-table-row",K="open",$="close",w="cascade",y="select",x="click",Y="mouseleave",Q="mouseenter",C="activate",X="deactivate",S="dataBinding",T="dataBound",J="selectedItemChange",Z="selected",ee="requestStart",te="requestEnd",ie="blur",I="focus",ne="focusout",D=m.extend,re=Array.isArray,ae=o.browser,oe="k-hidden",se="width",le="text",de="value",ue=ae.msie,ce=/"/g,fe={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},pe='<ul unselectable="on"/>',he="<div class='k-list'/>",me='<div class="k-no-data" style="display: none;"></div>',ge='<div class="k-list-footer"></div>',ve='<div class="k-table-footer">'+'<span class="k-table-td"></span>'+"</div>",_e="mousedown",be="-list",ke="_listbox",we="aria-labelledby",ye="aria-label",E="aria-activedescendant",xe="aria-autocomplete",Ce="aria-controls",Se="aria-live",Te="aria-expanded",Ie="aria-hidden",De="aria-busy",Ee="aria-multiselectable",A="aria-selected",e=".k-table-group-row",F=h.ui.DataBoundWidget.extend({init:function(e,t){var i=this,n;a.fn.init.call(i,e,t);e=i.element;t=i.options;i._isSelect=e.is(y);if(i._isSelect&&i.element[0].length)if(!t.dataSource){t.dataTextField=t.dataTextField||le;t.dataValueField=t.dataValueField||de}i._listSize=h.cssProperties.getValidClass({widget:"List",propName:"size",value:t.size});i.ul=m(pe).attr({tabIndex:-1,"aria-hidden":true});i.list=m(he).addClass(i._listSize).append(i.ul);n=e.attr(r);if(!n)n=h.guid();i.list.attr(r,n+be);i.ul.attr(r,n+ke);if(t.columns&&t.columns.length){i.list.removeClass(L).addClass(V);i.list.removeClass(i._listSize).addClass(U);i.ul.removeClass(c).addClass(B);i._columnsHeader()}i._header();i._noData();i._footer();i._accessors();i._initValue()},options:{valuePrimitive:false,footerTemplate:"",headerTemplate:"",noDataTemplate:true,size:"medium",messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){a.fn.setOptions.call(this,e);if(e&&e.enable!==p)e.enabled=e.enable;if(e.columns&&e.columns.length)this._columnsHeader();this._header();this._noData();this._footer();this._renderFooter();this._renderNoData()},focus:function(){this._focused.trigger(I)},readonly:function(e){this._editable({readonly:e===p?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===p?true:e)})},_header:function(){var e=this;var t=m(e.header);var i=e.options.headerTemplate;this._angularElement(t,"cleanup");h.destroy(t);t.remove();if(!i){e.header=null;return}var n=typeof i!=="function"?h.template(i):i;t=m(n({}));e.header=t[0]?t:null;if(e.list.parent.length>0)e.list.before(t);this._angularElement(e.header,"compile")},_columnsHeader:function(){var e=this;var t=m(e.columnsHeader);this._angularElement(t,"cleanup");h.destroy(t);t.remove();var i="<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>";var n="<colgroup>";var r="<tr class='k-table-row'>";for(var a=0;a<this.options.columns.length;a++){var o=this.options.columns[a];var s=o.title||o.field||"";var l=o.headerTemplate||s;var d=typeof l!=="function"?h.template(l):l;var u=o.width;var c=parseInt(u,10);var f="";if(u&&!isNaN(c)){f+="style='width:";f+=c;f+=g.test(u)?"%":"px";f+=";'"}n+="<col "+f+"/>";r+="<th class='k-table-th'>";r+=d(o);r+="</th>"}n+="</colgroup>";r+="</tr>";i+=n;i+="<thead class='k-table-thead'>";i+=r;i+="</thead></table></div></div>";e.columnsHeader=t=m(i);e.list.prepend(t);this._angularElement(e.columnsHeader,"compile")},_noData:function(){var e=this;var t=m(e.noData);var i=e.options.noDataTemplate===true?e.options.messages.noData:e.options.noDataTemplate;e.angular("cleanup",function(){return{elements:t}});h.destroy(t);t.remove();if(!i){e.noData=null;return}e.noData=m(me).appendTo(e.list);e.noDataTemplate=typeof i!=="function"?h.template(i):i},_footer:function(){var e=this;var t=m(e.footer);var i=e.options.footerTemplate;var n=this.options.columns&&this.options.columns.length?ve:ge;this._angularElement(t,"cleanup");h.destroy(t);t.remove();if(!i){e.footer=null;return}e.footer=m(n).appendTo(e.list);e.footerTemplate=typeof i!=="function"?h.template(i):i},_listOptions:function(e){var t=this;var i=t.options;var n=i.virtual;var r={change:t._listChange.bind(t)};var a=t._listBound.bind(t);var o=t._focused;var s=t.element.attr("id");var l=m('label[for="'+t.element.attr("id")+'"]');var d=o.attr(we);if(!d&&l.length)d=l.attr("id")||t._generateLabelId(l,s||h.guid());n=typeof n==="object"?n:{};e=m.extend({autoBind:false,selectable:true,dataSource:t.dataSource,click:t._click.bind(t),activate:t._activateItem.bind(t),columns:i.columns,deactivate:t._deactivateItem.bind(t),dataBinding:function(){t.trigger(S)},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template,ariaLabel:o.attr(ye),ariaLabelledBy:d,listSize:t._listSize},e,n,r);if(!e.template)e.template="#:"+h.expr(e.dataTextField,"data")+"#";if(i.$angular)e.$angular=i.$angular;return e},_initList:function(){var e=this;var t=e._listOptions({selectedItemChange:e._listChange.bind(e)});if(!e.options.virtual)e.listView=new h.ui.StaticList(e.ul,t);else{e.listView=new h.ui.VirtualList(e.ul,t);e.list.addClass("k-virtual-list")}e.listView.bind("listBound",e._listBound.bind(e));e._setListValue()},_setListValue:function(e){e=e||this.options.value;if(e!==p)this.listView.value(e).done(this._updateSelectionState.bind(this))},_updateSelectionState:m.noop,_listMousedown:function(e){if(!this.filterInput||this.filterInput[0]!==e.target)e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&e!=="none"},_hideClear:function(){var e=this;if(e._clear)e._clear.addClass(oe)},_showClear:function(){if(this._clear)this._clear.removeClass(oe)},_clearValue:function(){this._clearText();this._accessor("");this.listView.value([]);if(this._isSelect)this._customOption=p;if(this._isFilterEnabled()&&!this.options.enforceMinLength){this._filter({word:"",open:false});if(this.options.highlightFirst)this.listView.focus(0)}this._change()},_clearText:function(){this.text("")},_clearFilter:function(){if(!this.options.virtual)this.listView.bound(false);this._filterSource()},_filterSource:function(e,t){var i=this;var n=i.options;var r=n.filterFields&&e&&e.logic&&e.filters&&e.filters.length;var a=i.dataSource;var o=D({},a.filter()||{});var s=e||o.filters&&o.filters.length&&!e;var l=z(o,n.dataTextField);this._clearFilterExpressions(o);if((e||l)&&i.trigger("filtering",{filter:e}))return m.Deferred().reject().promise();var d={filters:[],logic:"and"};if(r)d.filters.push(e);else this._pushFilterExpression(d,e);if(He(o))if(d.logic===o.logic)d.filters=d.filters.concat(o.filters);else d.filters.push(o);if(i._cascading)this.listView.setDSFilter(d);var u=D({},{page:s?1:a.page(),pageSize:s?a.options.pageSize:a.pageSize(),sort:a.sort(),filter:a.filter(),group:a.group(),aggregate:a.aggregate()},{filter:d});return a[t?"read":"query"](a._mergeState(u))},_pushFilterExpression:function(e,t){if(He(t)&&t.value!=="")e.filters.push(t)},_clearFilterExpressions:function(e){if(!e.filters)return;var t;for(var i=0;i<e.filters.length;i++)if("fromFilter"in e.filters[i])t=i;if(!isNaN(t))e.filters.splice(t,1)},_angularElement:function(e,t){if(!e)return;this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this;var t=e.noData;if(!t)return;this._angularElement(t,"cleanup");t.html(e.noDataTemplate({instance:e}));this._angularElement(t,"compile")},_toggleNoData:function(e){m(this.noData).toggle(e)},_toggleHeader:function(e){var t=this.listView.content.prev(f);t.toggle(e)},_renderFooter:function(){var e=this,t=e.footer?this.options.columns&&this.options.columns.length?e.footer.children().first():e.footer:null;if(!t)return;this._angularElement(t,"cleanup");t.html(e.footerTemplate({instance:e}));this._angularElement(t,"compile")},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;if(t!==null)e.element.val(t);else{t=e._accessor();e.options.value=t}e._old=t},_ignoreCase:function(){var e=this,t=e.dataSource.reader.model,i;if(t&&t.fields){i=t.fields[e.options.dataTextField];if(i&&i.type&&i.type!=="string")e.options.ignoreCase=false}},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t=this;var i=t.options;var n=e.word;var r=i.filterFields;var a=i.dataTextField;var o;if(r&&r.length){o={logic:"or",filters:[],fromFilter:true};for(var s=0;s<r.length;s++)this._pushFilterExpression(o,t._buildExpression(n,r[s]))}else o=t._buildExpression(n,a);t._open=e.open;t._filterSource(o)},_buildExpression:function(e,t){var i=this;var n=i.options;var r=n.ignoreCase;var a=i.dataSource.options.accentFoldingFiltering;return{value:r?a?e.toLocaleLowerCase(a):e.toLowerCase():e,field:t,operator:n.filter,ignoreCase:r}},_clearButton:function(){var e=this;var t=e.options.messages.clear;if(!e._clear)e._clear=m('<span unselectable="on" class="k-clear-value" title="'+t+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1});if(!e.options.clearButton)e._clear.remove();this._hideClear()},search:function(e){var t=this.options;e=typeof e==="string"?e:this._inputValue();clearTimeout(this._typingTimeout);if(!t.enforceMinLength&&!e.length||e.length>=t.minLength){this._state="filter";if(this.listView)this.listView._emptySearch=!h.trim(e).length;if(!this._isFilterEnabled())this._searchByWord(e);else this._filter({word:e,open:true})}},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this;var t=e.ns;a.fn.destroy.call(e);e._unbindDataSource();e.listView.destroy();e.list.off(t);e.popup.destroy();if(e._form)e._form.off("reset",e._resetHandler)},dataItem:function(e){var t=this;if(e===p)return t.listView.selectedDataItems()[0];if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(m(e).data("uid"));e=m(t.items()).index(e)}return t.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();if(e&&this.popup.visible())this._focused.add(this.filterInput).attr(E,e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr(E)},_accessors:function(){var e=this;var t=e.element;var i=e.options;var n=h.getter;var r=t.attr(h.attr("text-field"));var a=t.attr(h.attr("value-field"));if(!i.dataTextField&&r)i.dataTextField=r;if(!i.dataValueField&&a)i.dataValueField=a;e._text=n(i.dataTextField);e._value=n(i.dataValueField)},_aria:function(e){var t=this,i=t.options,n=t._focused,r;if(i.suggest!==p){if(i.filter==="none")if(i.suggest===true)r="inline";else r="none";else if(i.suggest===true)r="both";else r="list";n.attr(xe,r)}e=e?e+" "+t.ul[0].id:t.ul[0].id;n.attr({"aria-controls":e});if(t.filterInput&&t.filterInput.length>0)t.filterInput.attr(Ce,e);t.ul.attr(Se,!t._isFilterEnabled()?"off":"polite");t._ariaLabel(t._focused)},_blur:function(){var e=this;e._change();e.close();e._userTriggered=false},_isValueChanged:function(e){return e!==H(this._old,typeof e)},_change:function(){var e=this;var t=e.selectedIndex;var i=e.options.value;var n=e.value();var r;if(e._isSelect&&!e.listView.bound()&&i)n=i;if(e._isValueChanged(n))r=true;else if(e._valueBeforeCascade!==p&&e._valueBeforeCascade!==H(e._old,typeof e._valueBeforeCascade)&&e._userTriggered)r=true;else if(t!==p&&t!==e._oldIndex&&!e.listView.isFiltered())r=true;if(r){if(e._old===null||e._old===""||n==="")e._valueBeforeCascade=e._old=n;else if(e.dataItem())e._valueBeforeCascade=e._old=e.options.dataValueField?e.dataItem()[e.options.dataValueField]:e.dataItem();else e._valueBeforeCascade=e._old=null;e._oldIndex=t;if(!e._typing)e.element.trigger(b);e.trigger(b)}e.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,t=e.options,i=e.element.is("[disabled]");if(t.enable!==p)t.enabled=t.enable;if(!t.enabled||i)e.enable(false);else e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);if(t===p)t=this._text(e);return t},_offsetHeight:function(){var t=0;var e=this.listView.content.parent().prevAll(":visible");e.each(function(){var e=m(this);t+=l(e,true)});return t},_height:function(e){var t=this;var i=t.list;var n=t.options.height;var r=t.popup.visible();var a=this.options.columns&&this.options.columns.length;var o,s;if(e||t.options.noDataTemplate){s=i.parent().add(i.closest(".k-animation-container")).show();if(!i.parent().is(":visible")){s.hide();return}n=t.listView.content[0].scrollHeight>n?n:"auto";s.height(n);if(n!=="auto"){o=t._offsetHeight();n=n-o;if(a)n=n-(l(m(t.footer))||0)-(l(m(t.columnsHeader))||0)}if(a)t.listView.content.outerHeight(n);else t.listView.content.parent().outerHeight(n);if(!r)i.parent().hide()}return n},_openHandler:function(e){var t;this._adjustListWidth();if(this.trigger(K))e.preventDefault();else{this._focused.attr(Te,true);this.ul.attr(Ie,false);t=this.listView.focus();if(t)this._focused.add(this.filterInput).attr(E,t.attr("id"))}},_adjustListWidth:function(){var e=this,t=e.list.parent(),i=t[0].style.width,n=e.wrapper,r,a;if(!t.data(se)&&i)return;r=window.getComputedStyle?window.getComputedStyle(n[0],null):0;a=parseFloat(r&&r.width)||s(n);if(r&&ae.msie)a+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);if(t.css("box-sizing")!=="border-box")i=a-(s(t)-t.width());else i=a;t.css({fontFamily:n.css("font-family"),width:e.options.autoWidth?"auto":i,minWidth:i,whiteSpace:e.options.autoWidth?"nowrap":"normal"}).data(se,i);return true},_closeHandler:function(e){if(this.trigger($))e.preventDefault();else{this._focused.attr(Te,false);this.ul.attr(Ie,true);this._focused.add(this.filterInput).removeAttr(E)}},_focusItem:function(){var e=this.listView;var t=!e.focus();var i=O(e.select());if(i===p&&this.options.highlightFirst&&t)i=0;if(i!==p)e.focus(i);else if(t)e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first").first();var i=this.listView.content.prev(f);var n=0;var r="right";if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")n=h.support.scrollbar();if(this.element.parents(".k-rtl").length)r="left";n+=parseFloat(t.css("border-"+r+"-width"),10)+parseFloat(t.children(j).css("padding-"+r),10);i.css("padding-"+r,n)}},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t);this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=this;var i=o.isRtl(t.wrapper);var n=h.support.scrollbar();t.columnsHeader.css(i?"padding-left":"padding-right",e!=="auto"?n:0)}},_refreshScroll:function(){var e=this.listView;var t=e.element.height()>e.content.height();if(this.options.autoWidth)e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){if(this.options.virtual)return;if(!this.popup.element.is(":visible")){this.popup.one("open",function(e){return function(){this._calculatePopupHeight(e)}.bind(this)}.call(this,e));this.popup.one(C,this._refreshScroll.bind(this))}else this._calculatePopupHeight(e)},_popup:function(){var e=this;e.list.wrap("<div>");e.popup=new n.Popup(e.list.parent(),D({},e.options.popup,{anchor:e.wrapper,open:e._openHandler.bind(e),close:e._closeHandler.bind(e),animation:e.options.animation,isRtl:o.isRtl(e.wrapper),autosize:e.options.autoWidth}));e.popup.element.prepend(e.header).on(_e+this.ns,this._listMousedown.bind(this))},_toggleHover:function(e){m(e.currentTarget).toggleClass(u,e.type===Q)},_toggle:function(e,t){var i=this;var n=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);e=e!==p?e:!i.popup.visible();if(!t&&!n&&i._focused[0]!==_()){i._prevent=true;i._focused.trigger(I);i._prevent=false}i[e?K:$]()},_triggerCascade:function(){var e=this;if(!e._cascadeTriggered||e.value()!==H(e._cascadedValue,typeof e.value())){e._cascadedValue=e.value();e._cascadeTriggered=true;e.trigger(w,{userTriggered:e._userTriggered})}},_triggerChange:function(){if(this._valueBeforeCascade!==this.value())this.trigger(b)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(ee,e._requestStartHandler).unbind(te,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){var i=(e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t);if(i&&e.virtual&&typeof e.virtual.valueMapper!=="function")throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function H(e,t){if(e!==p&&e!==""&&e!==null)if(t==="boolean"){if(typeof e!=="boolean")e=e.toString().toLowerCase()==="true";e=Boolean(e)}else if(t==="number")e=Number(e);else if(t==="string")e=e.toString();return e}D(F,{inArray:function(e,t){var i,n,r=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,n=r.length;i<n;i++)if(e===r[i])return i;return-1},unifyType:H}),n.Select=(h.ui.List=F).extend({init:function(e,t){F.fn.init.call(this,e,t);this._initial=this.element.val()},setDataSource:function(e){var t=this;var i;t.options.dataSource=e;t._dataSource();if(t.listView.bound()){t._initialIndex=null;t.listView._current=null}t.listView.setDataSource(t.dataSource);if(t.options.autoBind)t.dataSource.fetch();i=t._parentWidget();if(i)t._cascadeSelect(i)},close:function(){this.popup.close()},select:function(e){var t=this;if(e===p)return t.selectedIndex;else return t._select(e).done(function(){t._cascadeValue=t._old=t._accessor();t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];if(e===p)return t.value;else{if(e===null)e="";t.value=e}},_accessorSelect:function(e,t){var i=this.element[0];var n;if(e===p)return M(i).value||"";M(i).selected=false;if(t===p)t=-1;n=e!==null&&e!=="";if(n&&t==-1)this._custom(e);else if(e)i.value=e;else i.selectedIndex=t},_syncValueAndText:function(){return true},_custom:function(e){var t=this;var i=t.element;var n=t._customOption;if(!n){n=m("<option/>");t._customOption=n;i.append(n)}n.text(e);n[0].selected=true},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._arrowIcon.removeClass(i);e._focused.attr(De,false);e._busy=null;e._showClear()},_showBusy:function(e){var t=this;if(e.isDefaultPrevented())return;t._request=true;if(t._busy)return;t._busy=setTimeout(function(){if(t._arrowIcon){t._focused.attr(De,true);t._arrowIcon.addClass(i);t._hideClear()}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{},r;n=Array.isArray(n)?{data:n}:n;if(e._isSelect){r=t[0].selectedIndex;if(r>-1)i.index=r;n.select=t;n.fields=[{field:i.dataTextField},{field:i.dataValueField}]}if(e.dataSource)e._unbindDataSource();else{e._requestStartHandler=e._showBusy.bind(e);e._requestEndHandler=e._requestEnd.bind(e);e._errorHandler=e._hideBusy.bind(e)}e.dataSource=h.data.DataSource.create(n).bind(ee,e._requestStartHandler).bind(te,e._requestEndHandler).bind("error",e._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(e){var t=this,i=t.listView,n=typeof e==="number",r=t.optionLabel&&t.optionLabel.length,a;if(n)a=r?--e:e;else a=i.getElementIndex(e);return i.dataItemByIndex(a)},_getNormalizedSelectCandidate:function(e){var t=this,i=t.optionLabel&&t.optionLabel.length,n=typeof e==="number",r=e;if(i&&n)r++;return r},_move:function(e){var t=this;var i=t.listView;var n=e.keyCode;var r=n===v.DOWN;var a=t.options.virtual;var o;var s;var l;var d;var u;if(n===v.UP||r){if(e.altKey)t.toggle(r);else{if(!i.bound()&&!t.ul[0].firstChild){if(!t._fetch){t.dataSource.one(b,function(){t._fetch=false;t._move(e)});t._fetch=true;t._filterSource()}e.preventDefault();return true}l=t._focus();if(!t._fetch&&(!l||l.hasClass(k)))if(r){d=t._nextItem();if(a&&d<=0||!t._focus()&&!d)t._lastItem()}else{d=t._prevItem();if(a&&d>=i.dataSource.total()-1||!t._focus()&&!d)t._firstItem()}u=t._getNormalizedSelectCandidate(t._get(t._focus())||d||0);t._select(u,true).done(function(){var e=function(){if(!t.popup.visible())t._blur();if(t._cascadedValue===null)t._cascadedValue=t.value();else t._cascadedValue=t.dataItem()?t.dataItem()[t.options.dataValueField]||t.dataItem():null};if(t.trigger(y,{dataItem:t._getNormalizedDataItem(u),item:t._focus()}))t._select(l).done(e);else e()})}e.preventDefault();s=true}else if(n===v.ENTER||n===v.TAB){if(t.popup.visible())e.preventDefault();l=t._focus();o=t.dataItem();if(!t.popup.visible()&&(!o||t.text()!==t._text(o)))l=null;var c=t.filterInput&&t.filterInput[0]===_();var f;if(l){o=i.dataItemByIndex(i.getElementIndex(l));var p=true;if(o)p=t._value(o)!==F.unifyType(t.value(),typeof t._value(o));if(p&&t.trigger(y,{dataItem:o,item:l}))return;f=t._select(l)}else if(t.input){if(t._syncValueAndText()||t._isSelect)t._accessor(t.input.val());t.listView.value(t.input.val())}if(t._focusElement)t._focusElement(t.wrapper);if(c&&n===v.TAB)t.wrapper.focusout();else if(f&&typeof f.done==="function")f.done(function(){t._blur()});else t._blur();t.close();s=true}else if(n===v.ESC){if(t.popup.visible())e.preventDefault();t.close();s=true}else if(t.popup.visible()&&(n===v.PAGEDOWN||n===v.PAGEUP)){e.preventDefault();var h=n===v.PAGEDOWN?1:-1;i.scrollWith(h*i.screenHeight());s=true}return s},_fetchData:function(){var e=this;var t=!!e.dataSource.view().length;if(e._request||e.options.cascadeFrom)return;if(!e.listView.bound()&&!e._fetch&&!t){e._fetch=true;e.dataSource.fetch().done(function(){e._fetch=false})}},_options:function(e,t,i){var n=this,r=n.element,a=r[0],o=e.length,s="",l,d,u,c,f=0;if(t)s=t;for(;f<o;f++){l="<option";d=e[f];u=n._text(d);c=n._value(d);if(c!==p){c+="";if(c.indexOf('"')!==-1)c=c.replace(ce,"&quot;");l+=' value="'+c+'"'}l+=">";if(u!==p)l+=R(u);l+="</option>";s+=l}r.html(s);if(i!==p){a.value=i;if(a.value&&!i)a.selectedIndex=-1}if(a.selectedIndex!==-1){l=M(a);if(l)l.setAttribute(Z,Z)}},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})};e._form=n.on("reset",e._resetHandler)}},_parentWidget:function(){var e=this.options.name;if(!this.options.cascadeFrom)return;var t=m("#"+this.options.cascadeFrom);var i=t.data("kendo"+e);if(!i)for(var n=0;n<fe[e].length;n+=1){i=t.data("kendo"+fe[e][n]);if(!!i)break}return i},_cascade:function(){var t=this;var e=t.options;var i=e.cascadeFrom;var n;if(i){n=t._parentWidget();if(!n)return;t._cascadeHandlerProxy=t._cascadeHandler.bind(t);t._cascadeFilterRequests=[];e.autoBind=false;n.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})});n.first(w,t._cascadeHandlerProxy);if(n.listView.bound()){t._toggleCascadeOnFocus();t._cascadeSelect(n)}else{n.one(T,function(){t._toggleCascadeOnFocus();if(n.popup.visible())n._focused.trigger(I)});if(!n.value())t.enable(false)}}},_toggleCascadeOnFocus:function(){var e=this;var t=e._parentWidget();var i=ue&&t instanceof n.DropDownList?ie:ne;t._focused.add(t.filterInput).on(I,function(){t.unbind(w,e._cascadeHandlerProxy);t.unbind(b,e._cascadeHandlerProxy);t.first(b,e._cascadeHandlerProxy)});t._focused.add(t.filterInput).on(i,function(){t.unbind(b,e._cascadeHandlerProxy);t.unbind(w,e._cascadeHandlerProxy);t.first(w,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget();var i=this.value();this._userTriggered=e.userTriggered||t._userTriggered;if(this.listView.bound())this._clearSelection(t,true);this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this;var i=t._accessor()||t._selectedValue;if(!t._cascadeFilterRequests.length)t._selectedValue=null;if(t._userTriggered)t._clearSelection(e,true);else if(i){if(i!==H(t.listView.value()[0],typeof i))t.value(i);if(!t.dataSource.view()[0]||t.selectedIndex===-1)t._clearSelection(e,true)}else if(t.dataSource.flatView().length)t.select(t.options.index);t.enable();t._triggerCascade();t._triggerChange();t._userTriggered=false},_cascadeSelect:function(t,e){var i=this;var n=t.dataItem();var r=n?n[i.options.cascadeFromParentField]||t._value(n):null;var a=i.options.cascadeFromField||t.options.dataValueField;var o;i._valueBeforeCascade=e!==p?e:i.value();if(r||r===0){o=i.dataSource.filter()||{};z(o,a);var s=function(){var e=i._cascadeFilterRequests.shift();if(e)i.unbind("dataBound",e);e=i._cascadeFilterRequests[0];if(e)i.first("dataBound",e);i._cascadeChange(t)};i._cascadeFilterRequests.push(s);if(i._cascadeFilterRequests.length===1)i.first("dataBound",s);i._cascading=true;i._filterSource({field:a,operator:"eq",value:r});i._cascading=false}else{i.enable(false);i._clearSelection(t);i._triggerCascade();i._triggerChange();i._userTriggered=false}}});var P=".StaticList",Ae=h.ui.DataBoundWidget.extend({init:function(e,t){a.fn.init.call(this,e,t);this.element.attr("role","listbox").on(x+P,"li",this._click.bind(this)).on(Q+P,"li",function(){m(this).addClass(u)}).on(Y+P,"li",function(){m(this).removeClass(u)});if(t&&t.ariaLabel)this.element.attr(ye,t.ariaLabel);else if(t&&t.ariaLabelledBy)this.element.attr(we,t.ariaLabelledBy);if(o.touch)this._touchHandlers();if(this.options.selectable==="multiple")this.element.attr(Ee,true);if(this.options.columns&&this.options.columns.length){var i=this.element.parent().find(".k-table-thead");var n=m('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+this.options.columns.length+'"></th>'+"</tr>");i.append(n);this.header=n.find(".k-table-th");this.content=this.element.wrap("<div class='k-table-body k-table-scroller' unselectable='on'></div>").parent();this.element.addClass(W)}else{this.content=this.element.wrap("<div class='k-list-content k-list-scroller' unselectable='on'></div>").parent();this.header=this.content.before('<div class="k-list-group-sticky-header" style="display:none"></div>').prev();this.element.addClass(c)}this.bound(false);this._optionID=h.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var r=this.options.value;if(r)this._values=Array.isArray(r)?r.slice(0):[r];this._getter();this._templates();this.setDataSource(this.options.dataSource);this._createOnScrollProxy()},options:{name:"StaticList",dataValueField:null,valuePrimitive:false,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null,ariaLabel:null,ariaLabelledBy:null},events:[x,b,C,X,S,T,J],setDataSource:function(e){var t=this;var i=e||{};var n;i=Array.isArray(i)?{data:i}:i;i=h.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(b,t._refreshHandler);n=t.value();t.value([]);t.bound(false);t.value(n)}else t._refreshHandler=t.refresh.bind(t);t.setDSFilter(i.filter());t.dataSource=i.bind(b,t._refreshHandler);t._fixedHeader()},_touchHandlers:function(){var t=this,i=this.options.columns&&this.options.columns.length?G:q,n,r,a=function(e){return(e.originalEvent||e).changedTouches[0].pageY};t.element.on("touchstart"+P,function(e){n=a(e)});t.element.on("touchend"+P,function(e){if(e.isDefaultPrevented())return;r=a(e);if(Math.abs(r-n)<10){t._touchTriggered=true;t._triggerClick(m(e.target).closest(i).get(0))}})},skip:function(){return this.dataSource.skip()},setOptions:function(e){a.fn.setOptions.call(this,e);this._getter();this._templates();this._render()},destroy:function(){this.element.off(P);if(this._refreshHandler)this.dataSource.unbind(b,this._refreshHandler);clearTimeout(this._scrollId);a.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];if(t)this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(!e)return;if(e[0])e=e[0];var t=this.content[0],i=e.offsetTop,n=e.offsetHeight,r=t.scrollTop,a=t.clientHeight,o=i+n;if(r>i)r=i;else if(o>r+a)r=o-a;t.scrollTop=r},selectedDataItems:function(e){if(e===p)return this._dataItems.slice();this._dataItems=e;this._values=this._getValues(e)},_getValues:function(e){var t=this._valueGetter;return m.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();if(!e)e=0;else e=e.next();this.focus(e)},focusPrev:function(){var e=this.focus();if(!e)e=this.element[0].children.length-1;else e=e.prev();this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(O(this.element[0].children))},focus:function(e){var t=this;var i=t._optionID;var n;if(e===p)return t._current;e=O(t._get(e));e=m(this.element[0].children[e]);if(t._current){t._current.removeClass(d).removeAttr(r);t.trigger(X)}n=!!e[0];if(n){e.addClass(d);t.scroll(e);e.attr("id",i)}t._current=n?e:null;t.trigger(C)},focusIndex:function(){return this.focus()?this.focus().index():p},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t=this;var i=t.options.selectable;var n=i!=="multiple"&&i!==false;var r=t._selectedIndices;var a=[this.element.find(".k-selected").index()];var o=[];var s=[];var l;if(e===p)return r.slice();e=t._get(e);if(e.length===1&&e[0]===-1)e=[];var d=m.Deferred().resolve();var u=t.isFiltered();if(u&&!n&&t._deselectFiltered(e))return d;if(n&&!u&&m.inArray(O(e),r)!==-1&&m.inArray(O(e),a)!==-1){if(t._dataItems.length&&t._view.length)t._dataItems=[t._view[r[0]].item];return d}l=t._deselect(e);s=l.removed;e=l.indices;if(e.length){if(n)e=[O(e)];o=t._select(e)}if(o.length||s.length){t._valueComparer=null;t.trigger(b,{added:o,removed:s})}return d},removeAt:function(e){this._selectedIndices.splice(e,1);this._values.splice(e,1);this._valueComparer=null;return{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=Array.isArray(e)||e instanceof N?e.slice(0):[e];this._values=e;this._valueComparer=null},value:function(e){var t=this;var i=t._valueDeferred;var n;if(e===p)return t._values.slice();t.setValue(e);if(!i||i.state()==="resolved")t._valueDeferred=i=m.Deferred();if(t.bound()){n=t._valueIndices(t._values);if(t.options.selectable==="multiple")t.select(-1);t.select(n);i.resolve()}t._skipUpdate=false;return i},items:function(){return this.element.children(q)},_click:function(e){if(this._touchTriggered){this._touchTriggered=false;return}if(!e.isDefaultPrevented())this._triggerClick(e.currentTarget)},_createOnScrollProxy:function(){var e=function(){var e=this;clearTimeout(e._scrollId);e._scrollId=setTimeout(function(){e._renderHeader()},50)};this._onScroll=e.bind(this)},_triggerClick:function(e){if(!this.trigger(x,{item:m(e)}))this.select(e)},_valueExpr:function(e,t){var i=this;var n=0;var r;var a;var o=[];if(!i._valueComparer||i._valueType!==e){i._valueType=e;for(;n<t.length;n++)o.push(H(t[n],e));r="for (var idx = 0; idx < "+o.length+"; idx++) {"+" if (current === values[idx]) {"+"   return idx;"+" }"+"} "+"return -1;";a=new Function("current","values",r);i._valueComparer=function(e){return a(e,o)}}return i._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);var n=this._valueExpr(typeof i,t);return n(i)},_getter:function(){this._valueGetter=h.getter(this.options.dataValueField)},_deselect:function(e){var t=this;var i=t.element[0].children;var n=t.options.selectable;var r=t._selectedIndices;var a=t._dataItems;var o=t._values;var s=[];var l=0;var d;var u,c;var f=0;e=e.slice();if(n===true||!e.length){for(;l<r.length;l++){m(i[r[l]]).removeClass(k).attr(A,false);s.push({position:l,dataItem:a[l]})}t._values=[];t._dataItems=[];t._selectedIndices=[]}else if(n==="multiple")for(;l<e.length;l++){u=e[l];if(!m(i[u]).hasClass(k))continue;for(d=0;d<r.length;d++){c=r[d];if(c===u){m(i[c]).removeClass(k).attr(A,false);var p=this._view[u].item;var h=this._dataItemPosition(p,this._values);s.push({position:h,dataItem:p});a.splice(d,1);r.splice(d,1);e.splice(l,1);o.splice(d,1);f+=1;l-=1;d-=1;break}}}return{indices:e,removed:s}},_deselectFiltered:function(e){var t=this.element[0].children;var i,n,r;var a=[];var o=0;for(;o<e.length;o++){n=e[o];i=this._view[n].item;r=this._dataItemPosition(i,this._values);if(r>-1){a.push(this.removeAt(r));m(t[n]).removeClass(k)}}if(a.length){this.trigger(b,{added:[],removed:a});return true}return false},_select:function(e){var t=this;var i=t.element[0].children;var n=t._view;var r,a;var o=[];var s=0;if(O(e)!==-1)t.focus(e);for(;s<e.length;s++){a=e[s];r=n[a];if(a===-1||!r)continue;r=r.item;t._selectedIndices.push(a);t._dataItems.push(r);t._values.push(t._valueGetter(r));m(i[a]).addClass(k).attr(A,true);o.push({dataItem:r})}return o},getElementIndex:function(e){return m(e).data("offset-index")},_get:function(e){if(typeof e==="number")e=[e];else if(!re(e)){e=this.getElementIndex(e);e=[e!==p?e:-1]}return e},_template:function(){var e=this;var t=e.options;var i=t.template;if(!i)i=h.template('<li tabindex="-1" role="option" unselectable="on" class="k-list-item"><span class="k-list-item-text">${'+h.expr(t.dataTextField,"data")+"}</span></li>",{useWithBlock:false});else{i=h.template(i);i=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-list-item">'+i(e)+"</li>"}}return i},_templates:function(){var e;var t=this.options;var i={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var n=0;n<t.columns.length;n++){var r=t.columns[n];var a=r.field?r.field.toString():le;i["column"+n]=r.template||"#: "+a+"#"}for(var o in i){e=i[o];if(e&&typeof e!=="function")i[o]=h.template(e)}this.templates=i},_normalizeIndices:function(e){var t=[];var i=0;for(;i<e.length;i++)if(e[i]!==p)t.push(e[i]);return t},_valueIndices:function(e,t){var i=this._view;var n=0;var r;t=t?t.slice():[];if(!e.length)return[];for(;n<i.length;n++){r=this._dataItemPosition(i[n].item,e);if(r!==-1)t[r]=n}return this._normalizeIndices(t)},_firstVisibleItem:function(){var e=this.element[0];var t=this.content[0];var i=t.scrollTop;var n=m(e.children[0]).height();var r=Math.floor(i/n)||0;var a=e.children[r]||e.lastChild;var o=a.offsetTop<i;while(a)if(o){if(a.offsetTop+n>i||!a.nextSibling)break;a=a.nextSibling}else{if(a.offsetTop<=i||!a.previousSibling)break;a=a.previousSibling}return this._view[m(a).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){if(this.header.closest(e).length)this.header.closest(e).show();else this.header.show();this.content.scroll(this._onScroll)}else{if(this.header.closest(e).length)this.header.closest(e).hide();else this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(!e)return;var t=this._firstVisibleItem();if(t&&t.group.toString().length)this.header.html(e(t.group))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" ';var i=e.item;var n=e.index!==0;var r=e.selected;var a=this.isGrouped();var o=this.options.columns&&this.options.columns.length;var s=e.index%2===1?" k-table-alt-row":"";if(o)t+='class="k-table-row'+s;else t+='class="k-list-item';if(n&&e.newGroup)t+=" k-first";if(e.isLastGroupedItem&&o)t+=" k-last";if(r)t+=" k-selected";t+='" aria-selected="'+(r?"true":"false")+'" data-offset-index="'+e.index+'">';if(o)t+=this._renderColumns(i);else{t+='<span class="k-list-item-text">';t+=this.templates.template(i);t+="</span>"}if(n&&e.newGroup)if(o)t+='<span class="k-table-td k-table-group-td"><span>'+this.templates.groupTemplate(e.group)+"</span></span>";else t+='<div class="k-list-item-group-label">'+this.templates.groupTemplate(e.group)+"</div>";else if(a&&o)t+='<span class="k-table-td k-table-spacer-td"></span>';return t+"</li>"},_renderColumns:function(e){var t="";for(var i=0;i<this.options.columns.length;i++){var n=this.options.columns[i].width;var r=parseInt(n,10);var a="";if(n&&!isNaN(r)){a+="style='width:";a+=r;a+=g.test(n)?"%":"px";a+=";'"}t+="<span class='k-table-td' "+a+">";t+=this.templates["column"+i](e);t+="</span>"}return t},_render:function(){var e="";var t=0;var i=0;var n;var r=[];var a=this.dataSource.view();var o=this.value();var s,l,d;var u=this.isGrouped();if(u)for(t=0;t<a.length;t++){s=a[t];l=true;for(d=0;d<s.items.length;d++){n={selected:this._selected(s.items[d],o),item:s.items[d],group:s.value,newGroup:l,isLastGroupedItem:d===s.items.length-1,index:i};r[i]=n;i+=1;e+=this._renderItem(n);l=false}}else for(t=0;t<a.length;t++){n={selected:this._selected(a[t],o),item:a[t],index:t};r[t]=n;e+=this._renderItem(n)}this._view=r;this.element[0].innerHTML=e;if(u&&r.length)this._renderHeader()},_selected:function(e,t){var i=!this.isFiltered()||this.options.selectable==="multiple";return i&&this._dataItemPosition(e,t)!==-1},setDSFilter:function(e){this._lastDSFilter=D({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!h.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t=this;var i=e&&e.action;var n=t.options.skipUpdateOnBind;var r=i==="itemchange";var a;t.trigger(S);t._angularItems("cleanup");t._fixedHeader();t._render();t.bound(true);if(r||i==="remove"){a=Fe(t._dataItems,e.items);if(a.changed.length)if(r)t.trigger(J,{items:a.changed});else t.value(t._getValues(a.unchanged))}else if(t.isFiltered()||t._skipUpdate||t._emptySearch){t.focus(0);if(t._skipUpdate){t._skipUpdate=false;t._selectedIndices=t._valueIndices(t._values,t._selectedIndices)}}else if(!n&&(!i||i==="add"))t.value(t._values);if(t._valueDeferred)t._valueDeferred.resolve();t._angularItems("compile");t.trigger(T)},bound:function(e){if(e===p)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function O(e){return e[e.length-1]}function M(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function Fe(e,t){var i=t.length;var n=e.length;var r;var a;var o,s;var l=[];var d=[];if(n)for(o=0;o<n;o++){r=e[o];a=false;for(s=0;s<i;s++)if(r===t[s]){a=true;l.push({index:o,item:r});break}if(!a)d.push(r)}return{changed:l,unchanged:d}}function He(e){if(!e||m.isEmptyObject(e))return false;if(e.filters&&!e.filters.length)return false;return true}function z(e,t){var i;var n=false;if(e.filters){i=m.grep(e.filters,function(e){n=z(e,t);if(e.filters)return e.filters.length;else return e.field!=t});if(!n&&e.filters.length!==i.length)n=true;e.filters=i}return n}return n.plugin(Ae),h.cssProperties.registerPrefix("List","k-list-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.fx.min",["kendo.core.min"],function(){var z={id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]},m=window.kendo.jQuery,p=void 0,c=window.kendo,g=c.effects,a=m.each,v=m.extend,l=c.support,R=l.browser,_=l.transforms,b=l.transitions,N={scale:0,scalex:0,scaley:0,scale3d:0},L={translate:0,translatex:0,translatey:0,translate3d:0},o=typeof document.documentElement.style.zoom!=="undefined"&&!_,B=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,h=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,V=/translatex?$/i,U=/(zoom|fade|expand)(\w+)/,d=/(zoom|fade|expand)/,W=/[xy]$/i,k=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],u=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],j={rotate:"deg",scale:"",skew:"px",translate:"px"},e=_.css,q=Math.round,G="",f="px",K="none",w="auto",y="width",x="height",C="hidden",S="origin",$="abortId",T="overflow",I="translate",D="position",Y="completeCallback",E=e+"transition",A=e+"transform",Q=e+"backface-visibility",X=e+"perspective",i="1500px",J="perspective("+i+")",F={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(c.directions=F,v(m.fn,{kendoStop:function(e,t){if(b)return g.stopQueue(this,e||false,t||false);else return this.stop(e,t)}}),_&&!b){a(u,function(e,n){m.fn[n]=function(e){if(typeof e=="undefined")return ie(this,n);else{var t=m(this)[0],i=n+"("+e+j[n.replace(W,"")]+")";if(t.style.cssText.indexOf(A)==-1)m(this).css(A,i);else t.style.cssText=t.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),i)}return this};m.fx.step[n]=function(e){m(e.elem)[n](e.now)}});var Z=m.fx.prototype.cur;m.fx.prototype.cur=function(){if(u.indexOf(this.prop)!=-1)return parseFloat(m(this.elem)[this.prop]());return Z.apply(this,arguments)}}function ee(e){return parseInt(e,10)}function H(e,t){return ee(e.css(t))}function te(e){var t=[];for(var i in e)t.push(i);return t}function P(e){for(var t in e)if(k.indexOf(t)!=-1&&u.indexOf(t)==-1)delete e[t];return e}function O(e,t){var i=[],n={},r,a,o,s;for(a in t){r=a.toLowerCase();s=_&&k.indexOf(r)!=-1;if(!l.hasHW3D&&s&&u.indexOf(r)==-1)delete t[a];else{o=t[a];if(s)i.push(a+"("+o+")");else n[a]=o}}if(i.length)n[A]=i.join(" ");return n}if(c.toggleClass=function(i,e,t,n){if(e){e=e.split(" ");if(b){t=v({exclusive:"all",duration:400,ease:"ease-out"},t);i.css(E,t.exclusive+" "+t.duration+"ms "+t.ease);setTimeout(function(){i.css(E,"").css(x)},t.duration)}a(e,function(e,t){i.toggleClass(t,n)})}return i},c.parseEffects=function(e,s){var l={};if(typeof e==="string")a(e.split(" "),function(e,t){var i=!d.test(t),n=t.replace(U,function(e,t,i){return t+":"+i.toLowerCase()}),r=n.split(":"),a=r[1],o={};if(r.length>1)o.direction=s&&i?F[a].reverse:a;l[r[0]]=o});else a(e,function(e){var t=this.direction;if(t&&s&&!d.test(e))this.direction=F[t].reverse;l[e]=this});return l},b)v(g,{transition:function(e,t,i){var n,r=0,a=e.data("keys")||[],o;i=v({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i);var s=false;var l=function(){if(!s){s=true;if(o){clearTimeout(o);o=null}e.removeData($).dequeue().css(E,"").css(E);i.complete.call(e)}};i.duration=m.fx?m.fx.speeds[i.duration]||i.duration:i.duration;n=O(e,t);m.merge(a,te(n));if(m.hasOwnProperty("uniqueSort"))e.data("keys",m.uniqueSort(a)).height();else e.data("keys",m.unique(a)).height();e.css(E,i.exclusive+" "+i.duration+"ms "+i.ease).css(E);e.css(n).css(A);if(b.event){e.one(b.event,l);if(i.duration!==0)r=500}o=setTimeout(l,i.duration+r);e.data($,o);e.data(Y,l)},stopQueue:function(e,t,i){var n,r=e.data("keys"),a=!i&&r,o=e.data(Y);if(a)n=c.getComputedStyles(e[0],r);if(o)o();if(a)e.css(n);return e.removeData("keys").stop(t)}});function ie(e,t){if(_){var i=e.css(A);if(i==K)return t=="scale"?1:0;var n=i.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0;if(n)r=ee(n[1]);else{n=i.match(B)||[0,0,0,0,0];t=t.toLowerCase();if(V.test(t))r=parseFloat(n[3]/n[2]);else if(t=="translatey")r=parseFloat(n[4]/n[2]);else if(t=="scale")r=parseFloat(n[2]);else if(t=="rotate")r=parseFloat(Math.atan2(n[2],n[1]))}return r}else return parseFloat(e.css(t))}var ne=c.Class.extend({init:function(e,t){var i=this;i.element=e;i.effects=[];i.options=t;i.restore=[]},run:function(e){var t=this,i,n,r,a=e.length,o=t.element,s=t.options,l=m.Deferred(),d={},u={},c,f,p;t.effects=e;l.done(t.complete.bind(t));o.data("animating",true);for(n=0;n<a;n++){i=e[n];i.setReverse(s.reverse);i.setOptions(s);t.addRestoreProperties(i.restore);i.prepare(d,u);f=i.children();for(r=0,p=f.length;r<p;r++)f[r].duration(s.duration).run()}for(var h in s.effects)v(u,s.effects[h].properties);if(!o.is(":visible"))v(d,{display:o.data("olddisplay")||"block"});if(_&&!s.reset){c=o.data("targetTransform");if(c)d=v(c,d)}d=O(o,d);if(_&&!b)d=P(d);o.css(d).css(A);for(n=0;n<a;n++)e[n].setup();if(s.init)s.init();o.data("targetTransform",u);g.animate(o,u,v({},s,{complete:l.resolve}));return l.promise()},stop:function(){m(this.element).kendoStop(true,true)},addRestoreProperties:function(e){var t=this.element,i,n=0,r=e.length;for(;n<r;n++){i=e[n];this.restore.push(i);if(!t.data(i))t.data(i,t.css(i))}},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},complete:function(){var e=this,t=0,i=e.element,n=e.options,r=e.effects,a=r.length;i.removeData("animating").dequeue();if(n.hide)i.data("olddisplay",i.css("display")).hide();this.restoreCallback();if(o&&!_)setTimeout(this.restoreCallback.bind(this),0);for(;t<a;t++)r[t].teardown();if(n.completeCallback)n.completeCallback(i)}}),s=(g.promise=function(e,t){var i=[],n,r=new ne(e,t),a=c.parseEffects(t.effects),o;t.effects=a;for(var s in a){n=g[M(s)];if(n){o=new n(e,a[s].direction);i.push(o)}}if(i[0])r.run(i);else{if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.init)t.init();e.dequeue();r.complete()}},v(g,{animate:function(e,f,t){var i=t.transition!==false;delete t.transition;if(b&&"transition"in g&&i)g.transition(e,f,t);else if(_)e.animate(P(f),{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete});else e.each(function(){var u=m(this),c={};a(k,function(e,t){var i,n=f?f[t]+" ":null;if(n){var r=f;if(t in N&&f[t]!==p){i=n.match(h);if(_)v(r,{scale:+i[0]})}else if(t in L&&f[t]!==p){var a=u.css(D),o=a=="absolute"||a=="fixed";if(!u.data(I))if(o)u.data(I,{top:H(u,"top")||0,left:H(u,"left")||0,bottom:H(u,"bottom"),right:H(u,"right")});else u.data(I,{top:H(u,"marginTop")||0,left:H(u,"marginLeft")||0});var s=u.data(I);i=n.match(h);if(i){var l=t==I+"y"?+null:+i[1],d=t==I+"y"?+i[1]:+i[2];if(o){if(!isNaN(s.right)){if(!isNaN(l))v(r,{right:s.right-l})}else if(!isNaN(l))v(r,{left:s.left+l});if(!isNaN(s.bottom)){if(!isNaN(d))v(r,{bottom:s.bottom-d})}else if(!isNaN(d))v(r,{top:s.top+d})}else{if(!isNaN(l))v(r,{marginLeft:s.left+l});if(!isNaN(d))v(r,{marginTop:s.top+d})}}}if(!_&&t!="scale"&&t in r)delete r[t];if(r)v(c,r)}});if(R.msie)delete c.scale;u.animate(c,{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete})})}}),g.animatedPromise=g.promise,c.Class.extend({init:function(e,t){var i=this;i.element=e;i._direction=t;i.options={};i._additionalEffects=[];if(!i.restore)i.restore=[]},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(e){this._additionalEffects.push(e);return this},direction:function(e){this._direction=e;return this},duration:function(e){this._duration=e;return this},compositeRun:function(){var e=this,t=new ne(e.element,{reverse:e._reverse,duration:e._duration}),i=e._additionalEffects.concat([e]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=0,n=e.restore,r=n.length,a,o=m.Deferred(),s={},l={},d,u=e.children(),c=u.length;o.done(e._complete.bind(e));t.data("animating",true);for(i=0;i<r;i++){a=n[i];if(!t.data(a))t.data(a,t.css(a))}for(i=0;i<c;i++)u[i].duration(e._duration).run();e.prepare(s,l);if(!t.is(":visible"))v(s,{display:t.data("olddisplay")||"block"});if(_){d=t.data("targetTransform");if(d)s=v(d,s)}s=O(t,s);if(_&&!b)s=P(s);t.css(s).css(A);e.setup();t.data("targetTransform",l);g.animate(t,l,{duration:e._duration,complete:o.resolve});return o.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();m(this.element).kendoStop(true,true);return this},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},_complete:function(){var e=this,t=e.element;t.removeData("animating").dequeue();e.restoreCallback();if(e.shouldHide())t.data("olddisplay",t.css("display")).hide();if(o&&!_)setTimeout(e.restoreCallback.bind(e),0);e.teardown()},setOptions:function(e){v(true,this.options,e)},children:function(){return[]},shouldHide:m.noop,setup:m.noop,prepare:m.noop,teardown:m.noop,directions:[],setReverse:function(e){this._reverse=e;return this}}));function M(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(t,e){var r=s.extend(e),i=r.prototype.directions;g[M(t)]=r;g.Element.prototype[t]=function(e,t,i,n){return new r(this.element,e,t,i,n)};a(i,function(e,n){g.Element.prototype[t+M(n)]=function(e,t,i){return new r(this.element,n,e,t,i)}})}var n=["left","right","up","down"],re=["in","out"];function ae(e,l,d,u){t(e,{directions:re,startValue:function(e){this._startValue=e;return this},endValue:function(e){this._endValue=e;return this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i=this,n,r,a=this._direction==="out",o=i.element.data(l),s=!(isNaN(o)||o==d);if(s)n=o;else if(typeof this._startValue!=="undefined")n=this._startValue;else n=a?d:u;if(typeof this._endValue!=="undefined")r=this._endValue;else r=a?u:d;if(this._reverse){e[l]=r;t[l]=n}else{e[l]=n;t[l]=r}i._shouldHide=t[l]===u}})}t("slideIn",{directions:n,divisor:function(e){this.options.divisor=e;return this},prepare:function(e,t){var i=this,n,r=i.element,a=c._outerWidth,o=c._outerHeight,s=F[i._direction],l=-s.modifier*(s.vertical?o(r):a(r)),d=l/(i.options&&i.options.divisor||1)+f,u="0px";if(i._reverse){n=e;e=t;t=n}if(_){e[s.transition]=d;t[s.transition]=u}else{e[s.property]=d;t[s.property]=u}}}),t("tile",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this.options={previous:i}},previousDivisor:function(e){this.options.previousDivisor=e;return this},children:function(){var e=this,t=e._reverse,i=e.options.previous,n=e.options.previousDivisor||1,r=e._direction;var a=[c.fx(e.element).slideIn(r).setReverse(t)];if(i)a.push(c.fx(i).slideIn(F[r].reverse).divisor(n).setReverse(!t));return a}}),ae("fade","opacity",1,0),ae("zoom","scale",1,.01),t("slideMargin",{prepare:function(e,t){var i=this,n=i.element,r=i.options,a=n.data(S),o=r.offset,s,l=i._reverse;if(!l&&a===null)n.data(S,parseFloat(n.css("margin-"+r.axis)));s=n.data(S)||0;t["margin-"+r.axis]=!l?s+o:s}}),t("slideTo",{prepare:function(e,t){var i=this,n=i.element,r=i.options,a=r.offset.split(","),o=i._reverse;if(_){t.translatex=!o?a[0]:0;t.translatey=!o?a[1]:0}else{t.left=!o?a[0]:0;t.top=!o?a[1]:0}n.css("left")}}),t("expand",{directions:["horizontal","vertical"],restore:[T],prepare:function(e,t){var i=this,n=i.element,r=i.options,a=i._reverse,o=i._direction==="vertical"?x:y,s=n[0].style[o],l=n.data(o),d=parseFloat(l||s),u=q(n.css(o,w)[o]());e.overflow=C;d=r&&r.reset?u||d:d||u;t[o]=(a?0:d)+f;e[o]=(a?d:0)+f;if(l===p)n.data(o,s)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,i=e._direction==="vertical"?x:y,n=t.data(i);if(n==w||n===G)setTimeout(function(){t.css(i,w).css(i)},0)}});var oe={position:"absolute",marginLeft:0,marginTop:0,scale:1},se=(t("transfer",{init:function(e,t){this.element=e;this.options={target:t};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this,n=i.element,r=g.box(n),a=g.box(i.options.target),o=ie(n,"scale"),s=g.fillScale(a,r),l=g.transformOrigin(a,r);v(e,oe);t.scale=1;n.css(A,"scale(1)").css(A);n.css(A,"scale("+o+")");e.top=r.top;e.left=r.left;e.transformOrigin=l.x+f+" "+l.y+f;if(i._reverse)e.scale=s;else t.scale=s}}),{top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"}),le={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function de(e,t){var i=c.directions[t].vertical,n=e[i?x:y]()/2+"px";return se[t].replace("$size",n)}t("turningPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this._container=i},prepare:function(e,t){var i=this,n=i._reverse,r=n?F[i._direction].reverse:i._direction,a=le[r];e.zIndex=1;if(i._clipInHalf)e.clip=de(i._container,c.directions[r].reverse);e[Q]=C;t[A]=J+(n?a.start:a.end);e[A]=J+(n?a.end:a.start)},setup:function(){this._container.append(this.element)},face:function(e){this._face=e;return this},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},clipInHalf:function(e){this._clipInHalf=e;return this},temporary:function(){this.element.addClass("temp-page");return this}}),t("staticPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this._container=i},restore:["clip"],prepare:function(e,t){var i=this,n=i._reverse?F[i._direction].reverse:i._direction;e.clip=de(i._container,n);e.opacity=.999;t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},face:function(e){this._face=e;return this}}),t("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=n},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",n=c.directions[i].reverse,r=e._reverse,a,o=t.face.clone(true).removeAttr("id"),s=t.back.clone(true).removeAttr("id"),l=e.element;if(r){a=i;i=n;n=a}return[c.fx(t.face).staticPage(i,l).face(true).setReverse(r),c.fx(t.back).staticPage(n,l).setReverse(r),c.fx(o).turningPage(i,l).face(true).clipInHalf(true).temporary().setReverse(r),c.fx(s).turningPage(n,l).clipInHalf(true).temporary().setReverse(r)]},prepare:function(e,t){e[X]=i;e.transformStyle="preserve-3d";e.opacity=.999;t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),t("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=n},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",n=c.directions[i].reverse,r=e._reverse,a,o=e.element;if(r){a=i;i=n;n=a}return[c.fx(t.face).turningPage(i,o).face(true).setReverse(r),c.fx(t.back).turningPage(n,o).setReverse(r)]},prepare:function(e){e[X]=i;e.transformStyle="preserve-3d"}});var ue=!l.mobileOS.android,ce=".km-touch-scrollbar, .km-actionsheet-wrapper",r=(t("replace",{_before:m.noop,_after:m.noop,init:function(e,t,i){s.prototype.init.call(this,e);this._previous=m(t);this._transitionClass=i},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){this._before=e;return this},afterTransition:function(e){this._after=e;return this},_both:function(){return m().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;if(e)t+=" k-fx-"+e;if(this._reverse)t+=" k-fx-reverse";return t},complete:function(e){if(!this.deferred||e&&m(e.target).is(ce))return;var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(b.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(ue)t.css(T,"");if(!this.isAbsolute)this._both().css(D,"");this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,n=t.parents().filter(i.parents()).first(),r=e._both(),a=m.Deferred(),o=t.css(D),s;if(!n.length)n=t.parent();this.container=n;this.deferred=a;this.isAbsolute=o=="absolute";if(!this.isAbsolute)r.css(D,"absolute");if(ue){s=n.css(T);n.css(T,"hidden")}if(!b)this.complete();else{t.addClass("k-fx-hidden");n.addClass(this._containerClass());this.completeProxy=this.complete.bind(this);n.on(b.event,this.completeProxy);c.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next");i.css("display","").addClass("k-fx-current");e._before(i,t);c.animationFrame(function(){n.removeClass("k-fx-start").addClass("k-fx-end");e._after(i,t)})})}return a.promise()},stop:function(){this.complete()}}),c.Class.extend({init:function(){var e=this;e._tickProxy=e._tick.bind(e);e._started=false},tick:m.noop,done:m.noop,onEnd:m.noop,onCancel:m.noop,start:function(){if(!this.enabled())return;if(!this.done()){this._started=true;c.animationFrame(this._tickProxy)}else this.onEnd()},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var e=this;if(!e._started)return;e.tick();if(!e.done())c.animationFrame(e._tickProxy);else{e._started=false;e.onEnd()}}})),fe=r.extend({init:function(e){var t=this;v(t,e);r.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis];t.delta=e.location-t.initial;t.duration=typeof e.duration=="number"?e.duration:300;t.tick=t._easeProxy(e.ease);t.startDate=new Date;t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});return v(fe,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(-Math.pow(2,-10*e/n)+1)+t},easeOutBack:function(e,t,i,n,r){r=1.70158;return i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}}),g.Animation=r,g.Transition=fe,g.createEffect=t,g.box=function(e){e=m(e);var t=e.offset();t.width=c._outerWidth(e);t.height=c._outerHeight(e);return t},g.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),n=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},g.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},g.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.userevents.min",["kendo.core.min"],function(){var e={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true},d=window.kendo.jQuery,M=void 0,l=window.kendo,u=l.support,t=l.Class,c=l.Observable,a=Date.now,f=d.extend,i=u.mobileOS,o=i&&i.android,p=800,n=300,h=u.browser.msie?5:0,m="press",g="hold",v="select",_="start",b="move",k="end",w="cancel",y="tap",x="doubleTap",C="release",S="gesturestart",T="gesturechange",I="gestureend",D="gesturetap",r={api:0,touch:0,mouse:9,pointer:9},E=!u.touch||u.mouseAndTouchPresent;function s(e,t){var i=e.x.location,n=e.y.location,r=t.x.location,a=t.y.location,o=i-r,s=n-a;return{center:{x:(i+r)/2,y:(n+a)/2},distance:Math.sqrt(o*o+s*s)}}function A(e){var t=[],i=e.originalEvent,n=e.currentTarget,r=0,a,o,s;if(e.api)t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/)){o=i?i.changedTouches:[];for(a=o.length;r<a;r++){s=o[r];t.push({location:s,event:e,target:s.target,currentTarget:n,id:s.identifier,type:"touch"})}}else if(u.pointers||u.msPointers)t.push({location:i,event:e,target:e.target,currentTarget:n,id:i.pointerId,type:"pointer"});else t.push({id:1,event:e,target:e.target,currentTarget:n,location:e,type:"mouse"});return t}var F=t.extend({init:function(e,t){var i=this;i.axis=e;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=a()},move:function(e){var t=this,i=e["page"+t.axis],n=a(),r=n-t.timeStamp||1;if(!i&&o)return;t.delta=i-t.location;t._updateLocationData(e);t.initialDelta=i-t.startLocation;t.velocity=t.delta/r;t.timeStamp=n},_updateLocationData:function(e){var t=this,i=t.axis;t.location=e["page"+i];t.client=e["client"+i];t.screen=e["screen"+i]}}),H=t.extend({init:function(e,t,i){f(this,{x:new F("X",i.location),y:new F("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||r[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(this._hold.bind(this),this.userEvents.minHold);this._trigger(m,this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++;if(t.userEvents._clicks==1)t._clickTimeout=setTimeout(function(){if(t.userEvents._clicks==1)t._trigger(y,e);else t._trigger(x,e);t.userEvents._clicks=0},n)},_hold:function(){this._trigger(g,this.pressEvent)},move:function(e){var t=this;var i=e.type!=="api"&&t.userEvents._shouldNotMove;if(t._finished||i)return;t.x.move(e.location);t.y.move(e.location);if(!t._moved){if(t._withinIgnoreThreshold())return;if(!O.current||O.current===t.userEvents)t._start(e);else return t.dispose()}if(!t._finished)t._trigger(b,e)},end:function(e){this.endTime=a();if(this._finished)return;this._finished=true;this._trigger(C,e);if(this._moved)this._trigger(k,e);else if(!this.useClickAsTap)if(this.supportDoubleTap)this._tap(e);else this._trigger(y,e);clearTimeout(this._holdTimeout);this.dispose()},dispose:function(){var e=this.userEvents,t=e.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(d.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout);this.startTime=a();this._moved=true;this._trigger(_,e)},_trigger:function(e,t){var i=this,n=t.event,r={touch:i,x:i.x,y:i.y,target:i.target,event:n};if(i.userEvents.notify(e,r))n.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function P(e){var t=l.eventMap.up.split(" "),i=0,n=t.length;for(;i<n;i++)e(t[i])}var O=c.extend({init:function(e,t){var i=this,n,r=l.guid();t=t||{};n=i.filter=t.filter;i.threshold=t.threshold||h;i.minHold=t.minHold||p;i.touches=[];i._maxTouches=t.multiTouch?2:1;i.allowSelection=t.allowSelection;i.captureUpIfMoved=t.captureUpIfMoved;i.useClickAsTap=!t.fastTap&&!u.delayedClick();i.eventNS=r;i._clicks=0;i.supportDoubleTap=t.supportDoubleTap;e=d(e).handler(i);c.fn.init.call(i);f(i,{element:e,surface:t.global&&E?d(e[0].ownerDocument.documentElement):d(t.surface||e),stopPropagation:t.stopPropagation,pressed:false});i.surface.handler(i).on(l.applyEventMap("move",r),"_move").on(l.applyEventMap("up cancel",r),"_end");e.on(l.applyEventMap("down",r),n,"_start");if(i.useClickAsTap)e.on(l.applyEventMap("click",r),n,"_click");if(u.pointers||u.msPointers)if(u.browser.version<11){var a="pinch-zoom double-tap-zoom";e.css("-ms-touch-action",t.touchAction&&t.touchAction!="none"?a+" "+t.touchAction:a)}else e.css("touch-action",t.touchAction||"none");if(t.preventDragEvent)e.on(l.applyEventMap("dragstart",r),l.preventDefault);e.on(l.applyEventMap("mousedown",r),n,{root:e},"_select");if(i.captureUpIfMoved&&u.eventCapture){var o=i.surface[0],s=i.preventIfMoving.bind(i);P(function(e){o.addEventListener(e,s,true)})}i.bind([m,g,y,x,_,b,k,C,w,S,T,I,D,v],t)},preventIfMoving:function(e){if(this._isMoved())e.preventDefault()},destroy:function(){var t=this;if(t._destroyed)return;t._destroyed=true;if(t.captureUpIfMoved&&u.eventCapture){var i=t.surface[0];P(function(e){i.removeEventListener(e,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS);t.surface.kendoDestroy(t.eventNS);t.element.removeData("handler");t.surface.removeData("handler");t._disposeAll();t.unbind();delete t.surface;delete t.element;delete t.currentTarget},capture:function(){O.current=this},cancel:function(){this._disposeAll();this.trigger(w)},notify:function(e,t){var i=this,n=i.touches;if(this._isMultiTouch()){switch(e){case b:e=T;break;case k:e=I;break;case y:e=D;break}f(t,{touches:n},s(n[0],n[1]))}return this.trigger(e,f(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var e=this.touches;while(e.length>0)e.pop().dispose()},_isMoved:function(){return d.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){if(!this.allowSelection||this.trigger(v,{event:e}))e.preventDefault()},_start:function(e){var t=this,i=0,n=t.filter,r,a=A(e),o=a.length,s,l=e.which;if(l&&l>1||t._maxTouchesReached())return;O.current=null;t.currentTarget=e.currentTarget;if(t.stopPropagation)e.stopPropagation();for(;i<o;i++){if(t._maxTouchesReached())break;s=a[i];if(n)r=d(s.currentTarget);else r=t.element;if(!r.length)continue;s=new H(t,r,s);t.touches.push(s);s.press();if(t._isMultiTouch())t.notify("gesturestart",{})}},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:d(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:d(e.currentTarget),event:e,type:"tap"};if(this.trigger("tap",t))e.preventDefault()},_eachTouch:function(e,t){var i=this,n={},r=A(t),a=i.touches,o,s,l,d;for(o=0;o<a.length;o++){s=a[o];n[s.id]=s}for(o=0;o<r.length;o++){l=r[o];d=n[l.id];if(d)d[e](l)}},_apiCall:function(e,t,i,n){this[e]({api:true,pageX:t,pageY:i,clientX:t,clientY:i,target:d(n||this.element)[0],stopPropagation:d.noop,preventDefault:d.noop})}});return O.defaultThreshold=function(e){h=e},O.minHold=function(e){p=e},l.getTouches=A,l.touchDelta=s,l.UserEvents=O,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],function(){var z={id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]},l=window.kendo.jQuery,R=void 0,d=window.kendo,u=d.support,c=window.document,f=l(window),N=d.Class,a=d.ui.Widget,r=d.Observable,L=d.UserEvents,o=l.extend,p=d.getOffset,s={},h={},m={},n,g=d.elementUnderCursor,v="keyup",_="change",b="dragstart",t="hold",k="drag",e="dragend",i="dragcancel",w="hintDestroyed",y="dragenter",x="dragleave",C="drop";function B(e,t){try{return l.contains(e,t)||e==t}catch(e){return false}}function S(e,t){return parseInt(e.css(t),10)||0}function T(e,t){return Math.min(Math.max(e,t.min),t.max)}function I(e,t){var i=p(e),n=d._outerWidth,r=d._outerHeight,a=i.left+S(e,"borderLeftWidth")+S(e,"paddingLeft"),o=i.top+S(e,"borderTopWidth")+S(e,"paddingTop"),s=a+e.width()-n(t,true),l=o+e.height()-r(t,true);return{x:{min:a,max:s},y:{min:o,max:l}}}function V(e,t,i){var n,r,a=0,o=t&&t.length,s=i&&i.length;while(e&&e.parentNode){for(a=0;a<o;a++){n=t[a];if(n.element[0]===e)return{target:n,targetElement:e}}for(a=0;a<s;a++){r=i[a];if(l.contains(r.element[0],e)&&u.matchesSelector.call(e,r.options.filter))return{target:r,targetElement:e}}e=e.parentNode}return R}var U=r.extend({init:function(e,t){var i=this,n=e[0];i.capture=false;if(n.addEventListener){l.each(d.eventMap.down.split(" "),function(){n.addEventListener(this,i._press.bind(i),true)});l.each(d.eventMap.up.split(" "),function(){n.addEventListener(this,i._release.bind(i),true)})}else{l.each(d.eventMap.down.split(" "),function(){n.attachEvent(this,i._press.bind(i))});l.each(d.eventMap.up.split(" "),function(){n.attachEvent(this,i._release.bind(i))})}r.fn.init.call(i);i.bind(["press","release"],t||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(e){var t=this;t.trigger("press");if(t.capture)e.preventDefault()},_release:function(e){var t=this;t.trigger("release");if(t.capture){e.preventDefault();t.cancelCapture()}}}),D=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.forcedEnabled=false;l.extend(t,e);t.scale=1;if(t.horizontal){t.measure="offsetWidth";t.scrollSize="scrollWidth";t.axis="x"}else{t.measure="offsetHeight";t.scrollSize="scrollHeight";t.axis="y"}},makeVirtual:function(){l.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){if(this._virtualMin!==e||this._virtualMax!==t){this._virtualMin=e;this._virtualMax=t;this.update()}},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),n=i*t.scale,r=t.getSize();if(i===0&&!t.forcedEnabled)return;t.max=t.virtual?-t._virtualMin:0;t.size=r;t.total=n;t.min=Math.min(t.max,r-n);t.minScale=r/i;t.centerOffset=(n-r)/2;t.enabled=t.forcedEnabled||n>r;if(!e)t.trigger(_,t)}}),W=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.x=new D(o({horizontal:true},e));t.y=new D(o({horizontal:false},e));t.container=e.container;t.forcedMinScale=e.minScale;t.maxScale=e.maxScale||100;t.bind(_,e)},rescale:function(e){this.x.rescale(e);this.y.rescale(e);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update();e.y.update();e.enabled=e.x.enabled||e.y.enabled;e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale);e.fitScale=Math.max(e.x.minScale,e.y.minScale);e.trigger(_)}}),E=r.extend({init:function(e){var t=this;o(t,e);r.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,i=t.dimension,n=t.axis,r=t.movable,a=r[n]+e;if(!i.enabled)return;if(a<i.min&&e<0||a>i.max&&e>0)e*=t.resistance;r.translateAxis(n,e);t.trigger(_,t)}}),j=N.extend({init:function(e){var u=this,c,f,t,p;o(u,{elastic:true},e);t=u.elastic?.5:0;p=u.movable;u.x=c=new E({axis:"x",dimension:u.dimensions.x,resistance:t,movable:p});u.y=f=new E({axis:"y",dimension:u.dimensions.y,resistance:t,movable:p});u.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){u.gesture=e;u.offset=u.dimensions.container.offset()},press:function(e){if(l(e.event.target).closest("a").is("[data-navigate-on-press=true]"))e.sender.cancel()},gesturechange:function(e){var t=u.gesture,i=t.center,n=e.center,r=e.distance/t.distance,a=u.dimensions.minScale,o=u.dimensions.maxScale,s;if(p.scale<=a&&r<1)r+=(1-r)*.8;if(p.scale*r>=o)r=o/p.scale;var l=p.x+u.offset.left,d=p.y+u.offset.top;s={x:(l-i.x)*r+n.x-l,y:(d-i.y)*r+n.y-d};p.scaleWith(r);c.dragMove(s.x);f.dragMove(s.y);u.dimensions.rescale(p.scale);u.gesture=e;e.preventDefault()},move:function(e){if(e.event.target.tagName.match(/textarea|input/i))return;if(c.dimension.enabled||f.dimension.enabled){c.dragMove(e.x.delta);f.dragMove(e.y.delta);e.preventDefault()}else e.touch.skip()},end:function(e){e.preventDefault()}})}}),q=u.transitions.prefix+"Transform",A;if(u.hasHW3D)A=function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"};else A=function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"};var G=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.element=l(e);t.element[0].style.webkitTransformOrigin="left top";t.x=0;t.y=0;t.scale=1;t._saveCoordinates(A(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t;this.refresh()},scaleTo:function(e){this.scale=e;this.refresh()},scaleWith:function(e){this.scale*=e;this.refresh()},translate:function(e){this.x+=e.x;this.y+=e.y;this.refresh()},moveAxis:function(e,t){this[e]=t;this.refresh()},moveTo:function(e){o(this,e);this.refresh()},refresh:function(){var e=this,t=e.x,i=e.y,n;if(e.round){t=Math.round(t);i=Math.round(i)}n=A(t,i,e.scale);if(n!=e.coordinates){if(d.support.browser.msie&&d.support.browser.version<10){e.element[0].style.position="absolute";e.element[0].style.left=e.x+"px";e.element[0].style.top=e.y+"px"}else e.element[0].style[q]=n;e._saveCoordinates(n);e.trigger(_)}},_saveCoordinates:function(e){this.coordinates=e}});function F(e,t){var i=t.options.group,n=e[i],r;a.fn.destroy.call(t);if(n.length>1){for(r=0;r<n.length;r++)if(n[r]==t){n.splice(r,1);break}}else{n.length=0;delete e[i]}}var H=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var n=i.options.group;if(!(n in h))h[n]=[i];else h[n].push(i)},events:[y,x,C],options:{name:"DropTarget",group:"default"},destroy:function(){F(h,this)},_trigger:function(e,t){var i=this,n=s[i.options.group];if(n)return i.trigger(e,o({},t.event,{draggable:n,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(y,e)},_out:function(e){this._trigger(x,e)},_drop:function(e){var t=this,i=s[t.options.group];if(i)i.dropped=!t._trigger(C,e)}}),K=(H.destroyGroup=function(e){var t=h[e]||m[e],i;if(t){for(i=0;i<t.length;i++)a.fn.destroy.call(t[i]);t.length=0;delete h[e];delete m[e]}},H._cache=h,H.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var n=i.options.group;if(!(n in m))m[n]=[i];else m[n].push(i)},destroy:function(){F(m,this)},options:{name:"DropTargetArea",group:"default",filter:null}})),$=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i._activated=false;i.userEvents=new L(i.element,{global:true,allowSelection:true,filter:i.options.filter,threshold:i.options.distance,start:i._start.bind(i),hold:i._hold.bind(i),move:i._drag.bind(i),end:i._end.bind(i),cancel:i._cancel.bind(i),select:i._select.bind(i)});if(d.support.touch)i.element.find(i.options.filter).css("touch-action","none");i._afterEndHandler=i._afterEnd.bind(i);i._captureEscape=i._captureEscape.bind(i)},events:[t,b,k,e,i,w],options:{name:"Draggable",distance:d.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(e){var t=this;if(e.keyCode===d.keys.ESC){t._trigger(i,{event:e});t.userEvents.cancel()}},_updateHint:function(e){var t=this,i,n=t.options,r=t.boundaries,a=n.axis,o=t.options.cursorOffset;if(o)i={left:e.x.location+o.left,top:e.y.location+o.top};else{t.hintOffset.left+=e.x.delta;t.hintOffset.top+=e.y.delta;i=l.extend({},t.hintOffset)}if(r){i.top=T(i.top,r.y);i.left=T(i.left,r.x)}if(a==="x")delete i.top;else if(a==="y")delete i.left;t.hint.css(i)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){if(!this._shouldIgnoreTarget(e.event.target))e.preventDefault()},_start:function(t){var i=this,e=i.options,n=e.container?l(e.container):null,r=e.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||e.holdToDrag&&!i._activated){i.userEvents.cancel();return}i.currentTarget=t.target;i.currentTargetOffset=p(i.currentTarget);if(r){if(i.hint)i.hint.stop(true,true).remove();i.hint=d.isFunction(r)?l(r.call(i,i.currentTarget)):r;var a=p(i.currentTarget);i.hintOffset=a;i.hint.css({position:"absolute",zIndex:2e4,left:a.left,top:a.top}).appendTo(c.body);i.angular("compile",function(){i.hint.removeAttr("ng-repeat");var e=l(t.target);while(!e.data("$$kendoScope")&&e.length)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})}s[e.group]=i;i.dropped=false;if(n)i.boundaries=I(n,i.hint);l(c).on(v,i._captureEscape);if(i._trigger(b,t)){i.userEvents.cancel();i._afterEnd()}i.userEvents.capture()},_hold:function(e){this.currentTarget=e.target;if(this._trigger(t,e))this.userEvents.cancel();else this._activated=true},_drag:function(e){e.preventDefault();var t=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==t){this._scrollableParent=M(t);this._cursorElement=t}this._lastEvent=e;this._processMovement(e,t);if(this.options.autoScroll)if(this._scrollableParent[0]){var i=Y(e.x.location,e.y.location,P(this._scrollableParent));this._scrollCompenstation=l.extend({},this.hintOffset);this._scrollVelocity=i;if(i.y===0&&i.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else if(!this._scrollInterval)this._scrollInterval=setInterval(this._autoScroll.bind(this),50)}if(this.hint)this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(!e){if(n){n._trigger(x,o(i,{dropTarget:l(n.targetElement)}));n=null}return}if(n){if(t===n.targetElement)return;n._trigger(x,o(i,{dropTarget:l(n.targetElement)}))}e._trigger(y,o(i,{dropTarget:l(t)}));n=o(e,{targetElement:t})});this._trigger(k,o(i,{dropTarget:n,elementUnderCursor:e}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation;if(!e)return;var n=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,n);var r,a;var o=e===O()[0];if(o){r=c.body.scrollHeight>f.height();a=c.body.scrollWidth>f.width()}else{r=e.offsetHeight<=e.scrollHeight;a=e.offsetWidth<=e.scrollWidth}var s=e.scrollTop+t.y;var l=r&&s>0&&s<e.scrollHeight;var d=e.scrollLeft+t.x;var u=a&&d>0&&d<e.scrollWidth;if(l)e.scrollTop+=t.y;else if(r&&s<0)e.scrollTop=0;if(u)e.scrollLeft+=t.x;else if(a&&d<0)e.scrollLeft=0;if(this.hint&&o&&(u||l)){if(l)i.top+=t.y;if(u)i.left+=t.x;this.hint.css(i)}},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){if(e){e._drop(o({},i,{dropTarget:l(t)}));n=null}});clearInterval(this._scrollInterval);this._scrollInterval=null;this._cancel(this._trigger(e,i))},_cancel:function(e){var t=this;t._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);t._activated=false;if(t.hint&&!t.dropped)setTimeout(function(){t.hint.stop(true,true);if(e)t._afterEndHandler();else t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0);else t._afterEnd()},_trigger:function(e,t){var i=this;return i.trigger(e,o({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=g(e),i=this.hint;if(i&&B(i[0],t)){i.hide();t=g(e);if(!t)t=g(e);i.show()}return t},_withDropTarget:function(e,t){var i,n=this.options.group,r=h[n],a=m[n];if(r&&r.length||a&&a.length){i=V(e,r,a);if(i)t(i.target,i.targetElement);else t()}},destroy:function(){var e=this;a.fn.destroy.call(e);e._afterEnd();e.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);e.currentTarget=null},_afterEnd:function(){var e=this;if(e.hint)e.hint.remove();delete s[e.options.group];e.trigger("destroy");e.trigger(w);l(c).off(v,e._captureEscape)}});function P(e){var t=O()[0],i,n,r;if(e[0]===t){n=t.scrollTop;r=t.scrollLeft;return{top:n,left:r,bottom:n+f.height(),right:r+f.width()}}else{i=e.offset();i.bottom=i.top+e.height();i.right=i.left+e.width();return i}}function O(){return l(d.support.browser.edge||d.support.browser.safari?c.body:c.documentElement)}function M(e){var t=O();if(!e||e===c.body||e===c.documentElement)return t;var i=l(e)[0];while(i&&!d.isScrollable(i)&&i!==c.body)i=i.parentNode;if(i===c.body)return t;return l(i)}function Y(e,t,i){var n={x:0,y:0};var r=50;if(e-i.left<r)n.x=-(r-(e-i.left));else if(i.right-e<r)n.x=r-(i.right-e);if(t-i.top<r)n.y=-(r-(t-i.top));else if(i.bottom-t<r)n.y=r-(i.bottom-t);return n}return d.ui.plugin(H),d.ui.plugin(K),d.ui.plugin($),d.TapCapture=U,d.containerBoundaries=I,o(d.ui,{Pane:j,PaneDimensions:W,Movable:G}),d.ui.Draggable.utils={autoScrollVelocity:Y,scrollableViewPort:P,findScrollableParent:M},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.mobile.scroller.min",["kendo.fx.min","kendo.draganddrop.min"],function(){var e={id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["fx","draganddrop"]},f=window.kendo.jQuery,t=void 0,p=window.kendo,i,n=p.effects,r=p.mobile.ui,h=f.extend,m=r.Widget,a=p.Class,g=p.ui.Movable,v=p.ui.Pane,_=p.ui.PaneDimensions,o=n.Transition,s=n.Animation,b=Math.abs,l=500,d=.7,u=.96,c=10,k=55,w=.5,y=5,x="km-scroller-release",C="km-scroller-refresh",S="pull",T="change",I="resize",D="scroll",E=2,A=s.extend({init:function(e){var t=this;s.fn.init.call(t);h(t,e);t.userEvents.bind("gestureend",t.start.bind(t));t.tapCapture.bind("press",t.cancel.bind(t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1);this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale);this.dimensions.rescale(e.scale)}}),F=s.extend({init:function(e){var t=this;s.fn.init.call(t);h(t,e,{transition:new o({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})});t.tapCapture.bind("press",function(){t.cancel()});t.userEvents.bind("end",t.start.bind(t));t.userEvents.bind("gestureend",t.start.bind(t));t.userEvents.bind("tap",t.onEnd.bind(t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel();t._moveTo(e)},onEnd:function(){var e=this;if(e.paneAxis.outOfBounds())e._snapBack();else e._end()},done:function(){return b(this.velocity)<1},start:function(e){var t=this,i;if(!t.dimension.enabled)return;if(t.paneAxis.outOfBounds())if(t.transition._started){t.transition.cancel();t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,k);s.fn.start.call(t)}else t._snapBack();else{i=e.touch.id===E?0:e.touch[t.axis].velocity;t.velocity=Math.max(Math.min(i*t.velocityMultiplier,k),-k);t.tapCapture.captureNext();s.fn.start.call(t)}},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?w:e.friction,n=e.velocity*=i,r=e.movable[e.axis]+n;if(!e.elastic&&t.outOfBounds(r)){r=Math.max(Math.min(r,t.max),t.min);e.velocity=0}e.movable.moveAxis(e.axis,r)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var e=this,t=e.dimension,i=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(i)},_moveTo:function(e){this.transition.moveTo({location:e,duration:l,ease:o.easeOutExpo})}}),H=s.extend({init:function(e){var t=this;p.effects.Animation.fn.init.call(this);h(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return b(this.offset.y)<y&&b(this.offset.x)<y},onEnd:function(){this.moveTo(this.destination);if(this.callback)this.callback.call()},setCoordinates:function(e,t){this.offset={};this.origin=e;this.destination=t},setCallback:function(e){if(e&&p.isFunction(e))this.callback=e;else e=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),P=a.extend({init:function(e){var t=this,i=e.axis==="x",n=f('<div role="scrollbar" aria-controls="'+e.controlsId+'" class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');if(i)n.attr("aria-orientation","horizontal");h(t,e,{element:n,elementSize:0,movable:new g(n),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"});t.scrollMovable.bind(T,t.refresh.bind(t));t.container.append(n);if(e.alwaysVisible)t.show()},refresh:function(){var e=this,t=e.axis,i=e.dimension,n=i.size,r=e.scrollMovable,a=n/i.total,o=Math.round(-r[t]*a),s=Math.round(n*a);if(a>=1)this.element.css("display","none");else this.element.css("display","");if(o+s>n)s=n-o;else if(o<0){s+=o;o=0}if(e.elementSize!=s){e.element.css(e.size,s+"px");e.elementSize=s}e._ariaValue(o,i.size-e.elementSize);e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:d,visibility:"visible"})},hide:function(){if(!this.alwaysVisible)this.element.css({opacity:0})},_ariaValue:function(e,t){var i=this.element;if(e>t)e=t;i.attr("aria-valuemax",t);i.attr("aria-valuenow",e)}}),O=m.extend({init:function(e,t){var o=this;m.fn.init.call(o,e,t);e=o.element;o._native=o.options.useNative&&p.support.hasNativeScrolling;if(o._native){e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');h(o,{scrollElement:e,fixedContainer:e.children().first()});return}e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=e.children().eq(1),n=new p.TapCapture(e),r=new g(i),s=new _({element:i,container:e,forcedEnabled:o.options.zoom}),l=this.options.avoidScrolling,d=new p.UserEvents(e,{touchAction:"pan-y",fastTap:true,allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:o.options.zoom,supportDoubleTap:o.options.supportDoubleTap,start:function(e){s.refresh();var t=b(e.x.velocity),i=b(e.y.velocity),n=t*2>=i,r=f.contains(o.fixedContainer[0],e.event.target),a=i*2>=t;if(!r&&!l(e)&&o.enabled&&(s.x.enabled&&n||s.y.enabled&&a))d.capture();else d.cancel()}}),a=new v({movable:r,dimensions:s,userEvents:d,elastic:o.options.elastic}),u=new A({movable:r,dimensions:s,userEvents:d,tapCapture:n}),c=new H({moveTo:function(e){o.scrollTo(e.x,e.y)}});r.bind(T,function(){o.scrollTop=-r.y;o.scrollLeft=-r.x;o.trigger(D,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})});if(o.options.mousewheelScrolling)e.on("DOMMouseScroll mousewheel",this._wheelScroll.bind(this));h(o,{movable:r,dimensions:s,zoomSnapBack:u,animatedScroller:c,userEvents:d,pane:a,tapCapture:n,pulled:false,enabled:true,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()});o._initAxis("x");o._initAxis("y");o._wheelEnd=function(){o._wheel=false;o.userEvents.end(0,o._wheelY)};s.refresh();if(o.options.pullToRefresh)o._initPullToRefresh()},_wheelScroll:function(e){if(e.ctrlKey)return;if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=p.wheelDeltaY(e);if(t){this._wheelY+=t;this.userEvents.move(0,this._wheelY)}e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[S,D,I],_resize:function(){if(!this._native)this.contentResized()},setOptions:function(e){var t=this;m.fn.setOptions.call(t,e);if(e.pullToRefresh)t._initPullToRefresh()},reset:function(){if(this._native)this.scrollElement.scrollTop(0);else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds())this.movable.moveAxis("x",this.dimensions.x.min);if(this.pane.y.outOfBounds())this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh();this._scale(e.fitScale);this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(e,t){if(this._native){p.scrollLeft(this.scrollElement,b(e));this.scrollElement.scrollTop(b(t))}else{this.dimensions.refresh();this.movable.moveTo({x:e,y:t})}},animatedScrollTo:function(e,t,i){var n,r;if(this._native)this.scrollTo(e,t);else{n={x:this.movable.x,y:this.movable.y};r={x:e,y:t};this.animatedScroller.setCoordinates(n,r);this.animatedScroller.setCallback(i);this.animatedScroller.start()}},pullHandled:function(){var e=this;e.refreshHint.removeClass(C);e.hintContainer.html(e.pullTemplate({}));e.yinertia.onEnd();e.xinertia.onEnd();e.userEvents.cancel()},destroy:function(){m.fn.destroy.call(this);if(this.userEvents)this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e);this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled();e.pullTemplate=p.template(e.options.messages.pullTemplate);e.releaseTemplate=p.template(e.options.messages.releaseTemplate);e.refreshTemplate=p.template(e.options.messages.refreshTemplate);e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>");e.refreshHint=e.scrollElement.children().first();e.hintContainer=e.refreshHint.children(".km-template");e.pane.y.bind("change",e._paneChange.bind(e));e.userEvents.bind("end",e._dragEnd.bind(e))},_dragEnd:function(){var e=this;if(!e.pulled)return;e.pulled=false;e.refreshHint.removeClass(x).addClass(C);e.hintContainer.html(e.refreshTemplate({}));e.yinertia.freeze(e.options.pullOffset/2);e.trigger("pull")},_paneChange:function(){var e=this;if(e.movable.y/w>e.options.pullOffset){if(!e.pulled){e.pulled=true;e.refreshHint.removeClass(C).addClass(x);e.hintContainer.html(e.releaseTemplate({}))}}else if(e.pulled){e.pulled=false;e.refreshHint.removeClass(x);e.hintContainer.html(e.pullTemplate({}))}},_initAxis:function(e){var t=this,i=t.element.attr("id"),n=t.movable,r=t.dimensions[e],a=t.tapCapture,o=t.pane[e],s;if(!i){i=p.guid();t.element.attr("id",i)}s=new P({axis:e,movable:n,dimension:r,container:t.element,alwaysVisible:t.options.visibleScrollHints,controlsId:i});r.bind(T,function(){s.refresh()});o.bind(T,function(){s.show()});t[e+"inertia"]=new F({axis:e,paneAxis:o,movable:n,tapCapture:a,userEvents:t.userEvents,dimension:r,elastic:t.options.elastic,friction:t.options.friction||u,velocityMultiplier:t.options.velocityMultiplier||c,end:function(){s.hide();t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});return r.plugin(O),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.virtuallist.min",["kendo.data.min"],function(){var z={id:"virtuallist",name:"VirtualList",category:"framework",depends:["data"],hidden:true},g=window.kendo.jQuery,v=void 0,o=window.kendo,e=o.ui,s=e.Widget,R,l=/^\d+(\.\d+)?%$/i,d="k-list-content k-virtual-content",u="k-table-body k-table-scroller",c="k-list-group-sticky-header",f="k-list-item",p="k-table-row",r="k-height-container",h="k-list-item-group-label",m="k-list-ul",_="k-table-list",b="k-selected",k="k-focus",w="k-hover",a="change",i="click",n="listBound",y="itemChange",x="activate",C="deactivate",S=".k-table-group-row",T=".VirtualList";function I(e){return e[e.length-1]}function D(e){return e instanceof Array?e:[e]}function E(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"}function A(e,t,i){return Math.ceil(e*t/i)}function F(e,t,i){var n=document.createElement(i||"div");if(t)n.className=t;e.appendChild(n);return n}function H(e){var t=g('<div class="k-list '+e+' k-virtual-list">'+'<div class="k-list-content k-virtual-content">'+'<ul class="k-list-ul">'+'<li class="k-list-item">'+'<span class="k-list-item-text">test</span>'+"</li>"+"</ul>"+"</div>"+"</div>");var i;t.css({position:"absolute",left:"-200000px",visibility:"hidden"});t.appendTo(document.body);i=parseFloat(o.getComputedStyles(t.find(".k-list-item")[0],["height"]).height);t.remove();return i}function t(e,t,i){return{down:e*i,up:e*(t-1-i)}}function P(e,t){var n=(e.listScreens-1-e.threshold)*t;var r=e.threshold*t;return function(e,t,i){if(t>i)return t-e.top<n;else return e.top===0||t-e.top>r}}function N(t,i){return function(e){return i(t.scrollTop,e)}}function L(i){return function(e,t){i(e.items,e.index,t);return e}}function B(e,t){e.style.webkitTransform="translateY("+t+"px)";e.style.transform="translateY("+t+"px)"}function V(r,a){return function(e,t){for(var i=0,n=e.length;i<n;i++){r(e[i],t[i],a);if(t[i].item)this.trigger(y,{item:g(e[i]),data:t[i].item,ns:o.ui})}}}function U(e,t){var i;if(t>0){i=e.splice(0,t);e.push.apply(e,i)}else{i=e.splice(t,-t);e.unshift.apply(e,i)}return i}function W(e,t,i){var n=i.template,r=this.options.columns&&this.options.columns.length,a=t.index%2===1?"k-table-alt-row":"";e=g(e);if(!t.item)n=i.placeholderTemplate;if(t.index===0&&this.header&&t.group)this.header.html(i.fixedGroupTemplate(t.group));this.angular("cleanup",function(){return{elements:[e]}});e.attr("data-uid",t.item?t.item.uid:"").attr("data-offset-index",t.index);if(r&&t.item){if(a.length>0)e.addClass(a);else e.removeClass("k-table-alt-row");e.html(j(this.options,t.item,i))}else{e.find("."+h).remove();e.find(".k-list-item-text").html(n(t.item||{}))}e.toggleClass(k,t.current);e.toggleClass(b,t.selected);e.toggleClass("k-first",t.newGroup);e.toggleClass("k-last",t.isLastGroupedItem);e.toggleClass("k-loading-item",!t.item);if(t.index!==0&&t.newGroup)if(r)g('<span class="k-table-td k-table-group-td"><span>'+i.groupTemplate(t.group)+"</span></span>").appendTo(e);else g("<div class="+h+"></div>").appendTo(e).html(i.groupTemplate(t.group));else if(t.group&&r)e.append(g('<span class="k-table-td k-table-spacer-td"></span>'));if(t.top!==v)B(e[0],t.top);this.angular("compile",function(){return{elements:[e],data:[{dataItem:t.item,group:t.group,newGroup:t.newGroup}]}})}function j(e,t,i){var n="";for(var r=0;r<e.columns.length;r++){var a=e.columns[r].width;var o=parseInt(a,10);var s="";if(a){s+="style='width:";s+=o;s+=l.test(a)?"%":"px";s+=";'"}n+="<span class='k-table-td' "+s+">";n+=i["column"+r](t);n+="</span>"}return n}function q(e,t){var i=t.length;var n=e.length;var r;var a;var o,s;var l=[];var d=[];if(n)for(o=0;o<n;o++){r=e[o];a=false;for(s=0;s<i;s++)if(r===t[s]){a=true;l.push({index:o,item:r});break}if(!a)d.push(r)}return{changed:l,unchanged:d}}function O(e){return e&&e.state()!=="resolved"}var M=e.DataBoundWidget.extend({init:function(e,t){var i=this,n=t.columns&&t.columns.length?u:d;i.bound(false);i._fetching=false;s.fn.init.call(i,e,t);if(!i.options.itemHeight)i.options.itemHeight=H(t.listSize);t=i.options;i.element.attr("role","listbox");i.content=i.wrapper=i.element.wrap("<div unselectable='on' class='"+n+"'></div>").parent();if(i.options.columns&&i.options.columns.length){var r=i.element.closest(".k-data-table").find(".k-table-thead");var a=g('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+i.options.columns.length+'"></th>'+"</tr>");r.append(a);i.header=a.find(".k-table-th");i.element.addClass(_+" k-virtual-table")}else{i.header=i.content.before("<div class='"+c+"'></div>").prev();i.element.addClass(m)}if(t.ariaLabel)this.element.attr("aria-label",t.ariaLabel);else if(t.ariaLabelledBy)this.element.attr("aria-labelledby",t.ariaLabelledBy);i.element.on("mouseenter"+T,"li:not(.k-loading-item)",function(){g(this).addClass(w)}).on("mouseleave"+T,"li",function(){g(this).removeClass(w)});i._values=D(i.options.value);i._selectedDataItems=[];i._selectedIndexes=[];i._rangesList={};i._promisesList=[];i._optionID=o.guid();i._templates();i.setDataSource(t.dataSource);i.content.on("scroll"+T,o.throttle(function(){i._renderItems();i._triggerListBound()},t.delay));i._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null,ariaLabel:null,ariaLabelledBy:null},events:[a,i,n,y,x,C],setOptions:function(e){var t=this.options.columns&&this.options.columns.length?p:f;s.fn.setOptions.call(this,e);if(this._selectProxy&&this.options.selectable===false)this.element.off(i,"."+t,this._selectProxy);else if(!this._selectProxy&&this.options.selectable)this._selectable();this._templates();this.refresh()},items:function(){return g(this._items)},destroy:function(){this.wrapper.off(T);this.dataSource.unbind(a,this._refreshHandler);s.fn.destroy.call(this)},setDataSource:function(e){var t=this;var i=e||{};var n;i=Array.isArray(i)?{data:i}:i;i=o.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(a,t._refreshHandler);t._clean();t.bound(false);t._deferValueSet=true;n=t.value();t.value([]);t.mute(function(){t.value(n)})}else t._refreshHandler=t.refresh.bind(t);t.dataSource=i.bind(a,t._refreshHandler);t.setDSFilter(i.filter());if(i.view().length!==0)t.refresh();else if(t.options.autoBind)i.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var e=this;var t=e.skip();if(e.bound()&&!e._selectingValue&&e._skip!==t){e._skip=t;e.trigger(n)}},_getValues:function(e){var t=this._valueGetter;return g.map(e,function(e){return t(e)})},_highlightSelectedItems:function(){for(var e=0;e<this._selectedDataItems.length;e++){var t=this._getElementByDataItem(this._selectedDataItems[e]);if(t.length)t.addClass(b)}},refresh:function(e){var t=this;var i=e&&e.action;var n=i==="itemchange";var r=this.isFiltered();var a;if(t._mute)return;t._deferValueSet=false;if(!t._fetching){if(r)t.focus(0);t._createList();if(!i&&t._values.length&&!r&&!t.options.skipUpdateOnBind&&!t._emptySearch){t._selectingValue=true;t.bound(true);t.value(t._values,true).done(function(){t._selectingValue=false;t._triggerListBound()})}else{t.bound(true);t._highlightSelectedItems();t._triggerListBound()}}else{if(t._renderItems)t._renderItems(true);t._triggerListBound()}if(n||i==="remove"){a=q(t._selectedDataItems,e.items);if(a.changed.length)if(n)t.trigger("selectedItemChange",{items:a.changed});else t.value(t._getValues(a.unchanged))}t._fetching=false},removeAt:function(e){var t=this._values.splice(e,1)[0];return{position:e,dataItem:this._removeSelectedDataItem(t)}},_removeSelectedDataItem:function(e){var t=this,i=t._valueGetter;for(var n in t._selectedDataItems)if(i(t._selectedDataItems[n])===e){t._selectedIndexes.splice(n,1);return t._selectedDataItems.splice(n,1)[0]}},setValue:function(e){this._values=D(e)},value:function(e,t){var i=this;if(e===v)return i._values.slice();if(e===null)e=[];e=D(e);if(!i._valueDeferred||i._valueDeferred.state()==="resolved")i._valueDeferred=g.Deferred();var n=i.options.selectable==="multiple"&&i.select().length&&e.length;if(n||!e.length)i.select(-1);i._values=e;if(i.bound()&&!i._mute&&!i._deferValueSet||t)i._prefetchByValue(e);return i._valueDeferred},_checkValuesOrder:function(e){if(this._removedAddedIndexes&&this._removedAddedIndexes.length===e.length){var t=this._removedAddedIndexes.slice();this._removedAddedIndexes=null;return t}return e},_prefetchByValue:function(e){var t=this,i=t._dataView,n=t._valueGetter,r=t.options.mapValueTo,a,o=false,s=[];for(var l=0;l<e.length;l++)for(var d=0;d<i.length;d++){a=i[d].item;if(a){o=E(a)?e[l]===a:e[l]===n(a);if(o)s.push(i[d].index)}}if(s.length===e.length){t._values=[];t.select(s);return}if(typeof t.options.valueMapper==="function")t.options.valueMapper({value:this.options.selectable==="multiple"?e:e[0],success:function(e){if(r==="index")t.mapValueToIndex(e);else if(r==="dataItem")t.mapValueToDataItem(e)}});else if(!t.value()[0])t.select([-1]);else{t._selectingValue=false;t._triggerListBound()}},mapValueToIndex:function(e){if(e===v||e===-1||e===null)e=[];else e=D(e);if(!e.length)e=[-1];else{var t=this._deselect([]).removed;if(t.length)this._triggerChange(t,[])}this.select(e)},mapValueToDataItem:function(e){var t,i;if(e===v||e===null)e=[];else e=D(e);if(!e.length)this.select([-1]);else{t=g.map(this._selectedDataItems,function(e,t){return{index:t,dataItem:e}});i=g.map(e,function(e,t){return{index:t,dataItem:e}});this._selectedDataItems=e;this._selectedIndexes=[];for(var n=0;n<this._selectedDataItems.length;n++){var r=this._getElementByDataItem(this._selectedDataItems[n]);this._selectedIndexes.push(this._getIndecies(r)[0]);r.addClass(b)}this._triggerChange(t,i);if(this._valueDeferred)this._valueDeferred.resolve()}},deferredRange:function(e){var a=this.dataSource;var o=this.itemCount;var s=this._rangesList;var t=g.Deferred();var l=[];var i=Math.floor(e/o)*o;var n=Math.ceil(e/o)*o;var r=n===i?[n]:[i,n];g.each(r,function(e,t){var i=t+o;var n=s[t];var r;if(!n||n.end!==i){r=g.Deferred();s[t]={end:i,deferred:r};a._multiplePrefetch(t,o,function(){r.resolve()})}else r=n.deferred;l.push(r)});g.when.apply(g,l).then(function(){t.resolve()});return t},prefetch:function(e){var i=this,n=this.itemCount,t=!i._promisesList.length;if(!O(i._activeDeferred)){i._activeDeferred=g.Deferred();i._promisesList=[]}g.each(e,function(e,t){i._promisesList.push(i.deferredRange(i._getSkip(t,n)))});if(t)g.when.apply(g,i._promisesList).done(function(){i._promisesList=[];i._activeDeferred.resolve()});return i._activeDeferred},_findDataItem:function(e,t){var i;if(this.options.type==="group")for(var n=0;n<e.length;n++){i=e[n].items;if(i.length<=t)t=t-i.length;else return i[t]}return e[t]},_getRange:function(e,t){return this.dataSource._findRange(e,Math.min(e+t,this.dataSource.total()))},dataItemByIndex:function(e){var t=this;var i=t.itemCount;var n=t._getSkip(e,i);var r=this._getRange(n,i);if(!t._getRange(n,i).length)return null;if(t.options.type==="group"){o.ui.progress(g(t.wrapper),true);t.mute(function(){t.dataSource.range(n,i,function(){o.ui.progress(g(t.wrapper),false)});r=t.dataSource.view()})}return t._findDataItem(r,[e-n])},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(e){var t,i,n,r,a=this.options.itemHeight,o=this._optionID,s=true;if(e===v){r=this.element.find("."+k);return r.length?r:null}if(typeof e==="function"){n=this.dataSource.flatView();for(var l=0;l<n.length;l++)if(e(n[l])){e=l;break}}if(e instanceof Array)e=I(e);if(isNaN(e)){t=g(e);i=parseInt(g(t).attr("data-offset-index"),10)}else{i=e;t=this._getElementByIndex(i)}if(i===-1){this.element.find("."+k).removeClass(k);this._focusedIndex=v;return}if(t.length){if(t.hasClass(k))s=false;if(this._focusedIndex!==v){r=this._getElementByIndex(this._focusedIndex);r.removeClass(k).removeAttr("id");if(s)this.trigger(C)}this._focusedIndex=i;t.addClass(k).attr("id",o);var d=this._getElementLocation(i);if(d==="top")this.scrollTo(i*a);else if(d==="bottom")this.scrollTo(i*a+a-this._screenHeight);else if(d==="outScreen")this.scrollTo(i*a);if(s)this.trigger(x)}else{this._focusedIndex=i;this.items().removeClass(k);this.scrollToIndex(i)}},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0);this.focus(0)},focusLast:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(e-1)},focusPrev:function(){var e=this._focusedIndex;var t;if(!isNaN(e)&&e>0){e-=1;this.focus(e);t=this.focus();if(t&&t.hasClass("k-loading-item")){e+=1;this.focus(e)}return e}else{e=this.dataSource.total()-1;this.focus(e);return e}},focusNext:function(){var e=this._focusedIndex;var t=this.dataSource.total()-1;var i;if(!isNaN(e)&&e<t){e+=1;this.focus(e);i=this.focus();if(i&&i.hasClass("k-loading-item")){e-=1;this.focus(e)}return e}else{e=0;this.focus(e);return e}},_triggerChange:function(e,t){e=e||[];t=t||[];if(e.length||t.length)this.trigger(a,{removed:e,added:t})},select:function(e){var t=this,i,n,r=t.options.selectable!=="multiple",a=O(t._activeDeferred),o=this.isFiltered(),s,l,d,u=[];if(e===v)return t._selectedIndexes.slice();if(!t._selectDeferred||t._selectDeferred.state()==="resolved")t._selectDeferred=g.Deferred();i=t._getIndecies(e);s=r&&!o&&I(i)===I(this._selectedIndexes);u=t._deselectCurrentValues(i);if(u.length||!i.length||s){t._triggerChange(u);if(t._valueDeferred)t._valueDeferred.resolve().promise();return t._selectDeferred.resolve().promise()}if(i.length===1&&i[0]===-1)i=[];n=i;d=t._deselect(i);u=d.removed;i=d.indices;if(r){a=false;if(i.length)i=[I(i)]}var c=function(){var e=t._select(i);if(n.length===i.length||r)t.focus(i);t._triggerChange(u,e);if(t._valueDeferred)t._valueDeferred.resolve();t._selectDeferred.resolve()};l=t.prefetch(i);if(!a)if(l)l.done(c);else c();return t._selectDeferred.promise()},bound:function(e){if(e===v)return this._listCreated;this._listCreated=e},mute:function(e){this._mute=true;e();this._mute=false},setDSFilter:function(e){this._lastDSFilter=g.extend({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!o.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:g.noop,_getElementByIndex:function(i){return this.items().filter(function(e,t){return i===parseInt(g(t).attr("data-offset-index"),10)})},_getElementByDataItem:function(e){var t=this._dataView,i=this._valueGetter,n,r;for(var a=0;a<t.length;a++){r=t[a].item&&E(t[a].item)?t[a].item===e:t[a].item&&e&&i(t[a].item)==i(e);if(r){n=t[a];break}}return n?this._getElementByIndex(n.index):g()},_clean:function(){this.result=v;this._lastScrollTop=v;this._skip=v;g(this.heightContainer).remove();this.heightContainer=v;this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,i=this.options.itemHeight,n=this.dataSource.total();if(!e)t=0;else if(t/i>n)t=n*i;return t},setScreenHeight:function(){var e=this._height();this.content.height(e);this._screenHeight=e},screenHeight:function(){return this._screenHeight},_getElementLocation:function(e){var t=this.content.scrollTop(),i=this._screenHeight,n=this.options.itemHeight,r=e*n,a=r+n,o=t+i,s;if(r===t-n||a>t&&r<t)s="top";else if(r===o||r<o&&o<a)s="bottom";else if(r>=t&&r<=t+(i-n))s="inScreen";else s="outScreen";return s},_templates:function(){var e=this.options;var t={template:e.template,placeholderTemplate:e.placeholderTemplate,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};if(e.columns)for(var i=0;i<e.columns.length;i++){var n=e.columns[i];var r=n.field?n.field.toString():"text";t["column"+i]=n.template||"#: "+r+"#"}for(var a in t)if(typeof t[a]!=="function")t[a]=o.template(t[a]||"");this.templates=t},_generateItems:function(e,t){var i=[],n,r,a=this.options.itemHeight+"px",o=this.options.columns&&this.options.columns.length?p:f;while(t-- >0){r=document.createElement("span");r.className="k-list-item-text";n=document.createElement("li");n.tabIndex=-1;n.className=o;n.setAttribute("role","option");n.style.height=a;n.style.minHeight=a;n.appendChild(r);e.appendChild(n);i.push(n)}return i},_saveInitialRanges:function(){var e=this.dataSource._ranges;var t=g.Deferred();t.resolve();this._rangesList={};for(var i=0;i<e.length;i++)this._rangesList[e[i].start]={end:e[i].end,deferred:t}},_createList:function(){var n=this,e=n.content.get(0),t=n.options,i=n.dataSource;if(n.bound())n._clean();n._saveInitialRanges();n._buildValueGetter();n.setScreenHeight();n.itemCount=A(n._screenHeight,t.listScreens,t.itemHeight);if(n.itemCount>i.total())n.itemCount=i.total();n._items=n._generateItems(n.element[0],n.itemCount);n._setHeight(t.itemHeight*i.total());n.options.type=(i.group()||[]).length?"group":"flat";if(n.options.type==="flat")if(n.header.closest(S).length)n.header.closest(S).hide();else n.header.hide();else if(n.header.closest(S).length)n.header.closest(S).show();else n.header.show();n.getter=n._getter(function(){n._renderItems(true)});n._onScroll=function(e,t){var i=n._listItems(n.getter);return n._fixedHeader(e,i(e,t))};n._renderItems=n._whenChanged(N(e,n._onScroll),L(n._reorderList(n._items,W.bind(n))));n._renderItems();n._calculateGroupPadding(n._screenHeight);n._calculateColumnsHeaderPadding()},_setHeight:function(e){var t,i=this.heightContainer;if(!i)i=this.heightContainer=F(this.content[0],r);else t=i.offsetHeight;if(e!==t){i.innerHTML="";while(e>0){var n=Math.min(e,25e4);F(i).style.height=n+"px";e-=n}}},_getter:function(){var c=null,f=this.dataSource,p=f.skip(),h=this.options.type,m=this.itemCount,g={};if(f.pageSize()<m)this.mute(function(){f.pageSize(m)});return function(e,t){var i=this;if(!f.inRange(t,m)){if(c!==t){c=t;p=t;if(i._getterDeferred)i._getterDeferred.reject();i._getterDeferred=i.deferredRange(t);i._getterDeferred.then(function(){var e=i._indexConstraint(i.content[0].scrollTop);i._getterDeferred=null;if(t<=e&&e<=t+m){i._fetching=true;f.range(t,m)}})}return null}else{if(p!==t)this.mute(function(){f.range(t,m);p=t});var n;if(h==="group"){if(!g[t]){var r=g[t]=[];var a=f.view();for(var o=0,s=a.length;o<s;o++){var l=a[o];for(var d=0,u=l.items.length;d<u;d++)r.push({item:l.items[d],group:l.value})}}n=g[t][e-t]}else n=f.view()[e-t];return n}}},_fixedHeader:function(e,t){var i=this.currentVisibleGroup,n=this.options.itemHeight,r=Math.floor((e-t.top)/n),a=t.items[r];if(a&&a.item){var o=a.group;if(o!==i){var s=o||"";this.header.html(this.templates.fixedGroupTemplate(s));this.currentVisibleGroup=o}}return t},_itemMapper:function(e,t,i){var n=this.options.type,r=this.options.itemHeight,a=this._focusedIndex,o=false,s=false,l=false,d=null,u=false,c=this._valueGetter;if(n==="group"){if(e){l=t===0||this._currentGroup!==false&&this._currentGroup!==e.group;this._currentGroup=e.group}d=e?e.group:null;e=e?e.item:null}if(this.options.mapValueTo==="dataItem"&&this._selectedDataItems.length&&e)for(var f=0;f<this._selectedDataItems.length;f++){u=c(this._selectedDataItems[f])===c(e);if(u){o=true;break}}else if(!this.isFiltered()&&i.length&&e)for(var p=0;p<i.length;p++){u=E(e)?i[p]===e:i[p]===c(e);if(u){i.splice(p,1);o=true;break}}if(a===t)s=true;return{item:e?e:null,group:d,newGroup:l,selected:o,current:s,index:t,top:t*r}},_range:function(e){var t=this.itemCount,i=this._values.slice(),n=[],r;this._view={};this._currentGroup=false;for(var a=e,o=e+t;a<o;a++){r=this._itemMapper(this.getter(a,e),a,i);if(n[n.length-1])n[n.length-1].isLastGroupedItem=r.newGroup;n.push(r);this._view[r.index]=r}this._dataView=n;return n},_getDataItemsCollection:function(e,t){var i=this._range(this._listIndex(e,t));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var e=this._screenHeight,t=this.options;var r=P(t,e);return function(e,t){var i=this.result,n=this._lastScrollTop;if(t||!i||!r(i,e,n))i=this._getDataItemsCollection(e,n);this._lastScrollTop=e;this.result=i;return i}.bind(this)},_whenChanged:function(i,n){var r;return function(e){var t=i(e);if(t!==r){r=t;n(t,e)}}},_reorderList:function(o,s){var l=this;var d=o.length;var u=-Infinity;s=V(s,this.templates).bind(this);return function(e,t,i){var n=t-u;var r,a;if(i||Math.abs(n)>=d){r=o;a=e}else{r=U(o,n);a=n>0?e.slice(-n):e.slice(0,-n)}s(r,a,l.bound());u=t}},_bufferSizes:function(){var e=this.options;return t(this._screenHeight,e.listScreens,e.oppositeBuffer)},_indexConstraint:function(e){var t=this.itemCount,i=this.options.itemHeight,n=this.dataSource.total();return Math.min(Math.max(n-t,0),Math.max(0,Math.floor(e/i)))},_listIndex:function(e,t){var i=this._bufferSizes(),n;n=e-(e>t?i.down:i.up);return this._indexConstraint(n)},_selectable:function(){var e=this.options.columns&&this.options.columns.length?p:f;if(this.options.selectable){this._selectProxy=this._clickHandler.bind(this);this.element.on(i+T,"."+e,this._selectProxy)}},getElementIndex:function(e){if(!(e instanceof jQuery))return v;return parseInt(e.attr("data-offset-index"),10)},_getIndecies:function(e){var t=[],i;if(typeof e==="function"){i=this.dataSource.flatView();for(var n=0;n<i.length;n++)if(e(i[n])){t.push(n);break}}if(typeof e==="number")t.push(e);var r=this.getElementIndex(e);if(!isNaN(r))t.push(r);if(e instanceof Array)t=e;return t},_deselect:function(e){var t=[],i,n,r=this._selectedIndexes,a=this._selectedDataItems,o=0,s=this.options.selectable,l=0,d=this._valueGetter,u,c,f=null;e=e.slice();if(s===true||!e.length){for(var p=0;p<r.length;p++){if(r[p]!==v)this._getElementByIndex(r[p]).removeClass(b);else if(a[p])this._getElementByDataItem(a[p]).removeClass(b);t.push({index:r[p],position:p,dataItem:a[p]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}else if(s==="multiple")for(var h=0;h<e.length;h++){f=null;o=g.inArray(e[h],r);n=this.dataItemByIndex(e[h]);if(o===-1&&n)for(var m=0;m<a.length;m++){c=E(n)?a[m]===n:d(a[m])===d(n);if(c){u=this._getElementByIndex(e[h]);f=this._deselectSingleItem(u,m,e[h],l)}}else{i=r[o];if(i!==v){u=this._getElementByIndex(i);f=this._deselectSingleItem(u,o,i,l)}}if(f){e.splice(h,1);t.push(f);l++;h--}}return{indices:e,removed:t}},_deselectSingleItem:function(e,t,i,n){var r;if(!e.hasClass(b))return;e.removeClass(b);this._values.splice(t,1);this._selectedIndexes.splice(t,1);r=this._selectedDataItems.splice(t,1)[0];return{index:i,position:t+n,dataItem:r}},_deselectCurrentValues:function(e){var t=this.element[0].children;var i,n,r;var a=this._values;var o=[];var s=0;var l;if(this.options.selectable!=="multiple"||!this.isFiltered())return[];if(e[0]===-1){g(t).removeClass(b);o=g.map(this._selectedDataItems.slice(0),function(e,t){return{dataItem:e,position:t}});this._selectedIndexes=[];this._selectedDataItems=[];this._values=[];return o}for(;s<e.length;s++){r=-1;n=e[s];if(this.dataItemByIndex(n))i=this._valueGetter(this.dataItemByIndex(n));for(l=0;l<a.length;l++)if(i==a[l]){r=l;break}if(r>-1){o.push(this.removeAt(r));g(t[n]).removeClass(b)}}return o},_getSkip:function(e,t){var i=e<t?1:Math.floor(e/t)+1;return(i-1)*t},_select:function(e){var n=this,t=this.options.selectable!=="multiple",r=this.dataSource,a,o,s=this.itemCount,l=this._valueGetter,d=[];if(t){n._selectedIndexes=[];n._selectedDataItems=[];n._values=[]}o=r.skip();g.each(e,function(e,t){var i=n._getSkip(t,s);n.mute(function(){r.range(i,s);a=n._findDataItem(r.view(),[t-i]);n._selectedIndexes.push(t);n._selectedDataItems.push(a);n._values.push(E(a)?a:l(a));d.push({index:t,dataItem:a});n._getElementByIndex(t).addClass(b);r.range(o,s)})});n._values=n._checkValuesOrder(n._values);return d},_clickHandler:function(e){var t=g(e.currentTarget);if(!e.isDefaultPrevented()&&t.attr("data-uid"))this.trigger(i,{item:t})},_buildValueGetter:function(){this._valueGetter=o.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),i=this.header,n=0;if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")n=o.support.scrollbar();n+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10);i.css("padding-right",n)}},_calculateColumnsHeaderPadding:function(){if(this.options.columns&&this.options.columns.length){var e=o.support.isRtl(this.wrapper);var t=o.support.scrollbar();var i=this.content.parent().parent().find(".k-table-header");var n=this.dataSource.total();i.css(e?"padding-left":"padding-right",n?t:0)}}});return o.ui.VirtualList=M,o.ui.plugin(M),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.combobox.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.button.min"],function(){var e={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},o=window.kendo.jQuery,l=void 0,a=window.kendo,t=a.ui,u=a.html,d=t.List,s=t.Select,c=a.caret,f=a.support,p=f.placeholder,h=a._activeElement,m=a.keys,g=".kendoComboBox",i=g+"FocusEvent",v="click"+g,_="mousedown"+g,b="disabled",k="readonly",w="change",n="k-i-loading k-input-loading-icon",y="k-focus",x="k-disabled",C="aria-disabled",S="aria-readonly",T="off",I="filter",r="accept",D="rebind",E="mouseenter"+g+" mouseleave"+g,A=/(\r\n|\n|\r)/gm,F=[16,17,18,19,20,33,34,37,39,45,91,92,144,145],H=s.extend({init:function(e,t){var i=this,n,r;i.ns=g;t=Array.isArray(t)?{dataSource:t}:t;s.fn.init.call(i,e,t);t=i.options;e=i.element.on("focus"+g,i._focusHandler.bind(i));t.placeholder=t.placeholder||e.attr("placeholder");i._reset();i._wrapper();i._input();i._clearButton();i._tabindex(i.input);i._popup();i._dataSource();i._ignoreCase();i._enable();i._attachFocusEvents();i._oldIndex=i.selectedIndex=-1;i._aria();i._initialIndex=t.index;i.requireValueMapper(i.options);i._initList();i._cascade();if(t.autoBind)i._filterSource();else{n=t.text;if(!n&&i._isSelect)n=e.children(":selected").text();if(n)i._setText(n)}if(!n)i._placeholder();r=o(i.element).parents("fieldset").is(":disabled");if(r)i.enable(false);a.notify(i);i._toggleCloseVisibility();i._applyCssClasses()},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:false,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},virtual:false,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,syncValueAndText:true,autoWidth:false,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close",w,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e);this.listView.setOptions(t);this._accessors();this._aria();this._clearButton()},destroy:function(){var e=this;e.input.off(g);e.input.off(i);e.element.off(g);e.wrapper.off(g);clearTimeout(e._pasteTimeout);e._arrow.off(v+" "+_);e._clear.off(v+" "+_);s.fn.destroy.call(e)},_isValueChanged:function(e){return e!==d.unifyType(this._old,typeof e)&&e!==d.unifyType(this._oldText,typeof e)},_change:function(){var e=this;var t=e.text();var i=t&&t!==e._oldText&&t!==e.options.placeholder;var n=e.selectedIndex;var r=n===-1;if(!e.options.syncValueAndText&&!e.value()&&r&&i){e._old="";e._oldIndex=n;e._oldText=t;if(!e._typing)e.element.trigger(w);e.trigger(w);e._typing=false;return}s.fn._change.call(e);e._oldText=e.text&&e.text();e._toggleCloseVisibility()},_attachFocusEvents:function(){var e=this;e.input.on("focus"+i,e._inputFocus.bind(e)).on("focusout"+i,e._inputFocusout.bind(e))},_focusHandler:function(e){if(e.target===this.element[0])this.input.trigger("focus")},_arrowClick:function(){this._toggle()},_inputFocus:function(){this.wrapper.addClass(y);this._placeholder(false)},_inputFocusout:function(e){var t=this;var i=t.value();var n=!o(e.relatedTarget).closest(".k-clear-value").length;t._userTriggered=true;t.wrapper.removeClass(y);clearTimeout(t._typingTimeout);t._typingTimeout=null;if(n)t.text(t.text());var r=t._focus();var a=this.listView.dataItemByIndex(this.listView.getElementIndex(r));if(i!==t.value()&&t.trigger("select",{dataItem:a,item:r})){t.value(i);return}t._placeholder();t._valueBeforeCascade=t._old;if(n){t._blur();t.element.trigger("blur")}},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout);e._pasteTimeout=null;e._pasteTimeout=setTimeout(function(){e.search()})},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t.wrapper.off(g),a=t.element.add(t.input.off(g)),o=t._arrow.off(v+" "+_),s=t._clear;if(!n&&!i){r.removeClass(x).on(E,t._toggleHover);a.prop(b,false).prop(k,false).attr(C,false).attr(S,false);o.on(v,t._arrowClick.bind(t)).on(_,function(e){e.preventDefault()});s.on(v+" touchend"+g,t._clearValue.bind(t));t.input.on("keydown"+g,t._keydown.bind(t)).on("input"+g,t._search.bind(t)).on("paste"+g,t._inputPaste.bind(t));t.wrapper.on(v+g,t._focusHandler.bind(t))}else{r.addClass(i?x:"").removeClass(i?"":x);a.attr(b,i).attr(k,n).attr(C,i).attr(S,n)}t._toggleCloseVisibility()},open:function(){var e=this;var t=e._state;var i=e.dataSource.filter()?e.dataSource.filter().filters.length>0:false;var n=!e.ul.find(e.listView.focus()).length;if(e.popup.visible())return;if(!e.listView.bound()&&t!==I||t===r){e._open=true;e._state=D;if(e.options.minLength!==1&&!i||i&&e.value()&&e.selectedIndex===-1){e.refresh();e._openPopup();if(!this.options.virtual)e.listView.bound(false)}else e._filterSource()}else if(e._allowOpening()){e.popup._hovered=true;e._openPopup();if(e.options.virtual)e._focusItem();else if(n&&e.options.highlightFirst)e.listView.focus(0)}},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",this._scrollToFocusedItem.bind(this));this.popup.open()},_updateSelectionState:function(){var e=this;var t=e.options.text;var i=e.options.value;if(e.listView.isFiltered())return;if(e.selectedIndex===-1){if(t===l||t===null)t=i;e._accessor(i);e.input.val(t||e.input.val());e._placeholder()}else if(e._oldIndex===-1)e._oldIndex=e.selectedIndex},_buildOptions:function(e){var t=this;if(!t._isSelect)return;var i=t._customOption;if(t._state===D)t._state="";t._customOption=l;t._options(e,"",t.value());if(i&&i[0].selected&&!t.listView._emptySearch)t._custom(i.val())},_updateSelection:function(){var e=this;var t=e.listView;var i=e._initialIndex;var n=i!==null&&i>-1;var r=e._state===I;if(r){o(t.focus()).removeClass("k-selected");return}if(e._fetch)return;if(!t.value().length)if(n)e.select(i);else if(e._accessor())t.value(e._accessor());e._initialIndex=null;var a=t.selectedDataItems()[0];if(!a)return;if(e._value(a)!==e.value())e._custom(e._value(a));else if(e._value(a)!==e.element[0].value)e._accessor(e._value(a));if(e.text()&&e.text()!==e._text(a))e._selectValue(a)},_updateItemFocus:function(){var e=this.listView;if(!this.options.highlightFirst)e.focus(-1);else if(!e.focus()&&!e.focusIndex())e.focus(0)},_listBound:function(){var e=this;var t=e.input[0]===h();var i=e.dataSource.flatView();var n=e.listView.skip();var r=i.length;var a=e.dataSource._group?e.dataSource._group.length:0;var o=n===l||n===0;e._presetValue=false;e._renderFooter();e._renderNoData();e._toggleNoData(!r);e._toggleHeader(!!a&&!!r);e._resizePopup();e.popup.position();e._buildOptions(i);e._updateSelection();if(i.length&&o){e._updateItemFocus();if(e.options.suggest&&t&&e.input.val())e.suggest(i[0])}if(e._open){e._open=false;if(e._typingTimeout&&!t)e.popup.close();else e.toggle(e._allowOpening());e._typingTimeout=null}e._hideBusy();e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue)this._oldIndex=this.selectedIndex},_get:function(e){var t,i,n;if(typeof e==="function"){t=this.dataSource.flatView();for(n=0;n<t.length;n++)if(e(t[n])){e=n;i=true;break}if(!i)e=-1}if(!this.dataSource.total()&&!e)e=-1;return e},_select:function(e,t){var i=this;e=i._get(e);if(e===-1){i.input[0].value="";i._accessor("")}return i.listView.select(e).done(function(){if(!t&&i._state===I)i._state=r;i._toggleCloseVisibility()})},_selectValue:function(e){var t=this.listView.select();var i="";var n="";t=t[t.length-1];if(t===l)t=-1;this.selectedIndex=t;if(this.listView.isFiltered()&&t!==-1)this._valueBeforeCascade=this._old;if(t===-1&&!e){if(this.options.syncValueAndText){if(this.options.dataTextField===this.options.dataValueField)n=this._accessor();else n=this.input[0].value;i=n}else n=this.text();this.listView.focus(-1)}else{if(e||e===0){i=this._dataValue(e);n=this._text(e)}if(i===null)i=""}this._setDomInputValue(n);this._accessor(i!==l?i:n,t);this._placeholder();this._triggerCascade()},_setDomInputValue:function(e){var t=this;var i=c(this.input);var n;if(i&&i.length)n=i[0];this._prev=this.input[0].value=e;if(n&&this.selectedIndex===-1){var r=f.mobileOS;if(r.wp||r.android)setTimeout(function(){t.input[0].setSelectionRange(n,n)},0);else this.input[0].setSelectionRange(n,n)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");if(this.text()&&!e)this._showClear();else this._hideClear()},suggest:function(e){var t=this;var i=t.input[0];var n=t.text();var r=c(i)[0];var a=t._last;var o;var s=t.dataSource.options.accentFoldingFiltering;if(a==m.BACKSPACE||a==m.DELETE){t._last=l;return}e=e||"";if(typeof e!=="string"){if(e[0])e=t.dataSource.view()[d.inArray(e[0],t.ul[0])];e=e?t._text(e):""}if(r<=0)r=(s?n.toLocaleLowerCase(s):n.toLowerCase()).indexOf(s?e.toLocaleLowerCase(s):e.toLowerCase())+1;if(e){e=e.toString();o=(s?e.toLocaleLowerCase(s):e.toLowerCase()).indexOf(s?n.toLocaleLowerCase(s):n.toLowerCase());if(o>-1)n+=e.substring(o+n.length)}else n=n.substring(0,r);if(n.length!==r||!e){i.value=n;if(i===h())c(i,r,n.length)}},text:function(e){e=e===null?"":e;var t=this;var i=t.input[0];var n=t.options.ignoreCase;var r=e;var a;var o;if(e===l)return i.value;if(t.options.autoBind===false&&!t.listView.bound()){t._setText(e);return}a=t.dataItem();if(a&&t._text(a).replace&&t._text(a).replace(A,"")===e){o=t._value(a);if(o===d.unifyType(t._old,typeof o)){t._triggerCascade();return}}if(n)r=r.toLowerCase();if(t.dataItem()&&t._text(t.dataItem())===e)return;t._select(function(e){e=t._text(e);if(n)e=(e+"").toLowerCase();return e===r}).done(function(){if(t.selectedIndex<0){i.value=e;if(t.options.syncValueAndText)t._accessor(e);t._cascadeTriggered=true;t._triggerCascade()}t._prev=i.value});t._toggleCloseVisibility()},toggle:function(e){this._toggle(e,true)},value:function(e){var t=this;var i=t.options;var n=t.listView;if(e===l){e=t._accessor()||t.listView.value()[0];return e===l||e===null?"":e}t.requireValueMapper(t.options,e);t.trigger("set",{value:e});if(e===i.value&&t.input.val()===i.text&&!t.options.cascadeFrom)return;t._accessor(e);if(t._isFilterEnabled()&&n.bound()&&n.isFiltered())t._clearFilter();else t._fetchData();n.value(e).done(function(){if(t.selectedIndex===-1&&(!n._selectedDataItems||!n._selectedDataItems.length)){t._accessor(e);t.input.val(e);t._placeholder(true)}if(t._userTriggered)t._old=t._accessor();else t._old=t._valueBeforeCascade=t._accessor();t._oldIndex=t.selectedIndex;t._prev=t._oldText=t.input.val();if(t._state===I)t._state=r;t._toggleCloseVisibility()})},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._arrowIcon.removeClass(n);e._focused.attr("aria-busy",false);e._busy=null;e._toggleCloseVisibility()},_click:function(e){var t=this;var i=e.item;var n=t.listView.dataItemByIndex(t.listView.getElementIndex(i));var r=true;e.preventDefault();if(n){r=t._value(n)!==d.unifyType(t.value(),typeof t._value(n));if(!r)t.input.val(t._text(n))}if(r&&t.trigger("select",{dataItem:n,item:i})){t.close();return}t._userTriggered=true;t._select(i).done(function(){t._blur()})},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(i){var n=this;var e=n.options;var t=n.dataSource;var r=e.ignoreCase;var a=function(e){var t=n._text(e);if(t!==l){t=t+"";if(t!==""&&i==="")return false;if(r)t=t.toLowerCase();return t.indexOf(i)===0}};if(r)i=i.toLowerCase();if(!n.ul[0].firstChild){t.one(w,function(){if(t.view()[0])n.search(i)}).fetch();return}this.listView.focus(this._get(a));var o=this.listView.focus();if(o){if(e.suggest)n.suggest(o);this.open()}if(this.options.highlightFirst&&!i)this.listView.focusFirst()},_input:function(){var e=this,t=e.element.removeClass("k-input-inner")[0],i=t.accessKey,n=e.wrapper,r="input.k-input-inner",a=t.name||"",o=e.options,s,l,d;if(a)a='name="'+a+'_input" ';s=n.find(r);if(!s[0]){d=u.renderButton('<button type="button" class="k-input-button" aria-label="expand combobox"></button>',{icon:"arrow-s",size:o.size,fillMode:o.fillMode,shape:"none",rounded:"none"});n.append("<input "+a+'class="k-input-inner" type="text" autocomplete="'+T+'"/>').append(d).append(e.element);s=n.find(r)}s[0].style.cssText=t.style.cssText;s[0].title=t.title;l=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10);if(l>-1)s[0].maxLength=l;s.addClass(t.className).css({width:"",height:t.style.height,position:""}).attr({role:"combobox","aria-expanded":false}).show();if(p)s.attr("placeholder",e.options.placeholder);if(i){t.accessKey="";s[0].accessKey=i}e._focused=e.input=s;e._arrow=n.find(".k-input-button").attr({role:"button",tabIndex:-1});e._arrowIcon=e._arrow.find(".k-icon")},_clearButton:function(){d.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.input);this.wrapper.addClass("k-combobox-clearable")}},_keydown:function(e){var t=this,i=e.keyCode,n=t.options.dataTextField||"text",r=i>=112&&i<=135,a=F.indexOf(i)>-1;t._last=i;clearTimeout(t._typingTimeout);t._typingTimeout=null;if(i===m.HOME)t._firstItem();else if(i===m.END)t._lastItem();else if(i===m.ENTER||i===m.TAB&&t.popup.visible()){var o=t.listView.focus();var s=t.dataItem();var l=true;if(!t.popup.visible()&&(!s||t.text()!==t._text(s)))o=null;if(o){if(t.popup.visible())e.preventDefault();s=t.listView.dataItemByIndex(t.listView.getElementIndex(o));if(s)l=t._value(s)!==d.unifyType(t.value(),typeof t._value(s));if(l&&t.trigger("select",{dataItem:s,item:o}))return;t._userTriggered=true;t._select(o).done(function(){t._blur();t._valueBeforeCascade=t._old=t.value()})}else{if(t._syncValueAndText()||t._isSelect)if(!t.dataItem()||t.dataItem()[n]!==t.input.val())t._accessor(t.input.val());if(t.options.highlightFirst){t.listView.value(t.input.val());t._blur()}else t._oldText=t.text()}}else if(i!=m.TAB&&!t._move(e)&&!a&&!r&&!e.ctrlKey)t._search();else if(i===m.ESC&&!t.popup.visible()&&t.text())t._clearValue()},_placeholder:function(e){if(p)return;var t=this,i=t.input,n=t.options.placeholder,r;if(n){r=t.value();if(e===l)e=!r;i.toggleClass("k-readonly",e);if(!e)if(!r)n="";else return;i.val(n);if(!n&&i[0]===h())c(i[0],0,0)}},_search:function(){var t=this;clearTimeout(t._typingTimeout);t._typingTimeout=setTimeout(function(){var e=t.text();if(e!==""&&t._prev!==e){t._prev=e;if(t.options.filter==="none"&&t.options.virtual)t.listView.select(-1);t.search(e);t._toggleCloseVisibility()}else if(e===""&&t._prev!==""&&t._prev!==l){t._clearValue();t._open=true;t._state=D}t._typingTimeout=null},t.options.delay)},_setText:function(e){this.input.val(e);this._prev=e},_wrapper:function(){var e=this,t=e.element,i=t.parent();if(!i.is("span.k-input")){i=t.hide().wrap("<span />").parent();i[0].style.cssText=t[0].style.cssText}e.wrapper=i.addClass("k-input k-combobox").addClass(t[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(e,t){var i=this;var n=e.value();var r=n&&e.selectedIndex===-1;if(this.selectedIndex==-1&&this.value())return;if(t||!n||r){i.options.value="";i.value("")}},_preselect:function(e,t){this.input.val(t);this._accessor(e);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(e);this._placeholder();this._initialIndex=null;this._presetValue=true;this._toggleCloseVisibility()},_clearText:function(){this._old=this.value();this.text("")},_clearValue:function(){s.fn._clearValue.call(this);this.input.trigger("focus")}});return t.plugin(H),a.cssProperties.registerPrefix("ComboBox","k-input-"),a.cssProperties.registerValues("ComboBox",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dateinput.min",["kendo.core.min"],function(){var e={id:"dateinput",name:"DateInput",category:"web",description:"The DateInput widget allows to edit date by typing.",depends:["core"]},o=window.kendo.jQuery,I=void 0,t,D=window.kendo,d=D.caret,i=D.ui,s=i.Widget,u=D.keys,l=".kendoDateInput",n={}.toString,r=(D.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+l,c="k-focus",f="k-disabled",a="k-invalid",p="disabled",h="readonly",m="change",g="dMyHhmftsz",v=s.extend({init:function(t,e){var i=this;s.fn.init.call(i,t,e);t=i.element;e=i.options;e.format=D._extractFormat(e.format||D.getCulture(e.culture).calendars.standard.patterns.d);e.min=D.parseDate(t.attr("min"))||D.parseDate(e.min);e.max=D.parseDate(t.attr("max"))||D.parseDate(e.max);var n=t.parent().attr("class")||"";var r=n.indexOf("picker")>=0&&n.indexOf("rangepicker")<0;if(r)i.wrapper=t.parent();else{i.wrapper=t.wrap("<span class='k-dateinput k-input'></span>").parent();i.wrapper.addClass(t[0].className).removeClass("input-validation-error");i.wrapper[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height})}i._validationIcon=o("<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>").insertAfter(t);i._form();i.element.addClass(r?" ":"k-input-inner").attr("autocomplete","off").on("focus"+l,function(){i.wrapper.addClass(c)}).on("focusout"+l,function(){i.wrapper.removeClass(c);i._change()});try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}var a=t.is("[disabled]")||o(i.element).parents("fieldset").is(":disabled");if(a)i.enable(false);else i.readonly(t.is("[readonly]"));i.value(i.options.value||t.val());i._applyCssClasses();D.notify(i)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"},size:"medium",fillMode:"solid",rounded:"medium"},events:[m],min:function(e){if(e!==I)this.options.min=e;else return this.options.min},max:function(e){if(e!==I)this.options.max=e;else return this.options.max},setOptions:function(e){var t=this;s.fn.setOptions.call(t,e);this._unbindInput();this._bindInput();this._updateElementValue()},destroy:function(){var e=this;e.element.off(l);if(e._formElement)e._formElement.off("reset",e._resetHandler);s.fn.destroy.call(e)},value:function(e){if(e===I)return this._dateTime.getDateObject();if(e===null)e="";if(n.call(e)!=="[object Date]")e=D.parseDate(e,this.options.format,this.options.culture);if(e&&!e.getTime())e=null;this._dateTime=new _(e,this.options.format,this.options.culture,this.options.messages);this._updateElementValue();this._oldValue=e},_updateElementValue:function(){var e=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(e[0]);this._oldText=e[0];this._format=e[1]},readonly:function(e){this._editable({readonly:e===I?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===I?true:e)})},_bindInput:function(){var e=this;e.element.on("focus"+l,function(){e.wrapper.addClass(c)}).on("focusout"+l,function(){e.wrapper.removeClass(c);e._change()}).on("paste"+l,e._paste.bind(e)).on("keydown"+l,e._keydown.bind(e)).on(r,e._input.bind(e)).on("mouseup"+l,e._mouseUp.bind(e)).on("DOMMouseScroll"+l+" mousewheel"+l,e._scroll.bind(e))},_unbindInput:function(){this.element.off("keydown"+l).off("paste"+l).off("focus"+l).off("focusout"+l).off(r).off("mouseup"+l).off("DOMMouseScroll"+l+" mousewheel"+l)},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;var a=t.wrapper;t._unbindInput();if(!r&&!n){a.removeClass(f);if(i&&i.length){i[0].removeAttribute(p);i[0].removeAttribute(h)}t._bindInput()}else{if(n){a.addClass(f);i.attr(p,n);if(i&&i.length)i[0].removeAttribute(h)}if(r)i.attr(h,r)}},_change:function(){var e=this;var t=e._oldValue;var i=e.value();if(i&&e.min()&&i<e.min()){e.value(e.min());i=e.value()}if(i&&e.max()&&i>e.max()){e.value(e.max());i=e.value()}if(t&&i&&i.getTime()!==t.getTime()||t&&!i||!t&&i){e._oldValue=i;e.trigger(m);e.element.trigger(m)}},_input:function(){var e=this;var t=e.element[0];var i=false;if(D._activeElement()!==t)return;var n=b(this._oldText,this._format,this.element[0].value,d(this.element[0])[0]);var r=n.length===1&&n[0][1]===" ";if(!r)for(var a=0;a<n.length;a++){var o=this._dateTime.parsePart(n[a][0],n[a][1]);i=i||!o}this._updateElementValue();if(n.length&&n[0][0]!==" "){this._selectSegment(n[0][0]);if(!r){var s=n[0][0];setTimeout(function(){e._selectSegment(s)})}}if(r){var l={keyCode:39,preventDefault:function(){}};this._keydown(l)}if(i)e._blinkInvalidState()},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(e._removeInvalidState.bind(e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(a);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(a);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_mouseUp:function(){var e=d(this.element[0]);if(e[0]===e[1])this._selectNearestSegment()},_scroll:function(e){if(D._activeElement()!==this.element[0]||this.element.is("[readonly]"))return;e=window.event||e;var t={keyCode:37,preventDefault:function(){}};if(e.shiftKey)t.keyCode=(e.wheelDelta||-e.detail)>0?37:39;else t.keyCode=(e.wheelDelta||-e.detail)>0?38:40;this._keydown(t);e.returnValue=false;if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation()},_form:function(){var e=this;var t=e.element;var i=t.attr("form");var n=i?o("#"+i):t.closest("form");var r=t[0].value;if(!r&&e.options.value)r=e.options.value;if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(r)})};e._formElement=n.on("reset",e._resetHandler)}},_paste:function(e){e.preventDefault()},_keydown:function(e){var t=e.keyCode;var i;if(t==37||t==39){e.preventDefault();i=d(this.element[0]);if(i[0]!=i[1])this._selectNearestSegment();var n=t==37?-1:1;var r=n==-1?d(this.element[0])[0]-1:d(this.element[0])[1]+1;while(r>=0&&r<this._format.length){if(g.indexOf(this._format[r])>=0){this._selectSegment(this._format[r]);break}r+=n}}if(t==38||t==40){e.preventDefault();i=d(this.element[0]);var a=this._format[i[0]];if(g.indexOf(a)>=0){var o=1;if(a=="m")o=this.options.interval||1;this._dateTime.modifyPart(a,t==38?o*1:o*-1);this._updateElementValue();this._selectSegment(a);this.element.trigger(m)}}if(D.support.browser.msie&&D.support.browser.version<10){var s=e.keyCode?e.keyCode:e.which;if(s===8||s===46){var l=this;setTimeout(function(){l._input()},0)}}if(t===u.ENTER)this._change()},_selectNearestSegment:function(){var e=d(this.element[0]);var t=e[0];for(var i=t,n=t-1;i<this._format.length||n>=0;i++,n--){if(i<this._format.length&&g.indexOf(this._format[i])!==-1){this._selectSegment(this._format[i]);return}if(n>=0&&g.indexOf(this._format[n])!==-1){this._selectSegment(this._format[n]);return}}},_selectSegment:function(e){var t=-1,i=0;for(var n=0;n<this._format.length;n++)if(this._format[n]===e){i=n+1;if(t===-1)t=n}if(t<0)t=0;d(this.element,t,i)}}),_=(D.cssProperties.registerPrefix("DateInput","k-input-"),D.cssProperties.registerValues("DateInput",[{prop:"rounded",values:D.cssProperties.roundedValues.concat([["full","full"]])}]),i.plugin(v),function(e,t,i,n){var f=null;var p=true,h=true,m=true,g=true,v=true,_=true,o=true;var b="";var k="";var s={};var r=["","0","00","000","0000"];function l(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return r[t].substring(0,i)+e;return e}var a=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g;var d=null,w=null,u=null,c=false;var y=function(e){var t,i;var n;switch(e){case"d":n=m?f.getDate():s.day;break;case"dd":n=m?l(f.getDate()):s.day;break;case"ddd":n=m&&h&&p?u.namesAbbr[f.getDay()]:s.weekday;break;case"dddd":n=m&&h&&p?u.names[f.getDay()]:s.weekday;break;case"M":n=h?f.getMonth()+1:s.month;break;case"MM":n=h?l(f.getMonth()+1):s.month;break;case"MMM":n=h?d.namesAbbr[f.getMonth()]:s.month;break;case"MMMM":n=h?d.names[f.getMonth()]:s.month;break;case"yy":n=p?l(f.getFullYear()%100):s.year;break;case"yyyy":n=p?l(f.getFullYear(),4):s.year;break;case"h":n=g?f.getHours()%12||12:s.hour;break;case"hh":n=g?l(f.getHours()%12||12):s.hour;break;case"H":n=g?f.getHours():s.hour;break;case"HH":n=g?l(f.getHours()):s.hour;break;case"m":n=v?f.getMinutes():s.minute;break;case"mm":n=v?l(f.getMinutes()):s.minute;break;case"s":n=_?f.getSeconds():s.second;break;case"ss":n=_?l(f.getSeconds()):s.second;break;case"f":n=o?Math.floor(f.getMilliseconds()/100):o;break;case"ff":n=f.getMilliseconds();if(n>99)n=Math.floor(n/10);n=o?l(n):e;break;case"fff":n=o?l(f.getMilliseconds(),3):e;break;case"tt":n=g?f.getHours()<12?w.AM[0]:w.PM[0]:s.dayperiod;break;case"zzz":t=f.getTimezoneOffset();i=t<0;n=Math.abs(t/60).toString().split(".")[0];t=Math.abs(t)-n*60;n=(i?"+":"-")+l(n);n+=":"+l(t);break;case"z":case"zz":n=f.getTimezoneOffset()/60;i=n<0;n=Math.abs(n).toString().split(".")[0];n=(i?"+":"-")+(e==="zz"?l(n):n);break}n=n!==I?n:e.slice(1,e.length-1);if(c){n=""+n;var r="";if(e=="ddd")e="EEE";if(e=="dddd")e="EEEE";for(var a=0;a<n.length;a++)r+=e[0];return r}else return n};function x(e){c=e;return y}function C(e,t){switch(e){case"y":p=t;break;case"M":h=t;if(!t){f.setMonth(0);b=""}break;case"d":m=t;break;case"H":case"h":g=t;if(!t)k="";break;case"m":v=t;break;case"s":_=t;break;default:return}}this.setValue=function(e){m=e};this.getValue=function(){return m};this.modifyPart=function(e,t){var i=new Date(f&&f.getTime?f.getTime():f);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":var n=i.getMonth()+t;i.setMonth(n);if(i.getMonth()%12!==(n+12)%12){i.setDate(1);i.setMonth(n)}break;case"d":case"E":i.setDate(i.getDate()+t);break;case"H":case"h":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"t":i.setHours((i.getHours()+12)%24);break;default:break}if(i.getFullYear()>0){C(e,true);f=i}};this.parsePart=function(e,t){if(!t){C(e,false);return true}var i=new Date(f&&f.getTime?f.getTime():f);var n=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();var r;switch(e){case"d":var a=(m?i.getDate()*10:0)+parseInt(t,10);if(isNaN(a))return;while(a>n)a=parseInt(a.toString().slice(1),10);if(a<1)m=false;else{i.setDate(a);if(i.getMonth()!==f.getMonth())return;m=true}break;case"M":var o=(h?(i.getMonth()+1)*10:0)+parseInt(t,10);if(!isNaN(o)){while(o>12)o=parseInt(o.toString().slice(1),10);if(o<1)h=false;else{i.setMonth(o-1);if(i.getMonth()!==o-1){i.setDate(1);i.setMonth(o-1)}h=true}}else{var s=w.months.names;b+=t.toLowerCase();while(b.length>0){for(var l=0;l<s.length;l++)if(s[l].toLowerCase().indexOf(b)===0){i.setMonth(l);h=true;f=i;return true}b=b.substring(1,b.length)}return false}break;case"y":var d=(p?i.getFullYear()*10:0)+parseInt(t,10);if(isNaN(d))return;while(d>9999)d=parseInt(d.toString().slice(1),10);if(d<1)p=false;else{i.setFullYear(d);p=true}break;case"h":r=(g?(i.getHours()%12||12)*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>12)r=parseInt(r.toString().slice(1),10);i.setHours(Math.floor(i.getHours()/12)*12+r%12);g=true;break;case"H":r=(g?i.getHours()*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>23)r=parseInt(r.toString().slice(1),10);i.setHours(r);g=true;break;case"m":var u=(v?i.getMinutes()*10:0)+parseInt(t,10);if(isNaN(u))return;while(u>59)u=parseInt(u.toString().slice(1),10);i.setMinutes(u);v=true;break;case"s":var c=(_?i.getSeconds()*10:0)+parseInt(t,10);if(isNaN(c))return;while(c>59)c=parseInt(c.toString().slice(1),10);i.setSeconds(c);_=true;break;case"t":if(g){k+=t.toLowerCase();while(k.length>0){if(w.AM[0].toLowerCase().indexOf(k)===0&&i.getHours()>=12||w.PM[0].toLowerCase().indexOf(k)===0&&i.getHours()<12){i.setHours((i.getHours()+12)%24);f=i;return true}k=k.substring(1,k.length)}return false}break;default:break}f=i;return true};this.toPair=function(e,t,i){if(!e)return["",""];t=D.getCulture(t);w=t.calendars.standard;e=w.patterns[e]||e;u=w.days;d=w.months;s=i;return[e.replace(a,x(false)),e.replace(a,x(true))]};this.getDateObject=function(){return p&&h&&m&&g&&v&&_&&o?new Date(f.getTime()):null};if(!e){f=new Date;var S=this.toPair(t,i,n)[1];for(var T=0;T<S.length;T++)C(S[T],false)}else f=new Date(e.getTime())});function b(e,t,i,n){var r=e[n+e.length-i.length];e=e.substring(0,n+e.length-i.length);i=i.substring(0,n);var a=[];var o;if(e===i&&n>0){a.push([t[n-1],i[n-1]]);return a}if(e.indexOf(i)===0&&(i.length===0||t[i.length-1]!==t[i.length])){var s="";for(o=i.length;o<e.length;o++)if(t[o]!==s&&g.indexOf(t[o])>=0){s=t[o];a.push([s,""])}return a}if(i[i.length-1]===" "||i[i.length-1]===r)return[[t[n-1]," "]];if(i.indexOf(e)===0||g.indexOf(t[n-1])===-1){var l=t[0];for(o=Math.max(0,e.length-1);o<t.length;o++)if(g.indexOf(t[o])>=0){l=t[o];break}return[[l,i[n-1]]]}return[[t[n-1],i[n-1]]]}return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],function(){var e={id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true},u=window.kendo.jQuery,t=void 0,c=window.kendo,a=c.ui.Widget,n=Math.abs,o="aria-selected",f="k-selected",d="k-selecting",p="k-selectable",h="change",i=".kendoSelectable",r="unselect",m="k-unselecting",s="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable",l=c.support.browser.msie,g=false,v=u.extend,_,b=(u('<div class="parent"><span></span></div>').on("click",">*",function(){g=true}).find("span").trigger("click").end().off(),a.extend({init:function(e,t){var i=this,n,r;a.fn.init.call(i,e,t);i._marquee=u("<div class='k-marquee'><div class='k-marquee-color'></div></div>");i._lastActive=null;i.element.addClass(p);i.relatedTarget=i.options.relatedTarget;n=i.options.multiple;r=i.options.dragToSelect;i.userEvents=new c.UserEvents(i.element,{global:true,allowSelection:true,filter:(!g?"."+p+" ":"")+i.options.filter,tap:i._tap.bind(i),touchAction:n?"none":"pan-x pan-y"});if(n){if(r)i.userEvents.bind("start",i._start.bind(i)).bind("move",i._move.bind(i)).bind("end",i._end.bind(i));i.userEvents.bind("select",i._select.bind(i))}},events:[h,r],options:{name:"Selectable",filter:">*",inputSelectors:s,multiple:false,dragToSelect:true,relatedTarget:u.noop,ignoreOverlapped:false,addIdToRanges:false},_isElement:function(e){var t=this.element;var i,n=t.length,r=false;e=e[0];for(i=0;i<n;i++)if(t[i]===e){r=true;break}return r},_tap:function(e){var t=u(e.target),i=this,n=e.event.ctrlKey||e.event.metaKey,r=i.options.multiple,a=r&&e.event.shiftKey,o=i.options.selectedClass||f,s,l=e.event.which,d=e.event.button;if(!i._isElement(t.closest("."+p))||l&&l==3||d&&d==2)return;if(!this._allowSelection(e.event.target))return;s=t.hasClass(o);t=t.add(i.relatedTarget(t));if(!r){if(s&&n){i._unselect(t);i._notify(h,e)}else if(!s){i.clear();i.value(t,e);i._notify(h,e)}}else if(a){if(!i._lastRange||!k(i._lastRange,t)){i.selectRange(i._firstSelectee(),t,e);i._notify(h,e)}i._lastRange=t}else{i._lastRange=null;if(s&&n){i._unselect(t);i._notify(h,e)}else if(n){i.value(t,e);i._notify(h,e)}else if(!s||i.value().length>1){i.clear();i.value(t,e);i._notify(h,e)}i._lastActive=i._downTarget=t}},_start:function(e){var t=this,i=u(e.target),n=t.options.selectedClass||f,r=i.hasClass(n),a,o=e.event.ctrlKey||e.event.metaKey;if(!this._allowSelection(e.event.target))return;t._downTarget=i;if(!t._isElement(i.closest("."+p))){t.userEvents.cancel();return}if(t.options.useAllItems)t._items=t.element.find(t.options.filter);else{a=i.closest(t.element);t._items=a.find(t.options.filter)}e.sender.capture();t._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0});if(!o)t.clear();i=i.add(t.relatedTarget(i));if(r){t._selectElement(i,true);if(o)i.addClass(m)}},_move:function(e){var t=this,i={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:n(e.x.initialDelta),height:n(e.y.initialDelta)};t._marquee.css(i);t._invalidateSelectables(i,e.event.ctrlKey||e.event.metaKey);e.preventDefault()},_end:function(e){var t=this,i=c.attr("range-selected"),n=c.guid();t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+m)).removeClass(m);var r=t.element.find(t.options.filter+"."+d);r=r.add(t.relatedTarget(r));if(t.options.addIdToRanges)for(var a=0;a<t._currentlyActive.length;a++)u(t._currentlyActive[a]).attr(i,n);if(!t._lastRange||!k(t._lastRange,r)){t.value(r,e);t._notify(h,e)}t._lastRange=r;t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(e,t){var i,n,r=this._downTarget[0],a=this._items,o=this.options.selectedClass||f,s,l;this._currentlyActive=[];for(i=0,n=a.length;i<n;i++){l=a.eq(i);s=l.add(this.relatedTarget(l));if(w(l,e)){if(l.hasClass(o)){if(t&&r!==l[0])s.removeClass(o).addClass(m)}else if(!l.hasClass(d)&&!l.hasClass(m)&&!this._collidesWithActiveElement(s,e))s.addClass(d);this._currentlyActive.push(s[0])}else if(l.hasClass(d))s.removeClass(d);else if(t&&l.hasClass(m))s.removeClass(m).addClass(o)}},_collidesWithActiveElement:function(e,t){if(!this.options.ignoreOverlapped)return false;var i=this._currentlyActive;var n=e[0].getBoundingClientRect();var r;var a=false;var o=c.support.isRtl(e);var s=o?"right":"left";var l={};t.right=t.left+t.width;t.bottom=t.top+t.height;for(var d=0;d<i.length;d++){r=i[d].getBoundingClientRect();if(y(n,r)){l[s]=s==="left"?r.right:r.left;n=v({},n,l);if(n.left>n.right)return true;a=!y(n,t)}}return a},value:function(e){var t=this,i=t._selectElement.bind(t);if(e){e.each(function(){i(this)});return}return t.element.find(t.options.filter+"."+(t.options.selectedClass||f))},selectedRanges:function(){var e=this;var r=c.attr("range-selected");var a={};e.element.find("["+r+"]").each(function(e,t){var i=u(t).attr(r);var n=a[i];if(!n)n=a[i]=[];n.push(u(t))});return a},selectedSingleItems:function(){var e=this;var t=c.attr("range-selected");return e.element.find(e.options.filter+"."+(e.options.selectedClass||f)+":not(["+t+"])").toArray().map(function(e){return u(e)})},_firstSelectee:function(){var e=this,t;if(e._lastActive!==null)return e._lastActive;t=e.value();return t.length>0?t[0]:e.element.find(e.options.filter)[0]},_selectElement:function(e,t){var i=u(e),n=this.options.selectedClass||f,r=!t&&this._notify("select",{element:e});i.removeClass(d);if(!r){i.addClass(n);if(this.options.aria)i.attr(o,true)}},_notify:function(e,t){t=t||{};return this.trigger(e,t)},_unselect:function(e){if(this.trigger(r,{element:e}))return;var t=c.attr("range-selected");e.removeClass(this.options.selectedClass||f).removeAttr(t);if(this.options.aria)e.attr(o,false);return e},_select:function(e){if(this._allowSelection(e.event.target))if(!l||l&&!u(c._activeElement()).is(this.options.inputSelectors))e.preventDefault()},_allowSelection:function(e){if(u(e).is(this.options.inputSelectors)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+(this.options.selectedClass||f));this._unselect(e)},selectRange:function(e,t){var i=this,n,r,a;i.clear();if(i.element.length>1)a=i.options.continuousItems();if(!a||!a.length)a=i.element.find(i.options.filter);e=u.inArray(u(e)[0],a);t=u.inArray(u(t)[0],a);if(e>t){r=e;e=t;t=r}if(!i.options.useAllItems)t+=i.element.length-1;for(n=e;n<=t;n++)i._selectElement(a[n],true)},destroy:function(){var e=this;a.fn.destroy.call(e);e.element.off(i);e.userEvents.destroy();e._marquee=e._lastActive=e.element=e.userEvents=null}}));function k(e,t){if(e.length!==t.length)return false;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return false;return true}function w(e,t){if(!e.is(":visible"))return false;var i=c.getOffset(e),n=t.left+t.width,r=t.top+t.height;i.right=i.left+c._outerWidth(e);i.bottom=i.top+c._outerHeight(e);return!(i.left>n||i.right<t.left||i.top>r||i.bottom<t.top)}function y(e,t){return!(e.right<=t.left||e.left>=t.right||e.bottom<=t.top||e.top>=t.bottom)}return b.parseOptions=function(e){var t=e.mode||e;var i=typeof t==="string"&&t.toLowerCase();return{multiple:i&&i.indexOf("multiple")>-1,cell:i&&i.indexOf("cell")>-1}},c.ui.plugin(b),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.calendar.min",["kendo.core.min","kendo.selectable.min"],function(){var t={id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core","selectable"]},b=window.kendo.jQuery,k=void 0,T=window.kendo,e=T.support,i=T.ui,a=i.Widget,g=T.keys,o=T.parseDate,I=T.date.adjustDST,L=T.date.weekInYear,r=T.ui.Selectable,B=T._extractFormat,l=T.template,V=T.getCulture,n=T.support.transitions,U=n?n.css+"transform-origin":"",W=l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),j=l('<td role="gridcell" class="k-calendar-td k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:false}),q=l('<td role="gridcell" class="k-calendar-td k-out-of-range">&nbsp;</td>',{useWithBlock:false}),G=l('<td class="k-calendar-td k-alt">#= data.weekNumber #</td>',{useWithBlock:false}),K=T._outerWidth,d=".kendoCalendar",s="click"+d,$="keydown"+d,u="id",Y="min",Q="left",c="slideIn",f="month",w="century",v="change",X="navigate",p="value",J="k-hover",D="k-disabled",y="k-focus",E="k-other-month",Z,ee="k-nav-today",h="td:has(.k-link)",m="td:has(.k-link):not(."+D+"):not(."+"k-out-of-range"+")",te="td:not(:has(.k-link))",_="k-selected",ie="blur"+d,ne="focus",re=ne+d,ae=e.touch?"touchstart":"mouseenter",oe=e.touch?"touchstart"+d:"mouseenter"+d,se=e.touch?"touchend"+d+" touchmove"+d:"mouseleave"+d,le=6e4,de=864e5,x="_prevArrow",C="_nextArrow",S="aria-disabled",ue="aria-selected",ce="aria-label",fe=b.extend,A=Date,F={month:0,year:1,decade:2,century:3},pe=".k-header, .k-calendar-header",he='<div class="k-header k-hstack">'+'<a tabindex="-1" href="\\#" #=actionAttr#="prev" role="button" class="k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button" '+ce+'="Previous"><span class="k-button-icon k-icon k-i-arrow-60-left"></span></a>'+'<a tabindex="-1" href="\\#" #=actionAttr#="nav-up" role="button" id="nav-up" class="k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex"></a>'+'<a tabindex="-1" href="\\#" #=actionAttr#="next" role="button" class="k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button" '+ce+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a>'+"</div>",me='<div class="k-calendar-header k-hstack">'+'<a href="\\#" #=actionAttr#="nav-up" id="nav-up" role="button" class="k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base "></a>'+'<span class="k-spacer"></span>'+'<span class="k-calendar-nav k-hstack">'+'<a tabindex="-1" #=actionAttr#="prev" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-left"></span>'+"</a>"+'<a tabindex="-1" #=actionAttr#="today" class="k-nav-today">#=messages.today#</a>'+'<a tabindex="-1" #=actionAttr#="next" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-right"></span>'+"</a>"+"</span>"+"</div>",ge=a.extend({init:function(e,n){var r=this,t,i;n=n||{};n.componentType=n.componentType||"classic";a.fn.init.call(r,e,n);e=r.wrapper=r.element;n=r.options;n.url=T.unescape(n.url);r.options.disableDates=Fe(r.options.disableDates);r._templates();r._selectable();r._header();r._viewWrapper();if(r.options.hasFooter)r._footer(r.footer);else{r._today=r.element.find("a.k-nav-today");r._toggle()}i=e.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(oe+" "+se,h,xe).on($,"table.k-content",r._move.bind(r)).on(s+" touchend",h,function(e){var t=e.currentTarget.firstChild,i=N(t);if(t.href.indexOf("#")!=-1)e.preventDefault();if(r._view.name=="month"&&r.options.disableDates(i))return;if(r._view.name!="month"||n.selectable=="single")r._click(b(t))}).on("mouseup"+d,"table.k-content, .k-footer",function(){r._focusView(r.options.focusOnNav!==false)}).attr(u);if(r._isMultipleSelection()&&r.options.weekNumber)e.on(s,te,function(e){var t=b(e.currentTarget).closest("tr").find(m).first(),i=r.selectable._lastActive=b(e.currentTarget).closest("tr").find(m).last();r.selectable.selectRange(t,i);r.selectable.trigger(v,{event:e});r._current=r._value=N(i.find("a"));r._setCurrent(r._current)});Te(n);t=o(n.value,n.format,n.culture);r._selectDates=[];r._index=F[n.start];r._current=new A(+M(t,n.min,n.max));r._addClassProxy=function(){r._active=true;if(r._cell.hasClass(D)){var e=r._view.toDateString(O());r._cell=r._cellByDate(e)}r._cell.addClass(y)};r._removeClassProxy=function(){r._active=false;if(r._cell)r._cell.removeClass(y)};r.value(t);if(r._isMultipleSelection()&&n.selectDates.length>0)r.selectDates(n.selectDates);T.notify(r)},options:{name:"Calendar",value:null,min:new A(1900,0,1),max:new A(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:false,selectable:"single",selectDates:[],start:f,depth:f,size:"medium",animation:{horizontal:{effects:c,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:"",today:"Today",navigateTo:"Navigate to ",parentViews:{month:"year view",year:"decade view",decade:"century view"}},componentType:"classic"},events:[v,X],componentTypes:{classic:{header:{template:he},hasFooter:true,linksSelector:".k-button",contentClasses:"k-calendar-table k-content"},modern:{header:{template:me},hasFooter:false,linksSelector:".k-button",contentClasses:"k-calendar-table k-content k-calendar-content"}},setOptions:function(e){var t=this;Te(e);e.disableDates=Fe(e.disableDates);t._destroySelectable();if(e.messages)e.messages=b.extend({},true,t.options.messages,e.messages);a.fn.setOptions.call(t,e);t._templates();t._selectable();t._viewWrapper();if(t.options.hasFooter)t._footer(t.footer);else{t.element.find(".k-footer").hide();t._toggle()}t._index=F[t.options.start];t.navigate();if(e.weekNumber)t.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(d);e._title.off(d);e[x].off(d);e[C].off(d);e._destroySelectable();T.destroy(e._table);if(t)T.destroy(t.off(d));a.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table;this._bindTable(e);e.trigger("focus")},min:function(e){return this._option(Y,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(x,-1)},navigateToFuture:function(){this._navigate(C,1)},navigateUp:function(){var e=this,t=e._index;if(e._title.hasClass(D))return;e.navigate(e._current,++t)},navigateDown:function(e){var t=this,i=t._index,n=t.options.depth;if(!e)return;if(i===F[n]){if(!Oe(t._value,t._current)||!Oe(t._value,e)){t.value(e);t.trigger(v)}return}t.navigate(e,--i)},navigate:function(e,t){t=isNaN(t)?F[t]:t;var i=this,n=i.options,r=n.culture,a=n.min,o=n.max,s=i._title,l=i._table,d=i._oldTable,u=i._current,c=e&&+e>+u,f=t!==k&&t!==i._index,p,h,m,g,v=i.element.children(".k-calendar-view");if(!e)e=u;i._current=e=new A(+M(e,a,o));if(t===k)t=i._index;else i._index=t;i._view=h=H.views[t];m=h.compare;g=t===F[w];s.toggleClass(D,g).attr(S,g);g=m(e,a)<1;i[x].toggleClass(D,g).attr(S,g);g=m(e,o)>-1;i[C].toggleClass(D,g).attr(S,g);if(l&&d&&d.data("animating")){d.kendoStop(true,true);l.kendoStop(true,true)}i._oldTable=l;if(!l||i._changeView){s.html(h.title(e,a,o,r));if(i.options.messages.parentViews&&i._view.name!==w)s.attr("title",i.options.messages.navigateTo+i.options.messages.parentViews[i._view.name]);else s.removeAttr("title");i._table=p=b(h.content(fe({min:a,max:o,date:e,url:n.url,dates:n.dates,format:n.format,otherMonth:true,culture:r,disableDates:n.disableDates,isWeekColumnVisible:n.weekNumber,messages:n.messages,contentClasses:i.options.contentClasses},i[h.name])));i._aria();Ie(p,h.name);var _=l&&l.data("start")===p.data("start");i._animate({from:l,to:p,vertical:f,future:c,replace:_});v.removeClass("k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview");v.addClass("k-calendar-"+h.name+"view");i.trigger(X);i._focus(e)}if(t===F[n.depth]&&i._selectDates.length>0)i._visualizeSelectedDatesInView();if(i.options.selectable==="single")if(t===F[n.depth]&&i._value&&!i.options.disableDates(i._value))i._selectCell(i._value);i._setCurrent(e);if(!l&&i._cell)i._cell.removeClass(y);i._changeView=true},selectDates:function(e){var t=this,i,n;if(e===k)return t._selectDates;n=e.map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return new Date(e)});i=b.grep(n,function(e){if(e)return+t._validateValue(new Date(e.setHours(0,0,0,0)))===+e});t._selectDates=i.length>0?i:n.length===0?n:t._selectDates;t._visualizeSelectedDatesInView()},value:function(e){var t=this,i=t._view,n=t._view;if(e===k)return t._value;e=t._validateValue(e);if(e&&t._isMultipleSelection()){var r=new Date(+e);r.setHours(0,0,0,0);t._selectDates=[r];t.selectable._lastActive=null}if(i&&e===null&&t._cell)t._cell.removeClass(_);else{t._changeView=!e||n&&n.compare(e,t._current)!==0;t.navigate(e)}},_aria:function(){var e=this._table;e.attr("aria-labelledby",this._title.attr("id"));if(this._view.name==="month"&&this.options.selectable==="multiple")e.attr("aria-multiselectable","true")},_validateValue:function(e){var t=this,i=t.options,n=i.min,r=i.max;if(e===null)t._current=R(t._current.getFullYear(),t._current.getMonth(),t._current.getDate());e=o(e,i.format,i.culture);if(e!==null){e=new A(+e);if(!z(e,n,r))e=null}if(e===null||!t.options.disableDates(new Date(+e)))t._value=e;else if(t._value===k)t._value=null;return t._value},_visualizeSelectedDatesInView:function(){var e=this;var i={};b.each(e._selectDates,function(e,t){i[T.calendar.views[0].toDateString(t)]=t});e.selectable.clear();var t=e._table.find(h).filter(function(e,t){return i[b(t.firstChild).attr(T.attr(p))]});if(t.length>0)e.selectable._selectElement(t,true)},_isMultipleSelection:function(){var e=this;return e.options.selectable==="multiple"},_selectable:function(){var e=this;if(!e._isMultipleSelection())return;var t=e.options.selectable,i=r.parseOptions(t);e.selectable=new r(e.wrapper,{aria:true,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:i.multiple,filter:"table.k-month:eq(0) "+m,change:e._onSelect.bind(e),relatedTarget:e._onRelatedTarget.bind(e)})},_onRelatedTarget:function(e){var t=this;if(t.selectable.options.multiple&&e.is(m)){t._current=N(e.find("a"));t._setCurrent(t._current)}},_onSelect:function(e){var n=this,t=e,i=r.parseOptions(n.options.selectable);if(!i.multiple){if(b(t.event.currentTarget).is("td")&&!b(t.event.currentTarget).hasClass("k-selected"))b(t.event.currentTarget).addClass("k-selected");else n._click(b(t.event.currentTarget).find("a"));return}if(t.event.ctrlKey||t.event.metaKey)if(b(t.event.currentTarget).is(m))n._toggleSelection(b(t.event.currentTarget));else{n._cellsBySelector(m).each(function(e,t){var i=N(b(t).find("a"));n._deselect(i)});n._addSelectedCellsToArray()}else if(t.event.shiftKey)n._rangeSelection(n._cell);else if(b(t.event.currentTarget).is(h))n.value(N(b(t.event.currentTarget).find("a")));else{n._selectDates=[];n._addSelectedCellsToArray()}n.trigger(v)},_destroySelectable:function(){var e=this;if(e.selectable){e.selectable.destroy();e.selectable=null}},_toggleSelection:function(e){var t=this,i=N(e.find("a"));if(e.hasClass("k-selected"))t._selectDates.push(i);else t._deselect(i)},_rangeSelection:function(e,t){var i=this,n=t||N(i.selectable.value().first().find("a")),r=N(e.find("a")),a;if(i.selectable._lastActive||i._value)n=i.selectable._lastActive?N(i.selectable._lastActive.find("a")):new Date(+i._value);else i.selectable._lastActive=t?i._cellByDate(i._view.toDateString(t),m):i.selectable.value().first();i._selectDates=[];a=we(n,r);ye(i._selectDates,a,n,i.options.disableDates);i._visualizeSelectedDatesInView()},_cellsBySelector:function(e){var t=this;return t._table.find(e)},_addSelectedCellsToArray:function(){var n=this;n.selectable.value().each(function(e,t){var i=N(b(t.firstChild));if(!n.options.disableDates(i))n._selectDates.push(i)})},_deselect:function(e){var t=this;var i=t._selectDates.map(Number).indexOf(+e);if(i!=-1)t._selectDates.splice(i,1)},_dateInView:function(e){var t=this,i=N(t._cellsBySelector(m).first().find("a")),n=N(t._cellsBySelector(m).last().find("a"));return+e<=+n&&+e>=+i},_isNavigatable:function(e,t){var i=this;var n=i.options.disableDates;var r;var a;if(i._view.name=="month")return!n(e);else{a=i.wrapper.find("."+y).index();r=i.wrapper.find(".k-content td").eq(a+t);return r.is(m)||!n(e)}},_move:function(e){var t=this,i=t.options,n=e.keyCode,r=t._view,a=t._index,o=t.options.min,s=t.options.max,l=new A(+t._current),d=T.support.isRtl(t.wrapper),u=t.options.disableDates,c,f,p,h;if(e.target===t._table[0])t._active=true;if(n==g.RIGHT&&!d||n==g.LEFT&&d){c=1;f=true}else if(n==g.LEFT&&!d||n==g.RIGHT&&d){c=-1;f=true}else if(n==g.UP){c=a===0?-7:-4;f=true}else if(n==g.DOWN){c=a===0?7:4;f=true}else if(n==g.SPACEBAR){c=0;f=true}else if(n==g.HOME||n==g.END){p=n==g.HOME?"first":"last";h=r[p](l);l=new A(h.getFullYear(),h.getMonth(),h.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());l.setFullYear(h.getFullYear());f=true}else if(n===84){t._todayClick(e);f=true}if(e.ctrlKey||e.metaKey){if(n==g.RIGHT&&!d||n==g.LEFT&&d){t.navigateToFuture();f=true}else if(n==g.LEFT&&!d||n==g.RIGHT&&d){t.navigateToPast();f=true}else if(n==g.UP){t.navigateUp();f=true}else if(n==g.DOWN){t._click(b(t._cell[0].firstChild));f=true}else if((n==g.ENTER||n==g.SPACEBAR)&&t._isMultipleSelection()){t._keyboardToggleSelection(e);var m=N(b(t._cell[0]).find("a"));t._setCurrent(m)}}else if(e.shiftKey){if(c!==k||p){if(!p)r.setDate(l,c);if(!z(l,o,s))l=M(l,i.min,i.max);if(u(l))l=t._nextNavigatable(l,c);o=R(o.getFullYear(),o.getMonth(),o.getDate());if(t._isMultipleSelection())t._keyboardRangeSelection(e,l);else t._focus(l)}}else{if(n==g.ENTER||n==g.SPACEBAR){if(r.name=="month"&&t._isMultipleSelection()){t.value(N(b(t._cell.find("a"))));t.selectable._lastActive=b(t._cell[0]);t.trigger(v)}else t._click(b(t._cell[0].firstChild));f=true}else if(n==g.PAGEUP){f=true;t.navigateToPast()}else if(n==g.PAGEDOWN){f=true;t.navigateToFuture()}if(c||p){if(!p)r.setDate(l,c);o=R(o.getFullYear(),o.getMonth(),o.getDate());if(!z(l,o,s))l=M(l,i.min,i.max);if(!t._isNavigatable(l,c))l=t._nextNavigatable(l,c);if(t._isMultipleSelection())if(!t._dateInView(l))t.navigate(l);else{t._current=l;t._setCurrent(l)}else t._focus(l)}}if(f)e.preventDefault();return t._current},_keyboardRangeSelection:function(e,t){var i=this,n,r;if(!i._dateInView(t)){i._selectDates=[];n=i.selectable._lastActive?N(i.selectable._lastActive.find("a")):t;r=we(n,new Date(+t));ye(i._selectDates,r,n,i.options.disableDates);i.navigate(t);i._current=t;i.selectable._lastActive=i.selectable._lastActive||i._cellByDate(i._view.toDateString(t),m);i.trigger(v);return}i.selectable.options.filter=i.wrapper.find("table").length>1&&+t>+i._current?"table.k-month:eq(1) "+m:"table.k-month:eq(0) "+m;i._setCurrent(t);i._current=t;i._rangeSelection(i._cellByDate(i._view.toDateString(t),m),t);i.trigger(v);i.selectable.options.filter="table.k-month:eq(0) "+m},_keyboardToggleSelection:function(e){var t=this;e.currentTarget=t._cell[0];t.selectable._lastActive=b(t._cell[0]);if(b(t._cell[0]).hasClass(_))t.selectable._unselect(b(t._cell[0]));else t.selectable.value(b(t._cell[0]));t.selectable.trigger(v,{event:e})},_nextNavigatable:function(e,t){var i=this,n=true,r=i._view,a=i.options.min,o=i.options.max,s=i.options.disableDates,l=new Date(e.getTime());r.setDate(l,-t);while(n){r.setDate(e,t);if(!z(e,a,o)){e=l;break}n=s(e)}return e},_animate:function(e){var t=this;var i=e.from;var n=e.to;var r=t._active;var a=t.element.children(".k-calendar-view");if(!i){a.append(n);t._bindTable(n)}else if(i.parent().data("animating")){i.off(d);i.parent().kendoStop(true,true).remove();i.remove();a.append(n);t._focusView(r)}else if(!i.is(":visible")||t.options.animation===false||e.replace){n.insertAfter(i);i.off(d).remove();t._focusView(r)}else t[e.vertical?"_vertical":"_horizontal"](i,n,e.future)},_horizontal:function(e,t,i){var n=this,r=n._active,a=n.options.animation.horizontal,o=a.effects,s=K(e),l=K(e,true)-s;if(o&&o.indexOf(c)!=-1){e.add(t).css({width:s});e.wrap("<div/>");n._focusView(r,e);e.parent().css({position:"relative",width:s*2+2*l,display:"flex","margin-left":i?0:-s-l});t[i?"insertAfter":"insertBefore"](e);fe(a,{effects:c+":"+(i?"right":Q),complete:function(){e.off(d).remove();n._oldTable=null;t.unwrap();n._focusView(r)}});e.parent().kendoStop(true,true).kendoAnimate(a)}},_vertical:function(e,t){var i=this,n=i.options.animation.vertical,r=n.effects,a=i._active,o,s;if(r&&r.indexOf("zoom")!=-1){t.insertBefore(e);e.css({position:"absolute",width:t.width()});if(U){o=i._cellByDate(i._view.toDateString(i._current));s=o.position();s=s.left+parseInt(o.width()/2,10)+"px"+" "+(s.top+parseInt(o.height()/2,10)+"px");t.css(U,s)}e.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(d).remove();i._oldTable=null;i._focusView(a)}});t.kendoStop(true,true).kendoAnimate(n)}},_cellByDate:function(e,t){return this._table.find(t?t:"td:not(."+E+")").filter(function(){return b(this.firstChild).attr(T.attr(p))===e})},_selectCell:function(e){var t=this,i=t._selectedCell,n=t._view.toDateString(e);if(i&&i[0]){i[0].removeAttribute(ue);i.removeClass(_)}i=t._cellByDate(n,t.options.selectable=="multiple"?h:"td:not(."+E+")");t._selectedCell=i;i.addClass(_).attr(ue,true)},_setCurrent:function(e){var t=this,i=T.guid(),n=t._cell,r=t._view.toDateString(e);if(n&&n[0]){n.removeClass(y);n[0].removeAttribute(ce);n[0].removeAttribute(u)}n=t._cellByDate(r,t.options.selectable=="multiple"?h:"td:not(."+E+")");t._cell=n;n.attr(u,i).addClass(y);if(t._table[0]){t._table[0].removeAttribute("aria-activedescendant");t._table.attr("aria-activedescendant",i)}},_bindTable:function(e){e.on(re,this._addClassProxy).on(ie,this._removeClassProxy)},_click:function(e){var t=this,i=t.options,n=new Date(+t._current),r=N(e);I(r,0);if(t._view.name=="month"&&t.options.disableDates(r))r=t._value;t._view.setDate(n,r);t.navigateDown(M(n,i.min,i.max))},_focus:function(e){var t=this,i=t._view;if(i.compare(e,t._current)!==0)t.navigate(e);else{t._current=e;t._setCurrent(e)}},_focusView:function(e,t){if(e)this.focus(t)},_viewWrapper:function(){var e=this;var t=e.element;var i=t.children(".k-calendar-view");if(!i[0])i=b("<div class='k-calendar-view' />").insertAfter(t.find(pe))},_footer:function(e){var t=this,i=O(),n=t.element,r=n.find(".k-footer");if(!e){t._toggle(false);r.hide();return}if(!r[0])r=b('<div class="k-footer"><a tabindex="-1" href="#" class="k-link k-nav-today"></a></div>').appendTo(n);t._today=r.show().find(".k-link").html(e(i)).attr("title",T.toString(i,"D",t.options.culture));t._toggle()},_header:function(){var e=this,t=e.element,i=e.options.linksSelector;if(!t.find(pe)[0])t.html(T.template(e.options.header.template)(b.extend(true,{},e.options,{actionAttr:T.attr("action"),size:T.getValidCssClass("k-button-","size",e.options.size)})));t.find(i).on(s+" touchend"+d,function(){return false});e._title=t.find("["+T.attr("action")+'="nav-up"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateUp()});e[x]=t.find("["+T.attr("action")+'="prev"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateToPast()});e[C]=t.find("["+T.attr("action")+'="next"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateToFuture()});t.find("["+T.attr("action")+'="today"]').on(s+" touchend"+d,e._todayClick.bind(e))},_navigate:function(e,t){var i=this,n=i._index+1,r=new A(+i._current);if(i._isMultipleSelection()){var a=i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first();r=N(a.find("a"));i._current=new Date(+r)}e=i[e];if(!e.hasClass(D)){if(n>3)r.setFullYear(r.getFullYear()+100*t);else H.views[n].setDate(r,t);i.navigate(r)}},_option:function(e,t){var i=this,n=i.options,r=i._value||i._current,a;if(t===k)return n[e];t=o(t,n.format,n.culture);if(!t)return;n[e]=new A(+t);if(e===Y)a=t>r;else a=r>t;if(a||Ae(r,t)){if(a)i._value=null;i._changeView=true}if(!i._changeView)i._changeView=!!(n.month.content||n.month.empty);i.navigate(i._value);i._toggle()},_toggle:function(e){var t=this,i=t.options,n=t.options.disableDates(O()),r=t._today,a=t._todayClass();if(e===k)e=z(O(),i.min,i.max);if(r){r.off(s);if(e&&!n)r.addClass(a).removeClass(D).on(s,t._todayClick.bind(t));else r.removeClass(a).addClass(D).on(s,Ce)}},_todayClass:function(){return ee},_todayClick:function(e){var t=this,i=F[t.options.depth],n=t.options.disableDates,r=O();e.preventDefault();if(n(r))return;if(t._view.compare(t._current,r)===0&&t._index==i)t._changeView=false;if(t._isMultipleSelection()){t._selectDates=[r];t.selectable._lastActive=null}t._value=r;t.navigate(r,i);t.trigger(v)},_templates:function(){var e=this,t=e.options,i=t.footer,n=t.month,r=n.content,a=n.weekNumber,o=n.empty,s='#= kendo.toString(data,"D","'+t.culture+'") #';e.month={content:l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+T.attr(p)+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:l('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o}),weekNumber:l('<td class="k-alt">'+(a||"#= data.weekNumber #")+"</td>",{useWithBlock:!!a})};e.year={content:l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#" aria-label="#=data.label#">#=data.value#</a></td>',{useWithBlock:false})};if(i&&i!==true)s=i;e.footer=i!==false?l(s,{useWithBlock:false}):null},_updateAria:function(e,t){var i=this;var n=i._cell;var r=i.view().valueType();var a=t||i.current();var o;if(r==="month")o=T.toString(a,"MMMM");else if(r==="date")o=T.toString(a,"D");else o=n.text();n.attr("aria-label",e({current:a,valueType:r,text:o}));return n.attr("id")}}),H=(i.plugin(ge),{firstDayOfMonth:function(e){return R(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||T.culture().calendar;var i=t.firstDay,n=new A(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());n.setFullYear(e.getFullYear());while(n.getDay()!=i)H.setTime(n,-1*de);return n},setTime:function(e,t){var i=e.getTimezoneOffset(),n=new A(e.getTime()+t),r=n.getTimezoneOffset()-i;e.setTime(n.getTime()+r*le)},views:[{name:f,title:function(e,t,i,n){return Se(n).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,i=0,n=e.min,r=e.max,a=e.date,s=e.dates,l=e.format,d=e.culture,u=e.url,o=e.showHeader,c=e.otherMonth,f=e.isWeekColumnVisible,p=u&&s[0],h=Se(d),m=h.firstDay,g=h.days,v=be(g.names,m),_=be(g.namesShort,m),b=H.firstVisibleDay(a,h),k=t.first(a),w=t.last(a),y=t.toDateString,x=O(),C=e.contentClasses,S='<table tabindex="0" role="grid" class="'+C+'" cellspacing="0" data-start="'+y(b)+'">';if(o)S+='<caption class="k-calendar-caption k-month-header">'+this.title(a,n,r,d)+"</caption>";S+='<thead class="k-calendar-thead"><tr role="row" class="k-calendar-tr">';if(f)S+='<th scope="col" class="k-calendar-th k-alt">'+e.messages.weekColumnHeader+"</th>";for(;i<7;i++)S+='<th scope="col" class="k-calendar-th" aria-label="'+v[i]+'">'+_[i]+"</th>";I(x,0);x=+x;return P({cells:42,perRow:7,html:S+='</tr></thead><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">',start:b,isWeekColumnVisible:f,weekNumber:e.weekNumber,min:R(n.getFullYear(),n.getMonth(),n.getDate()),max:R(r.getFullYear(),r.getMonth(),r.getDate()),otherMonth:c,content:e.content,lastDayOfMonth:w,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function(e,t,i){var n=["k-calendar-td"],r=e.getDay(),a="",o="#";if(e<k||e>w)n.push(E);if(i(e))n.push(D);if(+e===x)n.push("k-today");if(r===0||r===6)n.push("k-weekend");if(p&&De(+e,s)){o=u.replace("{0}",T.toString(e,l,d));a=" k-action-link"}return{date:e,dates:s,ns:T.ns,title:T.toString(e,"D",d),value:e.getDate(),dateString:y(e),cssClass:n.join(" "),linkClass:a,url:o}},weekNumberBuild:function(e){return{weekNumber:L(e,T.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return H.firstDayOfMonth(e)},last:function(e){var t=R(e.getFullYear(),e.getMonth()+1,0),i=H.firstDayOfMonth(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(n)t.setHours(i.getHours()+n/60);return t},compare:function(e,t){var i,n=e.getMonth(),r=e.getFullYear(),a=t.getMonth(),o=t.getFullYear();if(r>o)i=1;else if(r<o)i=-1;else i=n==a?0:n>a?1:-1;return i},setDate:function(e,t){var i=e.getHours();if(t instanceof A)e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());else H.setTime(e,t*de);I(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},valueType:function(){return"date"}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=Se(e.culture).months,i=t.namesAbbr,n=t.names,r=this.toDateString,a=e.min,o=e.max,s="";if(e.showHeader){s+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';s+='<caption class="k-calendar-caption k-meta-header">';s+=this.title(e.date);s+="</caption>";s+='<tbody class="k-calendar-tbody">';s+='<tr role="row" class="k-calendar-tr">'}return P({min:R(a.getFullYear(),a.getMonth(),1),max:R(o.getFullYear(),o.getMonth(),1),start:R(e.date.getFullYear(),0,1),html:s,setter:this.setDate,content:e.content,build:function(e){var t=["k-calendar-td"];return{value:i[e.getMonth()],label:n[e.getMonth()],ns:T.ns,dateString:r(e),cssClass:t.join(" ")}}})},first:function(e){return R(e.getFullYear(),0,e.getDate())},last:function(e){return R(e.getFullYear(),11,e.getDate())},compare:function(e,t){return _e(e,t)},setDate:function(e,t){var i,n=e.getHours();if(t instanceof A){i=t.getMonth();e.setFullYear(t.getFullYear(),i,e.getDate());if(i!==e.getMonth())e.setDate(0)}else{i=e.getMonth()+t;e.setMonth(i);if(i>11)i-=12;if(i>0&&e.getMonth()!=i)e.setDate(0)}I(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"},valueType:function(){return"month"}},{name:"decade",title:function(e,t,i){return ve(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString,i="";if(e.showHeader){i+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';i+='<caption class="k-meta-header">';i+=this.title(e.date,e.min,e.max);i+="</caption>";i+='<tbody class="k-calendar-thead">';i+='<tr role="row" class="k-calendar-tr">'}return P({start:R(t-t%10-1,0,1),min:R(e.min.getFullYear(),0,1),max:R(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:i,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];if(t===0||t===11)i.push(E);return{value:e.getFullYear(),ns:T.ns,dateString:n(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return R(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return R(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return _e(e,t,10)},setDate:function(e,t){ke(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"},valueType:function(){return"year"}},{name:w,title:function(e,t,i){return ve(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),a=e.min.getFullYear(),o=e.max.getFullYear(),s=this.toDateString,i=a,n=o,r="";i=i-i%10;n=n-n%10;if(n-i<10)n=i+9;if(e.showHeader){r+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';r+='<caption class="k-calendar-caption k-meta-header">';r+=this.title(e.date,e.min,e.max);r+="</caption>";r+='<tbody class="k-calendar-tbody">';r+='<tr role="row" class="k-calendar-tr">'}return P({start:R(t-t%100-10,0,1),min:R(i,0,1),max:R(n,0,1),otherMonth:e.otherMonth,html:r,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];var n=e.getFullYear(),r=n+9;if(t===0||t===11)i.push(E);if(n<a)n=a;if(r>o)r=o;return{ns:T.ns,value:n+" - "+r,dateString:s(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return R(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return R(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return _e(e,t,100)},setDate:function(e,t){ke(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"},valueType:function(){return"decade"}}]});function ve(e,t,i,n){var r=e.getFullYear(),a=t.getFullYear(),o=i.getFullYear(),s;r=r-r%n;s=r+(n-1);if(r<a)r=a;if(s>o)s=o;return r+"-"+s}function P(e){var t=0,i,n=e.min,r=e.max,a=e.start,o=e.setter,s=e.build,l=e.weekNumberBuild,d=e.cells||12,u=e.isWeekColumnVisible,c=e.perRow||4,f=e.otherMonth,p=e.lastDayOfMonth,h=e.weekNumber||G,m=e.content||W,g=e.empty||j,v=e.otherMonthCellTemplate||q,_=e.html||'<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0"><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">';if(u)_+=h(l(a));for(;t<d;t++){if(t>0&&t%c===0){_+='</tr><tr role="row" class="k-calendar-tr">';if(u)_+=f||+a<=+p?h(l(a)):h({weekNumber:"&nbsp;"})}a=R(a.getFullYear(),a.getMonth(),a.getDate());I(a,0);i=s(a,t,e.disableDates);_+=i.cssClass.indexOf(E)!==-1&&!f?v(i):z(a,n,r)?m(i):g(i);o(a,1)}return _+"</tr></tbody></table>"}function _e(e,t,i){var n=e.getFullYear(),r=t.getFullYear(),a=r,o=0;if(i){r=r-r%i;a=r-r%i+i-1}if(n>a)o=1;else if(n<r)o=-1;return o}function O(){var e=new A;return new A(e.getFullYear(),e.getMonth(),e.getDate())}function M(e,t,i){var n=O();if(e)n=new A(+e);if(t>n)n=new A(+t);else if(i<n)n=new A(+i);return n}function z(e,t,i){return+e>=+t&&+e<=+i}function be(e,t){return e.slice(t).concat(e.slice(0,t))}function ke(e,t,i){t=t instanceof A?t.getFullYear():e.getFullYear()+i*t;e.setFullYear(t)}function we(e,t){if(+t<+e){var i=+e;H.views[0].setDate(e,t);H.views[0].setDate(t,new Date(i))}var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());var r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+r-+n)/T.date.MS_PER_DAY)}function ye(e,t,i,n){for(var r=0;r<=t;r++){var a=new Date(i.getTime());a=new Date(a.setDate(a.getDate()+r));if(!n(a))e.push(a)}}function xe(e){var t=b(this).hasClass("k-disabled");if(!t)b(this).toggleClass(J,ae.indexOf(e.type)>-1||e.type==ne)}function Ce(e){e.preventDefault()}function R(e,t,i){var n=new A(e,t,i);n.setFullYear(e,t,i);return n}function Se(e){return V(e).calendars.standard}function Te(e){var t=F[e.start],i=F[e.depth],n=V(e.culture);e.format=B(e.format||n.calendars.standard.patterns.d);if(isNaN(t)){t=0;e.start=f}if(i===k||i>t)e.depth=f;if(e.dates===null)e.dates=[]}function Ie(e,t){e.addClass("k-"+t)}function De(e,t){for(var i=0,n=t.length;i<n;i++)if(e===+t[i])return true;return false}function Ee(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();return false}function Ae(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();return false}function Fe(e){if(T.isFunction(e))return e;if(Array.isArray(e))return Pe(e);return b.noop}function He(e){var t=[];for(var i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}function Pe(e){var t,i,n=[],r=["su","mo","tu","we","th","fr","sa"],a="if (found) {"+" return true "+"} else {"+"return false"+"}";if(e[0]instanceof A){n=He(e);t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),["+n+"]) > -1;"+a}else{for(var o=0;o<e.length;o++){var s=e[o].slice(0,2).toLowerCase();var l=b.inArray(s,r);if(l>-1)n.push(l)}t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),["+n+"]) > -1;"+a}i=new Function("date",t);return i}function Oe(e,t){if(e instanceof Date&&t instanceof Date){e=e.getTime();t=t.getTime()}return e===t}function N(e){var t=b(e).attr(T.attr(p)).split("/");t=R(t[0],t[1],t[2]);return t}return H.isEqualDatePart=Ee,H.isEqualDate=Oe,H.restrictValue=M,H.isInRange=z,H.addClassToViewContainer=Ie,H.normalize=Te,H.viewsEnum=F,H.disabled=Fe,H.toDateObject=N,H.getToday=O,H.createDate=R,T.calendar=H,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.datepicker.min",["kendo.calendar.min","kendo.popup.min","kendo.dateinput.min","kendo.html.button.min"],function(){var z={id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup","html.button"]},d=window.kendo.jQuery,r=void 0,u=window.kendo,a=u.ui,R=u.html,o=a.Widget,c=u.parseDate,s=u.keys,i=u.support,N=u.template,L=u._activeElement,l="<div />",B="<span />",f=".kendoDatePicker",p="click"+f,V=i.mouseAndTouchPresent?u.applyEventMap("up",f.slice(1)):p,h="open",m="close",g="change",v="disabled",_="readonly",b="k-focus",k="k-selected",w="k-disabled",U="k-hover",W="mouseenter"+f+" mouseleave"+f,y="mousedown"+f,t="navigate",x="id",n="min",C="max",e="month",S="aria-disabled",T="aria-readonly",I="aria-expanded",D="aria-hidden",E="aria-activedescendant",A=u.calendar,j=A.isInRange,F=A.restrictValue,q=A.isEqualDatePart,H=d.extend,P=Date;function O(e){var t=e.parseFormats,i=e.format;A.normalize(e);t=Array.isArray(t)?t:[t];if(!t.length)t.push("yyyy-MM-dd");if(d.inArray(i,t)===-1)t.splice(0,0,e.format);e.parseFormats=t}function G(e){e.preventDefault()}var M=function(e){var t=this,i,n=document.body,r=d(l).attr(D,"true").addClass("k-calendar-container");t.options=e=e||{};i=e.id;if(!e.omitPopup){r.appendTo(n);t.popup=new a.Popup(r,H(e.popup,e,{name:"Popup",isRtl:u.support.isRtl(e.anchor)}))}else r=e.dateDiv;if(i){i+="_dateview";r.attr(x,i);t._dateViewID=i}t.div=r;t.value(e.value)},K=(M.prototype={_calendar:function(){var e=this;var t=e.calendar;var i=e.options;var n;if(!t){n=d(l).attr(x,u.guid()).appendTo(i.omitPopup?i.dateDiv:e.popup.element).on(y,G).on(p,"td:has(.k-link)",e._click.bind(e));e.calendar=t=new a.Calendar(n,{componentType:i.componentType,size:i.size,messages:i.messages});e._setOptions(i);n.addClass(u.getValidCssClass("k-calendar-","size",i.size));t.navigate(e._value||e._current,i.start);e.value(e._value)}},_setOptions:function(e){this.calendar.setOptions({focusOnNav:false,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,messages:e.messages,disableDates:e.disableDates})},setOptions:function(e){var t=this.options;var i=e.disableDates;if(i)e.disableDates=A.disabled(i);this.options=H(t,e,{change:t.change,close:t.close,open:t.open});if(this.calendar)this._setOptions(this.options)},destroy:function(){if(this.popup)this.popup.destroy()},open:function(){var e=this;var t;e._calendar();t=e.popup._hovered;e.popup._hovered=true;e.popup.open();setTimeout(function(){e.popup._hovered=t},1)},close:function(){if(this.popup)this.popup.close()},min:function(e){this._option(n,e)},max:function(e){this._option(C,e)},toggle:function(){var e=this;e[e.popup.visible()?m:h]()},move:function(e){var t=this,i=e.keyCode,n=t.calendar,r=e.ctrlKey&&i==s.DOWN||i==s.ENTER,a=false;if(e.altKey){if(i==s.DOWN){t.open();e.preventDefault();a=true}else if(i==s.UP){t.close();e.preventDefault();a=true}}else if(t.popup&&t.popup.visible()){if(i==s.ESC||r&&n._cell.hasClass(k)){t.close();e.preventDefault();return true}if(i!=s.SPACEBAR)t._current=n._move(e);a=true}return a},current:function(e){this._current=e;if(this.calendar)this.calendar._focus(e)},value:function(e){var t=this,i=t.calendar,n=t.options,r=n.disableDates;if(r&&r(e))e=null;t._value=e;t._current=new P(+F(e,n.min,n.max));if(i)i.value(e)},_click:function(e){if(e.currentTarget.className.indexOf(k)!==-1){this.calendar.trigger("change");this.close()}},_option:function(e,t){var i=this;var n=i.calendar;i.options[e]=t;if(n)n[e](t)}},M.normalize=O,u.DateView=M,o.extend({init:function(n,e){var r=this,t,i,a;o.fn.init.call(r,n,e);n=r.element;e=r.options;e.disableDates=u.calendar.disabled(e.disableDates);e.min=c(n.attr("min"))||c(e.min);e.max=c(n.attr("max"))||c(e.max);O(e);r._initialOptions=H({},e);r._wrapper();r.dateView=new M(H({},e,{id:n.attr(x),anchor:r.wrapper,change:function(){r._change(this.value());r.close()},close:function(e){if(r.trigger(m))e.preventDefault();else{n.attr(I,false);a.attr(D,true);setTimeout(function(){n.removeAttr("aria-activedescendant")})}},open:function(e){var t=r.options,i;if(r.trigger(h))e.preventDefault();else{if(r.element.val()!==r._oldText){i=c(n.val(),t.parseFormats,t.culture);r.dateView[i?"current":"value"](i)}n.attr(I,true);a.attr(D,false);r._updateARIA(i)}}}));a=r.dateView.div;r._icon();try{n[0].setAttribute("type","text")}catch(e){n[0].type="text"}n.addClass("k-input-inner").attr({role:"combobox","aria-expanded":false,"aria-haspopup":"grid","aria-controls":r.dateView._dateViewID,autocomplete:"off"});r._reset();r._template();i=n.is("[disabled]")||d(r.element).parents("fieldset").is(":disabled");if(i)r.enable(false);else r.readonly(n.is("[readonly]"));t=c(e.value||r.element.val(),e.parseFormats,e.culture);r._createDateInput(e);r._old=r._update(t||r.element.val());r._oldText=n.val();r._applyCssClasses();u.notify(r)},events:[h,m,g],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:e,depth:e,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:"Current focused #=data.valueType# is #=data.text#",dateInput:false,weekNumber:false,messages:{weekColumnHeader:""},componentType:"classic",size:"medium",fillMode:"solid",rounded:"medium"},setOptions:function(e){var t=this;var i=t._value;o.fn.setOptions.call(t,e);e=t.options;e.min=c(e.min);e.max=c(e.max);O(e);t._dateIcon.off(f);t._dateIcon.remove();t.dateView.setOptions(e);t._icon();t._editable(e);t._createDateInput(e);if(!t._dateInput)t.element.val(u.toString(i,e.format,e.culture));if(i)t._updateARIA(i)},_editable:function(e){var t=this,i=t._dateIcon.off(f),n=t.element.off(f),r=t.wrapper.off(f),a=e.readonly,o=e.disable;if(!a&&!o){r.removeClass(w).on(W,t._toggleHover);if(n&&n.length){n[0].removeAttribute(v);n[0].removeAttribute(_)}n.attr(S,false).attr(T,false).on("keydown"+f,t._keydown.bind(t)).on("focusout"+f,t._blur.bind(t)).on("focus"+f,function(){t.wrapper.addClass(b)});i.on(V,t._click.bind(t)).on(y,G)}else{r.addClass(o?w:"").removeClass(o?"":w);n.attr(v,o).attr(_,a).attr(S,o).attr(T,a)}},readonly:function(e){this._editable({readonly:e===r?true:e,disable:false});if(this._dateInput)this._dateInput._editable({readonly:e===r?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===r?true:e)});if(this._dateInput)this._dateInput._editable({readonly:false,disable:!(e=e===r?true:e)})},destroy:function(){var e=this;o.fn.destroy.call(e);if(e.dateView.calendar&&e._navigateCalendarHandler){e.dateView.calendar.unbind(t,e._navigateCalendarHandler);e._navigateCalendarHandler=null}e.dateView.destroy();e.element.off(f);e._dateIcon.off(f);if(e._form)e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open();this._navigateCalendar()},close:function(){this.dateView.close()},min:function(e){return this._option(n,e)},max:function(e){return this._option(C,e)},value:function(e){var t=this;if(e===r)return t._value;t._old=t._update(e);if(t._old===null)if(t._dateInput)t._dateInput.value(t._old);else t.element.val("");t._oldText=t.element.val()},_toggleHover:function(e){d(e.currentTarget).toggleClass(U,e.type==="mouseenter")},_blur:function(){var e=this,t=e.element.val();e.close();if(t!==e._oldText){e._change(t);if(!t)e.dateView.current(u.calendar.getToday())}e.wrapper.removeClass(b)},_click:function(e){var t=this;t.dateView.toggle();t._navigateCalendar();t._focusElement(e.type)},_focusElement:function(e){var t=this.element;if((!i.touch||i.mouseAndTouchPresent&&!(e||"").match(/touch/i))&&t[0]!==L())t.trigger("focus")},_change:function(e){var t=this,i=t.element.val(),n;e=t._update(e);n=!u.calendar.isEqualDate(t._old,e);var r=n&&!t._typing;var a=i!==t.element.val();if(r||a)t.element.trigger(g);if(n){t._old=e;t._oldText=t.element.val();t.trigger(g)}t._typing=false},_keydown:function(e){var t=this,i=t.dateView,n=t.element.val(),r=false;if(!i.popup.visible()&&e.keyCode==s.ENTER&&n!==t._oldText)t._change(n);else{r=i.move(e);t._updateARIA(i._current);if(!r)t._typing=true;else if(t._dateInput&&e.stopImmediatePropagation)e.stopImmediatePropagation()}},_icon:function(){var e=this,t=e.element,i=e.options,n;n=t.next("button.k-input-button");if(!n[0])n=d(R.renderButton('<button aria-label="select" tabindex="-1" class="k-input-button k-button k-icon-button"></button>',{icon:"calendar",size:i.size,fillMode:i.fillMode,shape:"none",rounded:"none"})).insertAfter(t);e._dateIcon=n.attr({role:"button"})},_setCalendarAttribute:function(){var e=this;setTimeout(function(){e.element.attr(E,e.dateView.calendar._table.attr(E))})},_navigateCalendar:function(){var e=this;if(!e._navigateCalendarHandler)e._navigateCalendarHandler=e._setCalendarAttribute.bind(e);if(!!e.dateView.calendar)e.dateView.calendar.unbind(t,e._navigateCalendarHandler).bind(t,e._navigateCalendarHandler)},_option:function(e,t){var i=this,n=i.options;if(t===r)return n[e];t=c(t,n.parseFormats,n.culture);if(!t)return;n[e]=new P(+t);i.dateView[e](t)},_update:function(e){var t=this,i=t.options,n=i.min,r=i.max,a=t._value,o=c(e,i.parseFormats,i.culture),s=o===null&&a===null||o instanceof Date&&a instanceof Date,l;if(i.disableDates(o)){o=null;if(!t._old&&!t.element.val())e=null}if(+o===+a&&s){l=u.toString(o,i.format,i.culture);if(l!==e&&!(t._dateInput&&!o))t.element.val(o===null?e:l);return o}if(o!==null&&q(o,n))o=F(o,n,r);else if(!j(o,n,r))o=null;t._value=o;t.dateView.value(o);if(t._dateInput&&o)t._dateInput.value(o||e);else t.element.val(u.toString(o||e,i.format,i.culture));t._updateARIA(o);return o},_wrapper:function(){var e=this,t=e.element,i;i=t.parents(".k-datepicker");if(!i[0])i=t.wrap(B).parent();i[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height});e.wrapper=i.addClass("k-datepicker k-input").addClass(t[0].className).removeClass("input-validation-error")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=e.options,r=n.disableDates,a=n.parseFormats.length?n.parseFormats:null,o=e._initialOptions.value,s=i?d("#"+i):t.closest("form"),l=t[0].defaultValue;if(o&&(r&&r(o)))o=null;if((!l||!u.parseDate(l,a,n.culture))&&o)t.attr("value",u.toString(o,n.format,n.culture));if(s[0]){e._resetHandler=function(){e.value(o||t[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)};e._form=s.on("reset",e._resetHandler)}},_template:function(){this._ariaTemplate=N(this.options.ARIATemplate).bind(this)},_createDateInput:function(e){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(e.dateInput)this._dateInput=new a.DateInput(this.element,{culture:e.culture,format:e.format,size:e.size,fillMode:e.fillMode,rounded:e.rounded,min:e.min,max:e.max})},_updateARIA:function(e){var t=this;var i=t.dateView.calendar;if(t.element&&t.element.length)t.element[0].removeAttribute(E);if(i)t.element.attr(E,i._updateAria(t._ariaTemplate,e))}}));return u.cssProperties.registerPrefix("DatePicker","k-input-"),u.cssProperties.registerValues("DatePicker",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}]),a.plugin(K),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.timepicker.min",["kendo.popup.min","kendo.dateinput.min","kendo.html.button.min"],function(){var z={id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup","html.button"]},u=window.kendo.jQuery,c=void 0,k=window.kendo,f=k.keys,R=k.html,d=k.parseDate,N=k._activeElement,L=k._extractFormat,r=k.support,o=r.browser,p=k.ui,h=p.Widget,m="open",g="close",s="change",v=".kendoTimePicker",l="click"+v,B="disabled",V="readonly",i="li",U="<span></span>",_="k-focus",n="k-hover",W="mouseenter"+v+" mouseleave"+v,b="mousedown"+v,w=6e4,y=864e5,j="k-selected",x="k-disabled",q="aria-selected",G="aria-expanded",K="aria-hidden",$="aria-disabled",Y="aria-readonly",C="aria-activedescendant",S="id",Q=Array.isArray,T=u.extend,I=Date,D=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g,X="literal",J="month",e="hour",t="zone",a="weekday",Z="quarter",ee={G:"era",y:"year",q:Z,Q:Z,M:J,L:J,d:"day",E:a,c:a,e:a,h:e,H:e,k:e,K:e,m:"minute",s:"second",a:"dayperiod",x:t,X:t,z:t,Z:t},te={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},E=new I,ie='<div tabindex="0" class="k-timeselector #=mainSize#">'+'<div class="k-time-header">'+'<span class="k-title"></span>'+'<button class="k-button #=buttonSize# k-rounded-md k-button-flat k-button-flat-base k-time-now" title="Select now" aria-label="Select now"><span class="k-button-text">#=messages.now#</span></button>'+"</div>"+'<div class="k-time-list-container">'+'<span class="k-time-highlight"></span>'+"</div>"+"</div>",ne='<div class="k-time-footer k-action-buttons">'+'<button class="k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel" title="Cancel changes" aria-label="Cancel changes"><span class="k-button-text">#=messages.cancel#</span></button>'+'<button class="k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary" title="Set time" aria-label="Set time"><span class="k-button-text">#=messages.set#</span></button>'+"</div>",re='<span class="k-time-highlight"></span>',A=(E=new Date(E.getFullYear(),E.getMonth(),E.getDate(),0,0,0),function(e){var t=this,i=e.id;t.options=e;t._dates=[];t._createList(e.timeView&&e.timeView.list==="scroll");if(i){t._timeViewID=i+"_timeview";t._optionID=i+"_option_selected";t.ul.attr(S,t._timeViewID)}t._heightHandler=t._height.bind(t);t._popup()});function ae(){var e=new I,t=new I(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),i=new I(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-i.getTimezoneOffset())}function F(e){return e.getHours()*60*w+e.getMinutes()*w+e.getSeconds()*1e3+e.getMilliseconds()}function oe(e){var t=new Date(2100,0,1);t.setMinutes(-e);return t}function se(e,t,i){var n=F(t),r=F(i),a;if(!e||n==r)return true;a=F(e);if(n>a)a+=y;if(r<n)r+=y;return a>=n&&a<=r}A.prototype={_createList:function(e){if(e)this._createScrollList();else this._createClassicRenderingList()},_createScrollList:function(){var e=u.extend({},this.options,{mainSize:k.getValidCssClass("k-timeselector-","size",this.options.size||"medium"),buttonSize:k.getValidCssClass("k-button-","size",this.options.size||"medium")});this.list=u(k.template(ie)(e)).on(b,H);if(!this.options.omitPopup)this.list.append(k.template(ne)(e));this.ul=this.list.find(".k-time-list-container");this.list.on("click"+v,".k-time-header button.k-time-now",this._nowClickHandler.bind(this));this.list.on("click"+v,".k-time-footer button.k-time-cancel",this._cancelClickHandler.bind(this));this.list.on("click"+v,".k-time-footer button.k-time-accept",this._setClickHandler.bind(this));this.list.on("mouseover"+v,".k-time-list-wrapper",this._mouseOverHandler.bind(this));this.list.on("keydown"+v,this._scrollerKeyDownHandler.bind(this))},_scrollerKeyDownHandler:function(e){var t=this,i=e.keyCode,n=u(e.currentTarget).find(".k-time-list-wrapper.k-focus"),r=t.list.find(".k-time-list-wrapper"),a=r.length,o=r.index(n),s=k.support.isRtl(t.wrapper),l=M(n.find(".k-item:visible").eq(0)),d=n.find(".k-time-container.k-content.k-scrollable");if(!n.length)return;if(i==f.RIGHT&&!s||i==f.LEFT&&s){if(o+1<a)t._focusList(r.eq(o+1))}else if(i==f.LEFT&&!s||i==f.RIGHT&&s){if(o-1>=0)t._focusList(r.eq(o-1))}else if(i==f.UP){d.scrollTop(d.scrollTop()-l);e.preventDefault()}else if(i==f.DOWN){d.scrollTop(d.scrollTop()+l);e.preventDefault()}else if(i===f.ENTER)t._setClickHandler();else if(i===f.ESC)t._cancelClickHandler()},_mouseOverHandler:function(e){this._focusList(u(e.currentTarget))},_focusList:function(e){this.list.find(".k-time-list-wrapper").removeClass(_);e.addClass(_);this.list.trigger("focus");this._scrollTop=e.find(".k-scrollable").scrollTop()},_createClassicRenderingList:function(){var e=this;var t=u('<div class="k-list '+k.getValidCssClass("k-list-","size",e.options.size)+'"><ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list-ul"/></div>');e.ul=t.find("ul").css({overflow:r.kineticScrollNeeded?"":"auto"}).on(l,i,e._click.bind(e)).on("mouseenter"+v,i,function(){u(this).addClass(n)}).on("mouseleave"+v,i,function(){u(this).removeClass(n)});e.list=u("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(t).on(b,H);e.template=k.template('<li tabindex="-1" role="option" class="k-list-item" unselectable="on"><span class="k-list-item-text">#=data#</span></li>',{useWithBlock:false})},current:function(e){var t=this,i=t.options.active;if(e!==c){if(t._current){t._current.removeClass(j);if(t._current&&t._current.length){t._current[0].removeAttribute(S);t._current[0].removeAttribute(q)}}if(e){e=u(e).addClass(j).attr(S,t._optionID).attr(q,true);t.scroll(e[0])}t._current=e;if(i)i(e)}else return t._current},_updateTitle:function(){this.list.find(".k-time-header > .k-title").html(k.toString(this._value,this.options.format,this.options.culture))},applyValue:function(e){if(!e)return;var t=O(this.options.format.toLowerCase(),"t");var i=e.getHours();var n=e.getMinutes();var r=e.getSeconds();var a;var o=k.attr("index");var s=this.ul.find("["+o+'="1"]');var l=this.ul.find("["+o+'="2"]');var d=this.ul.find("["+o+'="3"]');var u=this.ul.find("["+o+'="4"]');if(t)if(i>=12){a="PM";if(i>12)i-=12}else{a="AM";if(i===0)i=12}this._internalScroll=true;if(s.length)this._scrollListToPosition(s,i);if(l.length)this._scrollListToPosition(l,n);if(d.length)this._scrollListToPosition(d,r);if(u.length)this._scrollListToPosition(u,a);this._internalScroll=false},_scrollListToPosition:function(e,t){var i=e.find('.k-item[data-value="'+ge(t)+'"]');var n=M(i);e.scrollTop(e.find(".k-item:visible").index(i)*n)},close:function(){this.popup.close()},destroy:function(){var e=this;e.ul.off(v);e.list.off(v);if(this.popup)e.popup.destroy()},open:function(){var e=this;var t;if(!e.ul[0].firstChild||e.ul.find("li").length<1)e.bind();t=e.popup._hovered;e.popup._hovered=true;e.popup.open();setTimeout(function(){e.popup._hovered=t},1);if(e._current)e.scroll(e._current[0])},dataBind:function(e){var t=this,i=t.options,n=i.format,r=k.toString,a=t.template,o=e.length,s=0,l,d="";for(;s<o;s++){l=e[s];if(se(l,i.min,i.max))d+=a(r(l,n,i.culture))}t._html(d)},refresh:function(){var e=this,t=e.options,i=t.format,n=ae(),r=n<0,a=k.parseDate(e._value),o=a?ue(a,t.min):ue(new Date,t.min),s=t.min,l=t.max,d=F(s),u=F(l),c=F(oe(t.interval)),f=t.interval*w,p=k.toString,h=e.template,m=t.useValueToRender?o:new Date(+t.min),g=new I(m),v,_,b="";if(r)_=(y+n*w)/f;else _=y/f;if(d!=u||c===u){if(d>u)u+=y;_=(u-d)/f+1}if(t.timeView&&t.timeView.list==="scroll")b=e._createListContent(me(i));else e.getDatesInRange(v,u,g,l,f,m).forEach(function(e){b+=h(p(e,i,t.culture))});e._html(b)},_showAllHiddenItems:function(){var e=this.list.find(".k-time-container");var t=e.length;var i;for(var n=0;n<t;n++){i=u(e[n]);i.find(".k-item:hidden").show();this._updateListBottomOffset(i)}},_updateListBottomOffset:function(e){var t=M(e.find(".k-item:visible").eq(0));var i=e.outerHeight();var n=i-t;e.find(".k-scrollable-placeholder").css({height:e.find("ul").height()+n})},_updateHoursRange:function(){var n=this;var e=k.attr("index");var t=this.ul.find("["+e+'="1"]');var r=this._minHours;var a=this._maxHours;var i=O(this.options.format.toLowerCase(),"t");var o;var s;var l=this._findSelectedValue(this.ul.find("["+e+'="4"]'));if(!t.length)return;if(i&&l){if(l==="AM"){if(r<12)s=true;if(a<12)o=true}else if(l==="PM"){if(r>12){s=true;r-=12}if(a>12){o=true;a-=12}}t.find(".k-item").each(function(e,t){t=u(t);var i=+t.attr("data-value");if(n._validateMin&&s&&i<r||n._validateMax&&o&&i>a)t.hide();else t.show()})}else t.find(".k-item").each(function(e,t){t=u(t);var i=+t.attr("data-value");if(n._validateMin&&i<r||n._validateMax&&i>a)t.hide();else t.show()});this._updateListBottomOffset(t)},_updateMinutesRange:function(){var n=this;var e=k.attr("index");var t=this.ul.find("["+e+'="2"]');var r=this._minHours;var a=this._maxHours;var o=this._minMinutes;var s=this._maxMinutes;var l=+this._findSelectedValue(this.ul.find("["+e+'="1"]'));var i=O(this.options.format.toLowerCase(),"t");var d=this._findSelectedValue(this.ul.find("["+e+'="4"]'));if(i&&d==="PM")l+=12;if(!t.length)return;t.find(".k-item").each(function(e,t){t=u(t);var i=+t.attr("data-value");if(n._validateMin&&i<o&&r&&l===r||n._validateMax&&i>s&&a&&l===a)t.hide();else t.show()});this._updateListBottomOffset(t)},_updateSecondsRange:function(){var n=this;var e=k.attr("index");var t=this.ul.find("["+e+'="3"]');var r=this._minSeconds;var a=this._minSeconds;var o=this._minMinutes;var s=this._maxMinutes;var l=+this._findSelectedValue(this.ul.find("["+e+'="2"]'));if(!t.length)return;t.find(".k-item").each(function(e,t){t=u(t);var i=+t.attr("data-value");if(n._validateMin&&i<r&&o&&l===o||n._validateMax&&i>a&&s&&l===s)t.hide();else t.show()});this._updateListBottomOffset(t)},_updateDesignatorRange:function(){var e=this._minHours;var t=this._maxHours;var i=k.attr("index");var n=this.ul.find("["+i+'="4"]');if(!n.length)return;if(this._validateMin&&e>=12)n.find('.k-item[data-value="AM"]').hide();else n.find('.k-item[data-value="AM"]').show();if(this._validateMax&&t<12)n.find('.k-item[data-value="PM"]').hide();else n.find('.k-item[data-value="PM"]').show()},_updateRanges:function(){if(!this.options.specifiedRange)return;if(!this._currentlySelected)this._currentlySelected=new Date;var e=this.options.max;var t=this.options.min;if(this.options.validateDate){if(e.getFullYear()===this._currentlySelected.getFullYear()&&e.getMonth()===this._currentlySelected.getMonth()&&e.getDate()===this._currentlySelected.getDate())this._validateMax=true;else this._validateMax=false;if(t.getFullYear()===this._currentlySelected.getFullYear()&&t.getMonth()===this._currentlySelected.getMonth()&&t.getDate()===this._currentlySelected.getDate())this._validateMin=true;else this._validateMin=false;if(!this._validateMax&&!this._validateMin){this._showAllHiddenItems();return}}else{this._validateMax=true;this._validateMin=true}this._minMinutes=t.getMinutes();this._maxMinutes=e.getMinutes();this._minHours=t.getHours();this._maxHours=e.getHours();this._minSeconds=t.getSeconds();this._maxSeconds=e.getSeconds();this._updateDesignatorRange();this._updateHoursRange();this._updateMinutesRange();this._updateSecondsRange()},addTranslate:function(){var e=this.ul.find(".k-time-container.k-content.k-scrollable");var t=e.length;var i;var n;var r;var a;var o;var s;for(var l=0;l<t;l++){i=e.eq(l);n=M(i.find(".k-item:visible").eq(0));r=i.outerHeight();a=(r-n)/2;o="translateY("+a+"px)";s=r-n;i.find("ul").css({transform:o,"-ms-transform":o});i.find(".k-scrollable-placeholder").css({height:i.find("ul").height()+s});i.off(v).on("click"+v,".k-item",this._itemClickHandler.bind(this)).on("scroll"+v,this._listScrollHandler.bind(this))}},_nowClickHandler:function(e){e.preventDefault();var t=new Date;this.value(t);this.options.change(k.toString(t,this.options.format,this.options.culture),true)},_cancelClickHandler:function(e){e.preventDefault();this.value(this._value);this.popup.close()},_setClickHandler:function(e){e.preventDefault();this._value=new Date(this._currentlySelected);this.options.change(k.toString(this._currentlySelected,this.options.format,this.options.culture),true);this.popup.close()},_listScrollHandler:function(e){var t=this;var i=M(u(e.currentTarget).find(".k-item:visible").eq(0));if(t._internalScroll)return;if(t._scrollingTimeout)clearTimeout(t._scrollingTimeout);t._scrollingTimeout=setTimeout(function(){if(e.currentTarget.scrollTop%i>1)e.currentTarget.scrollTop+=i-e.currentTarget.scrollTop%i;t._scrollTop=e.currentTarget.scrollTop;t._updateCurrentlySelected();t._updateRanges()},100)},_updateCurrentlySelected:function(){var e=O(this.options.format.toLowerCase(),"t");var t=k.attr("index");var i=this.ul.find("["+t+'="1"]');var n=this.ul.find("["+t+'="2"]');var r=this.ul.find("["+t+'="3"]');var a=this.ul.find("["+t+'="4"]');var o;var s;var l;var d;if(!this.ul.is(":visible"))return;if(!this._currentlySelected)this._currentlySelected=this._value?new Date(this._value):new Date;if(i.length)o=+this._findSelectedValue(i);if(n.length)s=+this._findSelectedValue(n);if(r.length)l=+this._findSelectedValue(r);if(a.length)d=this._findSelectedValue(a);if(e){if(d=="PM"){o+=12;if(o==24)o=12}if(d==="AM"&&o===12)o=0}if(o!==c)this._currentlySelected.setHours(o);if(s!==c)this._currentlySelected.setMinutes(s);if(l!==c)this._currentlySelected.setSeconds(l)},_findSelectedValue:function(e){var t=ve(e.scrollTop(),M(e.find(".k-item:visible").eq(0)));return e.find(".k-item:visible").eq(t).attr("data-value")},_itemClickHandler:function(e){var t=u(e.originalEvent.currentTarget);var i=t.find(".k-item:visible").index(u(e.currentTarget));var n=M(t.find(".k-item:visible").eq(0));t.scrollTop(i*n)},getDatesInRange:function(e,t,i,n,r,a){var o=[];while(true){if(t&&(F(a)>=t||i.getDate()!=a.getDate())){e=F(a);if(i<a)e+=y;if(e>t)a=new I(+n);if(F(a)>0)o.push(new Date(a));break}if(i.getDate()!=a.getDate())break;o.push(new Date(a));a.setTime(a.getTime()+r);if(!t&&this.options.maxSet)break}return o},_createListContent:function(e){var t=e.length;var i="";var n;var r;for(var a=0;a<t;a++){n=e[a];if(n.type==="literal")i+=this._literalTemplate(n);else{r=this._getValues(n,true);i+=this._itemTemplate(r.values,n,this.options.messages[n.type],r.index)}}return i},_itemTemplate:function(e,t,i,n){var r="";var a=e.length;var o=k.attr("index");r+='<div class="k-time-list-wrapper" role="presentation">'+'<span class="k-title">'+(i||t.type)+"</span>"+'<div class="k-time-list">'+'<div class="k-time-container k-content k-scrollable" role="presentation" '+o+'="'+n+'">'+'<ul class="k-reset">';for(var s=0;s<a;s++)r+='<li class="k-item" data-value="'+e[s]+'">'+"<span>"+e[s]+"</span>"+"</li>";r+="</ul>"+'<div class="k-scrollable-placeholder"></div>'+"</div>"+"</div>"+"</div>";return r},_getValues:function(e,t){var i=[];var n;var r=0;var a;if(e.type==="hour"){r=e.hour12?1:0;n=1;a=e.hour12?12:23}else if(e.type==="minute"){n=2;a=59}else if(e.type==="second"){n=3;a=59}for(;r<=a;r++)i.push(t?ge(r):r);return{values:i,index:n}},_literalTemplate:function(e){var t='<div class="k-time-separator">'+(e.pattern===" tt"?":":e.pattern)+"</div>";if(e.pattern===" tt")t+=this._itemTemplate(["AM","PM"],e,"AM/PM",4);return t},bind:function(){var e=this,t=e.options.dates;if(t&&t[0])e.dataBind(t);else e.refresh()},_html:function(e){var t=this;if(t.options.timeView&&t.options.timeView.list==="scroll"){e=re+e;t.ul.html(e)}else{t.ul[0].innerHTML=e;t.popup.unbind(m,t._heightHandler);t.popup.one(m,t._heightHandler);t.current(null);t.select(t._value)}},scroll:function(e){if(!e)return;if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded();else _e(e)},select:function(t){var e=this,i=e.options,n=e._current,r;if(t instanceof Date)t=k.toString(t,i.format,i.culture);if(typeof t==="string")if(!n||n.text()!==t){t=u.grep(e.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t});t=t[0]?t:null}else t=n;r=e._distinctSelection(t);e.current(r)},_distinctSelection:function(e){var t=this,i,n;if(e&&e.length>1){i=F(t._value);n=u.inArray(i,t._dates);e=t.ul.children()[n]}return e},setOptions:function(e){var t=this.options;e.min=d(e.min);e.max=d(e.max);this.options=T(t,e,{active:t.active,change:t.change,close:t.close,open:t.open});this.bind()},toggle:function(){var e=this;if(e.popup.visible())e.close();else e.open()},value:function(e){var t=this;t._value=e;if(t.ul[0].firstChild)if(t.options.timeView&&t.options.timeView.list==="scroll")t.applyValue(e);else t.select(e)},_click:function(e){var t=this,i=u(e.currentTarget),n=i.text(),r=t.options.dates;if(r&&r.length>0)n=r[i.index()];if(!e.isDefaultPrevented()){t.select(i);t.options.change(n,true);t.close()}},_height:function(){var e=this;var t=e.list;var i=t.parent(".k-animation-container");var n=e.options.height;if(e.ul[0].children.length)t.add(i).show().height(e.ul[0].scrollHeight>n?n:"auto").hide()},_parse:function(e){var t=this,i=t.options,n=F(i.min)!=F(E)?i.min:null,r=F(i.max)!=F(E)?i.max:null,a=t._value||n||r||E;if(e instanceof I)return e;e=d(e,i.parseFormats,i.culture);if(e)e=new I(a.getFullYear(),a.getMonth(),a.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return e},_adjustListWidth:function(){var e=this.list,t=e[0].style.width,i=this.options.anchor,n,r,a=k._outerWidth;if(!e.data("width")&&t)return;n=window.getComputedStyle?window.getComputedStyle(i[0],null):0;r=n?parseFloat(n.width):a(i);if(n&&(o.mozilla||o.msie))r+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth);t=r-(a(e)-e.width());e.css({fontFamily:i.css("font-family"),width:t}).data("width",t)},_popup:function(){var e=this,t=e.list,i=e.options,n=i.anchor;if(!this.options.omitPopup)e.popup=new p.Popup(t,T(i.popup,{anchor:n,open:i.open,close:i.close,animation:i.animation,isRtl:r.isRtl(i.anchor),activate:function(){if(e.options.timeView&&e.options.timeView.list==="scroll"){e.addTranslate();if(e._value)e.applyValue(e._value);else e._updateCurrentlySelected();e._updateRanges();e._focusList(e.list.find(".k-time-list-wrapper").eq(0))}}}));else t.appendTo(i.timeDiv)},move:function(e){var t=this,i=e.keyCode,n=t.ul[0],r=t._current,a=i===f.DOWN;if(i===f.UP||a){if(e.altKey){t.toggle(a);return}else if(a)r=r?r[0].nextSibling:n.firstChild;else r=r?r[0].previousSibling:n.lastChild;if(r)t.select(r);t.options.change(t._current.text());e.preventDefault()}else if(i===f.ENTER||i===f.TAB||i===f.ESC){e.preventDefault();if(r)t.options.change(r.text(),true);t.close()}}},A.getMilliseconds=F,k.TimeView=A;var le=h.extend({init:function(i,e){var n=this,t,r,a;e=e||{};e.componentType=e.componentType||"classic";h.fn.init.call(n,i,e);i=n.element;e=n.options;e.min=d(i.attr("min"))||d(e.min);e.max=d(i.attr("max"))||d(e.max);if(+e.max!=+E||+e.min!=+E)this._specifiedRange=true;de(e);n._initialOptions=T({},e);n._wrapper();if(n.options.timeView&&n.options.timeView.list==="scroll")n.options.height=null;n.timeView=r=new A(T({},e,{id:i.attr(S),anchor:n.wrapper,format:e.format,change:function(e,t){if(t)n._change(e);else i.val(e)},open:function(e){if(n.options.timeView&&n.options.timeView.list!=="scroll")n.timeView._adjustListWidth();else n.timeView._updateTitle();if(n.trigger(m))e.preventDefault();else{i.attr(G,true);t.attr(K,false);if(r.current())i.attr(C,r._optionID)}},close:function(e){if(n.trigger(g))e.preventDefault();else{i.attr(G,false);t.attr(K,true);i[0].removeAttribute(C)}},active:function(e){if(i&&i.length)i[0].removeAttribute(C);if(e)i.attr(C,r._optionID)},specifiedRange:n._specifiedRange,maxSet:+e.max!=+E}));t=r.ul;n._ariaLabel(t);n._icon();n._reset();try{i[0].setAttribute("type","text")}catch(e){i[0].type="text"}i.addClass("k-input-inner").attr({role:"combobox","aria-expanded":false,"aria-controls":r._timeViewID,autocomplete:"off"});a=i.is("[disabled]")||u(n.element).parents("fieldset").is(":disabled");if(a)n.enable(false);else n.readonly(i.is("[readonly]"));if(e.dateInput){var o=e.min;var s=e.max;var l=new I;if(F(o)==F(s)){o=new I(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0);s=new I(l.getFullYear(),l.getMonth(),l.getDate(),24,0,0)}n._dateInput=new p.DateInput(i,{culture:e.culture,format:e.format,min:o,max:s,value:e.value,interval:e.interval,size:e.size,fillMode:e.fillMode,rounded:e.rounded})}n._old=n._update(e.value||n.element.val());n._oldText=i.val();n._applyCssClasses();k.notify(n)},options:{name:"TimePicker",min:E,max:E,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:false,messages:{set:"Set",cancel:"Cancel",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",now:"Now"},componentType:"classic",size:"medium",fillMode:"solid",rounded:"medium"},events:[m,g,s],componentTypes:{classic:{timeView:{list:"list"}},modern:{timeView:{list:"scroll"}}},setOptions:function(e){var t=this;var i=t._value;h.fn.setOptions.call(t,e);e=t.options;if(+e.max!=+E||+e.min!=+E)this._specifiedRange=true;t._arrow.off(v);t._arrow.remove();de(e);t.timeView.setOptions(e);t._icon();t._editable(e);if(i)t.element.val(k.toString(i,e.format,e.culture))},dataBind:function(e){if(Q(e))this.timeView.dataBind(e)},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t._arrow.off(v),a=t.element.off(v),o=t.wrapper.off(v);if(t._dateInput)t._dateInput._unbindInput();if(!n&&!i){o.removeClass(x).on(W,t._toggleHover);if(a&&a.length){a[0].removeAttribute(B);a[0].removeAttribute(V)}a.attr($,false).attr(Y,false).on("keydown"+v,t._keydown.bind(t)).on("focusout"+v,t._blur.bind(t)).on("focus"+v,function(){t.wrapper.addClass(_)});if(t._dateInput)t._dateInput._bindInput();r.on(l,t._click.bind(t)).on(b,H)}else{o.addClass(i?x:"").removeClass(i?"":x);a.attr(B,i).attr(V,n).attr($,i).attr(Y,n)}},readonly:function(e){this._editable({readonly:e===c?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===c?true:e)})},destroy:function(){var e=this;h.fn.destroy.call(e);e.timeView.destroy();e.element.off(v);e._arrow.off(v);e.wrapper.off(v);if(e._form)e._form.off("reset",e._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){if(e)this._specifiedRange=true;return this._option("min",e)},max:function(e){if(e&&this.timeView){this._specifiedRange=true;this.timeView.options.maxSet=true}else if(this.timeView)this.timeView.options.maxSet=false;return this._option("max",e)},value:function(e){var t=this;if(e===c)return t._value;t._old=t._update(e);if(t._old===null)t.element.val("");t._oldText=t.element.val()},_blur:function(){var e=this,t=e.element.val();if(!(e.options.timeView&&e.options.timeView.list==="scroll"))e.close();if(t!==e._oldText)e._change(t);e.wrapper.removeClass(_)},_click:function(){var e=this,t=e.element;e.timeView.toggle();if(!r.touch&&t[0]!==N())t.trigger("focus")},_change:function(e){var t=this,i=t.element.val(),n;e=t._update(e);n=!k.calendar.isEqualDate(t._old,e);var r=n&&!t._typing;var a=i!==t.element.val();if(r||a)t.element.trigger(s);if(n){t._old=e;t._oldText=t.element.val();t.trigger(s)}t._typing=false},_icon:function(){var e=this,t=e.element,i=e.options,n;n=t.next("button.k-input-button");if(!n[0])n=u(R.renderButton('<button unselectable="on" tabindex="-1" class="k-input-button" aria-label="select"></button>',{icon:"clock",size:i.size,fillMode:i.fillMode,shape:"none",rounded:"none"})).insertAfter(t);e._arrow=n.attr({role:"button"})},_keydown:function(e){var t=this,i=e.keyCode,n=t.timeView,r=t.element.val();if(n.popup.visible()||e.altKey){n.move(e);if(t._dateInput&&e.stopImmediatePropagation)e.stopImmediatePropagation()}else if(i===f.ENTER&&r!==t._oldText)t._change(r);else t._typing=true},_option:function(e,t){var i=this,n=i.options;if(t===c)return n[e];t=i.timeView._parse(t);if(!t)return;t=new I(+t);n[e]=t;i.timeView.options[e]=t;i.timeView.bind()},_toggleHover:function(e){u(e.currentTarget).toggleClass(n,e.type==="mouseenter")},_update:function(e){var t=this,i=t.options,n=t.timeView,r=n._parse(e);if(!se(r,i.min,i.max))r=null;t._value=r;t._currentlySelected=r;if(t._dateInput&&r)t._dateInput.value(r||e);else t.element.val(k.toString(r||e,i.format,i.culture));n.value(r);return r},_wrapper:function(){var e=this,t=e.element,i;i=t.parents(".k-timepicker");if(!i[0])i=t.wrap(U).parent();i[0].style.cssText=t[0].style.cssText;e.wrapper=i.addClass("k-timepicker k-input").addClass(t[0].className);t.css({height:t[0].style.height})},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?u("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){e.value(t[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)};e._form=n.on("reset",e._resetHandler)}}});function de(e){var t=e.parseFormats;e.format=L(e.format||k.getCulture(e.culture).calendars.standard.patterns.t);t=Q(t)?t:[t];t.splice(0,0,e.format);e.parseFormats=t}function H(e){e.preventDefault()}function ue(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ce(e,t){var i=t.calendar;var n;if(typeof e==="string")if(i.patterns[e])n=i.patterns[e];else n=e;if(!n)n=i.patterns.d;return n}function P(e,t){var i=e[e.length-1];if(i&&i.type==="LITERAL")i.pattern+=t;else e.push({type:X,pattern:t})}function fe(e){return e==="h"||e==="K"}function pe(e){var t;if(e<=3)t="abbreviated";else if(e===4)t="wide";else if(e===5)t="narrow";else if(e===6)t="short";return t}function he(e,t,i){i=i||0;return e.indexOf(t,i)===i}function O(e,t){var i=false;if(e.indexOf(t)!==-1)i=true;return i}function me(e){var t=k.culture();var i=ce(e,t);var n=[];var r=D.lastIndex=0;var a=D.exec(i);var o;var s;var l;var d;var u;var c;while(a){var f=a[0];if(r<a.index)P(n,i.substring(r,a.index));if(he(f,'"')||he(f,"'"))P(n,f);else{o=f[0];s=ee[o];l={type:s,pattern:f};if(s==="hour")l.hour12=fe(f);d=te[s];if(d){u=typeof d.minLength==="number"?d.minLength:d.minLength[o];c=f.length;if(c>=u)l.names={type:d.type,nameType:pe(c),standAlone:d.standAlone===o}}n.push(l)}r=D.lastIndex;a=D.exec(i)}if(r<i.length)P(n,i.substring(r));return n}function ge(e,t){var i=String(e);while(i.length<(t||2))i="0"+i;return i}function ve(e,t){return Math.max(Math.round(e/t),0)}function M(e){return e.length&&e[0].getBoundingClientRect().height}function _e(e,i){function t(e,t){return{start:e,length:t,end:e+t}}function n(e,t){if(i===false||t.start<e.end&&e.start<t.end)return Math.min(e.start,Math.max(t.start,e.end-t.length));return(e.start+e.end-t.length)/2}function a(n,r){return{x:n,y:r,translate:function e(t,i){return a(n+t,r+i)}}}function r(e,t){while(e){t=t.translate(e.offsetLeft,e.offsetTop);e=e.offsetParent}return t}var o=r(e,a(0,0)),s=a(e.offsetWidth,e.offsetHeight),l=e.parentNode,d;while(l instanceof HTMLElement){d=r(l,a(l.clientLeft,l.clientTop));l.scrollLeft=n(t(o.x-d.x,s.x),t(l.scrollLeft,l.clientWidth));l.scrollTop=n(t(o.y-d.y,s.y),t(l.scrollTop,l.clientHeight));o=o.translate(-l.scrollLeft,-l.scrollTop);l=l.parentNode}}return k.cssProperties.registerPrefix("TimePicker","k-input-"),k.cssProperties.registerValues("TimePicker",[{prop:"rounded",values:k.cssProperties.roundedValues.concat([["full","full"]])}]),p.plugin(le),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.datetimepicker.min",["kendo.datepicker.min","kendo.timepicker.min","kendo.html.button.min"],function(){var z={id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]},m=window.kendo.jQuery,d=void 0,g=window.kendo,p=g.TimeView,r=g.html,v=g.parseDate,i=g.support,R=g._activeElement,a=g._extractFormat,e=g.calendar,_=e.isInRange,N=e.restrictValue,b=e.isEqualDatePart,n=p.getMilliseconds,o=g.ui,s=o.Widget,h="open",k="close",w="change",l=".kendoDateTimePicker",u="click"+l,c=i.mouseAndTouchPresent?g.applyEventMap("up",l.slice(1)):u,f="disabled",y="readonly",x="k-focus",L="k-hover",C="k-disabled",B="mouseenter"+l+" mouseleave"+l,S="mousedown"+l,t="month",V="<span/>",T="aria-activedescendant",I="aria-expanded",D="aria-hidden",E="aria-disabled",U="aria-readonly",A=Date,F=new A(1800,0,1),H=new A(2099,11,31),W={view:"date"},j={view:"time"},P=m.extend,q='<div class="k-date-tab k-datetime-wrap">'+'<div class="k-datetime-buttongroup">'+'<div class="k-button-group k-button-group-stretched">'+'<button class="k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-selected k-group-start">'+'<span class="k-button-text">#=messages.date#</span>'+"</button>"+'<button class="k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-group-end">'+'<span class="k-button-text">#=messages.time#</span>'+"</button>"+"</div>"+"</div>"+'<div class="k-datetime-selector">'+'<div class="k-datetime-calendar-wrap">'+"</div>"+'<div class="k-datetime-time-wrap">'+"</div>"+"</div>"+'<div class="k-datetime-footer k-action-buttons">'+'<button class="k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-base k-time-cancel" title="Cancel" aria-label="Cancel">'+'<span class="k-button-text">#=messages.cancel#</span>'+"</button>"+'<button class="k-time-accept k-button #=buttonSize# k-rounded-md k-button-solid k-button-solid-primary" title="Set" aria-label="Set">'+'<span class="k-button-text">#=messages.set#</span>'+"</button>"+"</div>"+"</div>",O="k-selected",G=s.extend({init:function(t,e){var i=this,n,r;e=e||{};e.componentType=e.componentType||"classic";s.fn.init.call(i,t,e);t=i.element;e=i.options;e.disableDates=g.calendar.disabled(e.disableDates);e.min=v(t.attr("min"))||v(e.min);e.max=v(t.attr("max"))||v(e.max);if(+e.max!=+H||+e.min!=+F)this._specifiedRange=true;$(e);i._initialOptions=P({},e);i._wrapper();if(e.singlePopup)i._popup();i._views();i._icons();i._reset();i._template();try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}t.addClass("k-input-inner").attr({role:"combobox","aria-expanded":false,"aria-haspopup":"grid","aria-controls":i.dateView._dateViewID+" "+i.timeView._timeViewID,autocomplete:"off"});i._midnight=i._calculateMidnight(e.min,e.max);n=t.is("[disabled]")||m(i.element).parents("fieldset").is(":disabled");if(n)i.enable(false);else i.readonly(t.is("[readonly]"));r=v(e.value||i.element.val(),e.parseFormats,e.culture);i._createDateInput(e);i._old=i._update(r||i.element.val());i._oldText=t.val();i._applyCssClasses();g.notify(i)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new A(F),max:new A(H),interval:30,height:200,footer:"",start:t,depth:t,animation:{},month:{},ARIATemplate:"Current focused #=data.valueType# is #=data.text#",dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:false,weekNumber:false,messages:{set:"Set",cancel:"Cancel",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",now:"Now",date:"Date",time:"Time",today:"Today",weekColumnHeader:""},componentType:"classic",size:"medium",fillMode:"solid",rounded:"medium"},events:[h,k,w],componentTypes:{classic:{singlePopup:false,timeView:{list:"list"}},modern:{singlePopup:true,timeView:{list:"scroll"}}},setOptions:function(e){var t=this,i=t._value,n,r,a;s.fn.setOptions.call(t,e);e=t.options;e.min=n=v(e.min);e.max=r=v(e.max);$(e);t._midnight=t._calculateMidnight(e.min,e.max);a=e.value||t._value||t.dateView._current;if(n&&!b(n,a))n=new A(F);if(r&&!b(r,a))r=new A(H);t._dateIcon.off(l);t._dateIcon.remove();t._timeIcon.off(l);t._timeIcon.remove();t.dateView.setOptions(e);t.timeView.setOptions(P({},e,{format:e.timeFormat,min:n,max:r}));t._icons();t._editable(e);t._createDateInput(e);if(!t._dateInput)t.element.val(g.toString(i,e.format,e.culture));if(i)t._updateARIA(i)},_editable:function(e){var t=this,i=t.element.off(l),n=t._dateIcon.off(l),r=t._timeIcon.off(l),a=t.wrapper.off(l),o=e.readonly,s=e.disable;if(!o&&!s){a.removeClass(C).on(B,t._toggleHover);if(i&&i.length){i[0].removeAttribute(f);i[0].removeAttribute(y,false);i[0].removeAttribute(E,false);i[0].removeAttribute(U,false)}i.on("keydown"+l,t._keydown.bind(t)).on("focus"+l,function(){t.wrapper.addClass(x)}).on("focusout"+l,function(){t.wrapper.removeClass(x);if(i.val()!==t._oldText){t._change(i.val());if(!i.val())t.dateView.current(g.calendar.getToday())}if(t.options.singlePopup)return;t.close("date");t.close("time")});n.on(S,M).on(c,function(e){t.toggle("date");t._focusElement(e.type)});r.on(S,M).on(c,function(e){t.toggle("time");t._focusElement(e.type)})}else{a.addClass(s?C:"").removeClass(s?"":C);i.attr(f,s).attr(y,o).attr(E,s).attr(U,o)}},_focusElement:function(e){var t=this.element;if((!i.touch||i.mouseAndTouchPresent&&!(e||"").match(/touch/i))&&t[0]!==R())t.trigger("focus")},readonly:function(e){this._editable({readonly:e===d?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===d?true:e)})},destroy:function(){var e=this;s.fn.destroy.call(e);e.dateView.destroy();e.timeView.destroy();if(e.options.singlePopup){e.popup.element.off(l);e.popup.destroy()}e.element.off(l);e._dateIcon.off(l);e._timeIcon.off(l);e.wrapper.off(l);if(e._form)e._form.off("reset",e._resetHandler)},close:function(e){var t=this;if(t.options.singlePopup)t.popup.close();else{if(e!=="time")e="date";t[e+"View"].close()}setTimeout(function(){t.element.removeAttr("aria-activedescendant")})},open:function(e){var t=this;var i;if(t.options.singlePopup){t.dateView._calendar();if(t.timeView.ul.find("li").length<1)t.timeView.bind();i=t.popup._hovered;t.popup._hovered=true;t.popup.open();if(e==="time")t._switchToTimeView();else t._switchToDateView();this._dateIcon.toggle(e!=="time");this._timeIcon.toggle(e==="time");setTimeout(function(){t.popup._hovered=i},1)}else{if(e!=="time")e="date";this[e+"View"].open()}},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){if(this.options.singlePopup)if(this.popup.visible())this.close();else this.open(e);else{var t="timeView";if(e!=="time")e="date";else t="dateView";this[e+"View"].toggle();this[t].close()}},value:function(e){var t=this;if(e===d)return t._value;t._old=t._update(e);if(t._old===null)if(t._dateInput)t._dateInput.value(t._old);else t.element.val("");t._oldText=t.element.val()},_change:function(e){var t=this,i=t.element.val(),n;e=t._update(e);n=+t._old!=+e;var r=n&&!t._typing;var a=i!==t.element.val();if(r||a)t.element.trigger(w);if(n){t._old=e;t._oldText=t.element.val();t.trigger(w)}t._typing=false},_option:function(e,t){var i=this;var n=i.options;var r=i.timeView;var a=r.options;var o=i._value||i._old;var s;var l;if(t===d)return n[e];t=v(t,n.parseFormats,n.culture);a.maxSet=false;if(!t)return;if(n.min.getTime()===n.max.getTime())a.dates=[];n[e]=new A(t.getTime());i.dateView[e](t);i._midnight=i._calculateMidnight(n.min,n.max);if(o){s=b(n.min,o);l=b(n.max,o)}if(s||l){a[e]=t;if(s&&!l)a.max=K(n.interval);if(l)if(i._midnight){r.dataBind([H]);return}else if(!s){a.min=F;a.maxSet=true}}else{a.max=H;a.min=F}r.bind()},_toggleHover:function(e){m(e.currentTarget).toggleClass(L,e.type==="mouseenter")},_update:function(e){var t=this,i=t.options,n=i.min,r=i.max,a=i.dates,o=t.timeView,s=t._value,l=v(e,i.parseFormats,i.culture),d=l===null&&s===null||l instanceof Date&&s instanceof Date,u,c,f,p,h;if(i.disableDates&&i.disableDates(l)){l=null;if(!t._old&&!t.element.val())e=null}if(+l===+s&&d){h=g.toString(l,i.format,i.culture);if(h!==e){t.element.val(l===null?e:h);if(e instanceof String)t.element.trigger(w)}return l}if(l!==null&&b(l,n))l=N(l,n,r);else if(!_(l,n,r))l=null;t._value=l;o.value(l);t.dateView.value(l);if(l){f=t._old;c=o.options;c.maxSet=false;if(a[0]){a=m.grep(a,function(e){return b(l,e)});if(a[0]){o.dataBind(a);p=true}}if(!p){if(b(l,n)){c.min=n;c.max=K(i.interval);u=true}if(b(l,r))if(t._midnight){o.dataBind([H]);p=true}else{c.max=r;c.maxSet=true;if(!u)c.min=F;u=true}}if(!p&&(!f&&u||f&&!b(f,l))){if(!u){c.max=H;c.min=F}o.bind()}}if(t._dateInput){if(l)t._dateInput.value(l)}else t.element.val(g.toString(l||e,i.format,i.culture));t._updateARIA(l);return l},_keydown:function(e){var t=this,i=t.dateView,n=t.timeView,r=t.element.val(),a=t.options.singlePopup?t.popup.visible():i.popup.visible();var o=t._dateInput&&e.stopImmediatePropagation;if(e.altKey&&e.keyCode===g.keys.DOWN)t.toggle(a?"time":"date");else if(a){i.move(e);t._updateARIA(i._current);if(e.keyCode===g.keys.ENTER)t.toggle("time")}else if(!t.options.singlePopup&&n.popup.visible())n.move(e);else if(e.keyCode===g.keys.ENTER&&r!==t._oldText)t._change(r);else{t._typing=true;o=false}if(o)e.stopImmediatePropagation()},_views:function(){var i=this,n=i.element,r=i.options,e=n.attr("id"),a,t,o,s,l,d,u,c,f;if(r.singlePopup){r.dateDiv=i.popup.element.find(".k-datetime-calendar-wrap");u=i.popup.element.find(".k-datetime-time-wrap");r.omitPopup=c=true;f=r.timeView}i.dateView=a=new g.DateView(P({},r,{id:e,anchor:i.wrapper,change:function(){var e=i._applyDateValue();if(r.singlePopup){if(!i.timeView._currentlySelected)i.timeView._currentlySelected=new Date;i.timeView._currentlySelected.setFullYear(e.getFullYear());i.timeView._currentlySelected.setMonth(e.getMonth());i.timeView._currentlySelected.setDate(e.getDate());i._switchToTimeView();i._toggleIcons()}else{i._change(e);i.close("date")}},close:function(e){if(i.trigger(k,W))e.preventDefault();else{n.attr(I,false);o.attr(D,true)}},open:function(e){if(i.trigger(h,W))e.preventDefault();else{if(n.val()!==i._oldText){d=v(n.val(),r.parseFormats,r.culture);i.dateView[d?"current":"value"](d)}o.attr(D,false);n.attr(I,true);i._updateARIA(d)}}}));o=a.div;l=r.min.getTime();i.timeView=t=new p({id:e,value:r.value,size:r.size,anchor:i.wrapper,animation:r.animation,format:r.timeFormat,culture:r.culture,height:r.componentType==="modern"?null:r.height,interval:r.interval,min:r.componentType==="modern"?r.min:new A(F),max:r.componentType==="modern"?r.max:new A(H),dates:l===r.max.getTime()?[new Date(l)]:[],parseFormats:r.parseFormats,validateDate:true,change:function(e,t){e=i._applyTimeValue(e);if(t){i._timeSelected=true;i._change(e)}else{n.val(g.toString(e,r.format,r.culture));a.value(e);i._updateARIA(e)}},close:function(e){if(i.trigger(k,j))e.preventDefault();else{s.attr(D,true);n.attr(I,false)}},open:function(e){if(i.options.componentType!=="modern")t._adjustListWidth();else i.timeView._updateTitle();if(i.trigger(h,j))e.preventDefault();else{if(n.val()!==i._oldText){d=v(n.val(),r.parseFormats,r.culture);i.timeView.value(d)}s.attr(D,false);n.attr(I,true);t.options.active(t.current())}},active:function(e){if(n&&n.length)n[0].removeAttribute(T);if(e)n.attr(T,t._optionID)},popup:r.popup,useValueToRender:true,specifiedRange:i._specifiedRange,omitPopup:c,timeDiv:u,timeView:f,messages:i.options.messages});s=t.ul},_applyDateValue:function(){var e=this;var t=e.options;var i=e.dateView;var n=i.calendar.value();var r=+n;var a=+t.min;var o=+t.max;var s,l;if(r===a||r===o){s=r===a?a:o;s=new A(e._value||s);s.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());if(_(s,a,o))n=s}if(e._value){l=g.date.setHours(new Date(n),e._value);if(_(l,a,o))n=l}return n},_applyTimeValue:function(e){var t=this.timeView;var i=this.options;e=t._parse(e);if(e<i.min){e=new A(+i.min);t.options.min=e}else if(e>i.max){e=new A(+i.max);t.options.max=e}return e},_icons:function(){var e=this;var t=e.element;var i=e.options;var n;n=e.wrapper.find("button.k-input-button");if(!n[0]){e._dateIcon=m(r.renderButton('<button unselectable="on" tabindex="-1" class="k-input-button" aria-label="'+i.dateButtonText+'"></button>',{icon:"calendar",size:i.size,fillMode:i.fillMode,shape:"none",rounded:"none"})).insertAfter(t);e._timeIcon=m(r.renderButton('<button unselectable="on" tabindex="-1" class="k-input-button" aria-label="'+i.timeButtonText+'"></button>',{icon:"clock",size:i.size,fillMode:i.fillMode,shape:"none",rounded:"none"})).insertAfter(t)}if(i.singlePopup)e._timeIcon.hide()},_wrapper:function(){var e=this,t=e.element,i;i=t.parents(".k-datetimepicker");if(!i[0])i=t.wrap(V).parent();i[0].style.cssText=t[0].style.cssText;t.css({width:"100%",height:t[0].style.height});e.wrapper=i.addClass("k-datetimepicker k-input").addClass(t[0].className).removeClass("input-validation-error")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form"),r=e.options,a=r.disableDates,o=r.parseFormats.length?r.parseFormats:null,s=e._initialOptions.value,l=t[0].defaultValue;if(s&&(a&&a(s)))s=null;if((!l||!g.parseDate(l,o,r.culture))&&s)t.attr("value",g.toString(s,r.format,r.culture));if(n[0]){e._resetHandler=function(){e.value(s||t[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)};e._form=n.on("reset",e._resetHandler)}},_template:function(){this._ariaTemplate=g.template(this.options.ARIATemplate).bind(this)},_createDateInput:function(e){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(e.dateInput)this._dateInput=new o.DateInput(this.element,{culture:e.culture,format:e.format,size:e.size,fillMode:e.fillMode,rounded:e.rounded,min:e.min,max:e.max,interval:e.interval})},_calculateMidnight:function(e,t){return n(e)+n(t)===0},_updateARIA:function(e){var t=this;var i=t.dateView.calendar;if(t.element&&t.element.length)t.element[0].removeAttribute(T);if(i)t.element.attr(T,i._updateAria(t._ariaTemplate,e))},_popup:function(){var t=this;var e=t.options;var i=m("<div></div>").attr(D,"true").addClass("k-datetime-container k-group k-reset").appendTo(document.body);i.append(g.template(q)(P({},t.options,{buttonSize:g.getValidCssClass("k-button-","size",t.options.size)})));t.popup=new o.Popup(i,P(e.popup,e,{name:"Popup",isRtl:g.support.isRtl(t.wrapper),anchor:t.wrapper,activate:function(){if(t.options.timeView&&t.options.timeView.list==="scroll"){t.timeView.addTranslate();t.timeView.applyValue(t._value);t.timeView._updateRanges()}},open:function(e){if(t.trigger(h,{view:this.element.find(".k-date-tab").length?"date":"time",sender:t}))e.preventDefault();t.timeView._updateTitle()}}));i.on(u+l,".k-datetime-buttongroup .k-button",t._groupChangeClick.bind(t));i.on(u+l,".k-datetime-footer button.k-time-cancel",t._cancelClickHandler.bind(t));i.on(u+l,".k-datetime-footer button.k-time-accept",t._setClickHandler.bind(t))},_groupChangeClick:function(e){M(e);var t=m(e.currentTarget);var i=t.index();if(i)this._switchToTimeView();else this._switchToDateView();this._toggleIcons()},_switchToDateView:function(){this.popup.element.find(".k-group-start, .k-group-end").removeClass(O).eq(0).addClass(O);this.popup.element.find(".k-datetime-wrap").removeClass("k-time-tab").addClass("k-date-tab")},_switchToTimeView:function(){this.timeView.addTranslate();this.timeView.applyValue(this._value);this.timeView._updateRanges();this.popup.element.find(".k-group-start, .k-group-end").removeClass(O).eq(1).addClass(O);this.popup.element.find(".k-datetime-wrap").removeClass("k-date-tab").addClass("k-time-tab")},_toggleIcons:function(){this._dateIcon.toggle();this._timeIcon.toggle()},_cancelClickHandler:function(e){M(e);if(this._value){this.value(this._value);this.dateView.value(this._value)}this.popup.close()},_setClickHandler:function(e){M(e);var t=this._applyDateValue();var i;t=t||new Date;i=this.timeView._currentlySelected||t;this.timeView._updateCurrentlySelected();t.setHours(i.getHours());t.setMinutes(i.getMinutes());t.setSeconds(i.getSeconds());t=this._applyTimeValue(t);this._change(t);this.popup.close()}});function K(e){var t=new Date(2100,0,1);t.setMinutes(-e);return t}function M(e){e.preventDefault()}function $(e){var t=g.getCulture(e.culture).calendars.standard.patterns,i=!e.parseFormats.length,n;e.format=a(e.format||t.g);e.timeFormat=n=a(e.timeFormat||t.t);g.DateView.normalize(e);if(i)e.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss");if(m.inArray(n,e.parseFormats)===-1)e.parseFormats.push(n)}return g.cssProperties.registerPrefix("DateTimePicker","k-input-"),g.cssProperties.registerValues("DateTimePicker",[{prop:"rounded",values:g.cssProperties.roundedValues.concat([["full","full"]])}]),o.plugin(G),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.treeview.draganddrop.min",["kendo.data.min","kendo.draganddrop.min"],function(){var e={id:"treeview.draganddrop",name:"Hierarchical Drag & Drop",category:"framework",depends:["core","draganddrop"],advanced:true},g=window.kendo.jQuery,t=void 0,v=window.kendo,i=v.ui,n=g.extend,_="visibility",b="k-hover",r="input,a:not(.k-in),textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-arrow-60-right,span.k-icon.k-i-arrow-45-down-right",a="<div class='k-drop-hint k-drop-hint-h'>"+"<div class='k-drop-hint-start'></div>"+"<div class='k-drop-hint-line'></div>"+"</div>";return i.HierarchicalDragAndDrop=v.Class.extend({init:function(e,t){this.element=e;this.hovered=e;this.options=n({dragstart:g.noop,drag:g.noop,drop:g.noop,dragend:g.noop},t);this._draggable=new i.Draggable(e,{ignore:r,filter:t.filter,autoScroll:t.autoScroll,cursorOffset:{left:10,top:v.support.mobileOS?-40/v.support.zoomLevel():10},hint:this._hint.bind(this),dragstart:this.dragstart.bind(this),dragcancel:this.dragcancel.bind(this),drag:this.drag.bind(this),dragend:this.dragend.bind(this),$angular:t.$angular,holdToDrag:t.holdToDrag})},_hint:function(e){return"<div class='k-drag-clue'>"+"<span class='k-icon k-drag-status'></span>"+this.options.hintText(e)+"</div>"},_removeTouchHover:function(){if(v.support.touch&&this.hovered){this.hovered.find("."+b).removeClass(b);this.hovered=false}},_hintStatus:function(e){var t=this._draggable.hint.find(".k-drag-status")[0];if(e)t.className="k-icon k-drag-status "+e;else return v.trim(t.className.replace(/(p|k)-(icon|drag-status)/g,""))},dragstart:function(e){this.source=e.currentTarget.closest(this.options.itemSelector);if(this.options.dragstart(this.source))e.preventDefault();if(this.options.reorderable)this.dropHint=g(a).css(_,"hidden").appendTo(this.element);else this.dropHint=g()},drag:function(e){var t=this.options;var i=this.source;var n=this.dropTarget=g(v.eventTarget(e));var r=n.closest(t.allowedContainers);var a,o,s,l,d;var u,c,f;var p,h,m;if(!r.length){m="k-i-cancel";this._removeTouchHover()}else if(i[0]==n[0]||t.contains(i[0],n[0]))m="k-i-cancel";else{m="k-i-insert-middle";p=t.itemFromTarget(n);a=p.item;if(a.length){this._removeTouchHover();o=v._outerHeight(a);l=p.content;if(t.reorderable){d=o/(l.length>0?4:2);s=v.getOffset(a).top;u=e.y.location<s+d;c=s+o-d<e.y.location;f=l.length&&!u&&!c}else{f=true;u=false;c=false}this.hovered=f?r:false;this.dropHint.css(_,f?"hidden":"visible");if(this._lastHover&&this._lastHover[0]!=l[0])this._lastHover.removeClass(b);this._lastHover=l.toggleClass(b,f);if(f)m="k-i-plus";else{h=a.position();h.top+=u?0:o;this.dropHint.css(h)[u?"prependTo":"appendTo"](t.dropHintContainer(a));if(u&&p.first)m="k-i-insert-up";if(c&&p.last)m="k-i-insert-down"}}else if(n[0]!=this.dropHint[0]){if(this._lastHover)this._lastHover.removeClass(b);if(!g.contains(this.element[0],r[0]))m="k-i-plus";else m="k-i-cancel"}}this.options.drag({originalEvent:e.originalEvent,source:i,target:n,pageY:e.y.location,pageX:e.x.location,status:m.substring(2),setStatus:function(e){m=e}});if(m.indexOf("k-i-insert")!==0)this.dropHint.css(_,"hidden");this._hintStatus(m)},dragcancel:function(){this.dropHint.remove()},dragend:function(e){var t="over",i=this.source,n,r=this.dropHint,a=this.dropTarget,o,s;if(r.css(_)=="visible"){t=this.options.dropPositionFrom(r);n=r.closest(this.options.itemSelector)}else if(a){n=a.closest(this.options.itemSelector);if(!n.length)n=a.closest(this.options.allowedContainers)}o={originalEvent:e.originalEvent,source:i[0],destination:n[0],valid:this._hintStatus()!="k-i-cancel",setValid:function(e){this.valid=e},dropTarget:a[0],position:t};s=this.options.drop(o);r.remove();this._removeTouchHover();if(this._lastHover)this._lastHover.removeClass(b);if(!o.valid||s){this._draggable.dropped=o.valid;return}this._draggable.dropped=true;this.options.dragend({originalEvent:e.originalEvent,source:i,destination:n,position:t})},destroy:function(){this._lastHover=this.hovered=null;this._draggable.destroy()}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.input.min",["kendo.html.base.min"],function(){var e={id:"html.input",name:"Html.Input",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},r=window.kendo.jQuery,i=void 0,a=window.kendo,n=a.html.HTMLBase,t=function(e,t){if(arguments[0]===i||r.isPlainObject(arguments[0])){t=e;e=r("<input />")}return new l(e,t).html()},o=function(e,t){if(arguments[0]===i||r.isPlainObject(arguments[0])){t=e;e=r("<input />")}return new d(e,t).html()},s=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i._wrapper();i._addClasses()},options:{label:null,labelPosition:"after",labelId:null,encoded:true},_wrapper:function(){var e=this,t=e.element[0],i=e.options,n=t.id;e.wrapper=e.element.addClass(i.inputClass).prop("type",i.type);if(!n&&!!i.label)t.id=n=a.guid();if(!!i.label){e.labelEl=r("<label for='"+n+"' class='"+i.labelClass+"'>");if(i.encoded)e.labelEl.text(i.label);else e.labelEl.html(i.label);if(i.labelId)e.labelEl.attr("id",i.labelId);if(i.optional)e.labelEl.append("<span class='"+i.optionalClass+"'>"+i.optionalText+"</span>");e.element[i.labelPosition](e.labelEl)}},html:function(){var e=this,t=e.options.labelPosition==="after",i=n.fn.html.call(e);if(!e.labelEl)return i;if(t)return i+e.labelEl[0].outerHTML;return e.labelEl[0].outerHTML+i}}),l=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLCheckBox",inputClass:"k-checkbox",labelClass:"k-checkbox-label",optionalClass:"k-label-optional",optionalText:"(Optional)",type:"checkbox",rounded:"medium",size:"medium",stylingOptions:["size","rounded"]}}),d=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLRadioButton",inputClass:"k-radio",labelClass:"k-radio-label",optionalClass:"k-label-optional",optionalText:"(Optional)",type:"radio",size:"medium",stylingOptions:["size"]}});return r.extend(a.html,{renderCheckBox:t,renderRadioButton:o,HTMLInput:s,HTMLCheckBox:l,HTMLRadioButton:d}),a.cssProperties.registerPrefix("HTMLCheckBox","k-checkbox-"),a.cssProperties.registerValues("HTMLCheckBox",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),a.cssProperties.registerPrefix("HTMLRadioButton","k-radio-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.treeview.min",["kendo.data.min","kendo.treeview.draganddrop.min","kendo.html.input.min"],function(){var e={id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","html.input"],features:[{id:"treeview-dragging",name:"Drag & Drop",description:"Support for drag & drop",depends:["treeview.draganddrop"]}]},v=window.kendo.jQuery,u=void 0,_=window.kendo,p=_.ui,R,s=v.extend,r=_.template,o=Array.isArray,l=p.Widget,d=_.data.HierarchicalDataSource,c=_.keys,a=".kendoTreeView",i=".kendoTreeViewTemp",f="select",h="check",m="navigate",N,g="change",t="error",b="checked",k="indeterminate",L,B="dragstart",V="drag",U="drop",W="dragend",j="dataBound",q="itemsLoaded",w="loadCompleted",G="requestEnd",y="click",K,x="undefined",$="k-hover",C="k-treeview",Y=":visible",S=".k-item",T="string",I="aria-checked",D="aria-selected",Q="aria-disabled",E="aria-expanded",A="k-disabled",X,F,H,P,J,O={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Z=function(e){return e instanceof _.jQuery||window.jQuery&&e instanceof window.jQuery},ee=function(e){return typeof HTMLElement==="object"?e instanceof HTMLElement:e&&typeof e==="object"&&e.nodeType===1&&typeof e.nodeName===T};function te(i){return function(e){var t=e.children(".k-animation-container");if(!t.length)t=e;return t.children(i)}}function n(e){return _.template(e,{useWithBlock:false})}function M(e){return e.find(".k-checkbox-wrapper:first input[type=checkbox]")}function ie(a){return function(e,r){r=r.closest(S);var t=r.parent(),i;if(t.parent().is("li"))i=t.parent();return this._dataSourceMove(e,t,i,function(e,t){var i=this.dataItem(r);var n=i&&r.parent().children().length!==i.parent().length?i.parent().indexOf(i):r.index();return this._insert(e.data(),t,n+a)})}}function ne(e,t){var i;while(e&&e.nodeName.toLowerCase()!="ul"){i=e;e=e.nextSibling;if(i.nodeType==3)i.nodeValue=_.trim(i.nodeValue);if(J.test(i.className))t.insertBefore(i,t.firstChild);else t.appendChild(i)}}function z(e){var t=e.children("div"),i=e.children("ul"),n=t.find(".k-treeview-toggle > .k-icon"),r=e.children("input[type=checkbox]"),a=t.children(".k-in");if(e.hasClass("k-treeview"))return;if(!t.length)t=v("<div />").prependTo(e);if(!n.length&&i.length)n=v("<span class='k-treeview-toggle'><span class='k-icon' /></span>").prependTo(t);else if(!i.length||!i.children().length){n.parent().remove();i.remove()}if(r.length)v("<span class='k-checkbox-wrapper' />").appendTo(t).append(r);if(!a.length){a=e.children("a").eq(0).addClass("k-in k-link");if(!a.length)a=v("<span class='k-treeview-leaf k-in' />");a.appendTo(t);if(t.length)ne(t[0].nextSibling,a[0])}}return F=te(".k-group"),H=te(".k-group,.k-content"),P=function(e){return e.children("div").find(".k-treeview-toggle > .k-icon")},J=/k-sprite/,X=_.ui.DataBoundWidget.extend({init:function(e,t){var i=this,n=false,r=t&&!!t.dataSource,a;if(o(t))t={dataSource:t};if(t&&typeof t.loadOnDemand==x&&o(t.dataSource))t.loadOnDemand=false;l.prototype.init.call(i,e,t);e=i.element;t=i.options;i._dataSourceUids={};a=e.is("ul")&&e||e.hasClass(C)&&e.children("ul");n=!r&&a.length;if(n)t.dataSource.list=a;i._animation();i._accessors();i._templates();if(!e.hasClass(C)){i._wrapper();if(a){i.root=e;i._group(i.wrapper)}}else{i.wrapper=e;i.root=e.children("ul").eq(0)}i._applyCssClasses();i._tabindex();i.wrapper.attr("role","tree");i.wrapper.find(">ul").attr("role","none");i._dataSource(n);i._attachEvents();i._dragging();if(!n){if(t.autoBind){i._progress(true);i.dataSource.fetch(this._attemptLoadCompleted.bind(this))}}else i._syncHtmlAndDataSource();if(t.checkboxes&&t.checkboxes.checkChildren)i.updateIndeterminate();if(i.element[0].id)i._ariaId=_.format("{0}_tv_active",i.element[0].id);else i._ariaId=_.guid()+"_tv_active";_.notify(i)},_attachEvents:function(){var i=this,e=".k-in:not(.k-selected,.k-disabled)",t="mouseenter";i._clickHandler=i._click.bind(i);i.wrapper.on(t+a,".k-in.k-selected",function(e){e.preventDefault()}).on(t+a,e,function(){v(this).addClass($)}).on("mouseleave"+a,e,function(){v(this).removeClass($)}).on(y+a,e,i._clickHandler).on("dblclick"+a,".k-in:not(.k-disabled)",i._toggleButtonClick.bind(i)).on(y+a,".k-i-expand,.k-i-collapse",i._toggleButtonClick.bind(i)).on("keydown"+a,i,i._keydown.bind(i)).on("keypress"+a,i._keypress.bind(i)).on("focus"+a,i._focus.bind(i)).on("blur"+a,i._blur.bind(i)).on("mousedown"+a,".k-in,.k-checkbox-wrapper :checkbox,.k-i-expand,.k-i-collapse",i._mousedown.bind(i)).on("change"+a,".k-checkbox-wrapper :checkbox",i._checkboxChange.bind(i)).on("click"+a,".k-request-retry",i._retryRequest.bind(i)).on("click"+a,".k-link.k-disabled",function(e){e.preventDefault()}).on("click"+a,function(e){var t=v(e.target);if(!t.is(":kendoFocusable")&&!t.find("input,select,textarea,button,object").is(":kendoFocusable"))i.focus()})},_syncHtmlAndDataSource:function(e,t){e=e||this.root;t=t||this.dataSource;var i=t.view(),n=_.attr("uid"),r=_.attr("expanded"),a=this.options.checkboxes,o=e.children("li"),s,l,d,u,c;for(s=0;s<o.length;s++){d=i[s];u=d.uid;l=o.eq(s);l.attr("role","treeitem").attr(n,u).attr(D,l.hasClass("k-selected"));d.expanded=l.attr(r)==="true";if(a){c=M(l);d.checked=c.prop(b);c.attr("id","_"+u);c.next(".k-checkbox-label").attr("for","_"+u)}this._syncHtmlAndDataSource(l.children("ul"),d.children)}},_animation:function(){var e=this.options,t=e.animation,i=t.collapse&&"effects"in t.collapse,n=s({},t.expand,t.collapse);if(!i)n=s(n,{reverse:true});if(t===false)t={expand:{effects:{}},collapse:{hide:true,effects:{}}};t.collapse=s(n,{hide:true});e.animation=t},_dragging:function(){var e=this.options.dragAndDrop;var t=this.dragging;if(e&&!t){var a=this;this.dragging=new p.HierarchicalDragAndDrop(this.element,{reorderable:true,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:this._hintText.bind(this),contains:function(e,t){return v.contains(e,t)},dropHintContainer:function(e){return e},itemFromTarget:function(e){var t=e.closest(".k-treeview-top,.k-treeview-mid,.k-treeview-bot");return{item:t,content:e.closest(".k-in"),first:t.hasClass("k-treeview-top"),last:t.hasClass("k-treeview-bot")}},dropPositionFrom:function(e){return e.prevAll(".k-in").length>0?"after":"before"},dragstart:function(e){return a.trigger(B,{sourceNode:e[0]})},drag:function(e){a.trigger(V,{originalEvent:e.originalEvent,sourceNode:e.source[0],dropTarget:e.target[0],pageY:e.pageY,pageX:e.pageX,statusClass:e.status,setStatusClass:e.setStatus})},drop:function(t){var e=v(t.dropTarget);var i=e.closest("a");if(i&&i.attr("href"))a._tempPreventNavigation(i);return a.trigger(U,{originalEvent:t.originalEvent,sourceNode:t.source,destinationNode:t.destination,valid:t.valid,setValid:function(e){this.valid=e;t.setValid(e)},dropTarget:t.dropTarget,dropPosition:t.position})},dragend:function(t){var e=t.source;var i=t.destination;var n=t.position;function r(e){if(a.options.checkboxes&&a.options.checkboxes.checkChildren)a.updateIndeterminate();a.current(e);a.element.focus();a.trigger(W,{originalEvent:t.originalEvent,sourceNode:e&&e[0],destinationNode:i[0],dropPosition:n})}if(n=="over")a.append(e,i,r);else{if(n=="before")e=a.insertBefore(e,i);else if(n=="after")e=a.insertAfter(e,i);r(e)}}})}else if(!e&&t){t.destroy();this.dragging=null}},_tempPreventNavigation:function(t){t.on(y+a+i,function(e){e.preventDefault();t.off(y+a+i)})},_hintText:function(e){return this.templates.dragClue({item:this.dataItem(e),treeview:this.options})},_templates:function(){var e=this,t=e.options,i=e._fieldAccessor.bind(e);if(t.template&&typeof t.template==T)t.template=r(t.template);else if(!t.template)t.template=n("# var text = "+i("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"<span class='k-treeview-leaf-text'>#= text #</span>"+"# } else { #"+"<span class='k-treeview-leaf-text'>#: text #</span>"+"# } #");e._checkboxes();e.templates={setAttributes:function(e){var t="";var i=e.attr||{};for(var n in i)if(i.hasOwnProperty(n)&&n!=="class")t+=n+'="'+i[n]+'" ';return t},wrapperCssClass:function(e,t){var i="k-item k-treeview-item",n=t.index;if(e.firstLevel&&n===0)i+=" k-first";if(n==e.length-1)i+=" k-last";return i},cssClass:function(e,t){var i="",n=t.index,r=e.length-1;if(e.firstLevel&&n===0)i+="k-treeview-top ";if(n===0&&n!=r)i+="k-treeview-top";else if(n==r)i+="k-treeview-bot";else i+="k-treeview-mid";return i},textClass:function(e,t){var i="k-treeview-leaf k-in";if(t)i+=" k-link";if(e.enabled===false)i+=" k-disabled";if(e.selected===true)i+=" k-selected";return i},toggleButtonClass:function(e){var t="k-icon";if(e.expanded!==true)t+=" k-i-expand";else t+=" k-i-collapse";return t},groupAttributes:function(e){var t="";if(!e.firstLevel)t="role='group'";return t+(e.expanded!==true?" style='display:none'":"")},groupCssClass:function(e){var t="k-group k-treeview-group";if(e.firstLevel)t+=" k-treeview-lines";return t},dragClue:n("#= data.treeview.template(data) #"),group:n("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>"+"#= data.renderItems(data) #"+"</ul>"),itemContent:n("# var imageUrl = "+i("imageUrl")+"(data.item); #"+"# var spriteCssClass = "+i("spriteCssClass")+"(data.item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #'></span>"+"# } #"+"#= data.treeview.template(data) #"),itemElement:n("# var item = data.item, r = data.r; #"+"# var url = "+i("url")+"(item); #"+"<div class='#= r.cssClass(data.group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='k-treeview-toggle'>"+"<span class='#= r.toggleButtonClass(item) #'></span>"+"</span>"+"# } #"+"# if (data.treeview.checkboxes) { #"+"<span class='k-checkbox-wrapper' role='presentation'>"+"#= data.treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag# class='#= r.textClass(item, !!url) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:n("# var item = data.item, r = data.r; #"+"<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #'"+_.attr("uid")+"='#= item.uid #' "+"#= r.setAttributes(item.toJSON ? item.toJSON() : item) # "+"# if (data.treeview.checkboxes) { #"+'aria-checked=\'#= item.checked ? "true" : "false" #\' '+"# } #"+'aria-selected=\'#= item.selected ? "true" : "false" #\' '+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+'aria-expanded=\'#= item.expanded ? "true" : "false" #\' '+'data-expanded=\'#= item.expanded ? "true" : "false" #\' '+">"+"#= r.itemElement(data) #"+"</li>"),loading:n("<div class='k-icon k-i-loading'></div> #: data.messages.loading #"),retry:n("#: data.messages.requestFailed # "+"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(e){var t=this.options;t.dataSource=e;this._dataSourceUids={};this._dataSource();if(t.checkboxes&&t.checkboxes.checkChildren)this.dataSource.one("change",this.updateIndeterminate.bind(this,null));if(this.options.autoBind)this.dataSource.fetch(this._attemptLoadCompleted.bind(this))},_bindDataSource:function(){var e=this;e._refreshHandler=e.refresh.bind(e);e._errorHandler=e._error.bind(e);e._loadCompletedHandler=e._loadCompleted.bind(e);e._requestEndHandler=e._dsRequestEnd.bind(e);e._loadedNodes=[];e.dataSource.bind(g,e._refreshHandler);e.dataSource.bind(t,e._errorHandler);e.dataSource.bind(q,e._loadCompletedHandler);e.dataSource.bind(G,e._requestEndHandler)},_dsRequestEnd:function(e){var t=this;setTimeout(function(){if(e.type==="read"&&!t._loadCompletedFired)t._attemptLoadCompleted()})},_loadCompleted:function(e){var t=this;t._loadedNodes=t._loadedNodes.concat(e.nodes);if(!t.dataSource.loading()&&t.options.loadOnDemand===false){t.trigger(w,{nodes:t._loadedNodes});t._loadedNodes=[]}},_attemptLoadCompleted:function(){var e=this,t=e.dataSource.view(),i,n;if(e.options.loadOnDemand===false){for(n=0;n<t.length;n++){i=t[n];if(i.hasChildren&&(!i.children||!i.children.data()||i.children.data().length===0))return}e._loadCompletedFired=true;e.trigger(w,{nodes:[]})}},_unbindDataSource:function(){var e=this.dataSource;if(e){e.unbind(g,this._refreshHandler);e.unbind(t,this._errorHandler);e.unbind(q,this._loadCompletedHandler);e.unbind(G,this._requestEndHandler)}},_dataSource:function(e){var t=this,i=t.options,n=i.dataSource;function r(e){for(var t=0;t<e.length;t++){e[t]._initChildren();e[t].children.fetch();r(e[t].children.view())}}n=o(n)?{data:n}:n;t._unbindDataSource();if(!n.fields)n.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}];t.dataSource=n=d.create(n);if(e){n.fetch();r(n.view())}t._bindDataSource()},events:[B,V,U,W,j,w,"expand","collapse",f,g,m,h,"kendoKeydown"],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,autoScroll:false,loadOnDemand:true,template:"",dataTextField:null,size:"medium"},_accessors:function(){var e=this,t=e.options,i,n,r,a=e.element;for(i in O){n=t[O[i]];r=a.attr(_.attr(i+"-field"));if(!n&&r)n=r;if(!n)n=i;if(!o(n))n=[n];t[O[i]]=n}},_fieldAccessor:function(e){var t=this.options[O[e]],i=t.length,n="(function(item) {";if(i===0)n+="return item['"+e+"'];";else{n+="var levels = ["+v.map(t,function(e){return"function(d){ return "+_.expr(e)+"}"}).join(",")+"];";n+="return levels[Math.min(item.level(), "+i+"-1)](item)"}n+="})";return n},setOptions:function(e){l.fn.setOptions.call(this,e);this._animation();this._dragging();this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(S)[0]})},_setChecked:function(e,t){if(!e||!_.isFunction(e.view))return;for(var i=0,n=e.view();i<n.length;i++){if(n[i].enabled!==false)this._setCheckedValue(n[i],t);if(n[i].children)this._setChecked(n[i].children,t)}},_setCheckedValue:function(e,t){e[b]=t},_setIndeterminate:function(e){var t=F(e),i,n,r=true,a;if(!t.length)return;i=M(t.children());n=i.length;if(!n)return;else if(n>1){for(a=1;a<n;a++)if(i[a].checked!=i[a-1].checked||i[a].indeterminate||i[a-1].indeterminate){r=false;break}}else r=!i[0].indeterminate;e.attr(I,r?i[0].checked:"mixed");return M(e).data(k,!r).prop(k,!r).prop(b,r&&i[0].checked)},updateIndeterminate:function(e){e=e||this.wrapper;var t=F(e).children();var i;var n;var r;if(t.length){for(i=0;i<t.length;i++)this.updateIndeterminate(t.eq(i));if(e.is(".k-treeview"))return;n=this._setIndeterminate(e);r=this.dataItem(e);if(n&&n.prop(b))r.checked=true;else if(r)delete r.checked}},_bubbleIndeterminate:function(e,t){if(!e.length)return;if(!t)this.updateIndeterminate(e);var i=this.parent(e),n;if(i.length){this._setIndeterminate(i);n=i.children("div").find(".k-checkbox-wrapper input[type=checkbox]");this._skip=true;if(n.prop(k)===false)this.dataItem(i).set(b,n.prop(b));else this.dataItem(i).set(b,false);this._skip=false;this._bubbleIndeterminate(i,true)}},_checkboxChange:function(e){var t=this;var i=v(e.target);var n=i.prop(b);var r=i.closest(S);var a=this.dataItem(r);if(this._preventChange)return;if(a.checked!=n){a.set(b,n);r.attr(I,n);this._trigger(h,r)}if(i.is(":focus")){t._trigger(m,r);t.focus()}},_toggleButtonClick:function(e){var t=v(e.currentTarget).closest(S);if(t.is("[aria-disabled='true']"))return;this.toggle(t)},_mousedown:function(e){var t=this;var i=v(e.currentTarget);var n=v(e.currentTarget).closest(S);var r=_.support.browser;if(n.is("[aria-disabled='true']"))return;if((r.msie||r.edge)&&i.is(":checkbox"))if(i.prop(k)){t._preventChange=false;i.prop(b,!i.prop(b));i.trigger(g);i.on(y+a,function(e){e.preventDefault()});t._preventChange=true}else{i.off(y+a);t._preventChange=false}t._clickTarget=n;t.current(n)},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in").first().hasClass(A)},_focus:function(){var e=this.select(),t=this._clickTarget;if(_.support.touch)return;if(t&&t.length)e=t;if(!this._focusable(e))e=this.current();if(!this._focusable(e))e=this._nextVisible(v());this.current(e)},focus:function(){var e=this.wrapper,t=e[0],i=[],n=[],r=document.documentElement,a;do{t=t.parentNode;if(t.scrollHeight>t.clientHeight){i.push(t);n.push(t.scrollTop)}}while(t!=r);_.focusElement(e);for(a=0;a<i.length;a++)i[a].scrollTop=n[a]},_blur:function(){this.current().find(".k-in").first().removeClass("k-focus")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass(A)},parent:function(e){var t=/\bk-treeview\b(?!-)/,i=/\bk-item\b/,n,r;if(typeof e==T)e=this.element.find(e);if(!ee(e))e=e[0];r=i.test(e.className);do{e=e.parentNode;if(i.test(e.className))if(r)n=e;else r=true}while(!t.test(e.className)&&!n);return v(n)},_nextVisible:function(e){var t=this,i=t._expanded(e),n;function r(e){while(e.length&&!e.next().length)e=t.parent(e);if(e.next().length)return e.next();else return e}if(!e.length||!e.is(":visible"))n=t.root.children().eq(0);else if(i){n=F(e).children().first();if(!n.length)n=r(e)}else n=r(e);return n},_previousVisible:function(e){var t=this,i,n;if(!e.length||e.prev().length){if(e.length)n=e.prev();else n=t.root.children().last();while(t._expanded(n)){i=F(n).children().last();if(!i.length)break;n=i}}else n=t.parent(e)||e;return n},_keydown:function(e){var t=this,i=e.keyCode,n,r=t.current(),a=t._expanded(r),o=r.find(".k-checkbox-wrapper").first().find(":checkbox"),s=_.support.isRtl(t.element);if(e.target!=e.currentTarget)return;if(!s&&i==c.RIGHT||s&&i==c.LEFT){if(a)n=t._nextVisible(r);else if(!r.find(".k-in").first().hasClass(A))t.expand(r)}else if(!s&&i==c.LEFT||s&&i==c.RIGHT)if(a&&!r.find(".k-in").first().hasClass(A))t.collapse(r);else{n=t.parent(r);if(!t._enabled(n))n=u}else if(i==c.DOWN)n=t._nextVisible(r);else if(i==c.UP)n=t._previousVisible(r);else if(i==c.HOME)n=t._nextVisible(v());else if(i==c.END)n=t._previousVisible(v());else if(i==c.ENTER&&!r.find(".k-in").first().hasClass(A)){if(!r.find(".k-in").first().hasClass("k-selected"))if(!t._trigger(f,r))t.select(r)}else if(i==c.SPACEBAR&&o.length){if(!r.find(".k-in").first().hasClass(A)){o.prop(b,!o.prop(b)).data(k,false).prop(k,false);t._checkboxChange({target:o})}n=r}if(n){e.preventDefault();if(r[0]!=n[0]){t._trigger(m,n);t.current(n)}}},_keypress:function(e){var t=this;var i=300;var n=t.current().get(0);var r;var a=e.key;var o=a.length===1;if(!o)return;if(!t._match)t._match="";t._match+=a;clearTimeout(t._matchTimer);t._matchTimer=setTimeout(function(){t._match=""},i);r=n&&t._matchNextByText(Array.prototype.indexOf.call(t.element.find(".k-item"),n),t._match);if(!r.length)r=t._matchNextByText(-1,t._match);if(r.get(0)&&r.get(0)!==n){t._trigger(m,r);t.current(r)}},_matchNextByText:function(i,n){var e=this.element;var t=e.find(".k-in").filter(function(e,t){return e>i&&v(t).is(":visible")&&v(t).text().toLowerCase().indexOf(n)===0});return t.eq(0).closest(S)},_click:function(e){var t=this,i=v(e.currentTarget),n=H(i.closest(S)),r=i.attr("href"),a;if(r)a=r=="#"||r.indexOf("#"+this.element.id+"-")>=0;else a=n.length&&!n.children().length;if(a)e.preventDefault();if(!i.hasClass(".k-selected")&&!t._trigger(f,i))t.select(i)},_wrapper:function(){var e=this,t=e.element,i,n,r="k-treeview";if(t.is("ul")){i=t.wrap("<div />").parent();n=t}else{i=t;n=i.children("ul").eq(0)}e.wrapper=i.addClass(r);e.root=n},_getSelectedNode:function(){return this.element.find(".k-selected").closest(S)},_group:function(e){var t=this,i=e.hasClass(C),n={firstLevel:i,expanded:i||t._expanded(e)},r=e.children("ul");r.addClass(t.templates.groupCssClass(n)).css("display",n.expanded?"":"none");if(!i)r.attr("role","group");t._nodes(r,n)},_nodes:function(e,i){var n=this,t=e.children("li"),r;i=s({length:t.length},i);t.each(function(e,t){t=v(t);r={index:e,expanded:n._expanded(t)};z(t);n._updateNodeClasses(t,i,r);n._group(t)})},_checkboxes:function(){var e=this.options;var t=e.checkboxes;var i,n;if(t){n="<input id='_#= item.uid #' aria-hidden='true' type='checkbox' tabindex='-1'";if(t.name)n+=" name='"+t.name+"'";n+=" />";i=_.html.renderCheckBox(v(n),v.extend({},e,{rounded:"medium"}));i=i.replace(/(<input[^/>]*)/,"$1 #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #");t=s({template:i},e.checkboxes);if(typeof t.template==T)t.template=r(t.template);e.checkboxes=t}},_updateNodeClasses:function(e,t,i){var n=e.children("div"),r=e.children("ul"),a=this.templates;if(e.hasClass("k-treeview"))return;i=i||{};i.expanded=typeof i.expanded!=x?i.expanded:this._expanded(e);i.index=typeof i.index!=x?i.index:e.index();i.enabled=typeof i.enabled!=x?i.enabled:!n.children(".k-in").hasClass("k-disabled");t=t||{};t.firstLevel=typeof t.firstLevel!=x?t.firstLevel:e.parent().parent().hasClass(C);t.length=typeof t.length!=x?t.length:e.parent().children().length;e.removeClass("k-first k-last").addClass(a.wrapperCssClass(t,i));n.removeClass("k-treeview-top k-treeview-mid k-treeview-bot").addClass(a.cssClass(t,i));var o=n.children(".k-in");var s=o[0]&&o[0].nodeName.toLowerCase()=="a";o.removeClass("k-in k-link k-disabled").addClass(a.textClass(i,s));if(r.length||e.attr("data-hasChildren")=="true"){n.find(".k-treeview-toggle > .k-icon").removeClass("k-i-expand k-i-collapse").addClass(a.toggleButtonClass(i));r.addClass("k-group k-treeview-group")}},_processNodes:function(e,t){var i=this;var n=i.element.find(e);for(var r=0;r<n.length;r++)t.call(i,r,v(n[r]).closest(S))},dataItem:function(e){var t=v(e).closest(S).attr(_.attr("uid")),i=this.dataSource;return i&&i.getByUid(t)},_dataItem:function(e){var t=v(e).closest(S).attr(_.attr("uid")),i=this.dataSource;return i&&this._dataSourceUids[t]},_insertNode:function(e,t,i,n,r){var a=this,o=F(i),s=o.children().length+1,l,d={firstLevel:i.hasClass(C),expanded:!r,length:s},u,c,f,p="",h,m,g=function(e,t){e.appendTo(t)};for(c=0;c<e.length;c++){f=e[c];f.index=t+c;p+=a._renderItem({group:d,item:f})}u=v(p);if(!u.length)return;a.angular("compile",function(){return{elements:u.get(),data:e.map(function(e){return{dataItem:e}})}});if(!o.length)o=v(a._renderGroup({group:d})).appendTo(i);n(u,o);if(i.hasClass("k-item")){z(i);a._updateNodeClasses(i,d,{expanded:!r})}h=u.prev().first();m=u.next().last();a._updateNodeClasses(h,{},{expanded:h.attr(_.attr("expanded"))=="true"});a._updateNodeClasses(m,{},{expanded:m.attr(_.attr("expanded"))=="true"});for(c=0;c<e.length;c++){f=e[c];if(f.hasChildren){l=f.children.data();if(l.length)a._insertNode(l,f.index,u.eq(c),g,!f.expanded)}}return u},_updateNodes:function(e,t){var i=this;var n,r,a,o,s,l;var d={treeview:i.options,item:o};var u=t!="expanded"&&t!="checked";function c(e,t){if(e.is(".k-group"))e.find(".k-item:not([aria-disabled])").attr(I,t);e.find(".k-checkbox-wrapper input[type=checkbox]:not([disabled])").prop(b,t).data(k,false).prop(k,false)}if(t=="selected"){o=e[0];r=i.findByUid(o.uid).find(".k-in").first();r.removeClass("k-hover").toggleClass("k-selected",o[t]).end();if(o[t])i.current(r);r.attr(D,!!o[t])}else{var f=v.map(e,function(e){return i.findByUid(e.uid).children("div")});if(u)i.angular("cleanup",function(){return{elements:f}});for(n=0;n<e.length;n++){d.item=o=e[n];a=f[n];r=a.parent();if(u){if(_.unbind)_.unbind(a);a.children(".k-in").html(i.templates.itemContent(d))}if(t==b){s=o[t];c(a,s);r.attr(I,s);if(i.options.checkboxes.checkChildren){c(r.children(".k-group"),s);i._setChecked(o.children,s);i._bubbleIndeterminate(r)}}else if(t=="expanded")i._toggle(r,o,o[t]);else if(t=="enabled"){r.find(".k-checkbox-wrapper input[type=checkbox]").prop("disabled",!o[t]);l=!H(r).is(Y);r.removeAttr(Q);if(!o[t]){if(o.selected)o.set("selected",false);if(o.expanded)o.set("expanded",false);l=true;r.attr(D,false).attr(Q,true)}i._updateNodeClasses(r,{},{enabled:o[t],expanded:!l})}if(a.length)this.trigger("itemChange",{item:a,data:o,ns:p})}if(u)i.angular("compile",function(){return{elements:f,data:v.map(e,function(e){return[{dataItem:e}]})}})}},_appendItems:function(i,e,t){var n=F(t);var r=n.children();var a=!this._expanded(t);if(this.element===t){var o=this.dataSource.data();var s=this.dataSource.view();var l=s.length<o.length?s:o;i=l.indexOf(e[0])}else if(e.length)i=e[0].parent().indexOf(e[0]);if(typeof i==x)i=r.length;this._insertNode(e,i,t,function(e,t){if(i>=r.length)e.appendTo(t);else e.insertBefore(r.eq(i))},a);if(!a){this._updateNodeClasses(t,{},{expanded:!a});F(t).css("display","block")}},_refreshChildren:function(e,t,i){var n,r,a;var o=this.options;var s=o.loadOnDemand;var l=o.checkboxes&&o.checkboxes.checkChildren;F(e).empty();if(!t.length)z(e);else{this._appendItems(i,t,e);r=F(e).children();if(s&&l)this._bubbleIndeterminate(r.last());for(n=0;n<r.length;n++){a=r.eq(n);this.trigger("itemChange",{item:a.children("div"),data:t[n],ns:p})}}},_refreshRoot:function(e){var t=this._renderGroup({items:e,group:{firstLevel:true,expanded:true}});if(this.root.length&&this.root[0].parentElement){this._angularItems("cleanup");var i=v(t);this.root.attr("class",i.attr("class")).html(i.html())}else this.root=this.wrapper.html(t).children("ul");var n=this.root.children(".k-item");for(var r=0;r<e.length;r++)this.trigger("itemChange",{item:n.eq(r),data:e[r],ns:p});this._angularItems("compile")},refresh:function(e){var t=e.node;var i=e.action;var n=e.items;var r=this.wrapper;var a=this.options;var o=a.loadOnDemand;var s=a.checkboxes&&a.checkboxes.checkChildren;var l;if(this._skip)return;for(l=0;l<n.length;l++)this._dataSourceUids[n[l].uid]=n[l];if(e.field){if(!n[0]||!n[0].level)return;return this._updateNodes(n,e.field)}if(t){r=this.findByUid(t.uid);this._progress(r,false)}if(s&&i!="remove"){var d=false;for(l=0;l<n.length;l++)if("checked"in n[l]){d=true;break}if(!d&&t&&t.checked)for(l=0;l<n.length;l++)n[l].checked=true}if(i=="add")this._appendItems(e.index,n,r);else if(i=="remove")this._remove(this.findByUid(n[0].uid),false);else if(i=="itemchange")this._updateNodes(n);else if(i=="itemloaded")this._refreshChildren(r,n,e.index);else{this._refreshRoot(n);this.element.attr("aria-busy",false)}if(i!="remove")for(l=0;l<n.length;l++)if(!o||n[l].expanded||n[l]._loaded)n[l].load();this.wrapper.find(">ul").attr("role","none");this._ariaItems(this.wrapper.find(">.k-group>.k-item"),1);this.trigger(j,{node:t?r:u});if(this.dataSource.filter()&&this.options.checkboxes.checkChildren)this.updateIndeterminate(r)},_ariaItems:function(e,n){var r=this;e.attr({"aria-setsize":e.length,"aria-level":n});e.each(function(e,t){var i=v(t).find(">.k-group>.k-item");if(i.length>0)r._ariaItems(i,n+1)})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid);var i=this.templates.retry({messages:this.options.messages});if(t){this._progress(t,false);this._expanded(t,false);P(t).addClass("k-i-reload");e.node.loaded(false)}else{this._progress(false);this.dataSource.data([]);this.element.html(i)}},_retryRequest:function(e){e.preventDefault();this.dataSource.fetch(this._attemptLoadCompleted.bind(this))},expand:function(e){this._processNodes(e,function(e,t){this.toggle(t,true)})},collapse:function(e){this._processNodes(e,function(e,t){this.toggle(t,false)})},enable:function(e,i){if(typeof e==="boolean"){i=e;e=this.items()}else i=arguments.length==2?!!i:true;this._processNodes(e,function(e,t){this.dataItem(t).set("enabled",i)})},current:function(e){var t=this,i=t._current,n=t.element;if(arguments.length>0&&e&&e.length){if(i)i.find(".k-in").first().removeClass("k-focus");i=t._current=v(e,n).closest(S);i.find(".k-in").first().addClass("k-focus");t._updateActiveDescendant();return}if(!i)i=t._nextVisible(v());return i},_updateActiveDescendant:function(){var e=this._current,t=e[0].id||this._ariaId,i=this.element.find("#"+this._ariaId);if(i.length>0)i.removeAttr("id");this.wrapper.removeAttr("aria-activedescendant");e.attr("id",t);this.wrapper.attr("aria-activedescendant",t)},select:function(e){var t=this,i=t.element;if(!arguments.length)return i.find(".k-selected").closest(S);e=v(e,i).closest(S);i.find(".k-selected").each(function(){var e=t.dataItem(this);if(e){e.set("selected",false);delete e.selected}else v(this).removeClass("k-selected")});if(e.length){t.dataItem(e).set("selected",true);t._clickTarget=e}t.trigger(g)},_toggle:function(e,t,i){var n=this.options;var r=H(e);var a=i?"expand":"collapse";var o;if(r.data("animating"))return;o=t&&t.loaded();if(i&&!o){if(n.loadOnDemand)this._progress(e,true);r.remove();t.load()}else{this._updateNodeClasses(e,{},{expanded:i});if(!i)r.css("height",r.height()).css("height");r.kendoStop(true,true).kendoAnimate(s({reset:true},n.animation[a],{complete:function(){if(i)r.css("height","")}}))}},toggle:function(e,t){e=v(e);if(!P(e).is(".k-i-expand, .k-i-collapse"))return;if(arguments.length==1)t=!this._expanded(e);this._expanded(e,t)},destroy:function(){var e=this;l.fn.destroy.call(e);e.wrapper.off(a);e.wrapper.find(".k-checkbox-wrapper :checkbox").off(a);e._clickHandler=null;e._unbindDataSource();if(e.dragging)e.dragging.destroy();e._dataSourceUids={};_.destroy(e.element);e.root=e.wrapper=e.element=null},_expanded:function(e,t,i){var n=_.attr("expanded");var r;var a=t;var o=a?"expand":"collapse";if(arguments.length==1){r=this._dataItem(e);return e.attr(n)==="true"||r&&r.expanded}r=this.dataItem(e);if(H(e).data("animating"))return;if(i||!this._trigger(o,e)){if(a){e.attr(n,"true");e.attr(E,"true")}else{e.removeAttr(n);e.attr(E,"false")}if(r){r.set("expanded",a);a=r.expanded}}},_progress:function(e,t){var i=this.element;var n=this.templates.loading({messages:this.options.messages});if(arguments.length==1){t=e;if(t)i.html(n);else i.empty();i.attr("aria-busy",t)}else{P(e).toggleClass("k-i-loading",t).removeClass("k-i-reload");e.attr("aria-busy",t)}},text:function(e,t){var i=this.dataItem(e),n=this.options[O.text],r=i.level(),a=n.length,o=n[Math.min(r,a-1)];if(t)i.set(o,t);else return i[o]},_objectOrSelf:function(e){return v(e).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(e,t,i,n){var r,a=this._objectOrSelf(i||t),o=a.dataSource;var s=v.Deferred().resolve().promise();if(i&&i[0]!=a.element[0]){r=a.dataItem(i);if(!r.loaded()){a._progress(i,true);s=r.load()}if(i!=this.root){o=r.children;if(!o||!(o instanceof d)){r._initChildren();r.loaded(true);o=r.children}}}e=this._toObservableData(e);return n.call(a,o,e,s)},_toObservableData:function(e){var t=e,i,n;if(Z(e)||ee(e)){i=this._objectOrSelf(e).dataSource;n=v(e).attr(_.attr("uid"));t=i.getByUid(n);if(t)t=i.remove(t)}return t},_insert:function(e,t,i){if(!(t instanceof _.data.ObservableArray)){if(!o(t))t=[t]}else t=t.toJSON();var n=e.parent();if(n&&n._initChildren){n.hasChildren=true;n._initChildren()}e.splice.apply(e,[i,0].concat(t));return this.findByUid(e[i].uid)},insertAfter:ie(1),insertBefore:ie(0),append:function(e,o,s){var t=this.root;if(o&&e instanceof jQuery&&o[0]===e[0])return;o=o&&o.length?o:null;if(o)t=F(o);return this._dataSourceMove(e,t,o,function(i,n,e){var t;var r=this;function a(){if(o)r._expanded(o,true,true);var e=i.data(),t=Math.max(e.length,0);return r._insert(e,n,t)}e.done(function(){t=a();s=s||v.noop;s(t)});return t||null})},_remove:function(e,t){var i=this,n,r,a;e=v(e,i.element);if(e.attr("id")===i.element.attr("aria-activedescendant"))i.element.removeAttr("aria-activedescendant");this.angular("cleanup",function(){return{elements:e.get()}});n=e.parent().parent();r=e.prev();a=e.next();e[t?"detach":"remove"]();if(n.hasClass("k-item")){z(n);i._updateNodeClasses(n)}i._updateNodeClasses(r);i._updateNodeClasses(a);return e},remove:function(e){var t=this.dataItem(e);if(t)this.dataSource.remove(t)},detach:function(e){return this._remove(e,true)},findByText:function(i){return v(this.element).find(".k-in").filter(function(e,t){return v(t).text()==i}).closest(S)},findByUid:function(e){var t=this.element.find(".k-item");var i=_.attr("uid");var n;for(var r=0;r<t.length;r++)if(t[r].getAttribute(i)==e){n=t[r];break}return v(n)},expandPath:function(e,t){var a=this;var i=e.slice(0);var n=t||v.noop;function r(){i.shift();if(i.length)o(i[0]).then(r);else n.call(a)}function o(e){var t=v.Deferred();var i=a.dataSource.get(e);var n=_.attr("expanded");var r;if(i){r=a.findByUid(i.uid);if(i.loaded()){i.set("expanded",true);r.attr(n,true);r.attr(E,true);t.resolve()}else{a._progress(r,true);i.load().then(function(){i.set("expanded",true);r.attr(n,true);r.attr(E,true);t.resolve()})}}else t.resolve();return t.promise()}o(i[0]).then(r)},_parentIds:function(e){var t=e&&e.parentNode();var i=[];while(t&&t.parentNode){i.unshift(t.id);t=t.parentNode()}return i},expandTo:function(e){if(!(e instanceof _.data.Node))e=this.dataSource.get(e);var t=this._parentIds(e);this.expandPath(t)},_renderItem:function(e){if(!e.group)e.group={};e.treeview=this.options;e.r=this.templates;return this.templates.item(e)},_renderGroup:function(e){var o=this;e.renderItems=function(e){var t="",i=0,n=e.items,r=n?n.length:0,a=e.group;a.length=r;for(;i<r;i++){e.group=a;e.item=n[i];e.item.index=i;t+=o._renderItem(e)}return t};e.r=o.templates;return o.templates.group(e)}}),_.cssProperties.registerPrefix("TreeView","k-treeview-"),p.plugin(X),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.binder.min",["kendo.core.min","kendo.data.min"],function(){var z={id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]},c=window.kendo.jQuery,g=void 0,p=window.kendo,n=p.Observable,f=p.data.ObservableObject,v=p.data.ObservableArray,h={}.toString,s={},e=p.Class,_="value",d="source",u="events",m="checked",b="css",r=true,a="function",k="change",t=document.createElement("a");try{delete t.test}catch(e){r=false}var w=n.extend({init:function(e,t){var i=this;n.fn.init.call(i);i.source=e[0];i.parents=e;i.path=t;i.dependencies={};i.dependencies[t]=true;i.observable=i.source instanceof n;i._access=function(e){i.dependencies[e.field]=true};if(i.observable){i._change=function(e){i.change(e)};i.source.bind(k,i._change)}},_parents:function(){var e=this.parents;var t=this.get();if(t&&typeof t.parent=="function"){var i=t.parent();if(c.inArray(i,e)<0)e=[i].concat(e)}return e},change:function(e){var t,i,n=e.field,r=this;if(r.path==="this")r.trigger(k,e);else for(t in r.dependencies)if(t.indexOf(n)===0){i=t.charAt(n.length);if(!i||i==="."||i==="["){r.trigger(k,e);break}}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,t=e.source,i=0,n=e.path,r=t;if(!e.observable)return r;e.start(e.source);r=t.get(n);while(r===g&&t){t=e.parents[++i];if(t instanceof f)r=t.get(n)}if(r===g){t=e.source;while(r===g&&t){t=t.parent();if(t instanceof f)r=t.get(n)}}if(typeof r==="function"){i=n.lastIndexOf(".");if(i>0)t=t.get(n.substring(0,i));e.start(t);if(t!==e.source)r=r.call(t,e.source);else r=r.call(t);e.stop(t)}if(t&&t!==e.source){e.currentSource=t;t.unbind(k,e._change).bind(k,e._change)}e.stop(e.source);return r},set:function(e){var t=this.currentSource||this.source;var i=p.getter(this.path)(t);if(typeof i==="function")if(t!==this.source)i.call(t,this.source,e);else i.call(t,e);else t.set(this.path,e)},destroy:function(){if(this.observable){this.source.unbind(k,this._change);if(this.currentSource)this.currentSource.unbind(k,this._change)}this.unbind()}}),y=w.extend({get:function(){var e=this.source,t=this.path,i=0,n;n=e.get(t);while(!n&&e){e=this.parents[++i];if(e instanceof f)n=e.get(t)}if(!n)return;return n.bind(e)}}),x=w.extend({init:function(e,t,i){var n=this;w.fn.init.call(n,e,t);n.template=i},render:function(e){var t;this.start(this.source);t=p.render(this.template,e);this.stop(this.source);return t}}),o=e.extend({init:function(e,t,i){this.element=e;this.bindings=t;this.options=i},bind:function(e,t){var i=this;e=t?e[t]:e;e.bind(k,function(e){i.refresh(t||e)});i.refresh(t)},destroy:function(){}}),l=o.extend({dataType:function(){var e=this.element.getAttribute("data-"+p.ns+"type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){if(t=="date")e=p.parseDate(e,"yyyy-MM-dd");else if(t=="datetime-local")e=p.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]);else if(t=="number")e=p.parseFloat(e);else if(t=="boolean"){e=e.toLowerCase();if(p.parseFloat(e)!==null)e=Boolean(p.parseFloat(e));else e=e.toLowerCase()==="true"}return e}});function i(d,u,s){return o.extend({init:function(e,t,i){var n=this;o.fn.init.call(n,e.element[0],t,i);n.widget=e;n._dataBinding=n.dataBinding.bind(n);n._dataBound=n.dataBound.bind(n);n._itemChange=n.itemChange.bind(n)},itemChange:function(e){A(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[d]._parents()))},dataBinding:function(e){var t,i,n=this.widget,r=e.removedItems||n.items();for(t=0,i=r.length;t<i;t++)P(r[t],false)},_ns:function(e){e=e||p.ui;var t=[p.ui,p.dataviz.ui,p.mobile.ui];t.splice(c.inArray(e,t),1);t.unshift(e);return p.rolesFromNamespaces(t)},dataBound:function(e){var t,i,n=this.widget,r=e.addedItems||n.items(),a=n[u],o,s,l=p.data.HierarchicalDataSource;if(l&&a instanceof l)return;if(r.length){o=e.addedDataItems||a.flatView();s=this.bindings[d]._parents();for(t=0,i=o.length;t<i;t++)if(r[t])A(r[t],o[t],this._ns(e.ns),[o[t]].concat(s))}},refresh:function(e){var t=this,i,n=t.widget,r,a,o;e=e||{};if(!e.action){t.destroy();n.bind("dataBinding",t._dataBinding);n.bind("dataBound",t._dataBound);n.bind("itemChange",t._itemChange);i=t.bindings[d].get();if(n[u]instanceof p.data.DataSource&&n[u]!=i)if(i instanceof p.data.DataSource)n[s](i);else if(i&&i._dataSource)n[s](i._dataSource);else{r=p.ui.Select&&n instanceof p.ui.Select;a=p.ui.MultiSelect&&n instanceof p.ui.MultiSelect;o=p.ui.DropDownTree&&n instanceof p.ui.DropDownTree;if(!o)n[u].data(i);else n.treeview[u].data(i);if(t.bindings.value&&(r||a))n.value(M(t.bindings.value.get(),n.options.dataValueField))}}},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding);e.unbind("dataBound",this._dataBound);e.unbind("itemChange",this._itemChange)}})}s.attr=o.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),s.css=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);this.classes={}},refresh:function(e){var t=c(this.element),i=this.bindings.css[e],n=this.classes[e]=i.get();if(n)t.addClass(e);else t.removeClass(e)}}),s.style=o.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),s.enabled=o.extend({refresh:function(){if(this.bindings.enabled.get())this.element.removeAttribute("disabled");else this.element.setAttribute("disabled","disabled")}}),s.readonly=o.extend({refresh:function(){if(this.bindings.readonly.get())this.element.setAttribute("readonly","readonly");else this.element.removeAttribute("readonly")}}),s.disabled=o.extend({refresh:function(){if(this.bindings.disabled.get())this.element.setAttribute("disabled","disabled");else this.element.removeAttribute("disabled")}}),s.events=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);this.handlers={}},refresh:function(e){var t=c(this.element),i=this.bindings.events[e],n=this.handlers[e];if(n)t.off(e,n);n=this.handlers[e]=i.get();t.on(e,i.source,n)},destroy:function(){var e=c(this.element),t;for(t in this.handlers)e.off(t,this.handlers[t])}}),s.text=o.extend({refresh:function(){var e=this.bindings.text.get();var t=this.element.getAttribute("data-"+p.ns+"format")||"";if(e==null)e="";c(this.element).text(p.toString(e,t))}}),s.visible=o.extend({refresh:function(){if(this.bindings.visible.get())this.element.style.display="";else this.element.style.display="none"}}),s.invisible=o.extend({refresh:function(){if(!this.bindings.invisible.get())this.element.style.display="";else this.element.style.display="none"}}),s.html=o.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),s.value=l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);this.eventName=i.valueUpdate||k;c(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=k;this.bindings[_].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var e=this.bindings[_].get();if(e==null)e="";var t=this.dataType();if(t=="date")e=p.toString(e,"yyyy-MM-dd");else if(t=="datetime-local")e=p.toString(e,"yyyy-MM-ddTHH:mm:ss");this.element.value=e}this._initChange=false},destroy:function(){c(this.element).off(this.eventName,this._change)}}),s.source=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);var n=this.bindings.source.get();if(n instanceof p.data.DataSource&&i.autoBind!==false)n.fetch()},refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof v||i instanceof p.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action!="itemchange")t.render()}else t.render()},container:function(){var e=this.element;if(e.nodeName.toLowerCase()=="table"){if(!e.tBodies[0])e.appendChild(document.createElement("tbody"));e=e.tBodies[0]}return e},template:function(){var e=this.options,t=e.template,i=this.container().nodeName.toLowerCase();if(!t){if(i=="select")if(e.valueField||e.textField)t=p.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField);else t="<option>#:data#</option>";else if(i=="tbody")t="<tr><td>#:data#</td></tr>";else if(i=="ul"||i=="ol")t="<li>#:data#</li>";else t="#:data#";t=p.template(t)}return t},add:function(e,t){var i=this.container(),n,r,a,o,s=i.cloneNode(false),l=i.children[e];c(s).html(p.render(this.template(),t));if(s.children.length){n=this.bindings.source._parents();for(r=0,a=t.length;r<a;r++){o=s.children[0];i.insertBefore(o,l||null);A(o,t[r],this.options.roles,[t[r]].concat(n))}}},remove:function(e,t){var i,n=this.container();for(i=0;i<t.length;i++){var r=n.children[e];P(r,true);if(r.parentNode==n)n.removeChild(r)}},render:function(){var e=this.bindings.source.get(),t,i,n,r=this.container(),a=this.template();if(e==null)return;if(e instanceof p.data.DataSource)e=e.view();if(!(e instanceof v)&&h.call(e)!=="[object Array]")e=[e];if(this.bindings.template){O(r,true);c(r).html(this.bindings.template.render(e));if(r.children.length){t=this.bindings.source._parents();for(i=0,n=e.length;i<n;i++)A(r.children[i],e[i],this.options.roles,[e[i]].concat(t))}}else c(r).html(p.render(a,e))}}),s.input={checked:l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);c(this.element).change(this._change)},change:function(){var e=this.element;var t=this.value();if(e.type=="radio"){t=this.parsedValue();this.bindings[m].set(t)}else if(e.type=="checkbox"){var i=this.bindings[m].get();var n;if(i instanceof v){t=this.parsedValue();if(t instanceof Date){for(var r=0;r<i.length;r++)if(i[r]instanceof Date&&+i[r]===+t){n=r;break}}else n=i.indexOf(t);if(n>-1)i.splice(n,1);else i.push(t)}else this.bindings[m].set(t)}},refresh:function(){var e=this.bindings[m].get(),t=e,i=this.dataType(),n=this.element;if(n.type=="checkbox")if(t instanceof v){var r=-1;e=this.parsedValue();if(e instanceof Date){for(var a=0;a<t.length;a++)if(t[a]instanceof Date&&+t[a]===+e){r=a;break}}else r=t.indexOf(e);n.checked=r>=0}else n.checked=t;else if(n.type=="radio"){if(i=="date")e=p.toString(e,"yyyy-MM-dd");else if(i=="datetime-local")e=p.toString(e,"yyyy-MM-ddTHH:mm:ss");if(e!==null&&typeof e!=="undefined"&&n.value===e.toString())n.checked=true;else n.checked=false}},value:function(){var e=this.element,t=e.value;if(e.type=="checkbox")t=e.checked;return t},destroy:function(){c(this.element).off(k,this._change)}})},s.select={source:s.source.extend({refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof v||i instanceof p.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action=="itemchange"||e.action===g){t.render();if(t.bindings.value)if(t.bindings.value){var n=M(t.bindings.value.get(),c(t.element).data("valueField"));if(n===null)t.element.selectedIndex=-1;else t.element.value=n}}}else t.render()}}),value:l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);c(this.element).change(this._change)},parsedValue:function(){var e=this.dataType();var t=[];var i,n,r,a;for(r=0,a=this.element.options.length;r<a;r++){n=this.element.options[r];if(n.selected){i=n.attributes.value;if(i&&i.specified)i=n.value;else i=n.text;t.push(this._parseValue(i,e))}}return t},change:function(){var e=[],t=this.element,i,n=this.options.valueField||this.options.textField,r=this.options.valuePrimitive,a,o,s,l,d;for(l=0,d=t.options.length;l<d;l++){a=t.options[l];if(a.selected){s=a.attributes.value;if(s&&s.specified)s=a.value;else s=a.text;if(n)e.push(s);else e.push(this._parseValue(s,this.dataType()))}}if(n){i=this.bindings.source.get();if(i instanceof p.data.DataSource)i=i.view();for(o=0;o<e.length;o++)for(l=0,d=i.length;l<d;l++){var u=i[l].get(n);var c=String(u)===e[o];if(c){e[o]=i[l];break}}}s=this.bindings[_].get();if(s instanceof v)s.splice.apply(s,[0,s.length].concat(e));else if(!r&&(s instanceof f||s===null||s===g||!n))this.bindings[_].set(e[0]);else this.bindings[_].set(e[0].get(n))},refresh:function(){var e,t=this.element,i=t.options,n=this.bindings[_].get(),r=n,a=this.options.valueField||this.options.textField,o=false,s=this.dataType(),l;if(!(r instanceof v))r=new v([n]);t.selectedIndex=-1;for(var d=0;d<r.length;d++){n=r[d];if(a&&n instanceof f)n=n.get(a);if(s=="date")n=p.toString(r[d],"yyyy-MM-dd");else if(s=="datetime-local")n=p.toString(r[d],"yyyy-MM-ddTHH:mm:ss");for(e=0;e<i.length;e++){l=i[e].value;if(l===""&&n!=="")l=i[e].text;if(n!=null&&l==n.toString()){i[e].selected=true;o=true}}}},destroy:function(){c(this.element).off(k,this._change)}})},s.widget={events:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this.handlers={}},refresh:function(e){var t=this.bindings.events[e],i=this.handlers[e];if(i)this.widget.unbind(e,i);i=t.get();this.handlers[e]=function(e){e.data=t.source;i(e);if(e.data===t.source)delete e.data};this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.bind(k,this._change)},change:function(){this.bindings[m].set(this.value())},refresh:function(){if(this.element.type==="radio")this.widget.check(this.bindings[m].get().toString()===this.value());else this.widget.check(this.bindings[m].get()===true)},value:function(){var e=this.element,t=e.value;if(t=="on"||t=="off"||this.element.type=="checkbox")t=e.checked;return t},destroy:function(){this.widget.unbind(k,this._change)}}),start:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this._change=this.change.bind(this);this.widget=e;this.widget.bind(k,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var e=this;var t=this.bindings.start.get();var i=e.widget._range?e.widget._range.end:null;this.widget.range({start:t,end:i})},destroy:function(){this.widget.unbind(k,this._change)}}),end:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this._change=this.change.bind(this);this.widget=e;this.widget.bind(k,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var e=this;var t=this.bindings.end.get();var i=e.widget._range?e.widget._range.start:null;this.widget.range({start:i,end:t})},destroy:function(){this.widget.unbind(k,this._change)}}),visible:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),floatingLabel:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);if(!e.floatingLabel)return;e.floatingLabel.refresh()}}),enabled:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(this.bindings.enabled.get())}}),disabled:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(!this.bindings.disabled.get())}}),source:i("source","dataSource","setDataSource"),value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);var n=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(n==null||n instanceof f);this._valueIsObservableArray=n instanceof v;this._initChange=false},_source:function(){var e;if(this.widget.dataItem){e=this.widget.dataItem();if(e&&e instanceof f)return[e]}if(this.bindings.source)e=this.bindings.source.get();if(!e||e instanceof p.data.DataSource)e=this.widget.dataSource.flatView();return e},change:function(){var e=this.widget.value(),t=this.options.dataValueField||this.options.dataTextField,i=h.call(e)==="[object Array]",n=this._valueIsObservableObject,r,a,o=[],s,l,d,u,c;this._initChange=true;if(t)if(e===""&&(n||this.options.valuePrimitive))e=null;else{c=this._source();if(i){a=e.length;o=e.slice(0)}for(d=0,u=c.length;d<u;d++){s=c[d];l=s.get(t);if(i){for(r=0;r<a;r++)if(l==o[r]){o[r]=s;break}}else if(l==e){e=n?s:l;break}}if(o[0])if(this._valueIsObservableArray)e=o;else if(n||!t)e=o[0];else e=o[0].get(t)}this.bindings.value.set(e);this._initChange=false},refresh:function(){if(!this._initChange){var e=this.widget;var t=e.options;var i=t.dataTextField;var n=t.dataValueField||i;var r=this.bindings.value.get();var a=t.text||"";var o=0,s;var l=[];if(r===g)r=null;if(n)if(r instanceof v){for(s=r.length;o<s;o++)l[o]=r[o].get(n);r=l}else if(r instanceof f){a=r.get(i);r=r.get(n)}if(t.autoBind===false&&!t.cascadeFrom&&e.listView&&!e.listView.bound()){if(i===n&&!a)a=r;if(!a&&(r||r===0)&&t.valuePrimitive)e.value(r);else e._preselect(r,a)}else e.value(r)}this._initChange=false},destroy:function(){this.widget.unbind(k,this._change)}}),dropdowntree:{value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[_].get(),i=e.options.valuePrimitive,n=e.widget.treeview.select(),r=e.widget._isMultipleSelection()?e.widget._getAllChecked():e.widget.treeview.dataItem(n)||e.widget.value(),a=i||e.widget.options.autoBind===false?e.widget.value():r;var o=this.options.dataValueField||this.options.dataTextField;a=a.slice?a.slice(0):a;e._initChange=true;if(t instanceof v){var s=[];var l=a.length;var d=0,u=0;var c=t[d];var f=false;var p;var h;var m;while(c!==g){m=false;for(u=0;u<l;u++){if(i)f=a[u]==c;else{h=a[u];h=h.get?h.get(o):h;f=h==(c.get?c.get(o):c)}if(f){a.splice(u,1);l-=1;m=true;break}}if(!m){s.push(c);C(t,d,1);p=d}else d+=1;c=t[d]}C(t,t.length,0,a);if(s.length)t.trigger("change",{action:"remove",items:s,index:p});if(a.length)t.trigger("change",{action:"add",items:a,index:t.length-1})}else e.bindings[_].set(a);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,n=this.bindings.value.get(),r=n,a=0,o,s=[],l;if(i)if(n instanceof v){for(o=n.length;a<o;a++){l=n[a];s[a]=l.get?l.get(i):l}n=s}else if(n instanceof f)n=n.get(i);if(e.autoBind===false&&e.valuePrimitive!==true)t._preselect(r,n);else t.value(n)}},destroy:function(){this.widget.unbind(k,this._change)}})},gantt:{dependencies:i("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[_].get(),i=e.options.valuePrimitive,n=i?e.widget.value():e.widget.dataItems();var r=this.options.dataValueField||this.options.dataTextField;n=n.slice(0);e._initChange=true;if(t instanceof v){var a=[];var o=n.length;var s=0,l=0;var d=t[s];var u=false;var c;var f;var p;while(d!==g){p=false;for(l=0;l<o;l++){if(i)u=n[l]==d;else{f=n[l];f=f.get?f.get(r):f;u=f==(d.get?d.get(r):d)}if(u){n.splice(l,1);o-=1;p=true;break}}if(!p){a.push(d);C(t,s,1);c=s}else s+=1;d=t[s]}C(t,t.length,0,n);if(a.length)t.trigger("change",{action:"remove",items:a,index:c});if(n.length)t.trigger("change",{action:"add",items:n,index:t.length-1})}else e.bindings[_].set(n);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,n=this.bindings.value.get(),r=n,a=0,o,s=[],l;if(n===g)n=null;if(i)if(n instanceof v){for(o=n.length;a<o;a++){l=n[a];s[a]=l.get?l.get(i):l}n=s}else if(n instanceof f)n=n.get(i);if(e.autoBind===false&&e.valuePrimitive!==true&&!t._isBound())t._preselect(r,n);else t.value(n)}},destroy:function(){this.widget.unbind(k,this._change)}})},scheduler:{source:i("source","dataSource","setDataSource").extend({dataBound:function(e){var t;var i;var n=this.widget;var r=e.addedItems||n.items();var a,o;if(r.length){a=e.addedDataItems||n.dataItems();o=this.bindings.source._parents();for(t=0,i=a.length;t<i;t++)A(r[t],a[t],this._ns(e.ns),[a[t]].concat(o))}}})},grid:{source:i("source","dataSource","setDataSource").extend({dataBound:function(e){var t,i,n=this.widget,r=e.addedItems||n.items(),a,o;if(r.length){o=e.addedDataItems||n.dataItems();a=this.bindings.source._parents();for(t=0,i=o.length;t<i;t++)A(r[t],o[t],this._ns(e.ns),[o[t]].concat(a))}}})},badge:{text:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.text.get();if(e==null)e="";this.widget.text(e)}})}};var C=function(e,t,i,n){n=n||[];i=i||0;var r=n.length;var a=e.length;var o=[].slice.call(e,t+i);var s=o.length;var l;if(r){r=t+r;l=0;for(;t<r;t++){e[t]=n[l];l++}e.length=r}else if(i){e.length=t;i+=t;while(t<i)delete e[--i]}if(s){s=t+s;l=0;for(;t<s;t++){e[t]=o[l];l++}e.length=s}t=e.length;while(t<a){delete e[t];t++}},S=e.extend({init:function(e,t){this.target=e;this.options=t;this.toDestroy=[]},bind:function(e){var t,i,n,r,a,o,s=this instanceof T,l=this.binders();for(t in e)if(t==_)i=true;else if(t==d)n=true;else if(t==u&&!s)r=true;else if(t==m)a=true;else if(t==b)o=true;else this.applyBinding(t,e,l);if(n)this.applyBinding(d,e,l);if(i)this.applyBinding(_,e,l);if(a)this.applyBinding(m,e,l);if(r&&!s)this.applyBinding(u,e,l);if(o&&!s)this.applyBinding(b,e,l);if(s&&this.target&&this.target.floatingLabel)this.applyBinding("floatingLabel",e,l)},binders:function(){return s[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,i){var n=i[e]||s[e],r=this.toDestroy,a,o=t[e];if(n){n=new n(this.target,t,this.options);r.push(n);if(o instanceof w){n.bind(o);r.push(o)}else for(a in o){n.bind(o,a);r.push(o[a])}}else if(e!=="template")throw new Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,i=this.toDestroy;for(e=0,t=i.length;e<t;e++)i[e].destroy()}}),T=S.extend({binders:function(){return s.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,i){var n=i[e]||s.widget[e],r=this.toDestroy,a,o=t[e];if(n){n=new n(this.target,t,this.target.options);r.push(n);if(o instanceof w){n.bind(o);r.push(o)}else for(a in o){n.bind(o,a);r.push(o[a])}}else throw new Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget")}});function I(e,t){var i=p.initWidget(e,{},t);if(i)return new T(i)}var R=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,N=/\s/g;function D(e){var t={},i,n,r,a,o,s,l;l=e.match(R);for(i=0,n=l.length;i<n;i++){r=l[i];a=r.indexOf(":");o=r.substring(0,a);s=r.substring(a+1);if(s.charAt(0)=="{")s=D(s);t[o]=s}return t}function E(e,t,i){var n,r={};for(n in e)r[n]=new i(t,e[n]);return r}function A(e,t,i,n){if(!e||e.getAttribute("data-"+p.ns+"stop"))return;var r=e.getAttribute("data-"+p.ns+"role"),a,o=e.getAttribute("data-"+p.ns+"bind"),s=[],l=true,d,u={},c;n=n||[t];if(r||o)H(e,false);if(r)c=I(e,i);if(o){o=D(o.replace(N,""));if(!c){u=p.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:k,valuePrimitive:false,autoBind:true},t);u.roles=i;c=new S(e,u)}c.source=t;d=E(o,n,w);if(u.template)d.template=new x(n,"",u.template);if(d.click){o.events=o.events||{};o.events.click=o.click;d.click.destroy();delete d.click}if(d.source)l=false;if(o.attr)d.attr=E(o.attr,n,w);if(o.style)d.style=E(o.style,n,w);if(o.events)d.events=E(o.events,n,y);if(o.css)d.css=E(o.css,n,w);c.bind(d)}if(c)e.kendoBindingTarget=c;var f=e.children;if(l&&f&&!e.getAttribute("data-"+p.ns+"stop")){for(a=0;a<f.length;a++)s[a]=f[a];for(a=0;a<s.length;a++)A(s[a],t,i,n)}}function F(e,t){var i,n,r,a=p.rolesFromNamespaces([].slice.call(arguments,2));t=p.observable(t);e=c(e);for(i=0,n=e.length;i<n;i++){r=e[i];if(r.nodeType===1)A(r,t,a)}}function H(e,t){var i=e.kendoBindingTarget;if(i){i.destroy();if(r)delete e.kendoBindingTarget;else if(e.removeAttribute)e.removeAttribute("kendoBindingTarget");else e.kendoBindingTarget=null}if(t){var n=p.widgetInstance(c(e));if(n&&typeof n.destroy===a)n.destroy()}}function P(e,t){H(e,t);O(e,t)}function O(e,t){var i=e.children;if(i)for(var n=0,r=i.length;n<r;n++)P(i[n],t)}function L(e){var t,i;e=c(e);for(t=0,i=e.length;t<i;t++)P(e[t],false)}function B(e,t){var i=e.element,n=i[0].kendoBindingTarget;if(n)F(i,n.source,t)}function M(e,t){var i=[];var n=0;var r;var a;if(!t)return e;if(e instanceof v){for(r=e.length;n<r;n++){a=e[n];i[n]=a.get?a.get(t):a[t]}e=i}else if(e instanceof f)e=e.get(t);return e}return p.unbind=L,p.bind=F,p.data.binders=s,p.data.Binder=o,p.notify=B,p.observable=function(e){if(!(e instanceof f))e=new f(e);return e},p.observableHierarchy=function(e){var t=p.data.HierarchicalDataSource.create(e);function n(e){var t,i;for(t=0;t<e.length;t++){e[t]._initChildren();i=e[t].children;i.fetch();e[t].items=i.data();n(e[t].items)}}t.fetch();n(t.data());t._data._dataSource=t;return t._data},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.chip.min",["kendo.html.base.min"],function(){var e={id:"html.chip",name:"Html.Chip",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},i=window.kendo.jQuery,t=void 0,n=window.kendo,r=n.html.HTMLBase,a=function(e,t){if(!e||i.isPlainObject(e)){t=e;e=i("<span></span>")}return new o(e,t).html()},o=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);i._wrapper()},options:{name:"HTMLChip",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base",attr:{},icon:"",iconAttr:{},removable:false,removableAttr:{},removeIcon:"x-circle",content:"",text:"",stylingOptions:["size","rounded","fillMode","themeColor"]},_wrapper:function(){var e=this,t=e.options;e.wrapper=e.element.wrap("<span class='k-chip'></span>").parent().attr(t.attr);e._addClasses();if(t.icon)e.wrapper.prepend(i("<span class='k-chip-icon k-icon k-i-"+t.icon+"'></span>").attr(t.iconAttr));e.element.addClass("k-chip-content");if(t.text)e.element.html('<span class="k-chip-label">'+t.text+"</span>");if(t.removable)e.wrapper.append(i("<span class='k-chip-action k-chip-remove-action'><span class='k-icon k-i-"+t.removeIcon+"'></span></span>").attr(t.removableAttr))}});return i.extend(n.html,{renderChip:a,HTMLChip:o}),n.cssProperties.registerPrefix("HTMLChip","k-chip-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.chiplist.min",["kendo.html.base.min"],function(){var e={id:"html.chiplist",name:"Html.ChipList",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},i=window.kendo.jQuery,n=void 0,t=window.kendo,r=t.html.HTMLBase,a=function(e,t){if(arguments[0]===n||i.isPlainObject(arguments[0])){t=e;e=i("<div></div>")}return new o(e,t).html()},o=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);i.wrapper=i.element.addClass("k-chip-list");i._addClasses()},options:{name:"HTMLChipList",size:"medium",stylingOptions:["size"]}});return i.extend(t.html,{renderChipList:a,HTMLChipList:o}),t.cssProperties.registerPrefix("HTMLChipList","k-chip-list-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("dropdowntree/treeview.min",["kendo.treeview.min"],function(){var l=window.kendo.jQuery,c=void 0,d=window.kendo,e,u=d.keys,f="k-disabled",p="select",h="checked",m="dataBound",r="click",a=".kendoTreeView",g="indeterminate",v="navigate",o,s=d.ui.TreeView;function t(i){return function(e){var t=e.children(".k-animation-container");if(!t.length)t=e;return t.children(i)}}o=t(".k-group");var i=s.extend({init:function(e,t,i){var n=this;n.dropdowntree=i;s.fn.init.call(n,e,t);if(n.dropdowntree._isMultipleSelection())n.wrapper.on(r+a,".k-in.k-selected",n._clickSelectedItem.bind(n))},_checkOnSelect:function(e){if(!e.isDefaultPrevented()){var t=this.dataItem(e.node);t.set("checked",!t.checked)}},_setCheckedValue:function(e,t){e.set(h,t)},_click:function(e){var t=this;if(t.dropdowntree._isMultipleSelection())t.one("select",t._checkOnSelect);s.fn._click.call(t,e)},_clickSelectedItem:function(e){var t=this,i=l(e.currentTarget);t.one("select",t._checkOnSelect);if(!t._trigger(p,i))t.dataItem(i).set("selected",false)},defaultrefresh:function(e){var t=this;var i=e.node;var n=e.action;var r=e.items;var a=this.wrapper;var o=this.options;var s=o.loadOnDemand;var l=o.checkboxes&&o.checkboxes.checkChildren;var d;if(this._skip)return;if(e.field){if(!r[0]||!r[0].level)return;return this._updateNodes(r,e.field)}if(i){a=this.findByUid(i.uid);this._progress(a,false)}if(l&&n!="remove"){var u=false;for(d=0;d<r.length;d++)if("checked"in r[d]){u=true;break}if(!u&&i&&i.checked)for(d=0;d<r.length;d++)r[d].checked=true}if(n=="add")this._appendItems(e.index,r,a);else if(n=="remove")this._remove(this.findByUid(r[0].uid),false);else if(n=="itemchange")this._updateNodes(r);else if(n=="itemloaded")this._refreshChildren(a,r,e.index);else this._refreshRoot(r);if(n!="remove")for(d=0;d<r.length;d++)if(!s||r[d].expanded)r[d].load();t.wrapper.attr("role","tree");t.wrapper.find(">ul").attr("role","none");this._ariaItems(this.wrapper.find(">.k-group>.k-item"),1);this.trigger(m,{node:i?a:c});this.dropdowntree._treeViewDataBound({node:i?a:c,sender:this});if(this.options.checkboxes.checkChildren)this.updateIndeterminate()},_previousVisible:function(e){var t=this,i,n;if(!e.length||e.prev().length){if(e.length)n=e.prev();else n=t.root.children().last();while(t._expanded(n)){i=o(n).children().last();if(!i.length)break;n=i}}else{n=t.parent(e)||e;if(!n.length)if(t.dropdowntree.checkAll&&t.dropdowntree.checkAll.is(":visible"))t.dropdowntree.checkAll.find(".k-checkbox").trigger("focus");else if(t.dropdowntree.filterInput)t.dropdowntree.filterInput.trigger("focus");else t.dropdowntree.wrapper.trigger("focus")}return n},_keydown:function(e){var t=this,i=e.keyCode,n,r=t.current(),a=t._expanded(r),o=r.find(".k-checkbox-wrapper").first().find(":checkbox"),s=d.support.isRtl(t.element);if(e.target!=e.currentTarget)return;if(!s&&i==u.RIGHT||s&&i==u.LEFT){if(a)n=t._nextVisible(r);else if(!r.find(".k-in").first().hasClass(f))t.expand(r)}else if(!s&&i==u.LEFT||s&&i==u.RIGHT)if(a&&!r.find(".k-in").first().hasClass(f))t.collapse(r);else{n=t.parent(r);if(!t._enabled(n))n=c}else if(i==u.DOWN)n=t._nextVisible(r);else if(i==u.UP&&!e.altKey)n=t._previousVisible(r);else if(i==u.HOME)n=t._nextVisible(l());else if(i==u.END)n=t._previousVisible(l());else if(i==u.ENTER&&!r.find(".k-in").first().hasClass(f)){if(!r.find(".k-in").first().hasClass("k-selected"))if(!t._trigger(p,r))t.select(r)}else if(i==u.SPACEBAR&&o.length&&!r.find(".k-in").first().hasClass(f)){o.prop(h,!o.prop(h)).data(g,false).prop(g,false);t._checkboxChange({target:o});n=r}else if(e.altKey&&i===u.UP||i===u.ESC)t._closePopup();else if(i===u.TAB){e.preventDefault();t._closePopup()}if(n){e.preventDefault();if(r[0]!=n[0]){t._trigger(v,n);t.current(n)}}},_closePopup:function(){this.dropdowntree.close();this.dropdowntree.wrapper.trigger("focus")},refresh:function(e){this.defaultrefresh(e);if(this.dropdowntree.options.skipUpdateOnBind)return;if(e.action==="itemchange"){if(this.dropdowntree._isMultipleSelection()){if(e.field==="checked")this.dropdowntree._checkValue(e.items[0])}else if(e.field!=="checked"&&e.field!=="expanded"&&e.items[0].selected)this.dropdowntree._selectValue(e.items[0])}else this.dropdowntree.refresh(e)}});return d.ui._dropdowntree=i,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dropdowntree.min",["./dropdowntree/treeview.min","kendo.popup.min","kendo.binder.min","kendo.html.chip.min","kendo.html.chiplist.min","kendo.html.button.min","kendo.html.input.min"],function(){var z={id:"dropdowntree",name:"DropDownTree",category:"web",description:"The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.",depends:["treeview","popup","binder","html.chip","html.chiplist","html.button","html.input"]},d=window.kendo.jQuery,a=void 0,o=window.kendo,t=o.ui,s=o.html,i=t.Widget,e=t._dropdowntree,n=o.data.ObservableArray,u=o.data.ObservableObject,r=d.extend,l=o._activeElement,c=".kendoDropDownTree",f=o.keys,p=o.support,h="k-hidden",m="width",g=p.browser,v=o._outerWidth,_=".",b="disabled",k="readonly",w="k-disabled",y="aria-disabled",x="k-hover",C="k-focus",S="mouseenter"+c+" mouseleave"+c,T="tabindex",I="click",D="open",E="close",A="change",F=/"/g,H=".k-chip",P=o.ui.Widget.extend({init:function(e,t){this.ns=c;o.ui.Widget.fn.init.call(this,e,t);this._selection=this._getSelection();this._focusInputHandler=this._focusInput.bind(this);this._initial=this.element.val();this._values=[];var i=this.options.value;if(i===null||!i.length)this._noInitialValue=true;if(!this._isNullorUndefined(i)){this._valueMethodCalled=true;this._values=Array.isArray(i)?i.slice(0):[i]}this._inputTemplate();this._accessors();this._setTreeViewOptions(this.options);this._dataSource();this._selection._initWrapper();this._applyCssClasses();this._placeholder(true);this._tabindex();this.wrapper.data(T,this.wrapper.attr(T));this.tree=d("<div/>").attr({tabIndex:-1,"aria-hidden":true});this.list=d("<div class='k-list-container'/>").append(this.tree);this._header();this._noData();this._footer();this._reset();this._popup();this.popup.one("open",this._popupOpen.bind(this));this._clearButton();this._filterHeader();this._treeview();this._renderFooter();this._checkAll();this._enable();this._toggleCloseVisibility();this._aria();if(!this.options.autoBind){var n=t.text||"";if(!this._isNullorUndefined(t.value))this._preselect(t.value);else if(n)this._textAccessor(n);else if(t.placeholder)this._placeholder(true)}var r=d(this.element).parents("fieldset").is(":disabled");if(r)this.enable(false);this._valueMethodCalled=false;o.notify(this)},_preselect:function(e,t){this._selection._preselect(e,t)},_setTreeViewOptions:function(e){var t={autoBind:e.autoBind,checkboxes:e.checkboxes,dataImageUrlField:e.dataImageUrlField,dataSpriteCssClassField:e.dataSpriteCssClassField,dataTextField:e.dataTextField,dataUrlField:e.dataUrlField,loadOnDemand:e.loadOnDemand,size:e.size};this.options.treeview=d.extend({},t,this.options.treeview);if(e.template)this.options.treeview.template=e.template;if(e.size)this.options.treeview.size=e.size},_dataSource:function(){var e=this.options.dataSource;this.dataSource=o.data.HierarchicalDataSource.create(e);if(e)d.extend(this.options.treeview,{dataSource:this.dataSource})},_popupOpen:function(){var e=this.popup;e.wrapper=o.wrap(e.element)},_getSelection:function(){if(this._isMultipleSelection()){this.options._altname="MultiSelectDropDownTree";return new t.DropDownTree.MultipleSelection(this)}else return new t.DropDownTree.SingleSelection(this)},setDataSource:function(e){this._isDataSourceSet=true;if(this._tags){this._noInitialValue=true;this.setValue([]);this._tags.empty();this.span.show();this._multipleTags.empty()}this.dataSource=e;this.treeview.setDataSource(e);this._isDataSourceSet=false},_isMultipleSelection:function(){return this.options&&(this.options.treeview.checkboxes||this.options.checkboxes)},options:{name:"DropDownTree",animation:{},autoBind:true,autoClose:true,autoWidth:false,clearButton:true,dataTextField:"",dataValueField:"",dataImageUrlField:"",dataSpriteCssClassField:"",dataUrlField:"",delay:500,enabled:true,enforceMinLength:false,filter:"none",height:200,ignoreCase:true,index:0,loadOnDemand:false,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},minLength:1,checkboxes:false,noDataTemplate:true,placeholder:"",checkAll:false,checkAllTemplate:"Check all",tagMode:"multiple",template:null,text:null,treeview:{},valuePrimitive:false,footerTemplate:"",headerTemplate:"",value:null,valueTemplate:null,popup:null,filterLabel:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close","dataBound",A,"select","filtering"],focus:function(){this.wrapper.trigger("focus")},dataItem:function(e){return this.treeview.dataItem(e)},readonly:function(e){this._editable({readonly:e===a?true:e,disable:false});this._toggleCloseVisibility()},enable:function(e){this._editable({readonly:false,disable:!(e=e===a?true:e)});this._toggleCloseVisibility()},toggle:function(e){this._toggle(e)},open:function(){var e=this.popup;if(!this.options.autoBind&&!this.dataSource.data().length){this.treeview._progress(true);if(this._isFilterEnabled())this._search();else this.dataSource.fetch()}if(e.visible()||!this._allowOpening())return;if(this._isMultipleSelection())e.element.addClass("k-multiple-selection");e.element.addClass("k-popup-dropdowntree");e.one("activate",this._focusInputHandler);e._hovered=true;e.open()},close:function(){this.popup.close()},search:function(e){var t=this.options;var i;clearTimeout(this._typingTimeout);if(!t.enforceMinLength&&!e.length||e.length>=t.minLength){i=this._getFilter(e);if(this.trigger("filtering",{filter:i})||Array.isArray(this.options.dataTextField))return;this._filtering=true;this.treeview.dataSource.filter(i)}},_getFilter:function(e){return{field:this.options.dataTextField,operator:this.options.filter,value:e,ignoreCase:this.options.ignoreCase}},refresh:function(){var e=this.treeview.dataSource.flatView();this._renderFooter();this._renderNoData();if(this.filterInput&&this.checkAll)this.checkAll.toggle(!this.filterInput.val().length);this.tree.toggle(!!e.length);d(this.noData).toggle(!e.length)},setOptions:function(e){if(this.options.checkboxes!=e.checkboxes){delete e.checkboxes;window.console.warn("setOptions method can not be used to set the checkboxes option in DropDownTree")}i.fn.setOptions.call(this,e);this._setTreeViewOptions(e);this._dataSource();if(this.options.treeview||e.size)this.treeview.setOptions(this.options.treeview);if(e.height&&this.tree)this.tree.css("max-height",e.height);this._header();this._noData();this._footer();this._renderFooter();this._renderNoData();if(this.span&&(this._isMultipleSelection()||this.span.hasClass("k-readonly")))this._placeholder(true);this._inputTemplate();this._accessors();this._filterHeader();this._checkAll();this._enable();if(e&&(e.enable||e.enabled))this.enable(true);this._clearButton()},destroy:function(){o.ui.Widget.fn.destroy.call(this);if(this.treeview)this.treeview.destroy();this.popup.destroy();this.wrapper.off(c);this._clear.off(c);if(this.filterInput)this.filterInput.off(c);if(this.tagList)this.tagList.off(c);o.unbind(this.tagList);if(this.options.checkAll&&this.checkAll)this.checkAll.off(c);if(this._form)this._form.off("reset",this._resetHandler)},setValue:function(e){e=Array.isArray(e)||e instanceof n?e.slice(0):[e];this._values=e},items:function(){return this.treeview.items()},value:function(e){var t=this;if(e)if(t.filterInput&&t.dataSource._filter){t._filtering=true;t.dataSource.filter({})}else if(!t.dataSource.data().length||!t.treeview.dataSource.data().length){if(!t.options.loadOnDemand){t.treeview.one("loadCompleted",function(){t._selection._setValue(e)});if(!t.options.autoBind&&t.options.valuePrimitive)t.dataSource.fetch()}else t.dataSource.fetch(function(){t._selection._setValue(e)});return}return t._selection._setValue(e)},text:function(e){var t;var i=this.options.ignoreCase;e=e===null?"":e;if(e!==a&&!this._isMultipleSelection()){if(typeof e!=="string"){this._textAccessor(e);return}t=i?e:e.toLowerCase();this._selectItemByText(t);this._textAccessor(t)}else return this._textAccessor()},_aria:function(){var e=this.wrapper.find("span.k-input-inner");this.wrapper.attr({"aria-haspopup":"tree","aria-expanded":false,"aria-controls":this.treeview.element.attr("id"),role:"listbox"});this._activeId=o.guid();this._ariaLabel(this.wrapper);if(this.filterInput&&this.options.filterLabel)this.filterInput.attr("aria-label",this.options.filterLabel);if(!this.options.checkboxes&&e.text().length){e.attr("role","option");e.attr("aria-selected","true");e.attr("id",this._activeId);this.wrapper.attr("aria-activedescendant",this._activeId)}else if(this.options.checkboxes){this.wrapper.attr({"aria-multiselectable":true,"aria-describedby":this.tagList[0].id});this.tagList.attr("role","none")}},_header:function(){var e=this;var t=d(e.header);var i=e.options.headerTemplate;this._angularElement(t,"cleanup");o.destroy(t);t.remove();if(!i){e.header=null;return}var n=typeof i!=="function"?o.template(i):i;t=d(n({}));e.header=t[0]?t:null;e.list.prepend(t);this._angularElement(e.header,"compile")},_noData:function(){var e=this;var t=d(e.noData);var i=e.options.noDataTemplate===true?e.options.messages.noData:e.options.noDataTemplate;e.angular("cleanup",function(){return{elements:t}});o.destroy(t);t.remove();if(!i){e.noData=null;return}e.noData=d('<div class="k-no-data" style="display: none;"></div>').appendTo(e.list);e.noDataTemplate=typeof i!=="function"?o.template(i):i},_renderNoData:function(){var e=this;var t=e.noData;if(!t)return;this._angularElement(t,"cleanup");t.html(e.noDataTemplate({instance:e}));this._angularElement(t,"compile")},_footer:function(){var e=this;var t=d(e.footer);var i=e.options.footerTemplate;this._angularElement(t,"cleanup");o.destroy(t);t.remove();if(!i){e.footer=null;return}e.footer=d('<div class="k-footer"></div>').appendTo(e.list);e.footerTemplate=typeof i!=="function"?o.template(i):i},_renderFooter:function(){var e=this;var t=e.footer;if(!t)return;this._angularElement(t,"cleanup");t.html(e.footerTemplate({instance:e}));this._angularElement(t,"compile")},_enable:function(){var e=this,t=e.options,i=e.element.is("[disabled]");if(t.enable!==a)t.enabled=t.enable;if(!t.enabled||i)e.enable(false);else e.readonly(e.element.is("[readonly]"))},_adjustListWidth:function(){var e=this,t=e.list,i=t[0].style.width,n=e.wrapper,r,a;if(!t.data(m)&&i)return;r=window.getComputedStyle?window.getComputedStyle(n[0],null):0;a=parseFloat(r&&r.width)||v(n);if(r&&g.msie)a+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);if(t.css("box-sizing")!=="border-box")i=a-(v(t)-t.width());else i=a;t.css({fontFamily:n.css("font-family"),width:e.options.autoWidth?"auto":i,minWidth:i,whiteSpace:e.options.autoWidth?"nowrap":"normal"}).data(m,i);return true},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?d("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})};e._form=n.on("reset",e._resetHandler)}},_popup:function(){var e=this;if(e.options.checkboxes&&e.options.checkAll)e.list.attr("role","application");e.popup=new t.Popup(e.list,r({},e.options.popup,{anchor:e.wrapper,open:e._openHandler.bind(e),close:e._closeHandler.bind(e),animation:e.options.animation,isRtl:p.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_angularElement:function(e,t){if(!e)return;this.angular(t,function(){return{elements:e}})},_allowOpening:function(){return this.options.noDataTemplate||this.treeview.dataSource.flatView().length},_placeholder:function(e){if(this.span)this.span.toggleClass("k-readonly",e).text(e?this.options.placeholder:"");if(this.span.text().trim().length>0)this.span.parent().attr({role:"option","aria-selected":true});else{this.span.parent().removeAttr("role");this.span.parent().removeAttr("aria-selected")}},_currentValue:function(e){var t=this._value(e);if(!t&&t!==0)t=e;return t},_checkValue:function(t){var e="";var i=-1;var n=this.value();var r=this.options.tagMode==="multiple";if(t||t===0){if(t.level)t._level=t.level();e=this._currentValue(t);i=n.indexOf(e)}if(t.checked){var a=d.grep(this._tags,function(e){return e.uid===t._tagUid});if(a.length)return;var o=new u(t.toJSON());t._tagUid=o.uid;this._tags.push(o);if(this._tags.length===1){this.span.hide();if(!r)this._multipleTags.push(o)}if(i===-1){n.push(e);this.setValue(n)}}else{var s=this._tags.find(function(e){return e.uid===t._tagUid});var l=this._tags.indexOf(s);if(l!==-1)this._tags.splice(l,1);else{this._treeViewCheckAllCheck(t);return}if(this._tags.length===0){this.span.show();if(!r)this._multipleTags.splice(0,1)}if(i!==-1){n.splice(i,1);this.setValue(n)}}this._treeViewCheckAllCheck(t);if(!this._preventChangeTrigger&&!this._valueMethodCalled&&!this._noInitialValue)this.trigger(A);if(this.options.autoClose&&this.popup.visible()){this.close();this.wrapper.trigger("focus")}this.popup.position();this._toggleCloseVisibility();this._updateSelectedOptions()},_updateSelectedOptions:function(){if(this.element[0].tagName.toLowerCase()!=="select")return;var e=this._tags;var t="";var i=null;var n=null;if(e.length)for(var r=0;r<e.length;r++){i=e[r];n=this._value(i);t+=this._option(n,this._text(i),true)}this.element.html(t)},_option:function(e,t,i){var n="<option";if(e!==a){e+="";if(e.indexOf('"')!==-1)e=e.replace(F,"&quot;");n+=' value="'+e+'"'}if(i)n+=" selected";n+=">";if(t!==a)n+=o.htmlEncode(t);return n+="</option>"},_selectValue:function(e){var t="";var i="";if(e||e===0){if(e.level)e._level=e.level();i=this._text(e)||e;t=this._currentValue(e)}if(t===null)t="";this.setValue(t);this._textAccessor(i,e);this._accessor(t);if(!this._preventChangeTrigger&&!this._valueMethodCalled)this.trigger(A);this._valueMethodCalled=false;if(this.options.autoClose&&this.popup.visible()){this.close();this.wrapper.trigger("focus")}this.popup.position();this._toggleCloseVisibility()},_clearClick:function(e){e.stopPropagation();this.wrapper.trigger("focus");this._clearTextAndValue()},_clearTextAndValue:function(){this._selection._clearValue();this.setValue([]);this._clearInput();this._clearText();this.popup.position();this._toggleCloseVisibility()},_clearText:function(){if(this.options.placeholder)this._placeholder(true);else if(this.span)this.span.html("")},_inputTemplate:function(){var e=this.options.valueTemplate;if(!e)e=o.template("#:this._text(data)#",{useWithBlock:false}).bind(this);else e=o.template(e);this.valueTemplate=e},_assignInstance:function(e,t){var i=this.options.dataTextField;var n={};if(i){O(n,i.split(_),e);O(n,this.options.dataValueField.split(_),t);n=new u(n)}else n=e;return n},_textAccessor:function(e,t){var i=this.valueTemplate;var n=this.span;if(e===a)return n.text();n.removeClass("k-readonly");if(!t&&(d.isPlainObject(e)||e instanceof u))t=e;if(!t)t=this._assignInstance(e,this._accessor());var r=function(){return{elements:n.get(),data:[{dataItem:t}]}};this.angular("cleanup",r);try{n.html(i(t))}catch(e){if(n)n.html("")}this.angular("compile",r)},_accessors:function(){var e=this.element;var t=this.options;var r=o.getter;var i=e.attr(o.attr("text-field"));var n=e.attr(o.attr("value-field"));var a=function(e){if(Array.isArray(e)){var i=e.length;var n=d.map(e,function(t){return function(e){return e[t]}});return function(e){var t=e._level;if(!t&&t!==0)return;return n[Math.min(t,i-1)](e)}}else return r(e)};if(!t.dataTextField&&i)t.dataTextField=i;if(!t.dataValueField&&n)t.dataValueField=n;t.dataTextField=t.dataTextField||"text";t.dataValueField=t.dataValueField||"value";this._text=a(t.dataTextField);this._value=a(t.dataValueField)},_accessor:function(e,t){return this._accessorInput(e,t)},_accessorInput:function(e){var t=this.element[0];if(e===a)return t.value;else{if(e===null)e="";t.value=e}},_clearInput:function(){var e=this.element[0];e.value=""},_clearButton:function(){var e=this.options.messages.clear;if(!this._clear)this._clear=d('<span unselectable="on" class="k-clear-value" title="'+e+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1});if(this.options.clearButton){this._clear.insertAfter(this.tagList||this.span.parent());this.wrapper.addClass("k-dropdowntree-clearable")}else if(!this.options.clearButton)this._clear.remove()},_toggleCloseVisibility:function(){var e=this.element.attr(k);var t=this.value()&&!this._isMultipleSelection()||this.value().length;var i=this.element.val()&&this.element.val()!==this.options.placeholder;if(!e&&(t||i))this._showClear();else this._hideClear()},_showClear:function(){if(this._clear)this._clear.removeClass(h)},_hideClear:function(){if(this._clear)this._clear.addClass(h)},_openHandler:function(e){this._adjustListWidth();if(this.trigger(D))e.preventDefault();else{this.wrapper.attr("aria-expanded",true);this.tree.attr("aria-hidden",false).attr("role","tree")}},_closeHandler:function(e){if(this.trigger(E))e.preventDefault();else{this.wrapper.attr("aria-expanded",false);this.tree.attr("aria-hidden",true)}},_treeview:function(){var t=this;if(t.options.height)t.tree.css("max-height",t.options.height);t.tree.attr("id",o.guid());t.treeview=new e(t.tree,r({size:t.options.size},t.options.treeview),t);t.dataSource=t.treeview.dataSource;t.treeview.bind("select",function(e){t.trigger("select",e)})},_treeViewDataBound:function(e){if(e.node&&this._prev&&this._prev.length)e.sender.expand(e.node);if(this._filtering){if(!e.node)this._filtering=false;if(!this._isMultipleSelection())this._deselectItem(e);return}if(!this.treeview)this.treeview=e.sender;if(!e.node){var t=e.sender.dataSource.data();this._checkLoadedItems(t);if(this._noInitialValue)this._noInitialValue=false}else{var i=e.sender.dataItem(e.node);if(i){var n=i.children.data();this._checkLoadedItems(n)}}this.trigger("dataBound",e)},_deselectItem:function(e){var t=[];if(!e.node)t=e.sender.dataSource.data();else{var i=e.sender.dataItem(e.node);if(i)t=i.children.data()}for(var n=0;n<t.length;n++)if(t[n].selected&&!this._valueComparer(t[n],this.value()))t[n].set("selected",false)},_checkLoadedItems:function(e){var t=this.value();if(!e)return;for(var i=0;i<e.length;i++)this._selection._checkLoadedItem(e[i],t)},_treeViewCheckAllCheck:function(e){if(this.options.checkAll&&this.checkAll){this._getAllChecked();if(e.checked)this._checkCheckAll();else this._uncheckCheckAll()}},_checkCheckAll:function(){var e=this.checkAll.find(".k-checkbox");if(this._allItemsAreChecked)e.prop("checked",true).prop("indeterminate",false);else e.prop("indeterminate",true)},_uncheckCheckAll:function(){var e=this.checkAll.find(".k-checkbox");if(this._allItemsAreUnchecked)e.prop("checked",false).prop("indeterminate",false);else e.prop("indeterminate",true)},_filterHeader:function(){var e='<div class="k-list-filter">'+'<span class="k-searchbox k-input k-input-md k-rounded-md k-input-solid" type="text" autocomplete="off">'+'<span class="k-input-icon k-icon k-i-search"></span>'+"</span>"+"</div>";if(this.filterInput){this.filterInput.off(c).parent().remove();this.filterInput=null}if(this._isFilterEnabled()){this._disableCheckChildren();this.filterInput=d('<input class="k-input-inner" type="text" />').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"searchbox","aria-haspopup":"listbox","aria-autocomplete":"list"});this.filterInput.on("input",this._filterChange.bind(this));d(e).insertBefore(this.tree).find(".k-searchbox").append(this.filterInput)}},_filterChange:function(){if(this.filterInput)this._search()},_disableCheckChildren:function(){if(this._isMultipleSelection()&&this.options.treeview.checkboxes&&this.options.treeview.checkboxes.checkChildren)this.options.treeview.checkboxes.checkChildren=false},_checkAll:function(){if(this.checkAll){this.checkAll.find(".k-checkbox-label, .k-checkbox").off(c);this.checkAll.remove();this.checkAll=null}if(this._isMultipleSelection()&&this.options.checkAll){var e=s.renderCheckBox(r({},this.options,{label:"Check All",rounded:"medium"}));this.checkAll=d('<div class="k-check-all">'+e+"</div>").insertBefore(this.tree);this.checkAll.find(".k-checkbox-label").html(o.template(this.options.checkAllTemplate)({instance:this}));this.checkAll.find(".k-checkbox").on("change"+c,this._changeCheckAll.bind(this)).on("keydown"+c,this._keydownCheckAll.bind(this));this._disabledCheckedItems=[];this._disabledUnCheckedItems=[];this._getAllChecked();if(!this._allItemsAreUnchecked)this._checkCheckAll()}},_changeCheckAll:function(){var e=this.checkAll.find(".k-checkbox");var t=e.prop("checked");this._updateCheckAll(t)},_updateCheckAll:function(e){var t=this.checkAll.find(".k-checkbox");this._toggleCheckAllItems(e);t.prop("checked",e);if(this._disabledCheckedItems.length&&this._disabledUnCheckedItems.length)t.prop("indeterminate",true);else if(this._disabledCheckedItems.length)t.prop("indeterminate",!e);else if(this._disabledUnCheckedItems.length)t.prop("indeterminate",e);else t.prop("indeterminate",false);this._disabledCheckedItems=[];this._disabledUnCheckedItems=[]},_keydownCheckAll:function(e){var t=e.keyCode;var i=e.altKey;if(i&&t===f.UP||t===f.ESC||t===f.TAB){this.close();this.wrapper.trigger("focus");e.preventDefault();return}if(t===f.UP){if(this.filterInput)this.filterInput.trigger("focus");else this.wrapper.trigger("focus");e.preventDefault()}if(t===f.DOWN){if(this.tree&&this.tree.is(":visible"))this.tree.focus();e.preventDefault()}if(t===f.SPACEBAR&&(g.msie||g.edge)){this._clickCheckAll();e.preventDefault()}},_clickCheckAll:function(){var e=this.checkAll.find(".k-checkbox");var t=e.prop("checked");this._updateCheckAll(!t);e.trigger("focus")},_dfs:function(e,t,i){for(var n=0;n<e.length;n++){if(!this[t](e[n],i))break;this._traverceChildren(e[n],t,i)}},_uncheckItemByUid:function(e){this._dfs(this.dataSource.data(),"_uncheckItemEqualsUid",e)},_uncheckItemEqualsUid:function(e,t){if(e.enabled!==false&&e._tagUid==t){e.set("checked",false);return false}return true},_selectItemByText:function(e){this._dfs(this.dataSource.data(),"_itemEqualsText",e)},_itemEqualsText:function(e,t){if(e.enabled!==false&&this._text(e)===t){this.treeview.select(this.treeview.findByUid(e.uid));this._selectValue(e);return false}return true},_selectItemByValue:function(e){this._dfs(this.dataSource.data(),"_itemEqualsValue",e)},_itemEqualsValue:function(e,t){if(e.enabled!==false&&this._valueComparer(e,t)){this.treeview.select(this.treeview.findByUid(e.uid));return false}return true},_checkItemByValue:function(e){var t=this.treeview.dataItems();for(var i=0;i<e.length;i++)this._dfs(t,"_checkItemEqualsValue",e[i])},_checkItemEqualsValue:function(e,t){if(e.enabled!==false&&this._valueComparer(e,t)){e.set("checked",true);return false}return true},_valueComparer:function(e,t){var i=this._value(e);var n;if(!this._isNullorUndefined(i)){if(this._isNullorUndefined(t))return false;var r=this._value(t);if(r)return i==r;else return i==t}n=this._text(e);if(n)if(this._text(t))return n==this._text(t);else return n==t;return false},_isNullorUndefined:function(e){return e===a||e===null},_getAllChecked:function(){this._allCheckedItems=[];this._allItemsAreChecked=true;this._allItemsAreUnchecked=true;this._dfs(this.dataSource.data(),"_getAllCheckedItems");return this._allCheckedItems},_getAllCheckedItems:function(e){if(this._allItemsAreChecked)this._allItemsAreChecked=e.checked;if(this._allItemsAreUnchecked)this._allItemsAreUnchecked=!e.checked;if(e.checked)this._allCheckedItems.push(e);return true},_traverceChildren:function(e,t,i){var n=e._childrenOptions&&e._childrenOptions.schema?e._childrenOptions.schema.data:null;var r=e[n]||e.items||e.children;if(!r)return;this._dfs(r,t,i)},_toggleCheckAllItems:function(e){this._dfs(this.dataSource.data(),"_checkAllCheckItem",e)},_checkAllCheckItem:function(e,t){if(e.enabled===false)if(e.checked)this._disabledCheckedItems.push(e);else this._disabledUnCheckedItems.push(e);else e.set("checked",t);return true},_isFilterEnabled:function(){var e=this.options.filter;return e&&e!=="none"},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;var a=t.wrapper.add(t.filterInput).off(c);var o=t.wrapper.off(S);if(t._isMultipleSelection())t.tagList.off(I+c);if(!r&&!n){i.prop(b,false).prop(k,false);o.removeClass(w).on(S,t._toggleHover);t._clear.on("click"+c,t._clearClick.bind(t));a.attr(T,a.data(T)).attr(y,false).on("keydown"+c,t._keydown.bind(t)).on("focusin"+c,t._focusinHandler.bind(t)).on("focusout"+c,t._focusoutHandler.bind(t));t.wrapper.on(I+c,t._wrapperClick.bind(t));if(this._isMultipleSelection()){t.tagList.on(I+c,"span.k-chip",function(e){d(e.currentTarget).addClass(C)});t.tagList.on(I+c,".k-i-x-circle",function(e){t._removeTagClick(e)})}}else if(n){a.removeAttr(T);o.addClass(w)}else{a.attr(T,a.data(T));o.removeClass(w);a.on("focusin"+c,t._focusinHandler.bind(t)).on("focusout"+c,t._focusoutHandler.bind(t))}i.attr(b,n).attr(k,r);a.attr(y,n)},_focusinHandler:function(){this.wrapper.addClass(C);this._prevent=false},_focusoutHandler:function(){var e=this;if(this._isMultipleSelection())this.tagList.find(_+C).removeClass(C);if(!e._prevent){this.wrapper.removeClass(C);e._prevent=true;e.element.trigger("blur")}},_toggle:function(e){e=e!==a?e:!this.popup.visible();this[e?D:E]()},_wrapperClick:function(e){e.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_toggleHover:function(e){d(e.currentTarget).toggleClass(x,e.type==="mouseenter")},_focusInput:function(){if(this.filterInput)this.filterInput.trigger("focus");else if(this.checkAll)this.checkAll.find(".k-checkbox").trigger("focus");else if(this.tree.is(":visible")){this.tree[0].focus({preventScroll:true});this._ie11PreventScrollOnFocus()}},_ie11PreventScrollOnFocus:function(){if(g.msie&&g.version==11){var e=this.popup;e._toggleResize(false);setTimeout(function(){e._toggleResize(true)},50)}},_keydown:function(e){var t=e.keyCode;var i=e.altKey;var n;var r;var a,o;var s=this.popup.visible();if(this.filterInput)n=this.filterInput[0]===l();if(this.wrapper)r=this.wrapper[0]===l();if(r){if(t===f.ESC){this._clearTextAndValue();e.preventDefault();return}if(this._isMultipleSelection()){if(t===f.LEFT){this._focusPrevTag();e.preventDefault();return}if(t===f.RIGHT){this._focusNextTag();e.preventDefault();return}if(t===f.HOME){this._focusFirstTag();e.preventDefault();return}if(t===f.END){this._focusLastTag();e.preventDefault();return}if(t===f.DELETE){a=this.tagList.find(_+C).first();if(a.length){o=this._tags[a.index()];this._removeTag(o)}e.preventDefault();return}if(t===f.BACKSPACE){a=this.tagList.find(_+C).first();if(a.length){o=this._tags[a.index()];this._removeTag(o)}else{a=this._focusLastTag();if(a.length){o=this._tags[a.index()];this._removeTag(o)}}e.preventDefault();return}}}if(n){if(t===f.ESC)this._clearFilter();if(t===f.UP&&!i){this.wrapper.trigger("focus");e.preventDefault()}if(g.msie&&g.version<10)if(t===f.BACKSPACE||t===f.DELETE)this._search();if(t===f.TAB){this.close();this.wrapper.trigger("focus");e.preventDefault();return}}if(i&&t===f.UP||t===f.ESC){this.close();this.wrapper.trigger("focus");e.preventDefault();return}if(t===f.ENTER&&this._typingTimeout&&this.filterInput&&s){e.preventDefault();return}if(t===f.SPACEBAR&&!n){this._toggle(!s);e.preventDefault()}if(i&&t===f.DOWN&&!s){this.open();e.preventDefault()}if(t===f.DOWN&&s){if(this.filterInput&&!n)this.filterInput.trigger("focus");else if(this.checkAll&&this.checkAll.is(":visible"))this.checkAll.find("input").trigger("focus");else if(this.tree.is(":visible")){this.tree[0].focus({preventScroll:true});this._ie11PreventScrollOnFocus()}e.preventDefault()}if(t===f.TAB&&s){this.close();this.wrapper.trigger("focus");e.preventDefault()}},_focusPrevTag:function(){var e=this.tagList.find(_+C);if(e.length){var t=this._activeId;e.first().removeClass(C).removeAttr("id").prev(H).addClass(C).attr("id",t);this.wrapper.attr("aria-activedescendant",t)}else this._focusLastTag()},_focusNextTag:function(){var e=this.tagList.find(_+C);if(e.length){var t=this._activeId;e.first().removeClass(C).removeAttr("id").next(H).addClass(C).attr("id",t);this.wrapper.attr("aria-activedescendant",t)}else this._focusFirstTag()},_focusFirstTag:function(){var e=this._activeId;this._clearDisabledTag();var t=this.tagList.children(H).first().addClass(C).attr("id",e);this.wrapper.attr("aria-activedescendant",e);return t},_focusLastTag:function(){var e=this._activeId;this._clearDisabledTag();var t=this.tagList.children(H).last().addClass(C).attr("id",e);this.wrapper.attr("aria-activedescendant",e);return t},_clearDisabledTag:function(){this.tagList.find(_+C).removeClass(C).removeAttr("id")},_search:function(){var t=this;clearTimeout(t._typingTimeout);t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();if(t._prev!==e){t._prev=e;t.search(e)}t._typingTimeout=null},t.options.delay)},_clearFilter:function(){if(this.filterInput.val().length){this.filterInput.val("");this._prev="";this._filtering=true;this.treeview.dataSource.filter({})}},_removeTagClick:function(e){e.stopPropagation();var t=this._tags[d(e.currentTarget.closest(H)).index()];this._removeTag(t)},_removeTag:function(e){if(!e)return;var t=e.uid;this._uncheckItemByUid(t)}});function O(e,t,i){var n=0,r=t.length-1,a;for(;n<r;++n){a=t[n];if(!(a in e))e[a]={};e=e[a]}e[t[r]]=i}t.plugin(P),o.cssProperties.registerPrefix("DropDownTree","k-picker-"),o.cssProperties.registerValues("DropDownTree",[{prop:"rounded",values:o.cssProperties.roundedValues.concat([["full","full"]])}]),o.cssProperties.registerPrefix("MultiSelectDropDownTree","k-input-"),o.cssProperties.registerValues("MultiSelectDropDownTree",[{prop:"rounded",values:o.cssProperties.roundedValues.concat([["full","full"]])}]);var M=o.Class.extend({init:function(e){this._dropdowntree=e},_initWrapper:function(){this._wrapper();this._span()},_preselect:function(e){var t=this._dropdowntree;t._selectValue(e)},_wrapper:function(){var e=this._dropdowntree,t=e.element,i=t[0],n;n=t.parent();if(!n.is("span.k-dropdowntree")){n=t.wrap("<span />").parent();n[0].style.cssText=i.style.cssText;n[0].title=i.title}e._focused=e.wrapper=n.addClass("k-dropdowntree k-picker").addClass(i.className).removeClass("input-validation-error").removeClass("k-invalid").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on"});t.hide().removeAttr("accesskey")},_span:function(){var e=this._dropdowntree,t=e.wrapper,i="span.k-input-value-text",n;n=t.find(i);if(!n[0]){t.append('<span unselectable="on" class="k-input-inner"><span class="k-input-value-text"></span></span>'+s.renderButton('<button unselectable="on" class="k-input-button" aria-label="select" tabindex="-1"></button>',r({},e.options,{icon:"arrow-s",shape:"none",rounded:"none"}))).append(e.element);n=t.find(i)}e.span=n;e._arrow=t.find(".k-input-button");e._arrowIcon=e._arrow.find(".k-icon")},_setValue:function(e){var t=this._dropdowntree;var i;if(e===a||e===null){i=t._values.slice()[0];e=typeof i==="object"?i:t._accessor()||i;return e===a||e===null?"":e}t._valueMethodCalled=true;if(e.length===0){t._clearTextAndValue();t._valueMethodCalled=false;return}t._selectItemByValue(e);t._toggleCloseVisibility()},_clearValue:function(){var e=this._dropdowntree;var t=e.treeview.select();var i=e._values.length;var n=false;if(e.treeview.dataItem(t)){e.treeview.dataItem(t).set("selected",false);n=true}else if(i>0)n=true;if(!e._valueMethodCalled&&n)e.trigger(A)},_checkLoadedItem:function(e,t){var i=this._dropdowntree;if(!i._isNullorUndefined(t)&&t!==""){if(i._valueComparer(e,t)){i._preventChangeTrigger=true;e.set("selected",true);i._preventChangeTrigger=false}else if(e.selected)i.treeview.select(i.treeview.findByUid(e.uid))}else if(!t&&e.selected)i.treeview.select(i.treeview.findByUid(e.uid))}}),R=o.Class.extend({init:function(e){this._dropdowntree=e},_initWrapper:function(){var e=this._dropdowntree;this._tagTemplate();e.element.attr("multiple","multiple").hide();this._wrapper();e._tags=new n([]);e._multipleTags=new n([]);this._tagList();e.span=d('<span unselectable="on" class="k-input-inner"><span class="k-input-value-text"></span></span>').appendTo(e.tagList).find(".k-input-value-text")},_preselect:function(e,t){var i=this._dropdowntree;var n=t||i.options.value;if(!Array.isArray(e)&&!(e instanceof o.data.ObservableArray))e=[e];if(d.isPlainObject(e[0])||e[0]instanceof o.data.ObservableObject||!i.options.dataValueField){i.dataSource.data(e);i.value(n)}},_tagTemplate:function(){var t=this._dropdowntree;var i=t.options;var n=i.valueTemplate;var r=i.tagMode==="multiple";var a=i.messages.singleTag;n=n?o.template(n):t.valueTemplate;t.valueTemplate=function(e){return s.renderChip('<span unselectable="on" role="option"'+'class="'+(e.enabled===false?"k-disabled":"")+'"'+(e.enabled===false?'aria-disabled="true"':"")+">"+"</span>",d.extend({},i,{fillMode:"solid",themeColor:"base",rounded:"medium",attr:{unselectable:"on"},text:r?n(e):'<span unselectable="on" data-bind="text: tags.length"></span>'+'<span unselectable="on">&nbsp;'+a+"</span>",removable:r,removeIcon:"x-circle",removableAttr:{unselectable:"on","aria-hidden":true,"aria-label":t.options.messages.deleteTag,title:t.options.messages.deleteTag}}))}},_wrapper:function(){var e=this._dropdowntree,t=e.element,i=t.parent("span.k-dropdowntree");if(!i[0]){i=t.wrap('<span class="k-dropdowntree k-input" unselectable="on" />').parent();i[0].style.cssText=t[0].style.cssText;i[0].title=t[0].title}e.wrapper=i.addClass(t[0].className).css("display","")},_tagList:function(){var e=this._dropdowntree,t=e.wrapper.children("div.k-input-values");if(!t[0]){var i=e.options.tagMode==="multiple";var n=i?"tags":"multipleTag";t=d(s.renderChipList('<div unselectable="on" class="k-input-values" data-template="tagTemplate" data-bind="source: '+n+'" />',d.extend({},e.options))).appendTo(e.wrapper)}e.tagList=t;e.tagList.attr("id",o.guid()+"_tagList");e.wrapper.attr("aria-controls",e.tagList.attr("id"));var r=o.observable({multipleTag:e._multipleTags,tags:e._tags,tagTemplate:e.valueTemplate});o.bind(e.tagList,r);e.tagList.attr("data-stop",true)},_setValue:function(e){var t=this._dropdowntree;var i=t._values;if(e===a||e===null)return t._values.slice();t.setValue(e);t._valueMethodCalled=true;if(e.length){this._removeValues(i,e);t._checkItemByValue(e)}else t._clearTextAndValue();t._valueMethodCalled=false;t._toggleCloseVisibility()},_removeValues:function(e,t){var i=this._dropdowntree;var n=this._getNewValues(e,t);for(var r=0;r<n.length;r++)for(var a=0;a<i._tags.length;a++)if(i._valueComparer(i._tags[a],n[r]))i._uncheckItemByUid(i._tags[a].uid)},_getNewValues:function(e,t){var i=[];for(var n=0;n<e.length;n++)if(t.indexOf(e[n])===-1)i.push(e[n]);return i},_clearValue:function(){var e=this._dropdowntree;var t=e._tags.slice();for(var i=0;i<t.length;i++){var n=t[i].uid;e._preventChangeTrigger=true;e._uncheckItemByUid(n)}if(t.length){e._preventChangeTrigger=false;if(!e._valueMethodCalled)e.trigger(A)}},_checkLoadedItem:function(e,t){var i=this._dropdowntree;if(i._noInitialValue&&e.checked){i._checkValue(e);return}if((t.length||this._isDataSourceSet)&&(t.indexOf(i._currentValue(e))!==-1||t.indexOf(e))!==-1&&!this._findTag(i._currentValue(e)))if(e.checked)i._checkValue(e);else{i._preventChangeTrigger=true;e.set("checked",true);i._preventChangeTrigger=false}},_findTag:function(t){var i=this._dropdowntree;return i._tags.find(function(e){return i._valueComparer(e,t)})}});return o.ui.DropDownTree.SingleSelection=M,o.ui.DropDownTree.MultipleSelection=R,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.columnsorter.min",["kendo.core.min"],function(){var e={id:"columnsorter",name:"Column Sorter",category:"framework",depends:["core"],advanced:true},c=window.kendo.jQuery,f=void 0,p=window.kendo,t=p.ui,r=t.Widget,h="dir",m="asc",g="single",v="multiple",_="mixed",b="field",k="desc",a=".kendoColumnSorter",o=".k-link",w="aria-sort",i=r.extend({init:function(e,t){var i=this,n;r.fn.init.call(i,e,t);i._refreshHandler=i.refresh.bind(i);i.dataSource=i.options.dataSource.bind("change",i._refreshHandler);i.directions=i.options.initialDirection===m?[m,k]:[k,m];n=i.element.find(o);if(!n[0])n=i.element.wrapInner('<a class="k-link" href="#"/>').find(o);i.link=n;i.element.on("click"+a,i._click.bind(i))},options:{name:"ColumnSorter",mode:g,allowUnsort:true,compare:null,filter:"",initialDirection:m,showIndexes:false},events:["change"],destroy:function(){var e=this;r.fn.destroy.call(e);e.element.off(a);e.dataSource.unbind("change",e._refreshHandler);e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(e){if(e&&(e.action==="itemchange"||e.action==="sync"))return;var t=this,i=t.dataSource.sort()||[],n,r,a,o=t.element,s=o.attr(p.attr(b)),l=(t.dataSource._sortFields||{})[s],d,u;o.removeAttr(p.attr(h));o.removeAttr(w);if(l){n=l.dir;o.attr(p.attr(h),n);u=l.index}if(o.is("th")&&l){r=x(o);if(r){if(o.attr(p.attr("index"))){a=y(o.closest("table"));d=a.index(o)}else d=o.parent().children(":visible").index(o);r.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(d).toggleClass("k-sorted",n!==f)}}o.toggleClass("k-sorted",n!==f);o.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove();if(n===m){c('<span class="k-icon k-i-sort-asc-sm" />').appendTo(t.link);o.attr(w,"ascending")}else if(n===k){c('<span class="k-icon k-i-sort-desc-sm" />').appendTo(t.link);o.attr(w,"descending")}if(t.options.showIndexes&&i.length>1&&u)c('<span class="k-sort-order" />').html(u).appendTo(t.link)},_toggleSortDirection:function(e){var t=this.directions;if(e===t[t.length-1]&&this.options.allowUnsort)return f;return t[0]===e?t[1]:t[0]},_click:function(e){var t=this,i=t.element,n=i.attr(p.attr(b)),r=i.attr(p.attr(h)),a=t.options,o=t.options.compare===null?f:t.options.compare,s=t.dataSource.sort()||[],l=e.ctrlKey||e.metaKey,d,u;e.preventDefault();if(a.filter&&!i.is(a.filter))return;r=this._toggleSortDirection(r);if(this.trigger("change",{sort:{field:n,dir:r,compare:o}}))return;if(a.mode===g||a.mode===_&&!l)s=[{field:n,dir:r,compare:o}];else if(a.mode===v||a.mode===_&&l){for(d=0,u=s.length;d<u;d++)if(s[d].field===n){s.splice(d,1);break}s.push({field:n,dir:r,compare:o})}if(this.dataSource.options.endless)i.closest(".k-grid").getKendoGrid()._resetEndless();this.dataSource.sort(s)}});function y(e){var t=e.find("tr:not(.k-filter-row)");var r=p.attr("index");var i=t.find("th["+r+"]:visible");i.sort(function(e,t){e=c(e);t=c(t);var i=e.attr(r);var n=t.attr(r);if(i===f)i=c(e).index();if(n===f)n=c(t).index();i=parseInt(i,10);n=parseInt(n,10);return i>n?1:i<n?-1:0});return i}function x(e){var t=null;if(e.is("th")){t=e.closest("table");if(t.parent().hasClass("k-grid-header-wrap"))t=t.closest(".k-grid").find(".k-grid-content > table");else if(t.parent().hasClass("k-grid-header-locked"))t=t.closest(".k-grid").find(".k-grid-content-locked > table")}return t}return t.plugin(i),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.toggleinputbase.min",["kendo.core.min"],function(){var e={id:"toggleinputbase",name:"ToggleInputBase",category:"web",description:"The ToggleInputBase component.",depends:["core"]},n=window.kendo.jQuery,r=void 0,a=window.kendo,t=a.ui,o=t.Widget,i="change",s="disabled",l="checked",d=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._wrapper();i._initSettings();i._attachEvents();a.notify(i,a.ui)},events:[i],options:{name:"ToggleInputBase"},NS:".kendoToggleInputBase",RENDER_INPUT:n.noop,check:function(e){var t=this,i=t.element[0];if(e===r)return i.checked;if(i.checked!==e)t.options.checked=i.checked=e;if(e)t.element.attr(l,l);else t.element.prop(l,false)},destroy:function(){o.fn.destroy.call(this);this.wrapper.off(this.NS)},enable:function(e){var t=this.element;if(typeof e=="undefined")e=true;this.options.enabled=e;if(e)t.prop(s,false);else t.attr(s,s)},toggle:function(){var e=this;e.check(!e.element[0].checked)},_attachEvents:function(){this.element.on(i+this.NS,this._change.bind(this))},_change:function(){var e=this.element[0].checked;this.trigger(i,{checked:e})},_initSettings:function(){var e=this,t=e.element[0],i=e.options;if(i.checked===null)i.checked=t.checked;e.check(i.checked);i.enabled=i.enabled&&!e.element.attr(s);e.enable(i.enabled)},_wrapper:function(){var e=this,t=e.options,i=e.RENDER_INPUT;i(e.element,n.extend({},t));e.element.removeClass("input-validation-error");e.wrapper=e.element}});return t.plugin(d),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.checkbox.min",["kendo.toggleinputbase.min","kendo.html.input.min"],function(){var e={id:"checkbox",name:"CheckBox",category:"web",description:"The CheckBox widget is used to display boolean value input.",depends:["toggleinputbase","html.input"]},t=window.kendo.jQuery,i=void 0,n=window.kendo,r=n.ui,a,o=r.ToggleInputBase.extend({options:{name:"CheckBox",checked:null,enabled:true,encoded:true,label:null,rounded:"medium",size:"medium"},RENDER_INPUT:n.html.renderCheckBox,NS:".kendoCheckBox",value:function(e){if(typeof e==="string")e=e==="true";return this.check.apply(this,[e])}});return n.cssProperties.registerPrefix("CheckBox","k-checkbox-"),n.cssProperties.registerValues("CheckBox",[{prop:"rounded",values:n.cssProperties.roundedValues.concat([["full","full"]])}]),r.plugin(o),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.button.min"],function(){var e={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},s=window.kendo.jQuery,l=void 0,d=window.kendo,t=d.ui,u=d.html,a=t.List,c=t.Select,o=d.support,f=d._activeElement,p=d.data.ObservableObject,h=d.keys,m=".kendoDropDownList",i=m+"FocusEvent",g="disabled",v="readonly",_="change",n="k-focus",b="k-disabled",k="aria-disabled",w="aria-readonly",r="click"+m+" touchend"+m,y="mouseenter"+m+" mouseleave"+m,x="tabindex",C="filter",S="accept",T="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",I="open",D="close",E=c.extend({init:function(e,t){var i=this;var n=t&&t.index;var r,a,o;i.ns=m;t=Array.isArray(t)?{dataSource:t}:t;c.fn.init.call(i,e,t);t=i.options;e=i.element.on("focus"+m,i._focusHandler.bind(i));i._focusInputHandler=i._focusInput.bind(i);i.optionLabel=s();i._optionLabel();i._inputTemplate();i._reset();i._prev="";i._word="";i._wrapper();i._tabindex();i.wrapper.data(x,i.wrapper.attr(x));i._span();i._popup();i._mobile();i._dataSource();i._ignoreCase();i._filterHeader();i._aria();i._enable();i._attachFocusHandlers();i._oldIndex=i.selectedIndex=-1;if(n!==l)t.index=n;i._initialIndex=t.index;i.requireValueMapper(i.options);i._initList();i.listView.one("dataBound",i._attachAriaActiveDescendant.bind(i));i._cascade();i.one("set",function(e){if(!e.sender.listView.bound()&&i.hasOptionLabel())i._textAccessor(i._optionLabelText())});if(t.autoBind)i.dataSource.fetch();else if(i.selectedIndex===-1){a=t.text||"";if(!a){r=t.optionLabel;if(r&&t.index===0)a=r;else if(i._isSelect)a=e.children(":selected").text()}i._textAccessor(a)}o=s(i.element).parents("fieldset").is(":disabled");if(o)i.enable(false);i.listView.bind("click",function(e){e.preventDefault()});d.notify(i);i._applyCssClasses()},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,enforceMinLength:false,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:false,popup:null,filterTitle:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close",_,"select","filtering","dataBinding","dataBound","cascade","set","kendoKeydown"],setOptions:function(e){c.fn.setOptions.call(this,e);this.listView.setOptions(this._listOptions(e));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.hasOptionLabel())this.select(0)},destroy:function(){var e=this;c.fn.destroy.call(e);e.wrapper.off(m);e.wrapper.off(i);e.element.off(m);e._arrow.off();e._arrow=null;e._arrowIcon=null;e.optionLabel.off();if(e.filterInput)e.filterInput.off(i)},open:function(){var e=this;var t=e.dataSource.filter()?e.dataSource.filter().filters.length>0:false;var i=this.listView;if(e.popup.visible())return;if(!e.listView.bound()||e._state===S){e._open=true;e._state="rebind";if(e.filterInput){e.filterInput.val("");e._prev=""}if(e.filterInput&&e.options.minLength!==1&&!t){e.refresh();e.popup.one("activate",e._focusInputHandler);e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput()}else e._filterSource()}else if(e._allowOpening()){e._focusFilter=true;e.popup.one("activate",e._focusInputHandler);e.popup._hovered=true;e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput();e._focusItem()}},close:function(){this._attachAriaActiveDescendant();this.popup.close()},_attachAriaActiveDescendant:function(){var e=this.wrapper,t=e.find(".k-input-inner").attr("id");e.attr("aria-describedby",t)},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput;var t=this._prevent;if(!e)return;var i=this.filterInput[0]===f();var n=d.caret(this.filterInput[0])[0];this._prevent=true;e.addClass("k-hidden");e.closest(".k-list-filter").css("width",this.popup.element.css("width"));e.removeClass("k-hidden");if(i){e.trigger("focus");d.caret(e[0],n)}this._prevent=t},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||c.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,true)},current:function(e){var t;if(e===l){t=this.listView.focus();if(!t&&this.selectedIndex===0&&this.hasOptionLabel())return this.optionLabel;return t}this._focus(e)},dataItem:function(e){var t=this;var i=null;if(e===null)return e;if(e===l)i=t.listView.selectedDataItems()[0];else{if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(s(e).data("uid"));if(e.hasClass("k-list-optionlabel"))e=-1;else e=s(t.items()).index(e)}else if(t.hasOptionLabel())e-=1;i=t.dataSource.flatView()[e]}if(!i)i=t._optionLabelDataItem();return i},refresh:function(){this.listView.refresh()},text:function(e){var t=this;var i;var n=t.options.ignoreCase;e=e===null?"":e;if(e!==l){if(typeof e!=="string"){t._textAccessor(e);return}i=n?e.toLowerCase():e;t._select(function(e){e=t._text(e);if(n)e=(e+"").toLowerCase();return e===i}).done(function(){t._textAccessor(t.dataItem()||e)})}else return t._textAccessor()},_clearFilter:function(){s(this.filterInput).val("");c.fn._clearFilter.call(this)},value:function(e){var t=this;var i=t.listView;var n=t.dataSource;var r=function(){t.value(e)};if(e===l){e=t._accessor()||t.listView.value()[0];return e===l||e===null?"":e}t.requireValueMapper(t.options,e);if(e||!t.hasOptionLabel())t._initialIndex=null;this.trigger("set",{value:e});if(t._request&&t.options.cascadeFrom&&t.listView.bound()){if(t._valueSetter)n.unbind(_,t._valueSetter);t._valueSetter=r.bind(t);n.one(_,t._valueSetter);return}if(t._isFilterEnabled()&&i.bound()&&i.isFiltered())t._clearFilter();else t._fetchData();i.value(e).done(function(){t._old=t._valueBeforeCascade=t._accessor();t._oldIndex=t.selectedIndex})},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this;var t=e.options;var i=t.optionLabel;var n=t.optionLabelTemplate;if(!i){e.optionLabel.off().remove();e.optionLabel=s();return}if(!n){n="#:";if(typeof i==="string")n+="data";else n+=d.expr(t.dataTextField,"data");n+="#"}if(typeof n!=="function")n=d.template(n);e.optionLabelTemplate=n;if(!e.hasOptionLabel())e.optionLabel=s('<div role="option" class="k-list-optionlabel"></div>').prependTo(e.list);e.optionLabel.html(n(i)).off().on(r,e._click.bind(e)).on(y,e._toggleHover);e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var e=this.options.optionLabel;return typeof e==="string"?e:this._text(e)},_optionLabelDataItem:function(){var e=this;var t=e.options.optionLabel;if(e.hasOptionLabel())return s.isPlainObject(t)?new p(t):e._assignInstance(e._optionLabelText(),"");return l},_buildOptions:function(e){var t=this;if(!t._isSelect)return;var i=t.listView.value()[0];var n=t._optionLabelDataItem();var r=n&&t._value(n);if(i===l||i===null)i="";if(n){if(r===l||r===null)r="";n='<option value="'+r+'">'+t._text(n)+"</option>"}t._options(e,n,i);if(i!==a.unifyType(t._accessor(),typeof i)){t._customOption=null;t._custom(i)}},_listBound:function(){var e=this;var t=e._initialIndex;var i=e._state===C;var n=e.dataSource.flatView();var r;e._presetValue=false;e._renderFooter();e._renderNoData();e._toggleNoData(!n.length);e._resizePopup(true);e.popup.position();e._buildOptions(n);if(!i){if(e._open)e.toggle(e._allowOpening());e._open=false;if(!e._fetch)if(n.length){if(!e.listView.value().length&&t>-1&&t!==null)e.select(t);e._initialIndex=null;r=e.listView.selectedDataItems()[0];if(r&&e.text()!==e._text(r))e._selectValue(r)}else if(e._textAccessor()!==e._optionLabelText()){e.listView.value("");e._selectValue(null);e._oldIndex=e.selectedIndex}}e._hideBusy();e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||this._old&&this._oldIndex===-1)this._oldIndex=this.selectedIndex},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;var t=e.wrapper;t.on("focusin"+i,e._focusinHandler.bind(e)).on("focusout"+i,e._focusoutHandler.bind(e));if(e.filterInput)e.filterInput.on("focusin"+i,e._focusinHandler.bind(e)).on("focusout"+i,e._focusoutHandler.bind(e))},_focusHandler:function(){this.wrapper.trigger("focus")},_focusinHandler:function(){this.wrapper.addClass(n);this._prevent=false},_focusoutHandler:function(){var e=this;var t=window.self!==window.top;if(!e._prevent){clearTimeout(e._typingTimeout);if(o.mobileOS.ios&&t)e._change();else e._blur();e.wrapper.removeClass(n);e._prevent=true;e._open=false;e.element.trigger("blur")}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;var a=t.wrapper.add(t.filterInput).off(m);var o=t.wrapper.off(y);if(!r&&!n){i.prop(g,false).prop(v,false);o.removeClass(b).on(y,t._toggleHover);a.attr(x,a.data(x)).attr(k,false).attr(w,false).on("keydown"+m,t,t._keydown.bind(t)).on(d.support.mousedown+m,t._wrapperMousedown.bind(t)).on("paste"+m,t._filterPaste.bind(t));t.wrapper.on("click"+m,t._wrapperClick.bind(t));if(!t.filterInput)a.on("keypress"+m,t._keypress.bind(t));else a.on("input"+m,t._search.bind(t))}else if(n){a.removeAttr(x);o.addClass(b)}else o.removeClass(b);i.attr(g,n).attr(v,r);a.attr(k,n).attr(w,r)},_keydown:function(e){var t=this;var i=e.keyCode;var n=e.altKey;var r;var a;var o=t.popup.visible();if(t.filterInput)r=t.filterInput[0]===f();if(i===h.LEFT){i=h.UP;a=true}else if(i===h.RIGHT){i=h.DOWN;a=true}if(a&&r)return;e.keyCode=i;if(n&&i===h.UP||i===h.ESC)t._focusElement(t.wrapper);if(t._state===C&&i===h.ESC){t._clearFilter();t._open=false;t._state=S}if(i===h.ENTER&&t._typingTimeout&&t.filterInput&&o){e.preventDefault();return}if(i===h.SPACEBAR&&!r){t.toggle(!o);e.preventDefault()}a=t._move(e);if(a)return;if(!o||!t.filterInput){var s=t._focus();if(i===h.HOME){a=true;t._firstItem()}else if(i===h.END){a=true;t._lastItem()}if(a){if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()})){t._focus(s);return}t._select(t._focus(),true).done(function(){if(!o)t._blur()});e.preventDefault()}}if(!n&&!a&&t.filterInput)t._search()},_matchText:function(e,t){var i=this.options.ignoreCase;if(e===l||e===null)return false;e=e+"";if(i)e=e.toLowerCase();return e.indexOf(t)===0},_shuffleData:function(e,t){var i=this._optionLabelDataItem();if(i)e=[i].concat(e);return e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t=this;var e=t.dataSource.flatView();var i=e.length+(t.hasOptionLabel()?1:0);var n=H(t._word,t._last);var r=t.selectedIndex;var a;var o;if(r===-1)r=0;else{r+=n?1:0;r=F(r,i)}e=e.toJSON?e.toJSON():e.slice();e=t._shuffleData(e,r);for(var s=0;s<i;s++){o=t._text(e[s]);if(n&&t._matchText(o,t._last))break;else if(t._matchText(o,t._word))break}if(s!==i){a=t._focus();t._select(F(r+s,i)).done(function(){var e=function(){if(!t.popup.visible())t._change()};if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()}))t._select(a).done(e);else e()})}},_keypress:function(e){var t=this;if(e.which===0||e.keyCode===d.keys.ENTER)return;var i=String.fromCharCode(e.charCode||e.keyCode);if(t.options.ignoreCase)i=i.toLowerCase();if(i===" ")e.preventDefault();t._word+=i;t._last=i;t._search()},_popupOpen:function(){var e=this.popup;e.wrapper=d.wrap(e.element);if(e.element.closest(".km-root")[0]){e.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){c.fn._popup.call(this);this.popup.one("open",this._popupOpen.bind(this))},_getElementDataItem:function(e){if(!e||!e[0])return null;if(e[0]===this.optionLabel[0])return this._optionLabelDataItem();return this.listView.dataItemByIndex(this.listView.getElementIndex(e))},_click:function(e){var t=this;var i=e.item||s(e.currentTarget);e.preventDefault();if(t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})){t.close();return}t._userTriggered=true;t._select(i).done(function(){t._blur();t._focusElement(t.wrapper)})},_focusElement:function(e){var t=f();var i=this.wrapper;var n=this.filterInput;var r=e===n?i:n;var a=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);if(n&&n[0]===e[0]&&a)return;if(n&&(r[0]===t||this._focusFilter)){this._focusFilter=false;this._prevent=true;this._focused=e.trigger("focus")}},_searchByWord:function(t){if(!t)return;var i=this;var e=i.options.ignoreCase;if(e)t=t.toLowerCase();i._select(function(e){return i._matchText(i._text(e),t)})},_inputValue:function(){return this.text()},_search:function(){var t=this;var e=t.dataSource;clearTimeout(t._typingTimeout);if(t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();if(t._prev!==e){t._prev=e;t.search(e);t._resizeFilterInput()}t._typingTimeout=null},t.options.delay);else{t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay);if(!t.listView.bound()){e.fetch().done(function(){t._selectNext()});return}t._selectNext()}},_get:function(e){var t,i,n;var r=typeof e==="function";var a=!r?s(e):s();if(this.hasOptionLabel())if(typeof e==="number"){if(e>-1)e-=1}else if(a.hasClass("k-list-optionlabel"))e=-1;if(r){t=this.dataSource.flatView();for(n=0;n<t.length;n++)if(e(t[n])){e=n;i=true;break}if(!i)e=-1}return e},_firstItem:function(){if(this.hasOptionLabel())this._focus(this.optionLabel);else this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel();this.listView.focusLast()},_nextItem:function(){var e;if(this.optionLabel.hasClass("k-focus")){this._resetOptionLabel();this.listView.focusFirst();e=1}else e=this.listView.focusNext();return e},_prevItem:function(){var e;if(this.optionLabel.hasClass("k-focus"))return;e=this.listView.focusPrev();if(!this.listView.focus()&&!this.options.virtual)this._focus(this.optionLabel);return e},_focusItem:function(){var e=this.options;var t=this.listView;var i=t.focus();var n=t.select();n=n[n.length-1];if(n===l&&e.highlightFirst&&!i)n=0;if(n!==l)t.focus(n);else if(e.optionLabel&&(!e.virtual||e.virtual.mapValueTo!=="dataItem")){this._focus(this.optionLabel);this._select(this.optionLabel);this.listView.content.scrollTop(0)}else t.scrollToIndex(0)},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-focus"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView;var i=this.optionLabel;if(e===l){e=t.focus();if(!e&&i.hasClass("k-focus"))e=i;return e}this._resetOptionLabel();e=this._get(e);t.focus(e);if(e===-1){i.addClass("k-focus").attr("id",t._optionID);if(this.filterInput)this.filterInput.removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID)}},_select:function(e,t){var i=this;e=i._get(e);return i.listView.select(e).done(function(){if(!t&&i._state===C)i._state=S;if(e===-1)i._selectValue(null)})},_selectValue:function(e){var t=this;var i=t.options.optionLabel;var n=t.listView.select();var r="";var a="";n=n[n.length-1];if(n===l)n=-1;this._resetOptionLabel(" k-selected");if(e||e===0){a=e;r=t._dataValue(e);if(i)n+=1}else if(i){t._focus(t.optionLabel.addClass("k-selected"));a=t._optionLabelText();if(typeof i==="string")r="";else r=t._value(i);n=0}t.selectedIndex=n;if(r===null)r="";t._textAccessor(a);t._accessor(r,n);t._triggerCascade()},_mobile:function(){var e=this,t=e.popup,i=o.mobileOS,n=t.element.parents(".km-root").eq(0);if(n.length&&i)t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects},_filterHeader:function(){var e='<div class="k-list-filter">'+'<span class="k-searchbox k-input k-input-md k-rounded-md k-input-solid" type="text" autocomplete="off">'+'<span class="k-input-icon k-icon k-i-search"></span>'+"</span>"+"</div>";if(this.filterInput){this.filterInput.off(m).closest(".k-list-filter").remove();this.filterInput=null}if(this._isFilterEnabled()){this.filterInput=s('<input class="k-input-inner" type="text" />').attr({placeholder:this.element.attr("placeholder"),title:this.options.filterTitle||this.element.attr("title"),role:"searchbox","aria-label":this.options.filterTitle,"aria-haspopup":"listbox","aria-autocomplete":"list"});this.list.parent().prepend(s(e)).find(".k-searchbox").append(this.filterInput)}},_span:function(){var e=this,t=e.wrapper,i="span.k-input-value-text",n=d.guid(),r=e.options,a,o;a=t.find(i);if(!a[0]){o=u.renderButton('<span role="button" class="k-input-button" aria-label="select"></span>',{icon:"arrow-s",size:r.size,fillMode:r.fillMode,shape:"none",rounded:"none"});t.append('<span id="'+n+'" unselectable="on" class="k-input-inner">'+'<span class="k-input-value-text"></span>'+"</span>").append(o).append(e.element);a=t.find(i)}e.span=a;e._arrow=t.find(".k-input-button");e._arrowIcon=e._arrow.find(".k-icon")},_wrapper:function(){var e=this,t=e.element,i=t[0],n;n=t.parent();if(!n.is("span.k-picker")){n=t.wrap("<span />").parent();n[0].style.cssText=i.style.cssText;n[0].title=i.title}e._focused=e.wrapper=n.addClass("k-picker k-dropdownlist").addClass(i.className).removeClass("input-validation-error").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"combobox","aria-expanded":false});t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_openHandler:function(e){this._adjustListWidth();if(this.trigger(I))e.preventDefault();else{this.wrapper.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(e){if(this.trigger(D))e.preventDefault();else{this.wrapper.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_inputTemplate:function(){var e=this,t=e.options.valueTemplate;if(!t)t=d.template("#:this._text(data)#",{useWithBlock:false}).bind(e);else t=d.template(t);e.valueTemplate=t;if(e.hasOptionLabel()&&!e.options.optionLabelTemplate)try{e.valueTemplate(e._optionLabelDataItem())}catch(e){throw new Error(T)}},_textAccessor:function(e){var t=null;var i=this.valueTemplate;var n=this._optionLabelText();var r=this.span;if(e===l)return r.text();if(s.isPlainObject(e)||e instanceof p)t=e;else if(n&&n===e)t=this.options.optionLabel;if(!t)t=this._assignInstance(e,this._accessor());if(this.hasOptionLabel())if(t===n||this._text(t)===n){i=this.optionLabelTemplate;if(typeof this.options.optionLabel==="string"&&!this.options.optionLabelTemplate)t=n}var a=function(){return{elements:r.get(),data:[{dataItem:t}]}};this.angular("cleanup",a);try{r.html(i(t))}catch(e){r.html("")}this.angular("compile",a)},_preselect:function(e,t){if(!e&&!t)t=this._optionLabelText();this._accessor(e);this._textAccessor(t);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(e);this._initialIndex=null;this._presetValue=true},_assignInstance:function(e,t){var i=this.options.dataTextField;var n={};if(i){A(n,i.split("."),e);A(n,this.options.dataValueField.split("."),t);n=new p(n)}else n=e;return n}});function A(e,t,i){var n=0,r=t.length-1,a;for(;n<r;++n){a=t[n];if(!(a in e))e[a]={};e=e[a]}e[t[r]]=i}function F(e,t){if(e>=t)e-=t;return e}function H(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return false;return true}return t.plugin(E),d.cssProperties.registerPrefix("DropDownList","k-picker-"),d.cssProperties.registerValues("DropDownList",[{prop:"rounded",values:d.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.floatinglabel.min",["kendo.core.min"],function(){var e={id:"floatinglabel",name:"FloatingLabel",category:"framework",depends:["core"],hidden:true},n=window.kendo.jQuery,r=void 0,a=window.kendo,o=a.ui.Widget,t=a.ui,s=".kendoFloatingLabel",l="k-floating-label-container",i="k-state-empty",d="k-focus",u="k-disabled",c="k-no-click",f="k-readonly",p=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);t=n.extend(true,{},t);i.refresh();i._editable({readonly:i.options.widget.options.readonly!==r?i.options.widget.options.readonly:false,disable:i.options.widget.options.enable!==r?!i.options.widget.options.enable:false});i.element.addClass(l);a.notify(i)},options:{name:"FloatingLabel",widget:null,useReadOnlyClass:false},readonly:function(e){this._editable({readonly:e===r?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===r?true:e)})},refresh:function(){var e=this;var t=e.element;t.removeClass(i).removeClass(d);if(!e.options.widget.element.val())t.addClass(i);if(document.activeElement===e.options.widget.element[0])t.addClass(d)},destroy:function(){var e=this;e.element.off(s);o.fn.destroy.call(e)},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;i.off(s);if(!r&&!n){i.removeClass(u).removeClass(t.options.useReadOnlyClass?f:c);i.on("focusin"+s,t.refresh.bind(t));i.on("focusout"+s,t.refresh.bind(t))}else i.toggleClass(u,n).toggleClass(t.options.useReadOnlyClass?f:c,r)}});return t.plugin(p),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.numerictextbox.min",["kendo.core.min","kendo.userevents.min","kendo.floatinglabel.min","kendo.html.button.min"],function(){var z={id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents","floatinglabel","html.button"]},u=window.kendo.jQuery,c=void 0,f=window.kendo,p=f.caret,n=f.keys,a=f.html,e=f.ui,h=e.Widget,o=f._activeElement,m=f._extractFormat,i=f.parseFloat,r=f.support.placeholder,t=f.getCulture,s="change",l="disabled",d="readonly",g="k-input-inner",v="spin",_=".kendoNumericTextBox",b="touchend",R,k="mouseenter"+_+" "+("mouseleave"+_),w="k-focus",y="k-hover",x="focus",C=".",S="symbol",T="k-icon",I="k-label k-input-label",D="k-selected",E="k-disabled",A="k-invalid",F="aria-disabled",N=/^(-)?(\d*)$/,H=null,P=u.isPlainObject,O=u.extend,L=h.extend({init:function(e,t){var i=this,n=t&&t.step!==c,r,a,o,s,l;var d;h.fn.init.call(i,e,t);t=i.options;e=i.element.on("focusout"+_,i._focusout.bind(i)).attr("role","spinbutton");t.placeholder=t.placeholder||e.attr("placeholder");r=i.min(e.attr("min"));a=i.max(e.attr("max"));o=i._parse(e.attr("step"));if(t.min===H&&r!==H)t.min=r;if(t.max===H&&a!==H)t.max=a;if(!n&&o!==H)t.step=o;i._initialOptions=O({},t);d=e.attr("type");i._reset();i._wrapper();i._arrows();i._validation();i._input();if(!f.support.mobileOS)i._text.on(x+_,i._click.bind(i));else i._text.on(b+_+" "+x+_,function(){if(f.support.browser.edge)i._text.one(x+_,function(){i._focusin()});else i._focusin();i.selectValue()});e.attr("aria-valuemin",t.min!==H?t.min*t.factor:t.min).attr("aria-valuemax",t.max!==H?t.max*t.factor:t.max);t.format=m(t.format);s=t.value;if(s==H)if(d=="number")s=parseFloat(e.val());else s=e.val();i.value(s);l=!t.enable||e.is("[disabled]")||u(i.element).parents("fieldset").is(":disabled");if(l)i.enable(false);else i.readonly(e.is("[readonly]"));i.angular("compile",function(){return{elements:i._text.get()}});i._label();i._ariaLabel(i._text);i._applyCssClasses();f.notify(i)},options:{name:"NumericTextBox",decimals:H,enable:true,restrictDecimals:false,min:H,max:H,value:H,step:1,round:true,culture:"",format:"n",spinners:true,placeholder:"",selectOnFocus:false,factor:1,upArrowText:"Increase value",downArrowText:"Decrease value",label:null,size:"medium",fillMode:"solid",rounded:"medium"},events:[s,v],_editable:function(e){var t=this,i=t.element,n=e.disable,r=e.readonly,a=t._text.add(i),o=t.wrapper.off(k);t._toggleText(true);t._upArrowEventHandler.unbind("press");t._downArrowEventHandler.unbind("press");i.off("keydown"+_).off("keyup"+_).off("input"+_).off("paste"+_);if(t._inputLabel)t._inputLabel.off(_);if(!r&&!n){o.removeClass(E).on(k,t._toggleHover);a.prop(l,false).prop(d,false).attr(F,false);t._upArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(1);t._upArrow.addClass(D)});t._downArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(-1);t._downArrow.addClass(D)});t.element.on("keydown"+_,t._keydown.bind(t)).on("keyup"+_,t._keyup.bind(t)).on("paste"+_,t._paste.bind(t)).on("input"+_,t._inputHandler.bind(t));if(t._inputLabel)t._inputLabel.on("click"+_,t.focus.bind(t))}else{o.addClass(n?E:"").removeClass(n?"":E);a.attr(l,n).attr(d,r).attr(F,n)}},readonly:function(e){var t=this;this._editable({readonly:e===c?true:e,disable:false});if(t.floatingLabel)t.floatingLabel.readonly(e===c?true:e)},enable:function(e){var t=this;this._editable({readonly:false,disable:!(e=e===c?true:e)});if(t.floatingLabel)t.floatingLabel.enable(e=e===c?true:e)},setOptions:function(e){var t=this;h.fn.setOptions.call(t,e);t.wrapper.toggleClass("k-expand-padding",!t.options.spinners);t._text.prop("placeholder",t.options.placeholder);t._placeholder(t.options.placeholder);t.element.attr({"aria-valuemin":t.options.min!==H?t.options.min*t.options.factor:t.options.min,"aria-valuemax":t.options.max!==H?t.options.max*t.options.factor:t.options.max});t.options.format=m(t.options.format);t._upArrowEventHandler.destroy();t._downArrowEventHandler.destroy();t._arrowsWrap.remove();t._arrows();t._applyCssClasses();if(e.value!==c)t.value(e.value)},destroy:function(){var e=this;if(e._inputLabel){e._inputLabel.off(_);if(e.floatingLabel)e.floatingLabel.destroy()}e.element.add(e._text).add(e._upArrow).add(e._downArrow).off(_);e._upArrowEventHandler.destroy();e._downArrowEventHandler.destroy();if(e._form)e._form.off("reset",e._resetHandler);h.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var t=this,i;if(e===c)return t._value;e=t._parse(e);i=t._adjust(e);if(e!==i)return;t._update(e);t._old=t._value},focus:function(){this._focusin()},_adjust:function(e){var t=this,i=t.options,n=i.min,r=i.max;if(e===H)return e;if(n!==H&&e<n)e=n;else if(r!==H&&e>r)e=r;return e},_arrows:function(){var e=this,t,i=function(){clearTimeout(e._spinning);t.removeClass(D)},n=e.options,r=n.spinners,a=e.element;t=a.siblings(".k-icon-button");if(!t[0]){t=u(M("increase",n.upArrowText,n)+M("decrease",n.downArrowText,n)).appendTo(e.wrapper);e._arrowsWrap=t.wrapAll('<span class="k-input-spinner k-spin-button"/>').parent()}if(!r){t.parent().toggle(r);e.wrapper.addClass("k-expand-padding")}e._upArrow=t.eq(0);e._upArrowEventHandler=new f.UserEvents(e._upArrow,{release:i});e._downArrow=t.eq(1);e._downArrowEventHandler=new f.UserEvents(e._downArrow,{release:i})},_validation:function(){var e=this;var t=e.element;e._validationIcon=u("<span class='k-input-validation-icon "+T+" k-i-warning k-hidden'></span>").insertAfter(t)},_blur:function(){var e=this;e._toggleText(true);e._change(e.element.val())},_click:function(d){var u=this;clearTimeout(u._focusing);u._focusing=setTimeout(function(){var e=d.target,t=p(e)[0],i=e.value.substring(0,t),n=u._format(u.options.format),r=n[","],a,o,s,l=0;if(r){o=new RegExp("\\"+r,"g");s=new RegExp("(-)?("+n[S]+")?([\\d\\"+r+"]+)(\\"+n[C]+")?(\\d+)?")}if(s)a=s.exec(i);if(a){l=a[0].replace(o,"").length;if(i.indexOf("(")!=-1&&u._value<0)l++}u._focusin();p(u.element[0],l);u.selectValue()})},selectValue:function(){if(this.options.selectOnFocus)this.element[0].select()},_getFactorValue:function(e){var t=this,i=t.options.factor;if(i&&i!==1){e=f.parseFloat(e);if(e!==null)e=e/i}return e},_change:function(e){var t=this;e=t._getFactorValue(e);t._update(e);e=t._value;if(t._old!=e){t._old=e;if(!t._typing)t.element.trigger(s);t.trigger(s)}t._typing=false},_culture:function(e){return e||t(this.options.culture)},_focusin:function(){var e=this;e.wrapper.addClass(w);e._toggleText(false);e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing);e.wrapper.removeClass(w).removeClass(y);e._blur();e._removeInvalidState()},_format:function(e,t){var i=this._culture(t).numberFormat;e=e.toLowerCase();if(e.indexOf("c")>-1)i=i.currency;else if(e.indexOf("p")>-1)i=i.percent;return i},_input:function(){var e=this,t=e.options,i=e.element.addClass(g).show()[0],n=i.accessKey,r=e.wrapper,a=r.find(C+g),o;o=a.first();if(o.length<2)o=u('<input type="text"/>').attr(f.attr("validate"),false).insertBefore(i);try{i.setAttribute("type","text")}catch(e){i.type="text"}o[0].title=i.title;o[0].tabIndex=i.tabIndex;o[0].style.cssText=i.style.cssText;o.prop("placeholder",t.placeholder);if(n){o.attr("accesskey",n);i.accessKey=""}e._text=o.addClass(i.className).attr({role:"spinbutton","aria-valuemin":t.min!==H?t.min*t.factor:t.min,"aria-valuemax":t.max!==H?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=this,i=e.keyCode;if(i===n.NUMPAD_DOT)t._numPadDot=true;if(i==n.DOWN){t._step(-1);return}else if(i==n.UP){t._step(1);return}else if(i==n.ENTER){t._change(t.element.val());return}if(i!=n.TAB)t._typing=true;t._cachedCaret=p(t.element)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var e=this.element;var t=e.val();var i=this.options.min;var n=this._format(this.options.format);var r=n[C];var a=i!==null&&i>=0&&t.charAt(0)==="-";if(this._numPadDot&&r!==C){t=t.replace(C,r);this.element.val(t);this._numPadDot=false}if(this._isPasted&&this._parse(t))t=this._parse(t).toString().replace(C,n[C]);if(this._numericRegex(n).test(t)&&!a)this._oldText=t;else{this._blinkInvalidState();this.element.val(this._oldText);if(this._cachedCaret){p(e,this._cachedCaret[0]);this._cachedCaret=null}}this._isPasted=false},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(e._removeInvalidState.bind(e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(A);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(A);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_numericRegex:function(e){var t=this;var i=e[C];var n=t.options.decimals;var r="*";if(i===C)i="\\"+i;if(n===H)n=e.decimals;if(n===0&&t.options.restrictDecimals)return N;if(t.options.restrictDecimals)r="{0,"+n+"}";if(t._separator!==i){t._separator=i;t._floatRegExp=new RegExp("^(-)?(((\\d+("+i+"\\d"+r+")?)|("+i+"\\d"+r+")))?$")}return t._floatRegExp},_paste:function(e){var t=this;var i=e.target;var n=i.value;var r=t._format(t.options.format);t._isPasted=true;setTimeout(function(){var e=t._parse(i.value);if(e===H)t._update(n);else{i.value=e.toString().replace(C,r[C]);if(t._adjust(e)!==e||!t._numericRegex(r).test(i.value)){n=t._getFactorValue(i.value);t._update(n)}}})},_option:function(e,t){var i=this,n=i.element,r=i.options;if(t===c)return r[e];t=i._parse(t);if(!t&&e==="step")return;r[e]=t;n.add(i._text).attr("aria-value"+e,t);n.attr(e,t)},_spin:function(e,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(e,50)},t);i._step(e)},_step:function(e){var t=this,i=t.element,n=t._value,r=t._parse(i.val())||0,a=t.options.decimals||2;if(o()!=i[0])t._focusin();if(t.options.factor&&r)r=r/t.options.factor;r=+(r+t.options.step*e).toFixed(a);r=t._adjust(r);t._update(r);t._typing=false;if(n!==r)t.trigger(v)},_toggleHover:function(e){u(e.currentTarget).toggleClass(y,e.type==="mouseenter")},_toggleText:function(e){var t=this;t._text.toggle(e);if(e)t._text.removeAttr("aria-hidden");else t._text.attr("aria-hidden","true");t.element.toggle(!e)},_parse:function(e,t){return i(e,this._culture(t),this.options.format)},_round:function(e,t){var i=this.options.round?f._round:B;return i(e,t)},_update:function(e){var t=this,i=t.options,n=i.factor,r=i.format,a=i.decimals,o=t._culture(),s=t._format(r,o),l,d;if(a===H)a=s.decimals;e=t._parse(e,o);d=e!==H;if(d)e=parseFloat(t._round(e,a),10);t._value=e=t._adjust(e);t._placeholder(f.toString(e,r,o));if(d){if(n)e=parseFloat(t._round(e*n,a),10);e=e.toString();if(e.indexOf("e")!==-1)e=t._round(+e,a);l=e;e=e.replace(C,s[C])}else{e=null;l=null}t.element.val(e);t._oldText=e;t.element.add(t._text).attr("aria-valuenow",l)},_placeholder:function(e){var t=this._text;t.val(e);if(!r&&!e)t.val(this.options.placeholder);t.attr("title",this.element.attr("title")||t.val())},_label:function(){var e=this;var t=e.element;var i=e.options;var n=t.attr("id");var r;var a;if(i.label!==null){r=P(i.label)?i.label.floating:false;a=P(i.label)?i.label.content:i.label;if(r){e._floatingLabelContainer=e.wrapper.wrap("<span></span>").parent();e.floatingLabel=new f.ui.FloatingLabel(e._floatingLabelContainer,{widget:e})}if(f.isFunction(a))a=a.call(e);if(!a)a="";if(!n){n=i.name+"_"+f.guid();t.attr("id",n)}e._inputLabel=u("<label class='"+I+"' for='"+n+"'>"+a+"</label>'").insertBefore(e.wrapper);if(e.element.attr("disabled")===c&&e.element.attr("readonly")===c)e._inputLabel.on("click"+_,e.focus.bind(e))}},_wrapper:function(){var e=this,t=e.element,i=t[0],n;n=t.parents(".k-numerictextbox");if(!n.is("span.k-numerictextbox"))n=t.hide().wrap("<span/>").parent();n[0].style.cssText=i.style.cssText;i.style.width="";e.wrapper=n.addClass("k-numerictextbox k-input").addClass(i.className).removeClass("input-validation-error").css("display","")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?u("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(t[0].value);e.max(e._initialOptions.max);e.min(e._initialOptions.min)})};e._form=n.on("reset",e._resetHandler)}}});function M(e,t,i){var n=e==="increase"?"arrow-n":"arrow-s";var r=e==="increase"?"increase":"decrease";return a.renderButton('<button role="button" tabindex="-1" unselectable="on" class="k-spinner-'+r+'" aria-label="'+t+'" title="'+t+'"></button>',O({},i,{icon:n,shape:null,rounded:null}))}function B(e,t){var i=parseFloat(e,10).toString().split(C);if(i[1])i[1]=i[1].substring(0,t);return i.join(C)}return f.cssProperties.registerPrefix("NumericTextBox","k-input-"),f.cssProperties.registerValues("NumericTextBox",[{prop:"rounded",values:f.cssProperties.roundedValues.concat([["full","full"]])}]),e.plugin(L),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.validator.min",["kendo.core.min"],function(){var e={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]},w=window.kendo.jQuery,R=void 0,y=window.kendo,a=y.ui.Widget,o=".kendoValidator",x="k-invalid-msg",s=new RegExp(x,"i"),C="k-invalid",S="k-valid",l="k-validation-summary",T="k-text-error",d="k-messagebox k-messagebox-error",I=".k-input-inner",D=".k-input",E="aria-invalid",n="aria-describedby",t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,i=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",f="[type=number],[type=range]",r="blur",A="name",p="form",h="novalidate",m="validate",g="change",F="validateInput",v=function(e,t){if(typeof t==="string")t=new RegExp("^(?:"+t+")$");return t.test(e)},_=function(e,t,i){var n=e.val();if(e.filter(t).length&&n!=="")return v(n,i);return true},b=function(e,t){if(e.length)return e[0].attributes[t]!=null;return false};if(!y.ui.validator)y.ui.validator={rules:{},messages:{},allowSubmit:w.noop,validateOnInit:w.noop};function k(e){var t=y.ui.validator.ruleResolvers||{},i={},n;for(n in t)w.extend(true,i,t[n].resolve(e));return i}function H(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function P(e){e=(e+"").split(".");if(e.length>1)return e[1].length;return 0}function O(e){if(w.parseHTML)return w(w.parseHTML(e));return w(e)}function M(e,t){var i=w(),n,r;for(var a=0,o=e.length;a<o;a++){n=e[a];if(s.test(n.className)){r=n.getAttribute(y.attr("for"));if(r===t)i=i.add(n)}}return i}function z(e,t){if(!e)return false;if(typeof e.nodeName!=="string"||e.nodeName!=="LABEL")return false;if(typeof e.getAttribute("for")!=="string"||typeof t.getAttribute("id")!=="string")return false;if(e.getAttribute("for")!==t.getAttribute("id"))return false;return true}var N="<ul>"+"#for(var i = 0; i < errors.length; i += 1){#"+'<li><a data-field="#=errors[i].field#" href="\\#">#= errors[i].message #</a></li>'+"# } #"+"</ul>",L=a.extend({init:function(e,t){var i=this,n=k(e),r="["+y.attr("validate")+"!=false]";t=t||{};t.rules=w.extend({},y.ui.validator.rules,n.rules,t.rules);t.messages=w.extend({},y.ui.validator.messages,n.messages,t.messages);a.fn.init.call(i,e,t);i._errorTemplate=y.template(i.options.errorTemplate);i._summaryTemplate=y.template(i.options.validationSummary.template||N);if(i.element.is(p))i.element.attr(h,h);i._inputSelector=u+r;i._checkboxSelector=c+r;i._errors={};i._attachEvents();i._isValidated=false;if(i._validateOnInit())i.validate()},events:[m,g,F],options:{name:"Validator",errorTemplate:'<span class="k-form-error">#= message #</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(e){var t=!e.attr("name")&&!e.is(":checked"),i=e.attr("name"),n=!!i&&i.indexOf("'")>-1?'"':"'",r=e.attr("name")&&!this.element.find("input[name="+n+e.attr("name")+n+"]:checked").length,a=e.filter("[type=checkbox]").length&&(t||r),o=e.filter("[type=radio]").length&&!this.element.find("input[name="+n+e.attr("name")+n+"]:checked").length,s=e.val();return!(b(e,"required")&&(!s||s===""||s.length===0||a||o))},pattern:function(e){if(e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&e.val()!=="")return v(e.val(),e.attr("pattern"));return true},min:function(e){if(e.filter(f+",["+y.attr("type")+"=number]").filter("[min]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=y.parseFloat(e.val());return t<=i}return true},max:function(e){if(e.filter(f+",["+y.attr("type")+"=number]").filter("[max]").length&&e.val()!==""){var t=parseFloat(e.attr("max"))||0,i=y.parseFloat(e.val());return t>=i}return true},step:function(e){if(e.filter(f+",["+y.attr("type")+"=number]").filter("[step]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=parseFloat(e.attr("step"))||1,n=parseFloat(e.val()),r=P(i),a;if(r){a=Math.pow(10,r);return Math.floor((n-t)*a)%(i*a)/Math.pow(100,r)===0}return(n-t)%i===0}return true},email:function(e){return _(e,"[type=email],["+y.attr("type")+"=email]",t)},url:function(e){return _(e,"[type=url],["+y.attr("type")+"=url]",i)},date:function(e){if(e.filter("[type^=date],["+y.attr("type")+"=date]").length&&e.val()!=="")return y.parseDate(e.val(),e.attr(y.attr("format")))!==null;return true},captcha:function(e){if(e.filter("["+y.attr("role")+"=captcha]").length){var t=this,i=y.widgetInstance(e),n=function(e){return typeof e!=="undefined"&&e!==null};if(!e.data("captcha_validating")&&!n(i.isValid())&&!!i.getCaptchaId()){e.data("captcha_validating",true);t._validating=true;i.validate().done(function(){t._validating=false;t._checkElement(e)}).fail(function(e){t._validating=false;if(e.error&&e.error==="handler_not_defined")window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")})}if(n(i.isValid())){e.removeData("captcha_validating");return i.isValid()}}return true}},validateOnBlur:true,validationSummary:false},_allowSubmit:function(){return y.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return y.ui.validator.validateOnInit(this.element)},destroy:function(){a.fn.destroy.call(this);this.element.off(o);if(this.validationSummary){this.validationSummary.off(o);this.validationSummary=null}},value:function(){if(!this._isValidated)return false;return this.errors().length===0},_submit:function(e){if(!this.validate()&&!this._allowSubmit()||this._validating){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();return false}return true},_checkElement:function(e){var t=this.value();this.validateInput(e);if(this.value()!==t)this.trigger(g)},_attachEvents:function(){var e=this;if(e.element.is(p))e.element.on("submit"+o,e._submit.bind(e));if(e.options.validateOnBlur)if(!e.element.is(u)){e.element.on(r+o,e._inputSelector,function(){e._checkElement(w(this))});e.element.on("click"+o,e._checkboxSelector,function(){e._checkElement(w(this))})}else{e.element.on(r+o,function(){e._checkElement(e.element)});if(e.element.is(c))e.element.on("click"+o,function(){e._checkElement(e.element)})}},validate:function(){var e;var t;var i=false;var n;var r=this.value();this._errors={};if(!this.element.is(u)){var a=false;e=this.element.find(this._inputSelector);for(t=0,n=e.length;t<n;t++)if(!this.validateInput(e.eq(t)))a=true;i=!a}else i=this.validateInput(this.element);if(this.options.validationSummary&&!r)this.showValidationSummary();this.trigger(m,{valid:i,errors:this.errors()});if(r!==i)this.trigger(g);return i},validateInput:function(e){e=w(e);this._isValidated=true;var t=this,i=t._errorTemplate,n=t._checkValidity(e),r=n.valid,a,o="."+x,s=e.attr(A)||"",l=t._findMessageContainer(s).add(e.next(o).filter(function(){var e=w(this);if(e.filter("["+y.attr("for")+"]").length)return e.attr(y.attr("for"))===s;return true})).addClass("k-hidden"),d=!r?t._extractMessage(e,n.key):"",u=!r?O(i({message:H(d),field:s})):"",c=!e.attr(E),f=e.is(I),p=e.parent(D);e.removeAttr(E);if(e.hasClass("k-hidden"))a=y.widgetInstance(e.closest(".k-signature"));if(!r&&!e.data("captcha_validating")){t._errors[s]=d;var h=l.attr("id");t._decorateMessageContainer(u,s);if(h)u.attr("id",h);if(l.length!==0)l.replaceWith(u);else{a=a||y.widgetInstance(e);var m=e.parent().get(0);var g=e.next().get(0);var v=e.prev().get(0);if(!a&&e.is("[type=radio]"))a=y.widgetInstance(e.closest(".k-radio-list"));if(!a&&e.is("[type=checkbox]"))a=y.widgetInstance(e.closest(".k-checkbox-list"));if(a&&a.wrapper&&(a.element!==a.wrapper||a.options.name=="Signature"))u.insertAfter(a.wrapper);else if(m&&m.nodeName==="LABEL")u.insertAfter(m);else if(g&&z(g,e[0]))u.insertAfter(g);else if(v&&z(v,e[0]))u.insertAfter(e);else if(f&&p.length)u.insertAfter(p);else u.insertAfter(e)}u.removeClass("k-hidden");e.attr(E,true)}else delete t._errors[s];if(c!==r)this.trigger(F,{valid:r,input:e,error:d,field:s});a=a&&a.options.name=="Signature"?a:y.widgetInstance(e);if(!a||!(a._inputWrapper||a.wrapper)){e.toggleClass(C,!r);e.toggleClass(S,r)}if(a){var _=a._inputWrapper||a.wrapper;var b=a._inputLabel;if(_){_.toggleClass(C,!r);_.toggleClass(S,r)}if(b)b.toggleClass(T,!r)}if(c!==r){var k=u?u.attr("id"):l.attr("id");t._associateMessageContainer(e,k);if(this.options.validationSummary&&this.options.validateOnBlur)this.showValidationSummary()}return r},hideMessages:function(){var e=this,t="."+x,i=e.element;e._disassociateMessageContainers();if(!i.is(u))i.find(t).addClass("k-hidden");else i.next(t).addClass("k-hidden")},reset:function(){var e=this,t=e.element.find("."+C),i=e.element.find("."+T);e._errors=[];e.hideMessages();e.hideValidationSummary();t.removeAttr(E);t.removeClass(C);i.removeClass(T)},_findMessageContainer:function(e){var t=y.ui.validator.messageLocators,i,n=w();for(var r=0,a=this.element.length;r<a;r++)n=n.add(M(this.element[r].getElementsByTagName("*"),e));for(i in t)n=n.add(t[i].locate(this.element,e));return n},_decorateMessageContainer:function(e,t){var i=y.ui.validator.messageLocators,n;e.addClass(x).attr(y.attr("for"),t||"");if(!e.attr("id"))e.attr("id",t+"-error");for(n in i)i[n].decorate(e,t)},_extractMessage:function(e,t){var i=this,n=i.options.messages[t],r=e.attr(A),a;if(!y.ui.Validator.prototype.options.messages[t])a=y.isFunction(n)?n(e):n;n=y.isFunction(n)?n(e):n;return y.format(e.attr(y.attr(t+"-msg"))||e.attr("validationMessage")||a||n||e.attr("title")||"",r,e.attr(t)||e.attr(y.attr(t)))},_checkValidity:function(e){var t=this.options.rules,i;for(i in t)if(!t[i].call(this,e))return{valid:false,key:i};return{valid:true}},errors:function(){var e=[],t=this._errors,i;for(i in t)e.push(t[i]);return e},setOptions:function(e){if(e.validationSummary)this.hideValidationSummary();y.deepExtend(this.options,e);this.destroy();this.init(this.element,this.options);this._setEvents(this.options)},_getInputNames:function(){var e=this,t=e.element.find(e._inputSelector),i=[];for(var n=0,r=t.length;n<r;n++){var a=w(t[n]);if(b(a,A))if(i.indexOf(a.attr(A))===-1||a.closest(".k-checkbox-list").length===0&&a.closest(".k-radio-list").length===0)i.push(a.attr(A))}return i},_associateMessageContainer:function(e,t){var i=y.getWidgetFocusableElement(e);if(!i||!t)return;y.toggleAttribute(i,n,t)},_disassociateMessageContainers:function(){var e=this,t=e.element.find("."+C).addBack(),i,n;for(var r=0;r<t.length;r+=1){i=w(t[r]);if(i.is("input")){n=e._findMessageContainer(i.attr(A)).add(i.next("."+x)).attr("id");e._associateMessageContainer(i,n)}}},_errorsByName:function(){var e=this,t=e._getInputNames(),i=[];for(var n=0;n<t.length;n+=1){var r=t[n];if(e._errors[r])i.push({field:r,message:e._errors[r]})}return i},_renderSummary:function(){var e=this,t=this.options.validationSummary,i=this.element,n=i.prev(),r;if(t.container)r=w(t.container);else if(n&&n.hasClass(l))r=n;else r=w("<div />").insertBefore(e.element);r.addClass([l,d].join(" "));r.attr("role","alert");r.on("click"+o,e._summaryClick.bind(e));return r},_summaryClick:function(e){e.preventDefault();var t=this,i=w(e.target),n=t.element.find("[name='"+i.data("field")+"']"),r;if(!n.length)return;r=y.getWidgetFocusableElement(n);if(r)r.trigger("focus")},showValidationSummary:function(){var e=this,t=e.validationSummary,i=e._errorsByName(),n;if(!t)t=e.validationSummary=e._renderSummary();n=O(e._summaryTemplate({errors:i}));t.html(n);t.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var e=this,t=e.validationSummary;if(!t)return;t.addClass("k-hidden")}});return y.ui.plugin(L),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editable.min",["kendo.checkbox.min","kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.validator.min","kendo.binder.min"],function(){var e={id:"editable",name:"Editable",category:"framework",depends:["checkbox","dropdownlist","datepicker","numerictextbox","validator","binder"],hidden:true},h=window.kendo.jQuery,f=void 0,m=window.kendo,t=m.ui,n=t.Widget,g=h.extend,v=m.isFunction,_=h.isPlainObject,b=h.inArray,k=".",w="off",y=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,i,d="change",p="equalSet",x=["url","email","number","date","boolean"];function C(e){e=e!=null?e:"";return e.type||m.type(e)||"string"}function S(e){e.find(":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, ["+m.attr("role")+"=listbox], ["+m.attr("role")+"=upload], ["+m.attr("skip")+"], [type=file])").each(function(){var e=m.attr("bind"),t=this.getAttribute(e)||"",i=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",n=this.getAttribute("name")===s.antiForgeryTokenName,r=this.name;if(t.indexOf(i)===-1&&r&&!n){t+=(t.length?",":"")+i+r;h(this).attr(e,t)}})}function l(e){var t=(e.model.fields||e.model)[e.field],i=C(t),n=t?t.validation:{},r=t?t.attributes:{},a,o=m.attr("type"),s=m.attr("bind"),l,d={id:e.id||e.field,name:e.field,title:e.title?e.title:e.field};for(a in n){l=n[a];if(b(a,x)>=0)d[o]=a;else if(!v(l)){var u=m.getCulture();if(typeof l==="number"&&u.name.length){var c=u.numberFormat;var f=l.toString().replace(k,c[k]);d[a]=f}else d[a]=_(l)?l.value||a:l}d[m.attr(a+"-msg")]=l.message;d.autocomplete=w}for(var p in r)d[p]=r[p];if(b(i,x)>=0)d[o]=i;d[s]=(i==="boolean"?"checked:":"value:")+e.field;return d}function o(e,t){var i=e.attr("id");if(i){t.id=i;e.removeAttr("id")}return t}function r(e){var t,i,n,r,a,o;if(e&&e.length){o=[];for(t=0,i=e.length;t<i;t++){n=e[t];a=n.text||n.value||n;r=n.value==null?n.text||n:n.value;o[t]={text:a,value:r}}}return o}function u(e,t){var i;if(!e.length)return;if(e==="DropDownTree"&&t&&t.checkboxes||e==="MultiSelect")i="<select />";else if(e==="RadioGroup"||e==="CheckBoxGroup")i="<ul />";else if(e==="Signature")i="<div></div>";else i=e==="Editor"||e==="TextArea"?"<textarea />":"<input />";return i}var T=["AutoComplete","CheckBox","CheckBoxGroup","ColorGradient","ColorPicker","ColorPalette","ComboBox","DateInput","DatePicker","DateTimePicker","DropDownTree","Editor","FlatColorPicker","MaskedTextBox","MultiColumnComboBox","MultiSelect","NumericTextBox","RadioGroup","Rating","Slider","Switch","TimePicker","DropDownList","TextBox","TextArea","Captcha","Signature"],a,I={number:function(e,t){var i=l(t);i=o(e,i);h('<input type="number"/>').attr(i).appendTo(e)},date:function(e,t){var i=l(t);i=o(e,i);h('<input type="date"/>').attr(i).appendTo(e)},string:function(e,t){var i=l(t);i=o(e,i);h('<input type="text" />').attr(i).appendTo(e)},boolean:function(e,t){var i=l(t);i=o(e,i);h('<input type="checkbox" />').attr(i).appendTo(e)},values:function(e,t){var i=l(t);var n=t.values;var r=h("<select />");i=o(e,i);for(var a in n)h('<option value="'+n[a].value+'">'+n[a].text+"</option>").appendTo(r);r.attr(i).appendTo(e)}};function D(e,t){var i=e?e.validation||{}:{},n,r;for(n in i){r=i[n];if(_(r)&&r.value)r=r.value;if(v(r))t[n]=r}}function c(e,t,i){var n=i?i.shouldRenderHidden||false:false;if(n){e.val(true);t.append(h("<input type='hidden' name='"+i.field+"' value='false' data-skip='true' data-validate='false'/>"))}}var s=n.extend({init:function(e,t){var i=this;if(t.target){t.$angular=t.target.options.$angular;if(t.target.pane)i._isMobile=true}n.fn.init.call(i,e,t);i._validateProxy=i._validate.bind(i);i.refresh()},events:[d],options:{name:"Editable",editors:{hidden:function(e,t){var i=l(t);h('<input type="hidden"/>').attr(i).appendTo(e)},number:function(e,t){var i=l(t);h('<input type="text"/>').attr(i).appendTo(e).kendoNumericTextBox({format:t.format});h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},date:function(e,t){var i=l(t),n=t.format;if(n)n=m._extractFormat(n);i[m.attr("format")]=n;h('<input type="text"/>').attr(i).appendTo(e).kendoDatePicker({format:t.format});h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},string:function(e,t){var i=l(t);h('<input type="text"/>').attr(i).appendTo(e).kendoTextBox()},boolean:function(e,t){var i=l(t);var n=h('<input type="checkbox" />').attr(i).kendoCheckBox().appendTo(e);c(n,e,t)},values:function(e,t){var i=l(t);var n=m.stringify(r(t.values));h("<select "+m.attr("text-field")+'="text"'+m.attr("value-field")+'="value"'+m.attr("source")+"='"+(n?n.replace(/\'/g,"&apos;"):n)+"'"+m.attr("role")+'="dropdownlist"/>').attr(i).appendTo(e);h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg  k-hidden"/>').appendTo(e)},kendoEditor:function(e,t){var i=l(t);var n=t.editor;var r="kendo"+n;var a=t.editorOptions;var o=u(n,a);var s=h(o).attr(i).appendTo(e)[r](a);c(s,e,t)}},mobileEditors:I,clearContainer:true,validateOnBlur:true,validationSummary:false,errorTemplate:'<div class="k-tooltip k-tooltip-error k-validator-tooltip">'+'<span class="k-tooltip-icon k-icon k-i-warning"></span>'+'<span class="k-tooltip-content">#= message #</span>'+'<span class="k-callout k-callout-n"></span>'+"</div>",skipFocus:false},editor:function(t,e){var i=this,n=i._isMobile?I:i.options.editors,r=_(t),a=r?t.field:t,o=i.options.model||{},s=r&&t.values,l=s?"values":C(e),d=r&&typeof t.editor==="string"&&t.editor==="hidden",u=r&&!d&&t.editor,c=r&&h.inArray(t.editor,T)!==-1,f=u?t.editor:n[d?"hidden":l],p=i.element.find("["+m.attr("container-for")+"="+a.replace(y,"\\$1")+"]");f=f?f:n.string;if(c)f=n.kendoEditor;else if(u&&typeof t.editor==="string")f=function(e){e.append(t.editor)};p=p.length?p:i.element;f(p,g(true,{},r?t:{field:a},{model:o}))},_validate:function(e){var t=this,i,n=e.value,r=t._validationEventInProgress,a={},o=m.attr("bind"),s=e.field.replace(y,"\\$1"),l=new RegExp("(value|checked)\\s*:\\s*"+s+"\\s*(,|$)");a[e.field]=e.value;i=h(":input["+o+'*="'+s+'"]',t.element).filter("["+m.attr("validate")+"!='false']").filter(function(){return l.test(h(this).attr(o))});if(i.length>1)i=i.filter(function(){var e=h(this);return!e.is(":radio")||e.val()==n});try{t._validationEventInProgress=true;if(!t.validatable.validateInput(i)||!r&&t.trigger(d,{values:a}))e.preventDefault()}finally{t._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element}});n.fn.destroy.call(e);e.options.model.unbind("set",e._validateProxy);e.options.model.unbind(p,e._validateProxy);m.unbind(e.element);if(e.validatable)e.validatable.destroy();m.destroy(e.element);e.element.removeData("kendoValidator");if(e.element.is("["+m.attr("role")+"=editable]"))e.element.removeAttr(m.attr("role"))},refresh:function(){var e=this,t,i,n=e.options.fields||[],r=e.options.clearContainer?e.element.empty():e.element,a=e.options.model||{},o={},s,l,d,u,c;if(!Array.isArray(n))n=[n];for(t=0,i=n.length;t<i;t++){s=n[t];l=_(s);d=l?s.field:s;u=(a.fields||a)[d];D(u,o);e.editor(s,u)}if(e.options.target)e.angular("compile",function(){return{elements:r,data:r.map(function(){return{dataItem:a}})}});if(!i){c=a.fields||a;for(d in c)D(c[d],o)}S(r);if(e.validatable)e.validatable.destroy();m.bind(r,e.options.model);if(e.options.validateOnBlur){e.options.model.unbind("set",e._validateProxy).bind("set",e._validateProxy);e.options.model.unbind(p,e._validateProxy).bind(p,e._validateProxy)}e.validatable=new m.ui.Validator(r,{validateOnBlur:e.options.validateOnBlur,validationSummary:e.options.validationSummary,errorTemplate:e.options.errorTemplate||f,rules:o});if(!e.options.skipFocus)r.find(":kendoFocusable").eq(0).trigger("focus")}});return s.antiForgeryTokenName="__RequestVerificationToken",t.plugin(s),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.window.min",["kendo.draganddrop.min","kendo.popup.min"],function(){var e={id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop","popup"],features:[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},w=window.kendo.jQuery,m=void 0,y=window.kendo,g=y.ui.Widget,B=y.ui.Popup.TabKeyTrap,n=y.ui.Draggable,v=w.isPlainObject,r=y._activeElement,o=y._outerWidth,t=y._outerHeight,l=w.extend,a=w.each,s=y.template,c="body",f,_=".kendoWindow",u=".kendoWindowModal",b=".k-window",k=".k-window-title",x=k+"bar",C=".k-window-content",V=".k-dialog-content",p=".k-resize-handle",h=".k-overlay",S="k-content-frame",U="k-i-loading",W="k-hover",j="k-focus",q="k-window-maximized",T="k-display-inline-flex",I=":visible",D="hidden",E="cursor",A="open",F="activate",G="deactivate",K="close",d="refresh",$,Y,Q="resizeStart",X,J="resizeEnd",Z="dragstart",ee="dragend",te="restore",ie,ne="error",H="overflow",i="original-overflow-rule",P="zIndex",re=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",ae=".k-i-pin",oe=".k-i-unpin",se=ae+","+oe,O=".k-window-titlebar .k-window-action",le=".k-window-titlebar .k-i-refresh",de="WindowEventsHandled",ue=/^0[a-z]*$/i,ce=y.isLocalUrl,M={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function z(e){return typeof e!="undefined"}function R(e,t){return parseInt(e.css(t),10)||0}function N(e,t,i){var n;if(e&&isNaN(e)&&e.toString().indexOf("px")<0)n=e;else n=Math.max(Math.min(parseInt(e,10),i===Infinity?i:parseInt(i,10)),t===-Infinity?t:parseInt(t,10));return n}function fe(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function L(e){var t={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;while(i){t.top+=i.offsetTop;t.left+=i.offsetLeft;var n=w(i).css("overflowX");var r=w(i).css("overflowY");if(r==="auto"||r==="scroll")t.top-=i.scrollTop;if(n==="auto"||n==="scroll")t.left-=i.scrollLeft;i=i.offsetParent}return t}var pe=g.extend({init:function(e,t){var i=this,n,r={},a,o,s,l=false,d,u,c,f,p=t&&t.actions&&!t.actions.length,h;g.fn.init.call(i,e,t);t=i.options;s=t.position;e=i.element;d=t.content;f=w(window);if(p)t.actions=[];i.appendTo=w(t.appendTo);i.containment=t.draggable.containment?w(t.draggable.containment).first():null;if(d&&!v(d))d=t.content={url:d};e.find("script").filter(fe).remove();if(!e.parent().is(i.appendTo)&&!i.containment&&(s.top===m||s.left===m)){if(e.is(I)){r=e.offset();l=true}else{a=e.css("visibility");o=e.css("display");e.css({visibility:D,display:""});if(document.body.contains(e[0]))r=e.offset();else r={top:0,left:0};e.css({visibility:a,display:o})}if(s.top===m)s.top=r.top;if(s.left===m)s.left=r.left}if(!z(t.visible)||t.visible===null)t.visible=e.is(I);n=i.wrapper=e.closest(b);if(!e.is(".k-window-content")||!n[0]){e.addClass("k-window-content");e.attr("tabindex",0);i._createWindow(e,t);n=i.wrapper=e.closest(b);i.title(i.options.title);i._dimensions()}i.minTop=i.minLeft=-Infinity;i.maxTop=i.maxLeft=Infinity;i._position();if(d)i.refresh(d);if(t.visible)i.toFront(null,!t.modal);u=n.children(C);if(t.visible&&t.modal)i._overlay(n.is(I)).css({opacity:.5});n.on("mouseenter"+_,O,i._buttonEnter.bind(i)).on("mouseleave"+_,O,i._buttonLeave.bind(i)).on("click"+_,"> "+O,i._windowActionHandler.bind(i)).on("keydown"+_,i,i._keydown.bind(i)).on("focus"+_,i._focus.bind(i)).on("blur"+_,i._blur.bind(i));u.on("keydown"+_,i,i._keydownContent.bind(i));c=u.find("."+S)[0];if(c&&!f.data(de)){f.on("blur"+_,function(){var e=w(document.activeElement).parent(C);if(e.length){var t=y.widgetInstance(e);t._focus()}});f.on("focus"+_,function(){w(C).not(V).each(function(e,t){y.widgetInstance(w(t))._blur()})});f.data(de,true)}this._resizable();this._draggable();if(t.pinned&&this.wrapper.is(":visible"))i.pin();h=e.attr("id");if(h){h=h+"_wnd_title";n.attr({role:"dialog","aria-labelledby":h}).children(x).children(k).attr("id",h)}n.add(n.children(".k-resize-handle,"+x)).on(y.support.mousedown+_,i.toFront.bind(i));i.touchScroller=y.touchScroller(e);i._resizeHandler=i._onDocumentResize.bind(i);i._marker=y.guid().substring(0,8);w(window).on("resize"+_+i._marker,i._resizeHandler);if(t.visible){i.trigger(A);i.trigger(F)}y.notify(i);if(this.options.modal){this._tabKeyTrap=new B(n);this._tabKeyTrap.trap();this._tabKeyTrap.shouldTrap=function(){return n.data("isFront")}}},_buttonEnter:function(e){w(e.currentTarget).addClass(W)},_buttonLeave:function(e){w(e.currentTarget).removeClass(W)},_focus:function(){this.wrapper.addClass(j)},_blur:function(){this.wrapper.removeClass(j)},_dimensions:function(){var e=this.wrapper;var t=this.options;var i=t.width;var n=t.height;var r=t.maxHeight;var a=t.size;var o=["minWidth","minHeight","maxWidth","maxHeight"];var s=e.css("box-sizing")=="content-box";var l=s?R(e,"border-left-width")+R(e,"border-right-width"):0;var d=s?R(e,"border-top-width")+R(e,"border-bottom-width"):0;var u=s?R(e,"padding-top"):0;if(this.containment&&!this._isPinned){this._updateBoundaries();t.maxHeight=Math.min(this.containment.height-(d+u),r);t.maxWidth=Math.min(this.containment.width-l,t.maxWidth)}for(var c=0;c<o.length;c++){var f=t[o[c]]||"";if(f!=Infinity)e.css(o[c],f)}if(r!=Infinity)this.element.css("maxHeight",r);if(i)e.outerWidth(N(i,t.minWidth,t.maxWidth));else e.outerWidth("");if(n)e.outerHeight(N(n,t.minHeight,t.maxHeight));else e.outerHeight("");if(!t.visible)e.removeClass(T).hide();if(a&&M[a])e.addClass(M[a])},_position:function(){var e=this.wrapper,t=this.options.position,i,n;this._updateBoundaries();if(this.containment){t.top=t.top||0;t.left=t.left||0;i=t.top.toString().indexOf("%")>0?parseInt(this.containment.height*(parseFloat(t.top)/100),10):t.top;n=t.left.toString().indexOf("%")>0?parseInt(this.containment.width*(parseFloat(t.left)/100),10):t.left;t.top=N(i,this.minTop,this.maxTop);t.left=N(n,this.minLeft,this.maxLeft)}if(t.top&&t.top.toString().indexOf("px")>0)t.top=Number(t.top.replace("px",""));if(t.left&&t.left.toString().indexOf("px")>0)t.left=Number(t.left.replace("px",""));if(t.top===0)t.top=t.top.toString();if(t.left===0)t.left=t.left.toString();e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth();e.height=e.innerHeight();if(parseInt(e.width,10)>e[0].clientWidth)e.width-=y.support.scrollbar();if(parseInt(e.height,10)>e[0].clientHeight)e.height-=y.support.scrollbar();e.position=L(e[0]);if(this._isPinned){this.minTop=this.minLeft=-Infinity;this.maxTop=this.maxLeft=Infinity}else{this.minTop=e.scrollTop();this.minLeft=e.scrollLeft();this.maxLeft=this.minLeft+e.width-o(this.wrapper,true);this.maxTop=this.minTop+e.height-t(this.wrapper,true)}},_animationOptions:function(e){var t=this.options.animation;var i={open:{effects:{}},close:{hide:true,effects:{}}};return t&&t[e]||i[e]},_resize:function(){y.resize(this.element.children())},_resizable:function(){var e=this.options.resizable;var i=this.wrapper;if(this.resizing){i.off("dblclick"+_).children(p).remove();this.resizing.destroy();this.resizing=null}if(e){i.on("dblclick"+_,x,function(e){if(!w(e.target).closest(".k-window-action").length)this.toggleMaximization()}.bind(this));a("n e s w se sw ne nw".split(" "),function(e,t){i.append(f.resizeHandle(t))});this.resizing=new he(this)}i=null},_draggable:function(){var e=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(e)this.dragging=new me(this,e.dragHandle||x)},_actions:function(){var e=this.options;var t=e.actions;var i=e.pinned;var n=this.wrapper.children(x);var r=n.find(".k-window-actions");var a=["maximize","minimize"];t=w.map(t,function(e){e=i&&e.toLowerCase()==="pin"?"unpin":e;return{name:a.indexOf(e.toLowerCase())>-1?"window-"+e:e}});r.html(y.render(f.action,t))},setOptions:function(e){var t=this;var i=t.options.size;var n=this.containment&&!t._isPinned?this.containment:w(document);var r=JSON.parse(JSON.stringify(e));l(e.position,t.options.position);l(e.position,r.position);t._containerScrollTop=n.scrollTop();t._containerScrollLeft=n.scrollLeft();g.fn.setOptions.call(t,e);var a=t.options.scrollable!==false;t.restore();if(typeof e.title!=="undefined")t.title(e.title);t.wrapper.removeClass(M[i]);t._dimensions();t._position();t._resizable();t._draggable();t._actions();if(typeof e.modal!=="undefined"){var o=t.options.visible!==false;t._enableDocumentScrolling();t._overlay(e.modal&&o)}t.element.css(H,a?"":"hidden")},events:[A,F,G,K,"minimize","maximize",d,te,Q,"resize",J,Z,ee,"kendoKeydown",ne],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,size:"auto",resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,scrollable:true,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:false,isMinimized:false},_closable:function(){return w.inArray("close",w.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydownContent:function(e){var t=this,i=y.keys,n=e.keyCode;if(n==i.ESC&&t._closable()){e.stopPropagation();t._close(false)}},_keydown:function(e){var t=this,i=t.options,n=y.keys,r=e.keyCode,a=t.wrapper,o,s,l=10,d=i.isMaximized,u=i.isMinimized,c,f,p,h;if(r==n.ESC&&t._closable()){e.stopPropagation();t._close(false)}if(e.target!=e.currentTarget||t._closing)return;if(e.altKey&&r==82)t.refresh();if(e.altKey&&r==80)if(t.options.pinned)t.unpin();else t.pin();if(e.altKey&&r==n.UP){if(u){t.restore();t.wrapper.trigger("focus")}else if(!d){t.maximize();t.wrapper.trigger("focus")}}else if(e.altKey&&r==n.DOWN)if(!u&&!d){t.minimize();t.wrapper.trigger("focus")}else if(d){t.restore();t.wrapper.trigger("focus")}o=y.getOffset(a);if(t.containment&&!t._isPinned)o=t.options.position;if(i.draggable&&!e.ctrlKey&&!e.altKey&&!d){t._updateBoundaries();if(r==n.UP){o.top=N(o.top-l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(r==n.DOWN){o.top=N(o.top+l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(r==n.LEFT){o.left=N(o.left-l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}else if(r==n.RIGHT){o.left=N(o.left+l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}}if(i.resizable&&e.ctrlKey&&!d&&!u){if(r==n.UP){s=true;f=a.outerHeight()-l}else if(r==n.DOWN){s=true;if(t.containment&&!t._isPinned)f=Math.min(a.outerHeight()+l,t.containment.height-o.top-R(a,"padding-top")-R(a,"borderBottomWidth")-R(a,"borderTopWidth"));else f=a.outerHeight()+l}if(r==n.LEFT){s=true;c=a.outerWidth()-l}else if(r==n.RIGHT){s=true;if(t.containment&&!t._isPinned)c=Math.min(a.outerWidth()+l,t.containment.width-o.left-R(a,"borderLeftWidth")-R(a,"borderRightWidth"));else c=a.outerWidth()+l}if(s){p=N(c,i.minWidth,i.maxWidth);h=N(f,i.minHeight,i.maxHeight);if(!isNaN(p)){a.outerWidth(p);t.options.width=p+"px"}if(!isNaN(h)){a.outerHeight(h);t.options.height=h+"px"}t.resize()}}if(s)e.preventDefault()},_overlay:function(e){var t=this.containment?this.containment.children(h):this.appendTo.children(h),i=this.wrapper,n=e?"block":"none",r=parseInt(i.css(P),10)-1;if(!t.length)t=w("<div class='k-overlay' />");t.insertBefore(i[0]).css({zIndex:r,display:n});if(this.options.modal.preventScroll&&!this.containment)this._stopDocumentScrolling();return t},_actionForIcon:function(e){var t=/\bk-i(-\w+)+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(e){if(this._closing)return;var t=w(e.target).closest(".k-window-action").find(".k-icon");var i=this._actionForIcon(t);if(i){e.preventDefault();this[i]();return false}},_modals:function(){var e=this,t=w(b+I),i,n=[];for(var r=0;r<t.length;r+=1){i=e._object(w(t[r]));if(i&&i.options&&i.options.modal&&i.options.visible&&i.options.appendTo===e.options.appendTo&&(!i.containment||e.containment&&i.containment[0]===e.containment[0]))n.push(i.wrapper[0])}n.sort(function(e,t){return e.style.zIndex-t.style.zIndex});e=null;return w(n)},_object:function(e){var t=e.children(C);var i=y.widgetInstance(t);if(i)return i;return m},center:function(){var e=this,t=e.options.position,i=e.wrapper,n=w(window),r=0,a=0,o,s;if(e.options.isMaximized)return e;if(e.options.pinned&&!e._isPinned)e.pin();if(!e.options.pinned){r=n.scrollTop();a=n.scrollLeft()}if(this.containment&&!e.options.pinned){o=this.minTop+(this.maxTop-this.minTop)/2;s=this.minLeft+(this.maxLeft-this.minLeft)/2}else{e._scrollIsAppended=true;s=a+Math.max(0,(n.width()-i.outerWidth())/2);o=r+Math.max(0,(n.height()-i.outerHeight()-R(i,"paddingTop"))/2)}i.css({left:s,top:o});t.top=o;t.left=s;return e},title:function(e){var t=this,i,n=true,r=t.wrapper,a=r.children(x),o=a.children(k);if(!arguments.length)return o.html();if(w.isPlainObject(e)){i=typeof e.text!=="undefined"?e.text:"";n=e.encoded!==false}else i=e;if(i===false){r.addClass("k-window-titleless");r.css("padding-top",0);a.remove()}else if(!a.length){r.prepend(f.titlebar({title:n?y.htmlEncode(i):i}));t._actions();a=r.children(x)}else o.html(n?y.htmlEncode(i):i);t.options.title=i;return t},content:function(e,i){var n=this.wrapper.children(C),t=n.children(".km-scroll-container");n=t[0]?t:n;if(!z(e))return n.html();this.angular("cleanup",function(){return{elements:n.children()}});y.destroy(this.element.children());n.empty().html(e);this.angular("compile",function(){var e=[];for(var t=n.length;--t>=0;)e.push({dataItem:i});return{elements:n.children(),data:e}});return this},open:function(){var e=this,t=e.wrapper,i=e.options,n=this._animationOptions("open"),r=t.children(C),a,o,s=this.containment&&!e._isPinned,l=s?this.containment:w(document);if(!e.trigger(A)){if(e._closing)t.kendoStop(true,true);e._closing=false;e.toFront();if(i.autoFocus)e.wrapper.trigger("focus");i.visible=true;if(i.modal){o=!!e._modals().length;a=e._overlay(o);a.kendoStop(true,true);if(n.duration&&y.effects.Fade&&!o){var d=y.fx(a).fadeIn();d.duration(n.duration||0);d.endValue(.5);d.play()}else a.css("opacity",.5);a.show();w(window).on("focus"+u,function(){if(t.data("isFront")&&!w(document.activeElement).closest(t).length)e.wrapper.trigger("focus")})}if(!t.is(I)){r.css(H,D);e.wrapper.find(O).addClass("k-button-flat");t.addClass(T).kendoStop().kendoAnimate({effects:n.effects,duration:n.duration,complete:this._activate.bind(this)})}}if(i.isMaximized){e._containerScrollTop=l.scrollTop();e._containerScrollLeft=l.scrollLeft();e._stopDocumentScrolling()}if(this.options.pinned&&!this._isPinned)this.pin();return e},_activate:function(){var e=this.options.scrollable!==false;if(this.options.autoFocus)this.wrapper.trigger("focus");this.element.css(H,e?"":"hidden");y.resize(this.element.children());this.trigger(F)},_removeOverlay:function(e){var t=this._modals();var i=this.options;var n=i.modal&&!t.length;var r=this._animationOptions("close");if(n){if(!e&&r.duration&&y.effects.Fade){var a=y.fx(i.modal?this._overlay(true):w(m)).fadeOut();a.duration(r.duration||0);a.startValue(.5);a.play()}else this._overlay(false).remove();if(i.modal.preventScroll)this._enableDocumentScrolling()}else if(t.length){this._object(t.last())._overlay(true);if(i.modal.preventScroll)this._stopDocumentScrolling()}},_close:function(e){var t=this,n=t.wrapper,i=t.options,r=this._animationOptions("open"),a=this._animationOptions("close"),o=this.containment&&!t._isPinned,s=o?this.containment:w(document),l;if(t._closing)return;l=t.trigger(K,{userTriggered:!e});t._closing=!l;if(n.is(I)&&!l){i.visible=false;w(b).each(function(e,t){var i=w(t).children(C);if(t!=n&&i.find("> ."+S).length>0)i.children(h).remove()});this._removeOverlay();t.wrapper.find(O).removeClass("k-button-flat");n.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:a.reverse===true,duration:a.duration,complete:this._deactivate.bind(this)});w(window).off(u)}if(t.options.isMaximized){t._enableDocumentScrolling();if(t._containerScrollTop&&t._containerScrollTop>0)s.scrollTop(t._containerScrollTop);if(t._containerScrollLeft&&t._containerScrollLeft>0)s.scrollLeft(t._containerScrollLeft)}if(t.options.iframe)t.wrapper.trigger("blur")},_deactivate:function(){var e=this;e.wrapper.removeClass(T).hide().css("opacity","");e.trigger(G);if(e.options.modal){var t=e._object(e._modals().last());if(t)t.toFront()}},close:function(){this._close(true);return this},_actionable:function(e){return w(e).is(O+","+O+" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell'], .k-input-value-text")},_shouldFocus:function(e){var t=r(),i=this.wrapper;return this.options.autoFocus&&!w(t).is(i)&&!this._actionable(e)&&(!i.find(t).length||!i.find(e).length)},toFront:function(e,t){var i=this,a=i.wrapper,o=a[0],n=i.containment&&!i._isPinned,r=this._animationOptions("open"),s=+a.css(P),l=s,d=e&&e.target||null;w(b).each(function(e,t){var i=w(t),n=i.css(P),r=i.children(C);if(!isNaN(n))s=Math.max(+n,s);a.data("isFront",t==o);if(t!=o&&r.find("."+S).length&&!r.find(h).length)r.append(f.overlay)});if(!a[0].style.zIndex||l<s)a.css(P,s+2);i.element.find("> .k-overlay").remove();if(i._shouldFocus(d)){if(!t)setTimeout(function(){i.wrapper.focus()},r?r.duration:0);var u=n?i.containment.scrollTop():w(window).scrollTop(),c=parseInt(a.position().top,10);if(!i.options.pinned&&c>0&&c<u)if(u>0)w(window).scrollTop(c);else a.css("top",u)}a=null;return i},toggleMaximization:function(){if(this._closing)return this;return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this;var t=e.options;var i=t.minHeight;var n=e.restoreOptions;var r;var a=e.containment&&!e._isPinned?e.containment:w(document);if(!t.isMaximized&&!t.isMinimized)return e;if(i&&i!=Infinity)e.wrapper.css("min-height",i);if(n&&!t.isMaximized){n.height=N(n.height,e.options.minHeight,e.options.maxHeight);r=t.position.top+parseInt(n.height,10)>e.maxTop;if(r){t.position.top=N(t.position.top,e.minTop,e.maxTop-parseInt(n.height,10));l(n,{left:t.position.left,top:t.position.top})}}e.wrapper.css({position:t.pinned?"fixed":"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).removeClass(q).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(re).parent().show().end().end().find(se).parent().show();if(t.isMaximized)e.wrapper.find(".k-i-window-maximize").parent().trigger("focus");else if(t.isMinimized)e.wrapper.find(".k-i-window-minimize").parent().trigger("focus");e.options.width=n.width;e.options.height=n.height;if(!e.options.modal.preventScroll)e._enableDocumentScrolling();if(e._containerScrollTop&&e._containerScrollTop>0)a.scrollTop(e._containerScrollTop);if(e._containerScrollLeft&&e._containerScrollLeft>0)a.scrollLeft(e._containerScrollLeft);t.isMaximized=t.isMinimized=false;e.wrapper.removeAttr("aria-labelled-by");e.resize();e.trigger(te);return e},_sizingAction:function(e,t){var i=this,n=i.wrapper,r=n[0].style,a=i.options;if(a.isMaximized||a.isMinimized)return i;i.restoreOptions={width:r.width,height:r.height};n.children(p).hide().end().children(x).find(re).parent().hide().eq(0).before(f.action({name:"window-restore"}));t.call(i);i.wrapper.children(x).find(se).parent().toggle(e!=="maximize");i.trigger(e);n.find(".k-i-window-restore").parent().trigger("focus");return i},maximize:function(){this._sizingAction("maximize",function(){var e=this,t=e.wrapper,i=this.containment&&!e._isPinned,n=t.position(),r=w(document);l(e.restoreOptions,{left:n.left+(i?this.containment.scrollLeft():0),top:n.top+(i?this.containment.scrollTop():0)});this._containerScrollTop=i?this.containment.scrollTop():r.scrollTop();this._containerScrollLeft=i?this.containment.scrollLeft():r.scrollLeft();e._stopDocumentScrolling();t.css({top:i?this.containment.scrollTop():0,left:i?this.containment.scrollLeft():0,position:i?"absolute":"fixed"}).addClass(q);e.options.isMaximized=true;e._onDocumentResize()});return this},_stopDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._storeOverflowRule(t);t.css(H,D);e.wrapper.css({maxWidth:t.innerWidth(),maxHeight:t.innerHeight()});return}var i=w("body");e._storeOverflowRule(i);i.css(H,D);var n=w("html");e._storeOverflowRule(n);n.css(H,D)},_enableDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._restoreOverflowRule(t);e.wrapper.css({maxWidth:t.width,maxHeight:t.height});return}e._restoreOverflowRule(w(document.body));e._restoreOverflowRule(w("html"))},_storeOverflowRule:function(e){if(this._isOverflowStored(e))return;var t=e.get(0).style.overflow;if(typeof t==="string")e.data(i,t)},_isOverflowStored:function(e){return typeof e.data(i)==="string"},_restoreOverflowRule:function(e){var t=e.data(i);if(t!==null&&t!==m){e.css(H,t);e.removeData(i)}else e.css(H,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){this._sizingAction("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""});e.element.hide();e.options.isMinimized=true});this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by"));this._updateBoundaries();return this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=this,t=w(window),i=e.wrapper,n=e.options,r=n.position,a=this.containment?L(i[0]).top+R(this.containment,"borderTopWidth"):R(i,"top"),o=this.containment?L(i[0]).left+R(this.containment,"borderLeftWidth"):R(i,"left");if(!e.options.isMaximized){r.top=a;r.left=o;if(e._scrollIsAppended&&(!this.containment||this.containment.css("position")!=="fixed")){r.top-=t.scrollTop();r.left-=t.scrollLeft();e._scrollIsAppended=false}i.css(l(r,{position:"fixed"}));i.children(x).find(ae).addClass("k-i-unpin").removeClass("k-i-pin");e._isPinned=true;e.options.pinned=true;if(this.containment){n.maxWidth=n.maxHeight=Infinity;i.css({maxWidth:"",maxHeight:""})}}},unpin:function(){var e=this,t=w(window),i=e.wrapper,n=e.options,r=e.options.position,a=e.containment,o=parseInt(i.css("top"),10)+t.scrollTop(),s=parseInt(i.css("left"),10)+t.scrollLeft();if(!e.options.isMaximized){e._isPinned=false;e._scrollIsAppended=true;e.options.pinned=false;if(a){e._updateBoundaries();n.maxWidth=Math.min(a.width,n.maxWidth);n.maxHeight=Math.min(a.height-R(i,"padding-top"),n.maxHeight);i.css({maxWidth:n.maxWidth,maxHeight:n.maxHeight});if(o<a.position.top)o=e.minTop;else if(o>a.position.top+a.height)o=e.maxTop;else o=o+a.scrollTop()-(a.position.top+R(a,"border-top-width"));if(s<a.position.left)s=e.minLeft;else if(s>a.position.left+a.width)s=e.maxLeft;else s=s+a.scrollLeft()-(a.position.left+R(a,"border-left-width"))}r.top=N(o,e.minTop,e.maxTop);r.left=N(s,e.minLeft,e.maxLeft);i.css(l(r,{position:""}));i.children(x).find(oe).addClass("k-i-pin").removeClass("k-i-unpin")}},_onDocumentResize:function(){var e=this,t=e.wrapper,i=w(window),n=y.support.zoomLevel(),r=t.css("box-sizing")=="content-box",a,o;if(!e.options.isMaximized)return;var s=r?R(t,"border-left-width")+R(t,"border-right-width"):0;var l=r?R(t,"border-top-width")+R(t,"border-bottom-width"):0;var d=r?R(t,"padding-top"):0;if(e.containment&&!e._isPinned){a=e.containment.innerWidth()-s;o=e.containment.innerHeight()-(l+d)}else{a=i.width()/n-s;o=i.height()/n-(l+d)}t.css({width:a,height:o});e.options.width=a;e.options.height=o;e.resize()},refresh:function(e){var t=this,i=t.options,n=w(t.element),r,a,o;if(!v(e))e={url:e};e=l(i.content,e);a=z(i.iframe)?i.iframe:e.iframe;o=e.url;if(o){if(!z(a))a=!ce(o);if(!a)t._ajaxRequest(e);else{r=n.find("."+S)[0];if(r)r.src=o||r.src;else n.html(f.contentFrame(l({},i,{content:e})));n.find("."+S).off("load"+_).on("load"+_,this._triggerRefresh.bind(this))}}else{if(e.template)t.content(s(e.template)({}));t.trigger(d)}n.toggleClass("k-window-iframecontent",!!a);return t},_triggerRefresh:function(){this.trigger(d)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(le).removeClass(U)},_ajaxError:function(e,t){this.trigger(ne,{status:t,xhr:e})},_ajaxSuccess:function(i){return function(e){var t=e;if(i)t=s(i)(e||{});this.content(t,e);this.element.prop("scrollTop",0);this.trigger(d)}},_showLoading:function(){this.wrapper.find(le).addClass(U)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(this._showLoading.bind(this),100);w.ajax(l({type:"GET",dataType:"html",cache:false,error:this._ajaxError.bind(this),complete:this._ajaxComplete.bind(this),success:this._ajaxSuccess(e.template).bind(this)},e))},_destroy:function(){if(this.resizing)this.resizing.destroy();if(this.dragging)this.dragging.destroy();this.wrapper.off(_).children(C).off(_).end().find(".k-resize-handle,.k-window-titlebar").off(_);w(window).off("resize"+_+this._marker);w(window).off(u);w(window).off(_);clearTimeout(this._loadingIconTimeout);g.fn.destroy.call(this);this.unbind(m);y.destroy(this.wrapper)},destroy:function(){this._destroy();if(this.options.modal)this._removeOverlay(true);this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=w()},_createWindow:function(){var e=this.element,t=this.options,i,n,r=y.support.isRtl(e);if(t.scrollable===false)e.css("overflow","hidden");n=w(f.wrapper(t));i=e.find("iframe:not(.k-content-frame)").map(function(){var e=this.getAttribute("src");this.src="";return e});n.toggleClass("k-rtl",r).attr("tabindex",0).append(e).find("iframe:not(.k-content-frame)").each(function(e){this.src=i[e]});if(this.containment)this.containment.prepend(n);else if(this.appendTo)n.appendTo(this.appendTo);n.find(".k-window-title").css(r?"left":"right",o(n.find(".k-window-actions"))+10);e.css("visibility","").show();e.find("[data-role=editor]").each(function(){var e=w(this).data("kendoEditor");if(e)e.refresh()});n=e=null}});function he(e){var t=this;t.owner=e;t._preventDragging=false;t._draggable=new n(e.wrapper,{filter:">"+p,group:e.wrapper.id+"-resizing",dragstart:t.dragstart.bind(t),drag:t.drag.bind(t),dragend:t.dragend.bind(t)});t._draggable.userEvents.bind("press",t.addOverlay.bind(t));t._draggable.userEvents.bind("release",t.removeOverlay.bind(t))}function me(e,t){var i=this;i.owner=e;i._preventDragging=false;i._draggable=new n(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:i.dragstart.bind(i),drag:i.drag.bind(i),dragend:i.dragend.bind(i),dragcancel:i.dragcancel.bind(i)});i._draggable.userEvents.stopPropagation=false}return f={wrapper:s("<div class='k-widget k-window'></div>"),action:s("<a role='button' href='\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>"+"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>"+"</a>"),titlebar:s("<div class='k-window-titlebar k-hstack'>"+"<span class='k-window-title'>#= title #</span>"+"<div class='k-window-actions k-hstack'></div>"+"</div>"),overlay:"<div class='k-overlay'></div>",contentFrame:s("<iframe frameborder='0' title='#= title #' class='"+S+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:s("<div aria-hidden='true' class='k-resize-handle k-resize-#= data #'></div>")},he.prototype={addOverlay:function(){this.owner.wrapper.append(f.overlay)},removeOverlay:function(){this.owner.wrapper.find(h).remove()},dragstart:function(e){var t=this;var i=t.owner;var n=i.wrapper;t._preventDragging=i.trigger(Q);if(t._preventDragging)return;t.elementPadding=parseInt(n.css("padding-top"),10);t.initialPosition=y.getOffset(n,"position");t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-","");t.initialSize={width:n.outerWidth(),height:n.outerHeight()};i._updateBoundaries();t.containerOffset=i.containment?i.containment.position:y.getOffset(i.appendTo);var r=n.offsetParent();if(r.is("html"))t.containerOffset.top=t.containerOffset.left=0;else{var a=r.css("margin-top");var o=r.css("margin-left");var s=!ue.test(a)||!ue.test(o);if(s){var l=L(n[0]);var d=l.left-t.containerOffset.left-t.initialPosition.left;var u=l.top-t.containerOffset.top-t.initialPosition.top;t._relativeElMarginLeft=d>1?d:0;t._relativeElMarginTop=u>1?u:0;t.initialPosition.left+=t._relativeElMarginLeft;t.initialPosition.top+=t._relativeElMarginTop}}n.children(p).not(e.currentTarget).hide();w(c).css(E,e.currentTarget.css(E))},drag:function(e){if(this._preventDragging)return;var t=this,i=t.owner,n=i.wrapper,r=i.options,a=r.position,o=t.resizeDirection,s=t.containerOffset,l=t.initialPosition,d=t.initialSize,u=i.containment&&!i._isPinned,c=y.support.isRtl(i.containment),f=u&&c&&i.containment.innerWidth()>i.containment.width?y.support.scrollbar():0,p=u?{top:i.containment.scrollTop(),left:i.containment.scrollLeft()}:{top:0,left:0},h,m,g,v,_=Math.max(e.x.location,0),b=Math.max(e.y.location,0);if(o.indexOf("e")>=0){if(i.containment&&_-d.width>=i.maxLeft-p.left+s.left+f)h=i.maxLeft+f-l.left+d.width-p.left;else h=_-l.left-s.left;n.outerWidth(N(h,r.minWidth,r.maxWidth))}else if(o.indexOf("w")>=0){v=l.left+d.width+s.left;h=N(v-_,r.minWidth,r.maxWidth);a.left=v-h-s.left-f-(t._relativeElMarginLeft||0)+p.left;if(i.containment&&a.left<=i.minLeft){a.left=i.minLeft;h=N(v-f-a.left-s.left+p.left,r.minWidth,r.maxWidth)}n.css({left:a.left,width:h})}var k=b;if(i.options.pinned)k-=w(window).scrollTop();if(o.indexOf("s")>=0){m=k-l.top-t.elementPadding-s.top;if(k-d.height-t.elementPadding>=i.maxTop+s.top-p.top)m=i.maxTop-l.top+d.height-p.top;n.outerHeight(N(m,r.minHeight,r.maxHeight))}else if(o.indexOf("n")>=0){g=l.top+d.height+s.top;m=N(g-k,r.minHeight,r.maxHeight);a.top=g-m-s.top-(t._relativeElMarginTop||0)+p.top;if(a.top<=i.minTop&&i.containment){a.top=i.minTop;m=N(g-a.top-s.top+p.top,r.minHeight,r.maxHeight)}n.css({top:a.top,height:m})}if(h)i.options.width=h+"px";if(m)i.options.height=m+"px";i.resize()},dragend:function(e){if(this._preventDragging)return;var t=this,i=t.owner,n=i.wrapper;n.children(p).not(e.currentTarget).show();w(c).css(E,"");if(i.touchScroller)i.touchScroller.reset();if(e.keyCode==27)n.css(t.initialPosition).css(t.initialSize);i.trigger(J);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},me.prototype={dragstart:function(e){var t=this.owner,i=t.options.draggable,n=t.element,r=n.find(".k-window-actions"),a=y.getOffset(t.appendTo);this._preventDragging=t.trigger(Z)||!i;if(this._preventDragging||t.isMaximized())return;t.initialWindowPosition=y.getOffset(t.wrapper,"position");t.initialPointerPosition={left:t.options.position.left,top:t.options.position.top};t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top};t._updateBoundaries();if(!t.containment){if(r.length>0)t.minLeft=o(r)+parseInt(r.css("right"),10)-o(n);else t.minLeft=20-o(n);t.minLeft-=a.left;t.minTop=-a.top}w(f.overlay).appendTo(t.wrapper).css({opacity:0});t.wrapper.children(p).hide();w(c).css(E,e.currentTarget.css(E))},drag:function(e){var t=this.owner;var i=t.options.position;var n=t.options.draggable.axis;var r;var a;if(this._preventDragging||t.isMaximized())return;if(!n||n.toLowerCase()==="x"){r=e.x.client-t.startPosition.left;if(t.containment&&!t._isPinned)r+=t.containment.scrollLeft();i.left=N(r,t.minLeft,t.maxLeft)}if(!n||n.toLowerCase()==="y"){a=e.y.client-t.startPosition.top;if(t.containment&&!t._isPinned)a+=t.containment.scrollTop();i.top=N(a,t.minTop,t.maxTop)}if(y.support.transforms)w(t.wrapper).css("transform","translate("+(i.left-t.initialPointerPosition.left)+"px, "+(i.top-t.initialPointerPosition.top)+"px)");else w(t.wrapper).css(i)},_finishDrag:function(){var e=this.owner;e.wrapper.children(p).toggle(!e.options.isMinimized).end().find(h).remove();w(c).css(E,"")},dragcancel:function(e){if(this._preventDragging)return;this._finishDrag();e.currentTarget.closest(b).css(this.owner.initialWindowPosition)},dragend:function(){var e=this.owner;if(this._preventDragging||e.isMaximized())return;w(e.wrapper).css(e.options.position).css("transform","");this._finishDrag();e.trigger(ee);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},y.ui.plugin(pe),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filtermenu.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.dropdownlist.min","kendo.binder.min"],function(){var z={id:"filtermenu",name:"Filtering Menu",category:"framework",depends:["datepicker","numerictextbox","dropdownlist","binder"],advanced:true},l=window.kendo.jQuery,d=void 0,u=window.kendo,t=u.ui,R,e=u.support.browser.chrome?"disabled":"off",a="kendoPopup",o="init",i="open",r="refresh",c="change",s=".kendoFilterMenu",f="[scope='col']",n="Is equal to",p="Is not equal to",h={number:"numerictextbox",date:"datepicker"},m={string:"text",number:"number",date:"date"},g=u.isFunction,v=t.Widget,_='<div class="k-filter-menu-container">'+'<div class="k-filter-help-text">#=messages.info#</div>'+"<label>"+'<input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>'+"#=messages.isTrue#"+"</label>"+"<label>"+'<input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>'+"#=messages.isFalse#"+"</label>"+'<div class="k-action-buttons">'+'<button type="submit" title="#=messages.filter#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#=messages.filter#</span></button>'+'<button type="reset" title="#=messages.clear#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#=messages.clear#</span></button>'+"</div>"+"</div>",b="#var inputId;#"+'<div class="k-filter-menu-container">'+"<div>"+'<ul class="k-radio-list k-reset">'+"<li>"+"#inputId = kendo.guid()#"+'<input type="radio" class="k-radio k-radio-md" id="#=inputId#" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value" />'+'<label class="k-radio-label" for="#=inputId#">#=messages.isTrue#</label>'+"</li>"+"<li>"+"#inputId = kendo.guid()#"+'<input type="radio" class="k-radio k-radio-md" id="#=inputId#" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value" />'+'<label class="k-radio-label" for="#=inputId#">#=messages.isFalse#</label>'+"</li>"+"</ul>"+'<div class="k-columnmenu-actions">'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" type="reset" title="#=messages.clear#"><span class="k-button-text">#=messages.clear#</span></button>'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary" type="submit" title="#=messages.filter#"><span class="k-button-text">#=messages.filter#</span></button>'+"</div>"+"</div>"+"</div>",k='<div class="k-filter-menu-container">'+'<div class="k-filter-help-text">#=messages.info#</div>'+"<label>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" data-#=ns#bind="value: filters[0].value" name="filters[0].value"/></span>'+"</label>"+'<div class="k-action-buttons">'+'<button type="submit" title="#=messages.filter#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#=messages.filter#</span></button>'+'<button type="reset" title="#=messages.clear#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#=messages.clear#</span></button>'+"</div>"+"</div>",w='<div class="k-filter-menu-container">'+'#if(componentType === "classic") {#'+'<div class="k-filter-help-text">#=messages.info#</div>'+"#}#"+'<select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"#if(values){#"+'<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true">'+"</select>"+"#}else{#"+'<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-input-inner" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />'+"#}#"+"#if(extra){#"+'#if(componentType === "modern") {#'+'<ul data-#=ns#role="buttongroup" data-bind="events: { select: onLogicChange }">'+'<li data-#=ns#value="and">And</li>'+'<li data-#=ns#value="or">Or</li>'+"</ul>"+"#} else {#"+'<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist">'+'<option value="and">#=messages.and#</option>'+'<option value="or">#=messages.or#</option>'+"</select>"+"#}#"+'<select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"#if(values){#"+'<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true">'+"</select>"+"#}else{#"+'<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-input-inner" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>'+"#}#"+"#}#"+'<div class="k-action-buttons">'+'<button type="submit" title="#=messages.filter#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#=messages.filter#</span></button>'+'<button type="reset" title="#=messages.clear#" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#=messages.clear#</span></button>'+"</div>"+"</div>",y='<div data-#=ns#role="view" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" '+'aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+"#=messages.filter# #=messages.into# #=title#"+'<a href="\\#" class="k-header-done k-link" title="#=messages.done#" '+'aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a>'+"</div>"+'<form title="#=messages.title#" class="k-filter-menu">'+'<ul class="k-reset">'+"<li>"+'<span class="k-list-title k-filter-help-text">#=messages.info#</span>'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-operator-text">#=messages.operator#</span>'+'<span class="k-listgroup-form-field-wrapper">'+'<select id="operator_#=filterMenuGuid#" title="#=messages.operator#" class="k-filter-operator" data-#=ns#bind="value: filters[0].operator" autocomplete="'+e+'" >'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"</span>"+"</label>"+"</li>"+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-input-text">#=messages.value#</span>'+'<span class="k-listgroup-form-field-wrapper">'+"#if(values){#"+'<select id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" autocomplete="'+e+'" >'+'<option value="">#=messages.selectValue#</option>'+"#for(var val in values){#"+'<option value="#=values[val].value#">#=values[val].text#</option>'+"#}#"+"</select>"+"#}else{#"+'<input id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-value-input" type="#=inputType#" autocomplete="'+e+'" />'+"#}#"+"</span>"+"</label>"+"</li>"+"</ul>"+"#if(extra){#"+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-logic-and-text">#=messages.and#</span>'+'<span class="k-listgroup-form-field-wrapper">'+'<input id="and_#=filterMenuGuid#" title="#=messages.and#" type="radio" name="logic"data-#=ns#bind="checked: logic" value="and" autocomplete="'+e+'" />'+"</span>"+"</label>"+"</li>"+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-logic-or-text">#=messages.or#</span>'+'<span class="k-listgroup-form-field-wrapper">'+'<input id="or_#=filterMenuGuid#" title="#=messages.or#" type="radio" name="logic" data-#=ns#bind="checked: logic" value="or" autocomplete="'+e+'" />'+"</span>"+"</label>"+"</li>"+"</ul>"+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-operator-text">#=messages.additionalOperator#</span>'+'<span class="k-listgroup-form-field-wrapper">'+'<select id="additionalOperator_#=filterMenuGuid#" title="#=messages.additionalOperator#" class="k-filter-operator" data-#=ns#bind="value: filters[1].operator" autocomplete="'+e+'" >'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"</span>"+"</label>"+"</li>"+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-filter-input-text">#=messages.additionalValue#</span>'+'<span class="k-listgroup-form-field-wrapper">'+"#if(values){#"+'<select id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" autocomplete="'+e+'" >'+'<option value="">#=messages.selectValue#</option>'+"#for(var val in values){#"+'<option value="#=values[val].value#">#=values[val].text#</option>'+"#}#"+"</select>"+"#}else{#"+'<input id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" class="k-value-input" type="#=inputType#" autocomplete="'+e+'" />'+"#}#"+"</span>"+"</label>"+"</li>"+"</ul>"+"#}#"+"</li>"+'<li class="k-item k-clear-wrap">'+'<span class="k-list-title">&nbsp;</span>'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-listgroup-item">'+'<span class="k-link k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">'+"#=messages.clear#"+"</span>"+"</li>"+"</ul>"+"</li>"+"</ul>"+"</form>"+"</div>",x='<div data-#=ns#role="view" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" '+'aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+"#=messages.filter# #=messages.into# #=title#"+'<a href="\\#" class="k-header-done k-link" title="#=messages.done#" '+'aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a>'+"</div>"+'<form title="#=messages.title#" class="k-filter-menu">'+'<ul class="k-reset">'+"<li>"+'<span class="k-list-title k-filter-help-text">#=messages.info#</span>'+'<ul class="k-listgroup k-listgroup-flush k-multicheck-bool-wrap">'+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span class="k-listgroup-form-field-label k-item-title">#=messages.isTrue#</span>'+'<span class="k-listgroup-form-field-wrapper"></span>'+'<input id="true_#=filterMenuGuid#" title="#=messages.isTrue#" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value" autocomplete="'+e+'" />'+"</span>"+"</label>"+"</li>"+'<li class="k-item k-listgroup-item">'+'<label class="k-listgroup-form-row k-label">'+'<span for="false_#=filterMenuGuid#" class="k-listgroup-form-field-label k-item-title">#=messages.isFalse#</span>'+'<span class="k-listgroup-form-field-wrapper">'+'<input id="false_#=filterMenuGuid#" title="#=messages.isFalse#" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value" autocomplete="'+e+'" />'+"</span>"+"</label>"+"</li>"+"</ul>"+"</li>"+'<li class="k-item k-clear-wrap">'+'<span class="k-list-title">&nbsp;</span>'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-listgroup-item">'+'<span class="k-link k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">'+"#=messages.clear#"+"</span>"+"</li>"+"</ul>"+"</li>"+"</ul>"+"</form>"+"</div>";function C(e,t){if(e.filters)e.filters=l.grep(e.filters,function(e){C(e,t);if(e.filters)return e.filters.length;else return e.field!=t})}function S(e){var t,i,n,r,a,o;if(e&&e.length){o=[];for(t=0,i=e.length;t<i;t++){n=e[t];a=n.text!==""?n.text||n.value||n:n.text;r=n.value==null?n.text||n:n.value;o[t]={text:a,value:r}}}return o}function T(e,t){return l.grep(e,function(e){if(e.filters){e.filters=l.grep(e.filters,function(e){return e.field!=t});return e.filters.length}return e.field!=t})}var I=v.extend({init:function(e,t){var i=this,n="string",r,a,o,s;t=t||{};t.componentType=t.componentType||"classic";v.fn.init.call(i,e,t);r=i.operators=t.operators||{};e=i.element;t=i.options;i.dataSource=P.create(t.dataSource);i.field=t.field||e.attr(u.attr("field"));s=l(e.closest(f));if(s.length)i.appendTo=s.find(t.appendTo);else i.appendTo=l(t.appendTo);i.link=i._createLink()||l();i.model=i.dataSource.reader.model;i._parse=function(e){return e!=null?e+"":e};if(i.model&&i.model.fields){o=i.model.fields[i.field];if(o){n=o.type||"string";if(o.parse)i._parse=o.parse.bind(o)}}if(t.values)n="enums";i.type=n;r=r[n]||t.operators[n];for(a in r)break;i._defaultFilter=function(){return{field:i.field,operator:a||"eq",value:""}};i._refreshHandler=i.refresh.bind(i);i.dataSource.bind(c,i._refreshHandler);if(t.appendToElement)i._init();else i.refresh()},_init:function(){var e=this,t=e.options.ui,i=g(t),n=u.attr("role"),r;e.pane=e.options.pane;if(e.pane)e._isMobile=true;if(!i)r=t||h[e.type];if(e._isMobile)e._createMobileForm(r);else e._createForm(r);e.form.on("submit"+s,e._submit.bind(e)).on("reset"+s,e._reset.bind(e));if(i)e.form.find(".k-input-inner").removeClass("k-input-inner").each(function(){t(l(this))});else{e.form.find(".k-input-inner["+n+"]").removeClass("k-input-inner");e.form.find(".k-input-inner:not([data-role]):not(.k-numerictextbox>.k-input-inner)").wrap("<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'></span>")}e.refresh();e.trigger(o,{field:e.field,container:e.form});if(e.options.cycleForm)u.cycleForm(e.form)},_createForm:function(e){var t=this,i=t.options,n=t.operators||{},r=t.type;n=n[r]||i.operators[r];t.form=l('<form title="'+t.options.messages.title+'" class="k-filter-menu"/>').html(u.template(t._getTemplate())({field:t.field,format:i.format,ns:u.ns,messages:i.messages,extra:i.extra,operators:n,type:r,role:e,values:S(i.values),componentType:t.options.componentType}));if(!i.appendToElement)t.popup=t.form[a]({anchor:t.link,copyAnchorStyles:false,open:t._open.bind(t),activate:t._activate.bind(t),close:function(){if(t.options.closeCallback)t.options.closeCallback(t.element)}}).data(a);else{t.element.append(t.form);t.popup=t.element.closest(".k-popup").data(a)}t.form.on("keydown"+s,t._keydown.bind(t))},_getTemplate:function(){var e=this,t=g(e.options.ui);if(e.type==="boolean")if(t)return k;else if(e.options.componentType==="modern")return b;else return _;else return w},_createMobileForm:function(e){var t=this,i=t.options,n=t.operators||{},r=u.guid(),a=t.type;n=n[a]||i.operators[a];t.form=l("<div />").html(u.template(a==="boolean"?x:y)({field:t.field,title:i.title||t.field,format:i.format,ns:u.ns,messages:i.messages,extra:i.extra,operators:n,filterMenuGuid:r,type:a,role:e,inputType:m[a],values:S(i.values)}));t.view=t.pane.append(t.form.html());t.form=t.view.element.find("form");t.view.element.on("click",".k-header-done",function(e){t.form.submit();e.preventDefault()}).on("click",".k-header-cancel",function(e){t._closeForm();e.preventDefault()}).on("click",".k-clear",function(e){t._mobileClear();e.preventDefault()});t.view.bind("showStart",function(){t.refresh()})},_createLink:function(){var e=this,t=e.element,i=e.appendTo.length?t.find(e.appendTo):t,n=e.options,r=u.format(n.messages.buttonTitle,e.options.title||e.field),a;if(n.appendToElement)return;a=t.addClass("k-filterable").find(".k-grid-filter");if(!a[0])a=i.append('<a class="k-grid-filter-menu k-grid-filter" href="#" title="'+r+'" ><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter");a.attr("tabindex",-1).on("click"+s,e._click.bind(e));return a},refresh:function(){var n=this,e=n.dataSource.filter()||{filters:[],logic:"and"};var t=[n._defaultFilter()];var i=n._defaultFilter().operator;if(n.options.extra||i!=="isnull"&&i!=="isnullorempty"&&i!=="isnotnullorempty"&&i!=="isnotnull"&&i!=="isempty"&&i!=="isnotempty")t.push(n._defaultFilter());n.filterModel=u.observable({logic:"and",filters:t});if(n.form){u.bind(n.form.children().first(),n.filterModel);if(n.options.componentType==="modern"&&n.options.extra&&n.type!=="boolean"&&!n._isMobile){n.filterModel.bind("change",function(){var e=u.attr("role");var t=n.form.find("["+e+"='buttongroup']").data("kendoButtonGroup");var i=this.logic==="and"?0:1;t.select(t.element.children().eq(i))});n.filterModel.set("onLogicChange",n._logicChangeHandler)}}if(n._bind(e))n.link.addClass("k-active");else n.link.removeClass("k-active")},_logicChangeHandler:function(e){var t=u.attr("value");var i=e.sender.current().attr(t);this.set("logic",i)},destroy:function(){var e=this;v.fn.destroy.call(e);if(e.form){u.unbind(e.form);u.destroy(e.form);e.form.off(s);if(e.popup){e.popup.destroy();e.popup=null}e.form=null}if(e.view){e.view.purge();e.view=null}e.link.off(s);if(e._refreshHandler){e.dataSource.unbind(c,e._refreshHandler);e.dataSource=null}e.element=e.link=e._refreshHandler=e.filterModel=null},_bind:function(e){var t=this,i=e.filters,n,r,a=false,o=0,s=t.filterModel,l,d;for(n=0,r=i.length;n<r;n++){d=i[n];if(d.field==t.field){s.set("logic",e.logic);l=s.filters[o];if(!l){s.filters.push({field:t.field});l=s.filters[o]}l.set("value",t._parse(d.value));l.set("operator",d.operator);o++;a=true}else if(d.filters)a=a||t._bind(d)}return a},_stripFilters:function(e){return l.grep(e,function(e){return e.value!==""&&e.value!=null||(e.operator==="isnull"||e.operator==="isnotnull"||e.operator==="isempty"||e.operator==="isnotempty"||e.operator=="isnullorempty"||e.operator=="isnotnullorempty")})},_merge:function(e){var t=this,i=e.logic||"and",n=this._stripFilters(e.filters),r,a=t.dataSource.filter()||{filters:[],logic:"and"},o,s;C(a,t.field);for(o=0,s=n.length;o<s;o++){r=n[o];r.value=t._parse(r.value)}if(n.length)if(a.filters.length){e.filters=n;if(a.logic!=="and"){a.filters=[{logic:a.logic,filters:a.filters}];a.logic="and"}if(n.length>1)a.filters.push(e);else a.filters.push(n[0])}else{a.filters=n;a.logic=i}return a},filter:function(e){var t=this._stripFilters(e.filters);if(t.length&&this.trigger("change",{filter:{logic:e.logic,filters:t},field:this.field}))return;e=this._merge(e);if(e.filters.length)this.dataSource.filter(e)},clear:function(e){var t=this;e=e||l.extend(true,{},{filters:[]},t.dataSource.filter())||{filters:[]};if(this.trigger("change",{filter:null,field:t.field}))return;t._removeFilter(e)},_mobileClear:function(){var e=this;var t=e.view.element;if(e.type==="boolean"){var i=t.find("[type='radio']:checked");var n=i.val();i.val("");i.trigger("change");i.val(n);i.prop("checked",false)}else{var r=t.find("select");r.each(function(e,t){var i=l(t);i.val(i.find("option").first().val());i.trigger("change")});if(e.type==="string"||e.type==="date"||e.type==="number"){var a=t.find(".k-value-input");a.each(function(e,t){var i=l(t);i.val("");i.trigger("change")})}if(e.options.extra){var o=t.find("[name=logic]").first();o.prop("checked",true);o.trigger("change")}}},_removeFilter:function(e){var t=this;e.filters=l.grep(e.filters,function(e){if(e.filters){e.filters=T(e.filters,t.field);return e.filters.length}return e.field!=t.field});if(!e.filters.length)e=null;t.dataSource.filter(e)},_submit:function(e){e.preventDefault();e.stopPropagation();var t=this.filterModel.toJSON();var i=l.grep(t.filters,function(e){return e.value!==""&&e.value!==null});if(this._checkForNullOrEmptyFilter(t)||i&&i.length)this.filter(t);else{var n=this.dataSource.filter();if(n){n.filters.push(t);t=n}this.clear(t)}this._closeForm()},_checkForNullOrEmptyFilter:function(e){if(!e||!e.filters||!e.filters.length)return false;var t=false;var i=false;var n;if(e.filters[0]){n=e.filters[0].operator;t=n=="isnull"||n=="isnotnull"||n=="isnotempty"||n=="isempty"||n=="isnullorempty"||n=="isnotnullorempty"}if(e.filters[1]){n=e.filters[1].operator;i=n=="isnull"||n=="isnotnull"||n=="isnotempty"||n=="isempty"||n=="isnullorempty"||n=="isnotnullorempty"}return!this.options.extra&&t||this.options.extra&&(t||i)},_reset:function(){this.clear();if(this.options.search&&this.container)this.container.find("label").parent().show();this._closeForm()},_closeForm:function(){if(this._isMobile)this.pane.navigate("",this.options.animations.right);else this.popup.close()},_click:function(e){e.preventDefault();e.stopPropagation();if(!this.popup&&!this.pane)this._init();if(this._isMobile)this.pane.navigate(this.view,this.options.animations.left);else this.popup.toggle()},_open:function(){var e;l(".k-filter-menu").not(this.form).each(function(){e=l(this).data(a);if(e)e.close()})},_activate:function(){this.form.find(":kendoFocusable").first().trigger("focus");this.trigger(i,{field:this.field,container:this.form})},_keydown:function(e){var t=l(e.target),i;if(e.keyCode==u.keys.ESC){i=u.widgetInstance(t.find("select"));if(t.hasClass("k-picker")&&i&&i.popup.visible()){e.stopPropagation();return}t.closest(".k-popup").getKendoPopup().close()}},events:[o,"change",i],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:n,neq:p,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:n,neq:p,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:n,neq:p,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:n,neq:p,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel",done:"Done",into:"in",buttonTitle:"{0} filter column settings"},animations:{left:"slide",right:"slide:right"},componentType:"classic",cycleForm:true,appendTo:null}}),D=".kendoFilterMultiCheck";function E(e,t){if(e.filters)e.filters=l.grep(e.filters,function(e){E(e,t);if(e.filters)return e.filters.length;else return e.field==t&&e.operator=="eq"})}function A(e){if(e.logic=="and"&&e.filters.length>1)return[];if(e.filters)return l.map(e.filters,function(e){return A(e)});else if(e.value!==d)return[e.value];else return[]}function F(e,t){var i=u.getter(t,true),n=[],r=0,a={};while(r<e.length){var o=e[r++],s=i(o);if(s!==d&&!a.hasOwnProperty(s)){n.push(o);a[s]=true}}return n}function H(i,n){return function(e){var t=i(e);return F(t,n)}}var P=u.data.DataSource,O='<div data-#=ns#role="view" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" '+'aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+"#=messages.filter# #=messages.into# #=title#"+'<a href="\\#" class="k-header-done k-link" title="#=messages.done#" '+'aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a>'+"</div>"+'<form class="k-filter-menu">'+'<ul class="k-reset">'+"#if(search){#"+'<li class="k-space-right">'+'<span class="k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid">'+'<input class="k-input-inner" placeholder="#=messages.search#" title="#=messages.search#" autocomplete="'+e+'"  />'+'<span class="k-input-suffix"><span class="k-icon k-i-zoom"></span>'+"</span>"+"</li>"+"#}#"+'<li class="k-filter-tools">'+'<span style="#=checkAll ? "" : "visibility: hidden;" #" class="k-label k-select-all" title="#=messages.checkAll#" '+'aria-label="#=messages.checkAll#">#=messages.checkAll#</span>'+'<span class="k-label k-clear-all" title="#=messages.clearAll#" '+'aria-label="#=messages.clearAll#">#=messages.clearAll#</span>'+"</li>"+"#if(messages.selectedItemsFormat){#"+"<li>"+'<div class="k-filter-selected-items"></div>'+"</li>"+"#}#"+"<li>"+'<ul class="k-multicheck-wrap k-listgroup k-listgroup-flush"></ul>'+"</li>"+"</ul>"+"</form>"+"</div>",M=v.extend({init:function(e,t){v.fn.init.call(this,e,t);t=this.options;this.element=l(e);var i;var n=this.field=this.options.field||this.element.attr(u.attr("field"));var r=t.checkSource;if(this._foreignKeyValues()){this.checkSource=P.create(t.values);this.checkSource.fetch()}else if(t.forceUnique){r=l.extend(true,{},t.dataSource.options);delete r.pageSize;this.checkSource=P.create(r);this.checkSource.reader.data=H(this.checkSource.reader.data,this.field)}else this.checkSource=P.create(r);this.dataSource=t.dataSource;this.model=this.dataSource.reader.model;this._parse=function(e){return e+""};if(this.model&&this.model.fields){n=this.model.fields[this.field];if(n){if(n.type=="number")this._parse=function(e){if(typeof e==="string"&&(e.toLowerCase()==="null"||this._foreignKeyValues()&&e===""))return null;return parseFloat(e)};else if(n.parse)this._parse=n.parse.bind(n);this.type=n.type||"string"}}i=l(e.closest(f));if(i.length)this.appendTo=i.find(t.appendTo);else this.appendTo=l(t.appendTo);if(!t.appendToElement)this._createLink();else this._init();this._refreshHandler=this.refresh.bind(this);this.dataSource.bind(c,this._refreshHandler)},_createLink:function(){var e=this.element;var t=this.appendTo.length?e.find(this.appendTo):e;var i=e.addClass("k-filterable").find(".k-grid-filter");var n=u.format(this.options.messages.buttonTitle,this.options.title||this.field);if(!i[0])i=t.append('<a class="k-grid-filter-menu k-grid-filter" href="#" title="'+n+'" aria-label="'+n+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter");this._link=i.attr("tabindex",-1).on("click"+s,this._click.bind(this))},_init:function(){var e=this;var t=this.options.forceUnique;var i=this.options;this.pane=i.pane;if(this.pane)this._isMobile=true;this._createForm();if(this._foreignKeyValues())this.refresh();else if(t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length){this.checkSource.data(F(this.dataSource.data(),this.field));this.refresh()}else{this._attachProgress();this.checkSource.fetch(function(){e.refresh.call(e)})}if(!this.options.forceUnique){this.checkChangeHandler=function(){e.container.empty();e.refresh()};this.checkSource.bind(c,this.checkChangeHandler)}this.form.on("keydown"+D,this._keydown.bind(this)).on("submit"+D,this._filter.bind(this)).on("reset"+D,this._reset.bind(this));this.trigger(o,{field:this.field,container:this.form})},_attachProgress:function(){var e=this;this._progressHandler=function(){t.progress(e.container,true)};this._progressHideHandler=function(){t.progress(e.container,false)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var e=this;e._clearTypingTimeout();e._typingTimeout=setTimeout(function(){e.search()},100)},_clearSearch:function(){var e=this;e.searchTextBox.val("");e.search()},_clearTypingTimeout:function(){if(this._typingTimeout){clearTimeout(this._typingTimeout);this._typingTimeout=null}},search:function(){var e=this.options.ignoreCase;var t=this.searchTextBox[0].value;var i=this.container.find("label");if(e)t=t.toLowerCase();var n=0;if(this.options.checkAll&&i.length)if(!this._isMobile){i[0].parentNode.style.display=t?"none":"";n++}else this.view.element.find(".k-select-all")[0].style.visibility=t?"hidden":"";while(n<i.length){var r=i[n];var a=r.textContent||r.innerText;if(e)a=a.toLowerCase();r.parentNode.style.display=a.indexOf(t)>=0?"":"none";n++}},_activate:function(){this.form.find(":kendoFocusable").first().trigger("focus");this.trigger(i,{field:this.field,container:this.form})},_createForm:function(){var e=this.options;var t="";var i=this;if(!this._isMobile){t+="<div class='k-filter-menu-container'>";if(e.search)t+="<span class='k-searchbox k-textbox k-input k-input-md k-rounded-md k-input-solid'>"+"<span class='k-input-icon k-icon k-i-search'></span>"+"<input class='k-input-inner' type='text' placeholder='"+e.messages.search+"' />"+"<span class='k-input-suffix'>"+"<span class='k-clear-value'><span class='k-icon k-i-x'></span></span>"+"</span>"+"</span>";t+="<ul class='k-reset k-multicheck-wrap'></ul>";if(e.messages.selectedItemsFormat)t+="<div class='k-filter-selected-items'>"+u.format(e.messages.selectedItemsFormat,0)+"</div>";t+="<div class='k-action-buttons'>";t+="<button type='submit' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>"+e.messages.filter+"</span></button>";t+="<button type='reset' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>"+e.messages.clear+"</span></button>";t+="</div>";t+="</div>";this.form=l('<form class="k-filter-menu"/>').html(t);this.container=this.form.find(".k-multicheck-wrap")}if(this._isMobile){i.form=l("<div />").html(u.template(O)({field:i.field,title:e.title||i.field,ns:u.ns,messages:e.messages,search:e.search,checkAll:e.checkAll}));i.view=i.pane.append(i.form.html());i.form=i.view.element.find("form");var n=this.view.element;this.container=n.find(".k-multicheck-wrap");n.on("click",".k-header-done",function(e){i.form.submit();e.preventDefault()}).on("click",".k-header-cancel",function(e){i._closeForm();e.preventDefault()}).on("click",".k-clear-all",function(e){i._mobileCheckAll(false);e.preventDefault()}).on("click",".k-select-all",function(e){i._mobileCheckAll(true);e.preventDefault()});i.view.bind("showStart",function(){i.refresh()})}else if(!e.appendToElement)i.popup=i.form.kendoPopup({anchor:i._link,copyAnchorStyles:false,open:i._open.bind(i),activate:i._activate.bind(i),close:function(){if(i.options.closeCallback)i.options.closeCallback(i.element)}}).data(a);else{this.popup=this.element.closest(".k-popup").data(a);this.element.append(this.form)}if(e.search){this.searchTextBox=this.form.find(".k-searchbox input");this.searchTextBox.on("input"+D,this._input.bind(this));this.clearSearchButton=this.form.find(".k-searchbox .k-clear-value");this.clearSearchButton.on("click"+D,this._clearSearch.bind(this))}},_open:function(){var e;l(".k-filter-menu").not(this.form).each(function(){e=l(this).data(a);if(e)e.close()})},createCheckAllItem:function(){var e=this.options;var t=u.template(e.itemTemplate({field:"all",mobile:this._isMobile}));var i=l(t({all:e.messages.checkAll}));this.container.prepend(i);i.addClass("k-check-all-wrap");this.checkBoxAll=i.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=this.checkAll.bind(this);this.checkBoxAll.on(c+D,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat)this.form.find(".k-filter-selected-items").text(u.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length));if(this.checkBoxAll){var e=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",e)}},createIsNullItem:function(){var e=this.options;var t=u.template(e.itemTemplate({field:"isNull",mobile:this._isMobile,valueField:"value"}));var i=l(t({isNull:e.messages.isNull,value:null}));this.container.append(i)},refresh:function(e){var t=this.options.forceUnique;var i=this.dataSource;var n=this.getFilterArray();if(this._link)this._link.toggleClass("k-active",n.length!==0);if(this.form){if(e&&t&&e.sender===i&&!i.options.serverPaging&&(e.action=="itemchange"||e.action=="add"||e.action=="remove"||i.options.autoSync&&e.action==="sync")&&!this._foreignKeyValues()){this.checkSource.data(F(this.dataSource.data(),this.field));this.container.empty()}if(this.container.is(":empty"))this.createCheckBoxes();this.checkValues(n);this.trigger(r)}},getFilterArray:function(){var e=l.extend(true,{},{filters:[],logic:"and"},this.dataSource.filter());E(e,this.field);var t=A(e);return t},createCheckBoxes:function(){var e=this.options;var t;var i={field:this.field,format:e.format,mobile:this._isMobile,type:this.type};var n=N.bind(this);if(!this.options.forceUnique)t=this.checkSource.view();else if(this._foreignKeyValues()){t=this.checkSource.data();i.valueField="value";i.field="text"}else if(this.checkSource._isServerGrouped())t=F(this.checkSource._flatData(this.checkSource.data()),this.field);else t=this.checkSource.data();if(this.type==="boolean"){this.createIsNullItem();t=t.filter(n)}var r=u.template(e.itemTemplate(i));var a=u.render(r,t);this.container.on(c+D,":checkbox",this.updateCheckAllState.bind(this));this.container.prepend(a);if(e.checkAll&&!this._isMobile)this.createCheckAllItem()},checkAll:function(){var e=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",e)},checkValues:function(r){var a=this;l(l.grep(this.container.find(":checkbox").prop("checked",false),function(e){var t=false;if(l(e).is(".k-check-all"))return;var i=a._parse(l(e).val());for(var n=0;n<r.length;n++){if(a.type=="date")if(r[n]&&i)t=r[n].getTime()==i.getTime();else if(r[n]===null&&i===null)t=true;else t=false;else t=r[n]==i;if(t)return t}})).prop("checked",true);this.updateCheckAllState()},_mobileCheckAll:function(n){var e=this;var t=e.container.find(":checkbox");t.each(function(e,t){var i=l(t);i.prop("checked",n);i.trigger("change")})},_filter:function(e){e.preventDefault();e.stopPropagation();var t={logic:"or"};var i=this;t.filters=l.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(e){return{value:l(e).val(),operator:"eq",field:i.field}});if(this.trigger("change",{filter:t,field:i.field}))return;t=this._merge(t);if(t.filters.length)this.dataSource.filter(t);else i._removeFilter(i.dataSource.filter()||{filters:[]});this._closeForm()},_stripFilters:function(e){return l.grep(e,function(e){return e.value!=null})},_foreignKeyValues:function(){var e=this.options;return e.values&&!e.checkSource},destroy:function(){var e=this;v.fn.destroy.call(e);if(e.form){u.unbind(e.form);u.destroy(e.form);e.form.off(D);if(e.popup){e.popup.destroy();e.popup=null}e.form=null;if(e.container){e.container.off(D);e.container=null}if(e.checkBoxAll)e.checkBoxAll.off(D)}if(e.view){e.view.purge();e.view=null}if(e._link)e._link.off(s);if(e._refreshHandler){e.dataSource.unbind(c,e._refreshHandler);e.dataSource=null}if(e.checkChangeHandler)e.checkSource.unbind(c,e.checkChangeHandler);if(e._progressHandler)e.checkSource.unbind("progress",e._progressHandler);if(e._progressHideHandler)e.checkSource.unbind("change",e._progressHideHandler);this._clearTypingTimeout();if(this.searchTextBox){this.searchTextBox.off(D);this.searchTextBox=null}if(this.clearSearchButton){this.clearSearchButton.off(D);this.clearSearchButton=null}e.element=e.checkSource=e.container=e.checkBoxAll=e._link=e._refreshHandler=e.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(e){var t=e.field;var i=e.format;var n=e.valueField;var r=e.mobile;var a="";if(n===d)n=t;if(e.type=="date")a=":yyyy-MM-ddTHH:mm:sszzz";if(r)return"<li class='k-item k-listgroup-item'>"+"<label class='k-label k-listgroup-form-row k-checkbox-label'>"+"<span class='k-listgroup-form-field-label k-item-title '>#:kendo.format('"+(i?i:"{0}")+"', "+t+")#</span>"+'<span class="k-listgroup-form-field-wrapper">'+"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0"+a+"}',"+n+")#'/>"+"</span>"+"</label>"+"</li>";return"<li class='k-item'>"+"<label class='k-label k-checkbox-label'>"+"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' value='#:kendo.format('{0"+a+"}',"+n+")#'/>"+"<span>#:kendo.format('"+(i?i:"{0}")+"', "+t+")#</span>"+"</label>"+"</li>"},checkAll:true,search:false,ignoreCase:true,appendToElement:false,messages:{checkAll:"Select All",isNull:"is empty",clearAll:"Clear All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected",done:"Done",into:"in",buttonTitle:"{0} filter column settings"},forceUnique:true,animations:{left:"slide",right:"slide:right"},appendTo:null},events:[o,r,"change",i]});function N(e){return e[this.field]!==null}return l.extend(M.fn,{_click:I.fn._click,_keydown:I.fn._keydown,_reset:I.fn._reset,_closeForm:I.fn._closeForm,_removeFilter:I.fn._removeFilter,clear:I.fn.clear,_merge:I.fn._merge}),t.plugin(I),t.plugin(M),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.autocomplete.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],function(){var e={id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},a=window.kendo.jQuery,f=void 0,o=window.kendo,t,p=o.caret,h=o._activeElement,s=o.support.placeholder,i=o.ui,m=i.List,g=o.keys,n=o.data.DataSource,l="aria-disabled",d="aria-readonly",u="change",c="disabled",v="readonly",_="k-focus",r="k-selected",b="k-hidden",k="k-disabled",w="off",y="k-hover",x=".kendoAutoComplete",C="mouseenter"+x+" mouseleave"+x;function S(e,t,i){return i?t.substring(0,e).split(i).length-1:0}function T(e,t,i){return t.split(i)[S(e,t,i)]}function I(e,t,i,n,r){var a=t.split(n);a.splice(S(e,t,n),1,i);if(n&&a[a.length-1]!=="")a.push("");return a.join(r)}var D=m.extend({init:function(e,t){var i=this,n,r;i.ns=x;t=Array.isArray(t)?{dataSource:t}:t;m.fn.init.call(i,e,t);e=i.element;t=i.options;t.placeholder=t.placeholder||e.attr("placeholder");if(s)e.attr("placeholder",t.placeholder);i._wrapper();i._loader();i._clearButton();i._dataSource();i._ignoreCase();e[0].type="text";n=i.wrapper;i._popup();e.addClass("k-input-inner").on("keydown"+x,i._keydown.bind(i)).on("keypress"+x,i._keypress.bind(i)).on("input"+x,i._search.bind(i)).on("paste"+x,i._search.bind(i)).on("focus"+x,function(){i._prev=i._accessor();i._oldText=i._prev;i._placeholder(false);n.addClass(_)}).on("focusout"+x,function(){i._change();i._placeholder();i.close();n.removeClass(_)}).attr({autocomplete:w,role:"combobox","aria-expanded":false});i._clear.on("click"+x+" touchend"+x,i._clearValue.bind(i));i._enable();i._old=i._accessor();i._aria();i._placeholder();i._initList();r=a(i.element).parents("fieldset").is(":disabled");if(r)i.enable(false);i.listView.bind("click",function(e){e.preventDefault()});i._resetFocusItemHandler=i._resetFocusItem.bind(i);o.notify(i);i._toggleCloseVisibility();i._applyCssClasses()},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:false,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},virtual:false,value:null,clearButton:true,autoWidth:false,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},_dataSource:function(){var e=this;if(e.dataSource&&e._refreshHandler)e._unbindDataSource();else{e._progressHandler=e._showBusy.bind(e);e._errorHandler=e._hideBusy.bind(e)}e.dataSource=n.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close",u,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);m.fn.setOptions.call(this,e);this.listView.setOptions(t);this._accessors();this._aria();this._clearButton()},_listOptions:function(e){var t=m.fn._listOptions.call(this,a.extend(e,{skipUpdateOnBind:true}));t.dataValueField=t.dataTextField;t.selectedItemChange=null;return t},_editable:function(e){var t=this,i=t.element,n=t.wrapper.off(x),r=e.readonly,a=e.disable;if(!r&&!a){n.removeClass(k).on(C,t._toggleHover);i.prop(c,false).prop(v,false).attr(l,false).attr(d,false)}else{n.addClass(a?k:"").removeClass(a?"":k);i.attr(c,a).attr(v,r).attr(l,a).attr(d,r)}},close:function(){var e=this;var t=e.listView.focus();if(t)t.removeClass(r);e.popup.close();e._deactivateItem()},destroy:function(){var e=this;e.element.off(x);e._clear.off(x);e.wrapper.off(x);m.fn.destroy.call(e)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){var t=this,i=t.options,n=i.ignoreCase,r=t._separator(),a,o=t.dataSource.options.accentFoldingFiltering;e=e||t._accessor();clearTimeout(t._typingTimeout);if(r)e=T(p(t.element)[0],e,r);a=e.length;if(!i.enforceMinLength&&!a||a>=i.minLength){t._open=true;t._mute(function(){this.listView.value([])});t._filterSource({value:n?o?e.toLocaleLowerCase(o):e.toLowerCase():e,operator:i.filter,field:i.dataTextField,ignoreCase:n});t.one("close",t._unifySeparators.bind(t))}t._toggleCloseVisibility()},suggest:function(e){var t=this,i=t._last,n=t._accessor(),r=t.element[0],a=p(r)[0],o=t._separator(),s=n.split(o),l=S(a,n,o),d=a,u,c=t.dataSource.options.accentFoldingFiltering;if(i==g.BACKSPACE||i==g.DELETE){t._last=f;return}e=e||"";if(typeof e!=="string"){if(e[0])e=t.dataSource.view()[m.inArray(e[0],t.ul[0])];e=e?t._text(e):""}if(a<=0)a=(c?n.toLocaleLowerCase(c):n.toLowerCase()).indexOf(c?e.toLocaleLowerCase(c):e.toLowerCase())+1;u=n.substring(0,a).lastIndexOf(o);u=u>-1?a-(u+o.length):a;n=s[l].substring(0,u);if(e){e=e.toString();u=(c?e.toLocaleLowerCase(c):e.toLowerCase()).indexOf(c?n.toLocaleLowerCase(c):n.toLowerCase());if(u>-1){e=e.substring(u+n.length);d=a+e.length;n+=e}if(o&&s[s.length-1]!=="")s.push("")}s[l]=n;t._accessor(s.join(o||""));if(r===h())p(r,a,d)},value:function(e){if(e!==f){this.listView.value(e);this._accessor(e);this._old=this._accessor();this._oldText=this._accessor()}else return this._accessor();this._toggleCloseVisibility()},_click:function(e){var t=e.item;var i=this;var n=i.element;var r=i.listView.dataItemByIndex(i.listView.getElementIndex(t));e.preventDefault();i._active=true;if(i.trigger("select",{dataItem:r,item:t})){i.close();return}i._oldText=n.val();i._select(t).done(function(){i._blur();p(n,n.val().length)})},_clearText:a.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;if(this.options.virtual)this.listView.scrollTo(0);this.listView.focus(e)},_listBound:function(){var e=this;var t=e.popup;var i=e.options;var n=e.dataSource.flatView();var r=n.length;var a=e.dataSource._group?e.dataSource._group.length:0;var o=e.element[0]===h();var s;e._renderFooter();e._renderNoData();e._toggleNoData(!r);e._toggleHeader(!!a&&!!r);e._resizePopup();t.position();if(r)if(i.suggest&&o&&e._inputValue())e.suggest(n[0]);if(e._open){e._open=false;s=e._allowOpening()?"open":"close";if(e._typingTimeout&&!o)s="close";if(r){e._resetFocusItem();if(i.virtual)e.popup.unbind("activate",e._resetFocusItemHandler).one("activate",e._resetFocusItemHandler)}t[s]();e._typingTimeout=f}if(e._touchScroller)e._touchScroller.reset();e._hideBusy();e.trigger("dataBound")},_mute:function(e){this._muted=true;e.call(this);this._muted=false},_listChange:function(){var e=this._active||this.element[0]===h();if(e&&!this._muted)this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this._separator();var i="";if(e)i=this._text(e);if(i===null)i="";if(t)i=I(p(this.element)[0],this._accessor(),i,t,this._defaultSeparator());this._prev=i;this._accessor(i);this._placeholder()},_unifySeparators:function(){this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));return this},_preselect:function(e,t){this._inputValue(t);this._accessor(e);this._old=this.oldText=this._accessor();this.listView.setValue(e);this._placeholder()},_change:function(){var e=this;var t=e._unifySeparators().value();var i=t!==m.unifyType(e._old,typeof t);var n=i&&!e._typing;var r=e._oldText!==t;e._old=t;e._oldText=t;if(n||r)e.element.trigger(u);if(i)e.trigger(u);e.typing=false;e._toggleCloseVisibility()},_accessor:function(e){var t=this,i=t.element[0];if(e!==f){i.value=e===null?"":e;t._placeholder()}else{e=i.value;if(i.className.indexOf("k-readonly")>-1)if(e===t.options.placeholder)return"";else return e;return e}},_keydown:function(e){var t=this;var i=e.keyCode;var n=t.listView;var r=t.popup.visible();var a=n.focus();t._last=i;if(i===g.DOWN){if(r)this._move(a?"focusNext":"focusFirst");else if(t.value())t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done(function(){if(t._allowOpening()){t._resetFocusItem();t.popup.open()}});e.preventDefault()}else if(i===g.ESC)if(r){e.preventDefault();t.close()}else t._clearValue();else if(e.altKey&&i===g.UP&&r){e.preventDefault();t.close()}else if(i===g.UP){if(r)this._move(a?"focusPrev":"focusLast");e.preventDefault()}else if(i===g.HOME)this._move("focusFirst");else if(i===g.END)this._move("focusLast");else if(i===g.ENTER||i===g.TAB){if(i===g.ENTER&&r)e.preventDefault();if(r&&a){var o=n.dataItemByIndex(n.getElementIndex(a));if(t.trigger("select",{dataItem:o,item:a}))return;this._select(a)}this._blur()}else if(t.popup.visible()&&(i===g.PAGEDOWN||i===g.PAGEUP)){e.preventDefault();var s=i===g.PAGEDOWN?1:-1;n.scrollWith(s*n.screenHeight())}else{t.popup._hovered=true;t._search()}},_keypress:function(){this._oldText=this.element.val();this._typing=true},_move:function(e){this.listView[e]();if(this.options.suggest)this.suggest(this.listView.focus())},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._loading.addClass(b);e.element.attr("aria-busy",false);e._busy=null;e._showClear()},_showBusy:function(){var e=this;if(e._busy)return;e._busy=setTimeout(function(){e.element.attr("aria-busy",true);e._loading.removeClass(b);e._hideClear()},100)},_placeholder:function(e){if(s)return;var t=this,i=t.element,n=t.options.placeholder,r;if(n){r=i.val();if(e===f)e=!r;if(!e)if(r!==n)n=r;else n="";if(r===t._old&&!e)return;i.toggleClass("k-readonly",e).val(n);if(!n&&i[0]===document.activeElement)p(i[0],0,0)}},_separator:function(){var e=this.options.separator;if(e instanceof Array)return new RegExp(e.join("|"),"gi");return e},_defaultSeparator:function(){var e=this.options.separator;if(e instanceof Array)return e[0];return e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout);e._typingTimeout=setTimeout(function(){if(e._prev!==e._accessor()){e._prev=e._accessor();e.search()}},e.options.delay)},_select:function(e){var t=this;t._active=true;return t.listView.select(e).done(function(){t._active=false})},_loader:function(){this._loading=a('<span class="k-icon k-i-loading k-input-loading-icon '+b+'"></span>').insertAfter(this.element)},_clearButton:function(){m.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.element);this.wrapper.addClass("k-autocomplete-clearable")}},_toggleHover:function(e){a(e.currentTarget).toggleClass(y,e.type==="mouseenter")},_toggleCloseVisibility:function(){if(this.value())this._showClear();else this._hideClear()},_wrapper:function(){var e=this,t=e.element,i=t[0],n;n=t.parent();if(!n.is("span.k-autocomplete"))n=t.wrap("<span />").parent();n.attr("tabindex",-1);n[0].style.cssText=i.style.cssText;t.css({width:"",height:i.style.height});e._focused=e.element;e.wrapper=n.addClass("k-autocomplete k-input").addClass(i.className).removeClass("input-validation-error")},_clearValue:function(){m.fn._clearValue.call(this);this.element.focus()}});return i.plugin(D),o.cssProperties.registerPrefix("AutoComplete","k-input-"),o.cssProperties.registerValues("AutoComplete",[{prop:"rounded",values:o.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filtercell.min",["kendo.autocomplete.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.combobox.min","kendo.dropdownlist.min"],function(){var e={id:"filtercell",name:"Row filter",category:"framework",depends:["autocomplete"],advanced:true},m=window.kendo.jQuery,g=void 0,v=window.kendo,t=v.ui,n=v.data.DataSource,_=t.Widget,b="change",k="boolean",w="enums",y="string",i="Is equal to",r="Is not equal to",a=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"];function x(e){var t=typeof e==="string"?e:e.operator;return m.inArray(t,a)>-1}function o(e,t){var i=[];if(m.isPlainObject(e))if(e.hasOwnProperty("filters"))i=e.filters;else if(e.field==t)return e;if(Array.isArray(e))i=e;for(var n=0;n<i.length;n++){var r=o(i[n],t);if(r)return r}}function l(e,t){if(e.filters)e.filters=m.grep(e.filters,function(e){l(e,t);if(e.filters)return e.filters.length;else return e.field!=t})}function s(s,e){var l=v.getter(e,true);return function(e){var t=s(e),i=[],n=0,r={};while(n<t.length){var a=t[n++],o=l(a);if(!r.hasOwnProperty(o)){i.push(a);r[o]=true}}return i}}var d=_.extend({init:function(e,t){e=m(e).addClass("k-filtercell");var i=this.wrapper=m("<span/>").appendTo(e);var n=this,r,a,o=t,s,l,d=n.operators=t.operators||{},u=n.input=m("<input/>").attr(v.attr("bind"),"value: value").appendTo(i);var c=t?t.suggestDataSource:null;if(c)t=m.extend({},t,{suggestDataSource:{}});_.fn.init.call(n,e[0],t);if(c)n.options.suggestDataSource=c;t=n.options;r=n.dataSource=t.dataSource;n.model=r.reader.model;l=t.type=y;var f=v.getter("reader.model.fields",true)(r)||{};var p=f[t.field];if(p&&p.type)l=t.type=p.type;if(t.values)t.type=l=w;d=d[l]||t.operators[l];if(!o.operator)for(s in d){t.operator=s;break}n._parse=function(e){return e!=null?e+"":e};if(n.model&&n.model.fields){var h=n.model.fields[t.field];if(h)if(h.parse)n._parse=h.parse.bind(h)}n.defaultOperator=t.operator;n.viewModel=a=v.observable({operator:t.operator,value:null,operatorVisible:function(){var e=this.get("value");return e!==null&&e!==g&&e!="undefined"||x(this.get("operator"))&&n.dataSource.filter()&&!n._clearInProgress}});n._prevOperator=t.operator;a.bind(b,n.updateDsFilter.bind(n));if(l==y)n.initSuggestDataSource(t);if(t.inputWidth!==null){u.addClass("k-sized-input");u.width(t.inputWidth)}u.attr("aria-label",n._getColumnTitle());u.attr("title",n._getColumnTitle());n._setInputType(t,l);if(l!=k&&t.showOperators!==false)n._createOperatorDropDown(d);else{m('<div unselectable="on" />').css("display","none").text("eq").appendTo(i);i.addClass("k-operator-hidden")}n._createClearIcon();v.bind(this.wrapper,a);if(l==y)if(!t.template)n.setAutoCompleteSource();if(l==w)n.setComboBoxSource(n.options.values);n._refreshUI();n._refreshHandler=n._refreshUI.bind(n);n.dataSource.bind(b,n._refreshHandler)},_setInputType:function(e,t){var i=this,n=i.input;if(typeof e.template=="function"){e.template.call(i.viewModel,{element:i.input,dataSource:i.suggestDataSource});i._angularItems("compile")}else if(t==y)n.attr(v.attr("role"),"autocomplete").attr(v.attr("text-field"),e.dataTextField||e.field).attr(v.attr("filter"),e.suggestionOperator).attr(v.attr("delay"),e.delay).attr(v.attr("min-length"),e.minLength).attr(v.attr("value-primitive"),true);else if(t=="date")n.attr(v.attr("role"),"datepicker").attr("id",v.guid());else if(t==k){n.remove();var r=m("<input type='radio'/>");var a=i.wrapper;var o=v.guid();var s=m("<label/>").text(e.messages.isTrue).append(r);r.attr(v.attr("bind"),"checked:value").attr("name",o).val("true");var l=s.clone().text(e.messages.isFalse);r.clone().val("false").appendTo(l);a.append([s,l])}else if(t=="number")n.attr(v.attr("role"),"numerictextbox").attr("title",i._getColumnTitle());else if(t==w)n.attr(v.attr("role"),"combobox").attr(v.attr("text-field"),"text").attr(v.attr("suggest"),true).attr(v.attr("filter"),"contains").attr(v.attr("value-field"),"value").attr(v.attr("value-primitive"),true)},_getColumnTitle:function(){var e=this.options.column;return e?e.title||e.field:""},_createOperatorDropDown:function(t){var e=[],i=this.viewModel;for(var n in t)e.push({text:t[n],value:n});var r=m('<input class="k-dropdown-operator" '+v.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);r.attr("aria-label",this._getColumnTitle());this.operatorDropDown=r.kendoDropDownList({dataSource:e,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");i.bind("change",function(){var e=t[i.operator];r.attr("aria-label",e)});this.operatorDropDown.wrapper.attr("aria-label",this._getColumnTitle()).find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-i-filter")},initSuggestDataSource:function(e){var t=e.suggestDataSource;if(!(t instanceof n)){if(!e.customDataSource&&t){t.group=g;t.filter=g}t=this.suggestDataSource=n.create(t)}if(!e.customDataSource){t._pageSize=g;t.reader.data=s(t.reader.data,this.options.field)}this.suggestDataSource=t},setAutoCompleteSource:function(){var e=this.input.data("kendoAutoComplete");if(e)e.setDataSource(this.suggestDataSource)},setComboBoxSource:function(e){var t=n.create({data:e});var i=this.input.data("kendoComboBox");if(i&&!this.options.template)i.setDataSource(t)},_refreshUI:function(){var e=this,t=o(e.dataSource.filter(),this.options.field)||{},i=e.viewModel;e.manuallyUpdatingVM=true;t=m.extend(true,{},t);if(e.options.type==k)if(i.value!==t.value)e.wrapper.find(":radio").prop("checked",false);if(t.operator)i.set("operator",t.operator);i.set("value",t.value);if(m.isEmptyObject(t))i.trigger(b,{field:"operatorVisible"});e.manuallyUpdatingVM=false},_applyFilter:function(e){if(e.filters.length)this.dataSource.filter(e);else this.dataSource.filter({})},updateDsFilter:function(e){var t=this,i=t.viewModel,n;if(e.field=="operator"&&i.value===g&&!x(i)&&x(t._prevOperator)){n=t.dataSource.filter()||{filters:[],logic:"and"};l(n,t.options.field);t._prevOperator=i.operator;t._applyFilter(n);return}if(t.manuallyUpdatingVM||e.field=="operator"&&i.value===g&&!x(i)||e.field=="operator"&&t._clearInProgress&&i.value!==null)return;var r=m.extend({},t.viewModel.toJSON(),{field:t.options.field});t._prevOperator=r.operator;var a={logic:"and",filters:[]};var o=false;if(r.value!==g&&r.value!==null||x(r)&&!this._clearInProgress){a.filters.push(r);o=t.trigger(b,{filter:a,field:t.options.field})}if(t._clearInProgress||r.value===null)o=t.trigger(b,{filter:null,field:t.options.field});if(o)return;var s=t._merge(a);t._applyFilter(s)},_merge:function(e){var t=this,i=e.logic||"and",n=e.filters,r,a=t.dataSource.filter()||{filters:[],logic:"and"},o,s;l(a,t.options.field);for(o=0,s=n.length;o<s;o++){r=n[o];r.value=t._parse(r.value)}n=m.grep(n,function(e){return e.value!==""&&e.value!==null||x(e)});if(n.length)if(a.filters.length){e.filters=n;if(a.logic!=="and"){a.filters=[{logic:a.logic,filters:a.filters}];a.logic="and"}if(n.length>1)a.filters.push(e);else a.filters.push(n[0])}else{a.filters=n;a.logic=i}return a},_createClearIcon:function(){var e=this;m("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' title = '"+e.options.messages.clear+"'/>").attr("aria-label",e.options.messages.clear).attr(v.attr("bind"),"visible:operatorVisible").html("<span class='k-button-icon k-icon k-i-filter-clear'></span>").on("click",e.clearFilter.bind(e)).appendTo(e.wrapper)},clearFilter:function(){this._clearInProgress=true;if(x(this.viewModel.operator))this.viewModel.set("operator",this.defaultOperator);this.viewModel.set("value",null);this._clearInProgress=false},_angularItems:function(e){var t=this.wrapper.closest("td").get();var i=this.options.column;this.angular(e,function(){return{elements:t,data:[{column:i}]}})},destroy:function(){var e=this;e.filterModel=null;e.operatorDropDown=null;e._angularItems("cleanup");if(e._refreshHandler){e.dataSource.bind(b,e._refreshHandler);e._refreshHandler=null}v.unbind(e.element);_.fn.destroy.call(e);v.destroy(e.element)},events:[b],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:g,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:i,neq:r,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:i,neq:r,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:i,neq:r,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:i,neq:r,isnull:"Is null",isnotnull:"Is not null"}}}});return t.plugin(d),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.menu.min",["kendo.popup.min","kendo.data.min"],function(){var e={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]},x=window.kendo.jQuery,_=void 0,C=window.kendo,t=C.ui,g=C._activeElement,b=C.support.touch&&C.support.mobileOS,B=Array.isArray,V=C.data.HierarchicalDataSource,r="mousedown",U="click",W=30,j=50,k=x.extend,q=x.each,n=C.template,l=C.keys,G=t.Widget,i=/^(ul|a|div)$/i,v=".kendoMenu",K="img",S="open",w="k-menu",$="k-link k-menu-link",Y=".k-link",Q=".k-menu-expand-arrow-icon",X="k-last",T="close",s="timer",J="k-first",Z="k-image",d="select",y="zIndex",ee="activate",te="deactivate",ie="touchstart"+v+" MSPointerDown"+v+" pointerdown"+v,ne=C.support.pointers,re=C.support.msPointers,ae=re||ne,oe="change",se="error",le=C.support.touch?"touchstart":"",I=ne?"pointerover":re?"MSPointerOver":"mouseenter",D=ne?"pointerout":re?"MSPointerOut":"mouseleave",de="DOMMouseScroll"+v+" mousewheel"+v,ue=C.support.resize+v,ce="scrollWidth",fe="scrollHeight",pe="offsetWidth",he="offsetHeight",E="group",A="groupparent",me=x(document.documentElement),F="kendoPopup",ge="k-hover",o="k-focus",H="k-disabled",ve="k-selected",_e=".k-menu",be=".k-menu-group",P=".k-animation-container",ke=be+","+P,O=":not(.k-list) > .k-item:not([role='treeitem'])",we=".k-item.k-disabled",u=".k-item",ye=".k-item:not(.k-disabled)",xe=".k-item:not(.k-disabled) > .k-link",c=":not(.k-item.k-separator)",Ce="div:not(.k-animation-container,.k-list-container)",M=".k-menu-scroll-button",Se={2:1,touch:1},Te="string",Ie="dataBound",De="aria-expanded",z="role",Ee={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},Ae={wrapperCssClass:function(e,t){var i="k-item k-menu-item",n=t.index;if(t.enabled===false)i+=" k-disabled";if(e.firstLevel&&n===0)i+=" k-first";if(n==e.length-1)i+=" k-last";if(t.cssClass)i+=" "+t.cssClass;if(t.attr&&t.attr.hasOwnProperty("class"))i+=" "+t.attr["class"];if(t.selected)i+=" "+ve;return i},itemCssAttributes:function(e){var t="";var i=e.attr||{};for(var n in i)if(i.hasOwnProperty(n)&&n!=="class")t+=n+'="'+i[n]+'" ';return t},imageCssAttributes:function(e){var t="";var i=e&&e.toJSON?e.toJSON():{};if(!i["class"])i["class"]=Z;else i["class"]+=" "+Z;for(var n in i)if(i.hasOwnProperty(n))t+=n+'="'+i[n]+'" ';return t},contentCssAttributes:function(e){var t="";var i=e.contentAttr||{};var n="k-content k-group k-menu-group k-menu-group-md";if(!i["class"])i["class"]=n;else i["class"]+=" "+n;for(var r in i)if(i.hasOwnProperty(r))t+=r+'="'+i[r]+'" ';return t},textClass:function(){return $},arrowClass:function(e,t){var i="k-menu-expand-arrow-icon k-icon";if(t.horizontal)i+=" k-i-arrow-s";else i+=" k-i-arrow-e";return i},groupAttributes:function(e){return e.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group k-menu-group-md"},content:function(e){return e.content?e.content:"&nbsp;"}};function Fe(e,t){e=e.split(" ")[!t+0]||e;return e.replace("top","up").replace("bottom","down")}function He(e,t,i){e=e.split(" ")[!t+0]||e;var n={origin:["bottom",i?"right":"left"],position:["top",i?"right":"left"]},r=/left|right/.test(e);if(r){n.origin=["top",e];n.position[1]=C.directions[e].reverse}else{n.origin[0]=e;n.position[0]=C.directions[e].reverse}n.origin=n.origin.join(" ");n.position=n.position.join(" ");return n}function f(e,t){try{return x.contains(e,t)}catch(e){return false}}function Pe(e){e=x(e);var t=e.attr(C.attr("omit-wrap"));if(t)return;e.addClass("k-item k-menu-item").children(K).addClass(Z);e.children("a").addClass($).children(K).addClass(Z);e.filter(":not([disabled])");e.filter(".k-separator").removeClass("k-menu-item").addClass("k-menu-separator").empty().append("&nbsp;");e.filter("li[disabled]").addClass(H).prop("disabled",false).attr("aria-disabled",true);if(!e.filter("[role]").length)e.attr(z,"menuitem");if(!e.children(Y).length)e.contents().filter(function(){return!this.nodeName.match(i)&&!(this.nodeType===3&&!C.trim(this.nodeValue))}).wrapAll("<span class='"+$+"'></span>").filter(function(e,t){return t.nodeType===3}).wrap("<span class='k-menu-link-text'></span>");p(e);h(e)}function p(e){e=x(e);e.find("> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)").parent().remove();e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e=x(this),t=Oe(e);e.append("<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon "+t+"'></span></span>")})}function Oe(e){var t,i=e.parent().parent(),n=C.support.isRtl(i);if(i.hasClass(w+"-horizontal"))t="k-i-arrow-s";else if(n)t="k-i-arrow-w";else t="k-i-arrow-e";return t}function h(e){e=x(e);e.filter(".k-first:not(:first-child)").removeClass(J);e.filter(".k-last:not(:last-child)").removeClass(X);e.filter(":first-child").addClass(J);e.filter(":last-child").addClass(X)}function Me(e){if(e&&e.length)for(var t in e){var i=e.eq(t);if(i.find("ul").length)i.attr("aria-haspopup",true);else i.removeAttr("aria-haspopup")}}function ze(e){if(!e.hasClass(w))return e.parentsUntil("."+w,"li")}function Re(e,t){var i=Le(t);if(i)Ne(e,i);if(t.items)x(e).children("ul").children("li").each(function(e){Re(this,t.items[e])})}function Ne(e,t){x(e).children(".k-link").data({selectHandler:t})}function Le(e){var t=e.select,i=C.isFunction;if(t&&i(t))return t;return null}function R(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function N(e){var t=e?"[data-group='"+e+"']":"[data-group]";return"ul"+t+",div"+t}function m(r,a){var e=r.find(R());var o=[];e.each(function(e,t){t=x(t);var i=t.data(A);var n=r;while(i){n=a.find(N(i)+":visible");if(n.length)o.push(n);t=n.find(R());i=t.data(A)}});return o}function Be(e,t){var i=e.data(E);return i?t.find(R(i)):x([])}function Ve(e,t){var i=e.data(A);return i?t.children(P).children(N(i)):x([])}function Ue(e,t){var i=[];var n=function(e){while(e.parentNode&&!t.is(e.parentNode)){i.push(e.parentNode);e=e.parentNode}};var r=e[0]||e;n(r);var a=i[i.length-1];while(x(a).is(P)){var o=x(a).children("ul");r=Be(o,t)[0];if(!r)break;i.push(r);n(r);a=i[i.length-1]}return i}function We(e){var t=0;if(e.wheelDelta){t=-e.wheelDelta/120;t=t>0?Math.ceil(t):Math.floor(t)}if(e.detail)t=Math.round(e.detail/3);return t}function je(e,t){var i=0;var n=e.parentNode;while(n&&!isNaN(n[t])){i+=n[t];n=n.parentNode}return i}function L(e){return ae&&e.originalEvent&&e.originalEvent.pointerType in Se}function qe(e){var t=e.originalEvent;return b&&/touch/i.test(t.type||"")}function Ge(e){e.contents().filter(function(){return this.nodeName!="LI"}).remove()}var a=C.ui.DataBoundWidget.extend({init:function(e,t){var i=this;G.fn.init.call(i,e,t);e=i.wrapper=i.element;t=i.options;i._accessors();i._templates();i._dataSource();i._updateClasses();i._animations(t);i.nextItemZIndex=100;i._tabindex();i._initOverflow(t);i._attachMenuEventsHandlers();if(t.openOnClick)i.clicked=false;e.attr(z,"menubar");if(e[0].id)i._ariaId=C.format("{0}_mn_active",e[0].id);C.notify(i)},events:[S,T,ee,te,d,Ie],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,scrollable:false,popupCollision:_},_initData:function(){var e=this;if(e.dataSource){e.angular("cleanup",function(){return{elements:e.element.children()}});e.element.empty();e.append(e.dataSource.view(),e.element);e.angular("compile",function(){return{elements:e.element.children()}})}},_attachMenuEventsHandlers:function(){var e=this;var t=e.element;var i=e.options;var n=e._overflowWrapper();e._checkActiveProxy=e._checkActiveElement.bind(e);(n||t).on(ie,u,e._focusHandler.bind(e)).on(U+v,we,false).on(U+v,u,e._click.bind(e)).on(ie+" "+r+v,".k-content",e._preventClose.bind(e)).on(I+v,ye,e._mouseenter.bind(e)).on(D+v,ye,e._mouseleave.bind(e)).on(r+v,ye,e._mousedown.bind(e)).on(le+v+" "+I+v+" "+D+v+" "+r+v+" "+U+v,xe,e._toggleHover.bind(e));t.on("keydown"+v,e._keydown.bind(e)).on("focus"+v,e._focus.bind(e)).on("focus"+v,".k-content",e._focus.bind(e)).on("blur"+v,e._removeHoverItem.bind(e)).on("blur"+v,"[tabindex]",e._checkActiveProxy);if(n)n.on(D+v,ke,e._mouseleavePopup.bind(e)).on(I+v,ke,e._mouseenterPopup.bind(e));if(i.openOnClick){e._documentClickHandler=e._documentClick.bind(e);x(document).on("click",e._documentClickHandler)}},_detachMenuEventsHandlers:function(){var e=this;var t=e._overflowWrapper();if(t)t.off(v);e.element.off(v);if(e._documentClickHandler)x(document).off("click",e._documentClickHandler)},_initOverflow:function(e){var t=this;var i=e.orientation=="horizontal";var n,r;if(e.scrollable){t._openedPopups={};t._scrollWrapper=t.element.wrap("<div class='k-menu-scroll-wrapper k-"+e.orientation+"'></div>").parent();if(i)Ge(t.element);n=x(t.templates.scrollButton({direction:i?"left":"up"}));r=x(t.templates.scrollButton({direction:i?"right":"down"}));n.add(r).appendTo(t._scrollWrapper);t._initScrolling(t.element,n,r,i);var a=t.element.outerWidth();var o=t.element[0].style.width;o=o==="auto"?"":o;if(i)x(window).on(ue,function(){setTimeout(function(){t._setOverflowWrapperWidth(a,o);t._toggleScrollButtons(t.element,n,r,i)},300)});t._setOverflowWrapperWidth(a,o);t._toggleScrollButtons(t.element,n,r,i)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var i=this;var n=i._scrollWrapper.css("width");i._scrollWrapper.css({width:""});var r=i._scrollWrapper.outerWidth();i._scrollWrapper.css({width:n});var a=i.element.outerWidth();var o=i.element[0].offsetWidth-i.element[0].clientWidth;if(a!=r&&r>0){var s=t?Math.min(e,r):r;i.element.width(s-o);i._scrollWrapper.width(s)}},_reinitOverflow:function(e){var t=this;var i=e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&e.scrollable.distance!=t.options.scrollable.distance||e.orientation!=t.options.orientation;if(i){t._detachMenuEventsHandlers();t._destroyOverflow();t._initOverflow(e);t._attachMenuEventsHandlers()}},_destroyOverflow:function(){var e=this;var r=e._overflowWrapper();if(r){r.off(v);r.find(M).off(v).remove();r.children(P).each(function(e,t){var i=x(t).children(be);i.off(de);var n=Be(i,r);if(n.length)n.append(t)});r.find(R()).removeAttr("data-groupparent");r.find(N()).removeAttr("data-group");e.element.off(de);x(window).off(ue);r.contents().unwrap();e._scrollWrapper=e._popupsWrapper=e._openedPopups=_}},_initScrolling:function(a,o,s,l){var d=this;var e=d.options.scrollable;var t=d.isNumeric(e.distance)?e.distance:j;var u=t/2;var i="-="+t;var n="+="+t;var r="-="+t*2;var c="+="+t*2;var f=false;var p=false;var h=function(e){var t=l?{scrollLeft:e}:{scrollTop:e};a.finish().animate(t,"fast","linear",function(){if(f)h(e)});d._toggleScrollButtons(a,o,s,l)};var m=function(e){if(!f&&!p){h(e.data.direction);f=true}};var g=function(e){var t=l?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};p=qe(e)||L(e);a.stop().animate(t,"fast","linear",function(){if(!p)x(e.currentTarget).trigger(I);else{d._toggleScrollButtons(a,o,s,l);f=true}});f=false;e.stopPropagation();e.preventDefault()};o.on(I+v,{direction:i},m).on(C.eventMap.down+v,{direction:r},g);s.on(I+v,{direction:n},m).on(C.eventMap.down+v,{direction:c},g);o.add(s).on(D+v,function(){a.stop();f=false;d._toggleScrollButtons(a,o,s,l)});a.on(de,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=We(e.originalEvent);var i=Math.abs(t)*u;var n=(t>0?"+=":"-=")+i;var r=l?{scrollLeft:n}:{scrollTop:n};d._closeChildPopups(a);a.finish().animate(r,"fast","linear",function(){d._toggleScrollButtons(a,o,s,l)});e.preventDefault()}})},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_toggleScrollButtons:function(e,t,i,n){var r=n?C.scrollLeft(e):e.scrollTop();var a=n?ce:fe;var o=n?pe:he;t.toggle(r!==0);i.toggle(r<e[0][a]-e[0][o]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e);e.animation=k(true,t,e.animation);if("dataSource"in e)this._dataSource(e);this._updateClasses();this._reinitOverflow(e);G.fn.setOptions.call(this,e)},destroy:function(){var e=this;G.fn.destroy.call(e);e._detachMenuEventsHandlers();e._destroyOverflow();C.destroy(e.element)},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},disable:function(e){this._toggleDisabled(e,false);return this},attemptGetItem:function(e){e=e||this.element;var t=this.element.find(e);var i=this._overflowWrapper();if(t.length||e===this.element)return t;else if(i)return i.find(e);else return x()},append:function(t,e){e=this.attemptGetItem(e);var i=this._insert(t,e,e.length?this._childPopupElement(e):null);q(i.items,function(e){i.group.append(this);p(this);Re(this,t[e]||t)});p(e);h(i.group.find(".k-first, .k-last").add(i.items));Me(ze(i.group));return this},insertBefore:function(t,i){i=this.attemptGetItem(i);var e=this._insert(t,i,i.parent());q(e.items,function(e){i.before(this);p(this);h(this);Re(this,t[e]||t)});h(i);return this},insertAfter:function(t,i){i=this.attemptGetItem(i);var e=this._insert(t,i,i.parent());q(e.items,function(e){i.after(this);p(this);h(this);Re(this,t[e]||t)});h(i);return this},_insert:function(e,t,i){var n=this,r,a;if(!t||!t.length)i=n.element;var o=x.isPlainObject(e)||e instanceof C.data.ObservableObject,s={firstLevel:i.hasClass(w),horizontal:i.hasClass(w+"-horizontal"),expanded:true,length:i.children().length};if(t&&!i.length)i=x(n.renderGroup({group:s,options:n.options})).appendTo(t);if(o||B(e)||e instanceof C.data.ObservableArray)r=x(x.map(o?[e]:e,function(e,t){if(typeof e==="string")return x(e).get();else return x(n.renderItem({group:s,item:k(e,{index:t})})).get()}));else{if(typeof e=="string"&&e.charAt(0)!="<")r=n.element.find(e);else r=x(e);a=r.find("> ul").addClass("k-menu-group k-menu-group-md").attr(z,"menu");r=r.filter("li");r.add(a.find("> li")).each(function(){Pe(this)})}return{items:r,group:i}},remove:function(e){e=this.attemptGetItem(e);var t=this,i=e.parentsUntil(t.element,O),n=e.parent("ul:not(.k-menu)");e.remove();if(n&&!n.children(O).length){var r=ze(n);var a=n.parent(P);if(a.length)a.remove();else n.remove();Me(r)}if(i.length){i=i.eq(0);p(i);h(i)}return t},_openAfterLoad:function(e,t){var i=this;if(t.loaded()){i.open(e);i._loading=false}else t.one(oe,function(){e.find(Q).removeClass("k-i-loading");if(i._loading){i.open(e);i._loading=false}})},open:function(e){var f=this;var p=f.options;var h=p.orientation=="horizontal";var m=p.direction;var g=C.support.isRtl(f.wrapper);var v=f._overflowWrapper();e=(v||f.element).find(e);var t=f.dataSource&&f.dataSource.getByUid(e.data(C.ns+"uid"));if(t&&t.hasChildren&&!t.loaded()&&!f._loading){f._loading=true;e.find(Q).addClass("k-i-loading");t.load();f._openAfterLoad(e,t);return}if(/^(top|bottom|default)$/.test(m))if(g)m=h?(m+" left").replace("default","bottom"):"left";else m=h?(m+" right").replace("default","bottom"):"right";var i=">.k-popup:visible,>.k-animation-container>.k-popup:visible";var n=function(){var e=x(this).data(F);if(e)f.close(x(this).closest("li.k-item"),true)};e.siblings().find(i).each(n);if(v)e.find(i).each(n);if(f.options.openOnClick)f.clicked=true;e.each(function(){var c=x(this);clearTimeout(c.data(s));c.data(s,setTimeout(function(){var e=c.find("> .k-menu-group, > .k-animation-container > .k-menu-group").filter(":hidden").first();var t;var i;if(!e[0]&&v){i=f._getPopup(c);e=i&&i.element}if(e.is(":visible"))return;if(e[0]&&f._triggerEvent({item:c[0],type:S})===false){if(!e.find(".k-menu-group")[0]&&e.children(".k-item").length>1){var n=x(window).height(),r=function(){e.css({maxHeight:n-(C._outerHeight(e)-e.height())-C.getShadows(e).bottom,overflow:"auto"})};r()}else e.css({maxHeight:"",overflow:""});c.data(y,c.css(y));var a=f.nextItemZIndex++;c.css(y,a);if(f.options.scrollable)c.parent().siblings(M).css({zIndex:++a});t=e.data(F);var o=c.parent().hasClass(w),s=o&&h,l=He(m,o,g),d=p.animation.open.effects,u=d!==_?d:"slideIn:"+Fe(m,o);if(!t){t=e.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:ee})},deactivate:function(e){f._closing=false;e.sender.element.removeData("targetTransform").css({opacity:""});f._triggerEvent({item:this.wrapper.parent(),type:te})},origin:l.origin,position:l.position,collision:p.popupCollision!==_?p.popupCollision:s?"fit":"fit flip",anchor:c,appendTo:v||c,animation:{open:k(true,{effects:u},p.animation.open),close:p.animation.close},open:f._popupOpen.bind(f),close:function(e){f._closing=e.sender.element;var t=e.sender.wrapper.parent();if(v){var i=e.sender.element.data(E);if(i)t=(v||f.element).find(R(i));e.sender.wrapper.children(M).hide()}if(!f._triggerEvent({item:t[0],type:T})){t.css(y,t.data(y));t.removeData(y);if(f.options.scrollable)t.parent().siblings(M).css({zIndex:""});if(b||ae||C.support.mouseAndTouchPresent){t.removeClass(ge);f._removeHoverItem()}}else e.preventDefault()}}).data(F);e.closest(P).removeAttr(z)}else{t=e.data(F);t.options.origin=l.origin;t.options.position=l.position;t.options.animation.open.effects=u}e.removeAttr("aria-hidden");c.attr(De,true);f._configurePopupOverflow(t,c);t._hovered=true;t.open();f._initPopupScrolling(t)}},f.options.hoverDelay))});return f},_configurePopupOverflow:function(e,t){var i=this;if(i.options.scrollable){i._wrapPopupElement(e);if(!t.attr("data-groupparent")){var n=(new Date).getTime();t.attr("data-groupparent",n);e.element.attr("data-group",n)}}},_wrapPopupElement:function(e){if(!e.element.parent().is(P))e.wrapper=C.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"})},_initPopupScrolling:function(e,t,i){var n=this;if(n.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight)n._initPopupScrollButtons(e,t,i)},_initPopupScrollButtons:function(i,n,r){var a=this;var o=i.wrapper.children(M);var e=a.options.animation;var t=(e&&e.open&&e.open.duration||0)+W;setTimeout(function(){if(!o.length){var e=x(a.templates.scrollButton({direction:n?"left":"up"}));var t=x(a.templates.scrollButton({direction:n?"right":"down"}));o=e.add(t).appendTo(i.wrapper);a._initScrolling(i.element,e,t,n);if(!r)o.on(I+v,function(){var n=a._overflowWrapper();x(m(i.element,n)).each(function(e,t){var i=n.find(R(t.data(E)));a.close(i)})}).on(D+v,function(){setTimeout(function(){if(x.isEmptyObject(a._openedPopups))a._closeParentPopups(i.element)},W)})}a._toggleScrollButtons(i.element,o.first(),o.last(),n)},t)},_popupOpen:function(e){if(!this._keyTriggered)e.sender.element.children("."+o).removeClass(o);if(this.options.scrollable)this._setPopupHeight(e.sender)},_setPopupHeight:function(e,t){var i=e.element;var n=i.add(i.parent(P));n.height(i.hasClass(w)&&this._initialHeight||"");var r=e._location(t);var a=x(window).height();var o=r.height;var s=t?0:Math.max(r.top,0);var l=t?0:je(this._overflowWrapper()[0],"scrollTop");var d=window.innerHeight-a;var u=a-C.getShadows(i).bottom+d;var c=u+l>o+s;if(!c){var f=Math.min(u,u-s+l);n.css({overflow:"hidden",height:f+"px"})}},close:function(i,e){var n=this;var r=n._overflowWrapper();var t=r||n.element;i=t.find(i);if(!i.length)i=t.find(">.k-item");var a=function(e){var i=false;if(x.isEmptyObject(n._openedPopups))return i;x(m(e,r)).each(function(e,t){i=!!n._openedPopups[t.data(E).toString()];return!i});return i};var o=function(e){var t=e.data(A);return!r||!t||!n._openedPopups[t.toString()]};i.each(function(){var t=x(this);t.attr(De,false);if(!e&&n._isRootItem(t))n.clicked=false;clearTimeout(t.data(s));t.data(s,setTimeout(function(){var e=n._getPopup(t);if(e&&(o(t)||n._forceClose)){if(!n._forceClose&&a(e.element))return;e.close();e.element.attr("aria-hidden",true);if(r)if(n._forceClose&&i.last().is(t[0]))delete n._forceClose}},n.options.hoverDelay))});return n},_getPopup:function(e){var t=this;var i=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible").first().data(F);var n=t._overflowWrapper();if(!i&&n){var r=e.data(A);if(r){var a=n.find(N(r));i=a.data(F)}}return i},_toggleDisabled:function(e,t){this.element.find(e).each(function(){x(this).toggleClass(H,!t).attr("aria-disabled",!t)})},_toggleHover:function(e){var t=x(C.eventTarget(e)||e.target).closest(O),i=e.type==I||r.indexOf(e.type)!==-1;t.siblings().removeClass(ge);if(!t.parents("li."+H).length)t.toggleClass(ge,i||e.type=="mousedown"||e.type=="pointerover"||e.type==le);this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick)this._closurePrevented=true},_checkActiveElement:function(e){var t=this,i=x(e?e.currentTarget:this._hoverItem()),n=t._findRootParent(i)[0];if(!this._closurePrevented)setTimeout(function(){if(!document.hasFocus()||!f(n,C._activeElement())&&e&&!f(n,e.currentTarget))t.close(n)},0);this._closurePrevented=false},_removeHoverItem:function(){var e=this._hoverItem();if(e&&e.hasClass(o)){e.removeClass(o);this._oldHoverItem=null}},_updateClasses:function(){var e=this.element,t=".k-menu-init div ul",i;e.removeClass("k-menu-horizontal k-menu-vertical");e.addClass("k-widget k-reset k-menu-init "+w).addClass(w+"-"+this.options.orientation);if(this.options.orientation==="vertical")e.attr("aria-orientation","vertical");else e.attr("aria-orientation","horizontal");e.find("li > ul").filter(function(){return!C.support.matchesSelector.call(this,t)}).addClass("k-group k-menu-group k-menu-group-md").attr(z,"menu").hide().attr("aria-hidden",e.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1");e.find("li[aria-haspopup]").attr(De,false);i=e.find("> li,.k-menu-group > li");e.removeClass("k-menu-init");i.each(function(){Pe(this)})},_mouseenter:function(e){var i=this;var t=x(e.currentTarget);var n=i._itemHasChildren(t);var r=t.data(A)||t.parent().data(E);var a=L(e);var o=false;if(r)i._openedPopups[r.toString()]=true;if(i._closing)o=!!i._closing.find(t).length;if(o||e.delegateTarget!=t.parents(_e)[0]&&e.delegateTarget!=t.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0])return;i._keyTriggered=false;if(i.options.openOnClick.rootMenuItems&&i._isRootItem(t.closest(O))||i.options.openOnClick.subMenuItems&&!i._isRootItem(t.closest(O)))return;if((i.options.openOnClick===false||i.options.openOnClick.rootMenuItems===false&&i._isRootItem(t.closest(O))||i.options.openOnClick.subMenuItems===false&&!i._isRootItem(t.closest(O))||i.clicked)&&!b&&!(a&&i._isRootItem(t.closest(O))))if(!f(e.currentTarget,e.relatedTarget)&&n)i.open(t);if(i.options.openOnClick===true&&i.clicked||b)t.siblings().each(function(e,t){i.close(t,true)})},_mousedown:function(e){var i=this;var t=x(e.currentTarget);if(i.options.openOnClick.subMenuItems&&!i._isRootItem(t)||b)t.siblings().each(function(e,t){i.close(t,true)})},_mouseleave:function(e){var t=this;var i=x(e.currentTarget);var n=i.data(A);var r=i.children(P).length||i.children(be).length||n;var a=x(window);if(n)delete t._openedPopups[n.toString()];if(i.parentsUntil(P,".k-list-container,.k-calendar-container")[0]){e.stopImmediatePropagation();return}if((t.options.openOnClick===false||!t.options.openOnClick.rootMenuItems&&t._isRootItem(i)||!t.options.openOnClick.subMenuItems&&!t._isRootItem(i))&&!b&&!L(e)&&!f(e.currentTarget,e.relatedTarget||e.target)&&r&&!f(e.currentTarget,C._activeElement())){t.close(i,true);t._loading=false;return}if(C.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!L(e)||e.clientX<0||e.clientY<0||e.clientY>a.height()||e.clientX>a.width())t.close(i)},_mouseenterPopup:function(e){var t=this;var i=x(e.currentTarget);if(i.parent().is(P))return;i=i.children("ul");var n=i.data(E);if(n)t._openedPopups[n.toString()]=true},_mouseleavePopup:function(e){var t=this;var i=x(e.currentTarget);if(!L(e)&&i.is(P))t._closePopups(i.children("ul"))},_closePopups:function(t){var i=this;var e=i._overflowWrapper();var n=t.data(E);if(n){delete i._openedPopups[n.toString()];var r=e.find(R(n));setTimeout(function(){if(i.options.openOnClick)i._closeChildPopups(t);else if(x.isEmptyObject(i._openedPopups)){var e=i._innerPopup(t);i._closeParentPopups(e)}else i.close(r,true)},0)}},_closeChildPopups:function(e){var t=this;var i=t._overflowWrapper();x(m(e,i)).each(function(){var e=i.find(R(this.data(E)));t.close(e,true)})},_innerPopup:function(e){var t=this._overflowWrapper();var i=m(e,t);return i[i.length-1]||e},_closeParentPopups:function(e){var t=this;var i=t._overflowWrapper();var n=e.data(E);var r=i.find(R(n));n=r.parent().data(E);t.close(r,true);while(n&&!t._openedPopups[n]){if(r.parent().is(_e))break;r=i.find(R(n));t.close(r,true);n=r.parent().data(E)}},_click:function(e){var t=this,i,n=t.options,r=x(C.eventTarget(e)),a=r[0],o=r[0]?r[0].nodeName.toUpperCase():"",s=o=="INPUT"||o=="SELECT"||o=="BUTTON"||o=="LABEL",l=r.closest(Y),d=r.closest(O),u=d[0],c=l.attr("href"),f,p,h=r.attr("href"),m=x("<a href='#' />").attr("href"),g=!!c&&c!==m,v=g&&!!c.match(/^#/),_=!!h&&h!==m,b=t._overflowWrapper(),k;if(a&&(!a.parentNode||!u))return;if(x(r).hasClass("k-menu-expand-arrow-icon"))this._lastClickedElement=u;while(a&&a.parentNode!=u)a=a.parentNode;if(x(a).is(Ce))return;if(d.hasClass(H)){e.preventDefault();return}if(!e.handled&&t._triggerSelect(r,u)&&!s)e.preventDefault();e.handled=true;f=d.children(ke);if(b){var w=d.data(A);if(w)f=b.find(N(w))}p=f.is(":visible");k=n.openOnClick&&p&&t._isRootItem(d);if(n.closeOnClick&&(!g||v)&&(!f.length||k)){d.removeClass(ge).css("height");t._oldHoverItem=t._findRootParent(d);var y=t._parentsUntil(l,t.element,O);t._forceClose=!!b;t.close(y);t.clicked=false;if("MSPointerUp".indexOf(e.type)!=-1)e.preventDefault();return}if(g&&e.enterKey)l[0].click();if((!t._isRootItem(d)||n.openOnClick===false)&&!n.openOnClick.subMenuItems&&!C.support.touch&&!(L(e)&&t._isRootItem(d.closest(O))))return;if(!g&&!s&&!_)e.preventDefault();t.clicked=true;i=f.is(":visible")?T:S;if(!n.closeOnClick&&i==T)return;t[i](d)},_parentsUntil:function(e,t,i){var n=this._overflowWrapper();if(!n)return e.parentsUntil(t,i);else{var r=Ue(e,n);var a=[];x(r).each(function(){var e=x(this);if(e.is(t))return false;if(e.is(i))a.push(this)});return x(a)}},_triggerSelect:function(e,t){e=e.is(".k-link")?e:e.closest(".k-link");var i=e.data("selectHandler"),n;if(i){n=this._getEventData(e);i.call(this,n)}var r=n&&n.isDefaultPrevented();var a=this._triggerEvent({item:t,type:d});return r||a},_getEventData:function(e){var t={sender:this,target:e,_defaultPrevented:false,preventDefault:function(){this._defaultPrevented=true},isDefaultPrevented:function(){return this._defaultPrevented}};return t},_documentClick:function(e){var t=this;var i=x(e.target).hasClass("k-menu-expand-arrow-icon")?t._lastClickedElement:e.target;if(f((t._overflowWrapper()||t.element)[0],i)){t._lastClickedElement=_;return}t.clicked=false},_focus:function(e){var t=this,i=e.target,n=t._hoverItem(),r=g();if(i!=t.wrapper[0]&&!x(i).is(":kendoFocusable")){e.stopPropagation();x(i).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(o);t.wrapper.trigger("focus");return}if(r===e.currentTarget)if(n.length)t._moveHover([],n);else if(!t._oldHoverItem)t._moveHover([],t.wrapper.children().first())},_keydown:function(e){var t=this,i=e.keyCode,n=t._oldHoverItem,r,a,o,s=C.support.isRtl(t.wrapper);if(e.target!=e.currentTarget&&i!=l.ESC)return;if(!n)n=t._oldHoverItem=t._hoverItem();a=t._itemBelongsToVertival(n);o=t._itemHasChildren(n);t._keyTriggered=true;if(i==l.RIGHT)r=t[s?"_itemLeft":"_itemRight"](n,a,o);else if(i==l.LEFT)r=t[s?"_itemRight":"_itemLeft"](n,a,o);else if(i==l.DOWN)r=t._itemDown(n,a,o);else if(i==l.UP)r=t._itemUp(n,a,o);else if(i==l.HOME){t._moveHover(n,n.parent().children().first());e.preventDefault()}else if(i==l.END){t._moveHover(n,n.parent().children().last());e.preventDefault()}else if(i==l.ESC)r=t._itemEsc(n,a);else if(i==l.ENTER||i==l.SPACEBAR){r=n.children(".k-link");if(r.length>0){t._click({target:r[0],preventDefault:function(){},enterKey:true});if(o&&!n.hasClass(H)){t.open(n);t._moveHover(n,t._childPopupElement(n).children().first())}else if(n.is("li")&&n.attr("role")==="menuitemcheckbox")n.find(".k-checkbox").attr("checked",true);else t._moveHoverToRoot(n,t._findRootParent(n))}}else if(i==l.TAB){r=t._findRootParent(n);t._moveHover(n,r);t._checkActiveElement();return}if(r&&r[0]){e.preventDefault();e.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-hover,.k-item.k-focus").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");if(!e.length)return t;return e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){if(!e||!e.length||!e[0].nodeType)return false;return e.children(".k-menu-group, div.k-animation-container").length>0||!!e.data(A)&&!!this._overflowWrapper().children(N(e.data(A)))},_moveHover:function(e,t){var i=this,n=i._ariaId;if(e.length&&t.length)e.removeClass(o);if(t.length){if(t[0].id)n=t[0].id;t.addClass(o);i._oldHoverItem=t;if(n){i.element.removeAttr("aria-activedescendant");x("#"+n).removeAttr("id");t.attr("id",n);i.element.attr("aria-activedescendant",n)}i._scrollToItem(t)}},_moveHoverToRoot:function(e,t){this._moveHover(e,t)},_findRootParent:function(e){if(this._isRootItem(e))return e;else return this._parentsUntil(e,_e,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(w)},_itemRight:function(e,t,i){var n=this,r,a,o;if(!t){r=e.nextAll(u+c).eq(0);if(!r.length)r=e.prevAll(u+c).last();n.close(e)}else if(i&&!e.hasClass(H)){n.open(e);r=n._childPopupElement(e).children().first()}else if(n.options.orientation=="horizontal"){a=n._findRootParent(e);o=n._overflowWrapper();if(o){var s=Ve(a,o);n._closeChildPopups(s)}n.close(a);r=a.nextAll(u+c).eq(0)}if(r&&!r.length)r=n.wrapper.children(".k-item").first();else if(!r)r=[];n._moveHover(e,r);return r},_itemLeft:function(e,t){var i=this,n,r;if(!t){n=e.prevAll(u+c).eq(0);if(!n.length)n=e.nextAll(u+c).last();i.close(e)}else{n=e.parent().closest(".k-item");r=i._overflowWrapper();if(!n.length&&r)n=Be(e.parent(),r);i.close(n);if(i._isRootItem(n)&&i.options.orientation=="horizontal")n=n.prevAll(u+c).eq(0)}if(!n.length)n=i.wrapper.children(".k-item").last();i._moveHover(e,n);return n},_itemDown:function(e,t,i){var n=this,r;if(!t)if(!i||e.hasClass(H))return;else{n.open(e);r=n._childPopupElement(e).children().first()}else r=e.nextAll(u+c).eq(0);if(!r.length&&e.length)r=e.parent().children().first();else if(!e.length)r=n.wrapper.children(".k-item").first();n._moveHover(e,r);return r},_itemUp:function(e,t){var i=this,n;if(!t)return;else n=e.prevAll(u+c).eq(0);if(!n.length&&e.length)n=e.parent().children().last();else if(!e.length)n=i.wrapper.children(".k-item").last();i._moveHover(e,n);return n},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var i=e.parent();var n=i.hasClass(w)?t.options.orientation=="horizontal":false;var r=n?"scrollLeft":"scrollTop";var a=n?C._outerWidth:C._outerHeight;var o=i[r]();var s=a(e);var l=e[0][n?"offsetLeft":"offsetTop"];var d=a(i);var u=i.siblings(M);var c=u.length?a(u.first()):0;var f;if(o+d<l+s+c)f=l+s-d+c;else if(o>l-c)f=l-c;if(!isNaN(f)){var p={};p[r]=f;i.finish().animate(p,"fast","linear",function(){t._toggleScrollButtons(i,u.first(),u.last(),n)})}}},_itemEsc:function(e,t){var i=this,n,r;if(!t)return e;else{n=e.parent().closest(".k-item");if(n.length===0){r=e.closest(".k-group").data("group");n=i.wrapper.find(".k-item[data-groupparent='"+r+"']")}i.close(n);i._moveHover(e,n)}return n},_childPopupElement:function(e){var t=e.find(".k-menu-group");var i=this._overflowWrapper();if(!t.length&&i)t=Ve(e,i);return t},_triggerEvent:function(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var t=this,i=x(C.eventTarget(e)).closest(O);if(i.hasClass(H))return;setTimeout(function(){t._moveHover([],i);if(i.children(".k-content")[0])i.parent().closest(".k-item").removeClass(o)},200)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={open:{effects:{}},close:{hide:true,effects:{}}}},_dataSource:function(e){var t=this,i=e?e.dataSource:t.options.dataSource;if(!i)return;i=B(i)?{data:i}:i;t._unbindDataSource();if(!i.fields)i.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}];t.dataSource=V.create(i);t._bindDataSource();t.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=this.refresh.bind(this);this._errorHandler=this._error.bind(this);this.dataSource.bind(oe,this._refreshHandler);this.dataSource.bind(se,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;if(e){e.unbind(oe,this._refreshHandler);e.unbind(se,this._errorHandler)}},_error:function(){},findByUid:function(e){var t=this._overflowWrapper()||this.element;return t.find("["+C.attr("uid")+"="+e+"]")},refresh:function(e){var t=this;var i=e.node;var n=e.action;var r=i?t.findByUid(i.uid):t.element;var a=e.items;var o=e.index;var s=t._updateItem.bind(t);var l=t._removeItem.bind(t);if(n=="add")t._appendItems(a,o,r);else if(n=="remove")a.forEach(l);else if(n=="itemchange")a.forEach(s);else if(n==="itemloaded")t.append(e.items,r);else this._initData();this.trigger(Ie,{item:r,dataItem:i})},_appendItems:function(e,t,i){var n=this;var r=i.find(u).eq(t);if(r.length)n.insertBefore(e,r);else n.append(e,i)},_removeItem:function(e){var t=this;var i=t.findByUid(e.uid);t.remove(i)},_updateItem:function(e){var t=this;var i=t.findByUid(e.uid);var n=i.next();var r=e.parentNode();t.remove(i);if(n.length)t.insertBefore(e,n);else t.append(e,r&&t.findByUid(r.uid))},_accessors:function(){var e=this,t=e.options,i,n,r,a=e.element;for(i in Ee){n=t[Ee[i]];r=a.attr(C.attr(i+"-field"));if(!n&&r)n=r;if(!n)n=i;if(!B(n))n=[n];t[Ee[i]]=n}},_fieldAccessor:function(e){var t=this.options[Ee[e]]||[],i=t.length,n="(function(item) {";if(i===0)n+="return item['"+e+"'];";else{n+="var levels = ["+x.map(t,function(e){return"function(d){ return "+C.expr(e)+"}"}).join(",")+"];";n+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else";n+="{return levels["+i+"-1](item)}"}n+="})";return n},_templates:function(){var e=this,t=e.options,i=e._fieldAccessor.bind(e);if(t.template&&typeof t.template==Te)t.template=n(t.template);else if(!t.template)t.template=n("<span class='k-menu-link-text'>"+"# var text = "+i("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #</span>");e.templates={content:n("#var contentHtml = "+i("content")+"(item);#"+"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:n("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:n("# var url = "+i("url")+"(item); #"+"# var imageUrl = "+i("imageUrl")+"(item); #"+"# var imgAttributes = "+i("imageAttr")+"(item);#"+"# var tag = url ? 'a' : 'span' #"+"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>"+"# if (imageUrl) { #"+"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />"+"# } #"+"#= sprite(item) #"+"#= data.menu.options.template(data) #"+"#= arrow(data) #"+"</#= tag #>"),item:n("#var contentHtml = "+i("content")+"(item);#"+"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+C.attr("uid")+"='#= item.uid #' "+"# if(item.items && item.items.length > 0) { # "+"# if(item.expanded) { # "+" aria-expanded='true'"+"# } else { #"+" aria-expanded='false'"+"# } #"+"# } #"+">"+"#= itemWrapper(data) #"+"#if (item.hasChildren || item.items) { #"+"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl || contentHtml) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),scrollButton:n("<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>"+"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>"+"</span>"),arrow:n("<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>"),sprite:n("# var spriteCssClass = "+i("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:n("")}},renderItem:function(e){var t=this;e=k({menu:t,group:{}},e);var i=t.templates.empty,n=e.item;return t.templates.item(k(e,{sprite:t.templates.sprite,itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:n.items||n.content||n[t.options.dataContentField[0]]?t.templates.arrow:i,subGroup:t.renderGroup},Ae))},renderGroup:function(e){var t=this;var i=t.templates||e.menu.templates;return i.group(k({renderItems:function(e){var t="",i=0,n=e.items,r=n?n.length:0,a=k({length:r},e.group);for(;i<r;i++)t+=e.menu.renderItem(k(e,{group:a,item:k({index:i},n[i])}));return t}},e,Ae))},renderContent:function(e){return e.menu.templates.content(k(e,Ae))}}),Ke=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.element.attr(z,"menu");i._marker=C.guid().substring(0,8);i.target=x(i.options.target);i._popup();i._wire()},_initOverflow:function(e){var t=this;if(e.scrollable&&!t._overflowWrapper()){t._openedPopups={};t._popupsWrapper=(t.element.parent().is(P)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent();if(t.options.orientation=="horizontal")Ge(t.element);if(e.appendTo){e.appendTo=x(e.appendTo);e.appendTo.append(t._popupsWrapper)}t._initialHeight=t.element[0].style.height;t._initialWidth=t.element[0].style.width}},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,copyAnchorStyles:true,target:"body"},events:[S,T,ee,te,d],setOptions:function(e){var t=this;a.fn.setOptions.call(t,e);t.target.off(t.showOn+v+t._marker,t._showProxy);if(t.userEvents)t.userEvents.destroy();t.target=x(t.options.target);if(e.orientation&&t.popup.wrapper[0])t.popup.element.unwrap();t._wire();a.fn.setOptions.call(this,e)},destroy:function(){var e=this;e.target.off(e.options.showOn+v+e._marker);me.off(C.support.mousedown+v+e._marker,e._closeProxy);if(e.userEvents)e.userEvents.destroy();a.fn.destroy.call(e)},open:function(e,t){var i=this;e=x(e)[0];if(f(i.element[0],x(e)[0])||i._itemHasChildren(x(e)))a.fn.open.call(i,e);else if(i._triggerEvent({item:i.element,type:S})===false){if(i.popup.visible()&&i.options.filter){i.popup.close(true);i.popup.element.kendoStop(true)}if(t!==_){var n=i._overflowWrapper();if(n){var r=n.offset();e-=r.left;t-=r.top}i.popup.wrapper.hide();i._configurePopupScrolling(e,t);i.popup.open(e,t)}else{i.popup.options.anchor=(e?e:i.popup.anchor)||i.target;i.popup.element.kendoStop(true);i._configurePopupScrolling();i.popup.open()}me.off(i.popup.downEvent,i.popup._mousedownProxy);me.on(C.support.mousedown+v+i._marker,i._closeProxy);i.element.trigger("focus")}return i},_configurePopupScrolling:function(e,t){var i=this;var n=i.popup;var r=i.options.orientation=="horizontal";if(i.options.scrollable){i._wrapPopupElement(n);n.element.parent().css({position:"",height:""});n.element.css({visibility:"hidden",display:"",position:""});if(r)i._setPopupWidth(n,isNaN(e)?_:{isFixed:true,x:e,y:t});else i._setPopupHeight(n,isNaN(e)?_:{isFixed:true,x:e,y:t});n.element.css({visibility:"",display:"none",position:"absolute"});i._initPopupScrollButtons(n,r,true);n.element.siblings(M).hide()}},_setPopupWidth:function(e,t){var i=e.element;var n=i.add(i.parent(P));n.width(this._initialWidth||"");var r=e._location(t);var a=x(window).width();var o=r.width;var s=Math.max(r.left,0);var l=t?0:je(this._overflowWrapper()[0],"scrollLeft");var d=C.getShadows(i);var u=a-d.left-d.right;var c=u+l>o+s;if(!c)n.css({overflow:"hidden",width:u-s+l+"px"})},close:function(){var e=this;if(f(e.element[0],x(arguments[0])[0])||e._itemHasChildren(arguments[0]))a.fn.close.call(e,arguments[0]);else if(e.popup.visible())if(e._triggerEvent({item:e.element,type:T})===false){e._removeHoverItem();e.element.find("#"+e._ariaId).removeAttr("id");e.popup.close();me.off(C.support.mousedown+v+e._marker,e._closeProxy);e.unbind(d,e._closeTimeoutProxy);e.popup.options.anchor.focus()}},_showHandler:function(e){var t=e,i,n=this,r=n.options,a=C.support.mobileOS?x(t.target):x(t.currentTarget);if(e.event){t=e.event;t.pageX=e.x.location;t.pageY=e.y.location}if(f(n.element[0],e.relatedTarget||e.target))return;n._eventOrigin=t;t.preventDefault();t.stopImmediatePropagation();n.element.find("."+o).removeClass(o);if(r.filter&&a.is(r.filter)||!r.filter)if(r.alignToAnchor){n.popup.options.anchor=t.currentTarget;n.open(t.currentTarget)}else{n.popup.options.anchor=t.currentTarget;if(n._targetChild){i=n.target.offset();n.open(t.pageX-i.left,t.pageY-i.top)}else n.open(t.pageX,t.pageY)}},_closeHandler:function(e){var t=this,i=x(e.relatedTarget||e.target),n=i.closest(t.target.selector)[0]==t.target[0],r=i.closest(u),a=t._itemHasChildren(r),o=t._overflowWrapper(),s=f(t.element[0],i[0])||o&&f(o[0],i[0]);t._eventOrigin=e;var l=e.which!==3;if(t.popup.visible()&&(l&&n||!n)&&(t.options.closeOnClick&&!a&&s||!s))if(s){this.unbind(d,this._closeTimeoutProxy);t.bind(d,t._closeTimeoutProxy)}else t.close()},_wire:function(){var e=this,t=e.options,i=e.target;e._preventProxy=null;e._showProxy=e._showHandler.bind(e);e._closeProxy=e._closeHandler.bind(e);e._closeTimeoutProxy=e.close.bind(e);if(i[0]){if(C.support.mobileOS&&t.showOn=="contextmenu"){e.userEvents=new C.UserEvents(i,{filter:t.filter,allowSelection:false});e._preventProxy=function(){return false};e.userEvents.bind("hold",e._showProxy)}if(t.filter)i.on(t.showOn+v+e._marker,t.filter,e._preventProxy||e._showProxy);else i.on(t.showOn+v+e._marker,e._preventProxy||e._showProxy)}},_triggerEvent:function(e){var t=this,i=x(t.popup.options.anchor)[0],n=t._eventOrigin;t._eventOrigin=_;return t.trigger(e.type,k({type:e.type,item:e.item||this.element[0],target:i},n?{event:n}:{}))},_popup:function(){var e=this;var t=e._overflowWrapper();e._triggerProxy=e._triggerEvent.bind(e);e.popup=e.element.addClass("k-context-menu").kendoPopup({autosize:e.options.orientation==="horizontal",anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy,appendTo:t||e.options.appendTo,close:!t?x.noop:function(e){x(m(e.sender.element,t)).each(function(e,t){var i=t.data(F);if(i)i.close(true)})}}).data(F);e._targetChild=f(e.target[0],e.popup.element[0])},_moveHoverToRoot:function(e,t){this._moveHover(e,t);this.close()},_focus:function(e){var t=this._oldHoverItem=this._hoverItem()||[];a.fn._focus.call(this,e);if(g()===e.currentTarget)this._moveHover(t,this.wrapper.children().first())}});return t.plugin(a),t.plugin(Ke),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.expansionpanel.min",["kendo.core.min"],function(){var e={id:"expansionpanel",name:"ExpansionPanel",category:"web",description:"The ExpansionPanel provides an expandable details-summary view",depends:["core"]},o=window.kendo.jQuery,d=void 0,s=window.kendo,r=s.ui.Widget,t=s.ui,n=s.keys,u=o.extend,a=".kendoExpansionPanel",l="expand",c="collapse",i="complete",f="k-disabled",p="aria-disabled",h="aria-expanded",m="aria-hidden",g="k-expanded",v="k-expander-content",_="k-expander-content-wrapper",b=".k-expander-indicator",k="k-focus",w="click",y="keydown",x="height",C='<div #if(!useBareTemplate){# class="k-expander-header" #}#  data-#=ns#expander-header role="button" tabindex="0" aria-controls="#: elementId #">'+"#if(!useBareTemplate){#"+'<div class="k-expander-title">#:title#</div>'+"#} else {#"+"#=title#"+"#}#"+'<span class="k-expander-spacer"></span>'+"#if(!useBareTemplate){#"+'<div class="k-expander-sub-title">#:subTitle#</div>'+"#}#"+'<span class="k-expander-indicator #:iconClass#"></span>'+"</div>",S=r.extend({init:function(e,t){var i=this;var n=s.attr("expander-header");r.fn.init.call(i,e,t);t=o.extend(true,{},t);i._wrapper();i._animations(t);i.element.attr(m,!t.expanded);if(!i.options.useBareTemplate)i.element.addClass(v);i.wrapper.on(w+a,"["+n+"]",i._click.bind(i)).on("focusin"+a,i._focus.bind(i)).on("focusout"+a,i._blur.bind(i)).on(y+a,i._keydown.bind(i));i.toggle(i.options.expanded,false);s.notify(i)},events:[l,c,i],options:{name:"ExpansionPanel",disabled:false,expanded:false,animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},height:null,toggleable:true,expandIconClass:"k-icon k-i-arrow-chevron-down",collapseIconClass:"k-icon k-i-arrow-chevron-up",title:"",subTitle:"",headerClass:null,useBareTemplate:false},_wrapper:function(){var e=this;var t=e.element;var i=t[0];var n;var r;var a=t.attr("id");if(!a){a=s.guid();t.attr("id",a)}n=t.wrap("<div class='k-widget k-expander"+(e.options.expanded?" "+g:"")+"'></div>").parent();r=s.template(C)({title:e.options.title,subTitle:e.options.subTitle,iconClass:e.options.expanded?e.options.expandIconClass:e.options.collapseIconClass,useBareTemplate:e.options.useBareTemplate,ns:s.ns,elementId:a});e.header=o(r);n.prepend(e.header);e._indicator=n.find(b);n[0].style.cssText=i.style.cssText;i.style.width="100%";e.wrapper=n.addClass(e.options.disabled?f:"");e.contentWrapper=e.element.wrap("<div></div>").parent().addClass(_);e.header.attr(p,e.options.disabled).attr(h,e.options.expanded);if(!e.options.useBareTemplate)n.addClass(i.className);if(e.options.height)e.wrapper.css(x,e.options.height);if(e.options.headerClass)e.header.addClass(e.options.headerClass)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}},_click:function(e){var t=this;var i=t._indicator.hasClass(t.options.collapseIconClass);var n=t.element;e.stopPropagation();if(!t.options.toggleable){e.preventDefault();return}if(!t.trigger(i?c:l,{item:n[0]}))t.toggle()},toggle:function(e,t){var i=this,n=i.options.animation,r=n.expand,a=n.collapse&&"effects"in n.collapse,o=u({},n.expand,n.collapse),s=i.element,l=i.wrapper;if(e!==d){if(t===false)o=null}else e=!i._indicator.hasClass(i.options.collapseIconClass);if(!a)o=u(o,{reverse:true});if(!e){r=u(o,{hide:true});r.complete=i._completeHandler.bind(i)}else r=u({complete:i._completeHandler.bind(i)},r);if(e){i._indicator.removeClass(this.options.expandIconClass);i._indicator.addClass(this.options.collapseIconClass);l.addClass(g)}else{i._indicator.removeClass(this.options.collapseIconClass);i._indicator.addClass(this.options.expandIconClass);l.removeClass(g)}s.attr(m,!e);i.header.attr(h,e);i.contentWrapper.kendoStop(true,true).kendoAnimate(r)},_completeHandler:function(){this.trigger(i)},_keydown:function(e){var t=this,i=e.keyCode;if((i==n.ENTER||i==n.SPACEBAR)&&o(e.target).is("[data-expander-header]")){t._click(e);e.preventDefault()}},destroy:function(){var e=this;e.wrapper.off(a);r.fn.destroy.call(e)},enable:function(e){this.wrapper.toggleClass(f,!e);this.header.attr(p,!e)},_blur:function(){var e=this;if(e.header)e.wrapper.removeClass(k)},_focus:function(){var e=this;if(e.wrapper)e.wrapper.addClass(k)}});return t.plugin(S),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.columnmenu.min",["kendo.popup.min","kendo.filtermenu.min","kendo.menu.min","kendo.expansionpanel.min"],function(){var z={id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu","expansionpanel"],advanced:true},h=window.kendo.jQuery,u=void 0,y=window.kendo,e=y.ui,n=h.extend,x=h.grep,a=h.map,o=h.inArray,s=y.data.Comparer,c="k-selected",r="asc",l="desc",d="change",t="init",i="open",f="select",p="stick",m="unstick",g="kendoPopup",v="kendoFilterMenu",_="kendoMenu",b="kendoExpansionPanel",k=".kendoColumnMenu",w="[scope='col']",C=e.Widget;function S(e){return y.trim(e).replace(/&nbsp;/gi,"")}function T(e,t){var i={};var n,r,a;for(n=0,r=e.length;n<r;n++){a=e[n];i[a[t]]=a}return i}function I(e){return this.columns.indexOf(e.title)>=0||this.columns.indexOf(e.field)>=0}function D(e){var t=[];for(var i=0;i<e.length;i++){if(!e[i].columns){t.push(e[i]);continue}t=t.concat(D(e[i].columns))}return t}function E(e,t){return"["+y.attr(e)+"='"+(t||"").replace(/'/g,'"')+"']"}function A(e,t,i){if(e>0)t.insertAfter(i.children().eq(e-1));else i.prepend(t)}function F(e){var t={};var i;for(var n=0;n<e.length;n++){i=JSON.stringify(e[n]);if(t[i])t[i].push(n);else t[i]=[n]}return t}function H(e,t){var i=y.attr("index");var n=y.attr("field");var r={};var a;var o;var s;var l;var d;for(var u=0;u<e.length;u++){o=t.eq(u);s=parseInt(o.attr(i),10);l=o.attr(n);d=o.attr("title");a=l?l:d;if(r[a])r[a].push(s);else r[a]=[s]}return r}var P=C.extend({init:function(e,t){var i=this,n;t=t||{};t.componentType=t.componentType||"classic";C.fn.init.call(i,e,t);e=i.element;t=i.options;i.owner=t.owner;i.dataSource=t.dataSource;i.field=e.attr(y.attr("field"));i.title=e.attr(y.attr("title"));n=h(e.closest(w));if(n.length)i.appendTo=n.find(t.appendTo);else i.appendTo=h(t.appendTo);i.link=i._createLink();i.wrapper=h('<div class="k-column-menu"/>');i._refreshHandler=i.refresh.bind(i);i.dataSource.bind(d,i._refreshHandler)},_init:function(){var e=this;e.pane=e.options.pane;if(e.pane)e._isMobile=true;if(e._isMobile)e._createMobileMenu();else e._createMenu();e.owner._muteAngularRebind(function(){e._angularItems("compile")});e._sort();e._columns();e._filter();e._lockColumns();e._stickyColumns();e.trigger(t,{field:e.field,container:e.wrapper})},events:[t,i,"sort","filtering",p,m],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",column:"Column",columns:"Columns",columnVisibility:"Column Visibility",clear:"Clear",cancel:"Cancel",done:"Done",settings:"Edit Column Settings",lock:"Lock Column",unlock:"Unlock Column",stick:"Stick Column",unstick:"Unstick Column",setColumnPosition:"Set Column Position",apply:"Apply",reset:"Reset",buttonTitle:"{0} edit column settings"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"},encodeTitles:false,componentType:"classic",appendTo:null},_createMenu:function(){var t=this,e=t.options,i=t._ownerColumns(),n,r;if(t._hasGroups()){i=t._groupColumns(i);n=t._flattenMenuCols(i);if(n.length!==t.owner.columns.length)t._syncMenuCols(n,t.owner.columns)}if(t._isModernComponentType())r=y.template(O);else r=y.template(M);t.wrapper.html(r({uid:y.guid(),ns:y.ns,messages:e.messages,sortable:e.sortable,filterable:e.filterable,columns:i,showColumns:e.columns,hasLockableColumns:e.hasLockableColumns,hasStickableColumns:e.hasStickableColumns,encodeTitles:e.encodeTitles,omitWrapAttribute:y.attr("omit-wrap")}));t.popup=t.wrapper[g]({anchor:t.link,copyAnchorStyles:false,open:t._open.bind(t),activate:t._activate.bind(t),deactivate:t._deactivate.bind(t),close:function(e){if(t.menu)t.menu._closing=e.sender.element;if(t.options.closeCallback)t.options.closeCallback(t.element)}}).data(g);if(t._isModernComponentType()){t.popup.element.addClass("k-grid-columnmenu-popup");t._createExpanders()}else t.menu=t.wrapper.children()[_]({orientation:"vertical",closeOnClick:false,open:function(){t._updateMenuItems()}}).data(_)},_createLink:function(){var e=this,t=e.element,i=e.appendTo.length?t.find(e.appendTo):t,n=t.find(".k-header-column-menu"),r=y.format(e.options.messages.buttonTitle,e.title||e.field);if(!n[0]){t.addClass("k-filterable");n=i.append('<a class="k-header-column-menu" href="#" title="'+r+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")}n.attr("tabindex",-1).on("click"+k,e._click.bind(e));return n},_createExpanders:function(){var e=this;var t=e.options;var i={expanded:false,headerClass:"k-columnmenu-item",useBareTemplate:true};e.wrapper.find(".k-columns-item")[b](h.extend(true,{},i,{title:'<span class="k-icon k-i-columns"></span><span>'+t.messages.columns+"</span>"}));e.wrapper.find(".k-column-menu-filter")[b](h.extend(true,{},i,{title:'<span class="k-icon k-i-filter"></span><span>'+t.messages.filter+"</span>"}));e.wrapper.find(".k-column-menu-position")[b](h.extend(true,{},i,{title:'<span class="k-icon k-i-set-column-position"></span><span>'+t.messages.setColumnPosition+"</span>"}))},_syncMenuCols:function(e,t){var i=t.length;var n;var r=e.map(function(e){return e.field});for(var a=0;a<i;a++){n=t[a];if(r.indexOf(n.field)<0)n.menu=false}},_flattenMenuCols:function(e){var t=[];var i=e.length;for(var n=0;n<i;n++)if(e[n].columns)t=t.concat(this._flattenMenuCols(e[n].columns));else if(!e[n].groupHeader)t.push(e[n]);return t},_groupColumns:function(e,t){var i=[];var n=this.options.columns.groups;var r=n.length;var a;var o;var s;var l;var d;for(a=0;a<r;a++){o=n[a];s=I.bind(o);l={title:o.title,groupHeader:true};d=e.filter(s);i.push(l);if(t)l.columns=d;else i=i.concat(d)}return i},_hasGroups:function(){return this.options.columns&&this.options.columns.groups&&this.options.columns.groups.length},_isModernComponentType:function(){return this.options.componentType==="modern"&&!this._isMobile},_deactivate:function(){if(this.menu)this.menu._closing=false},_createMobileMenu:function(){var t=this,e=t.options,i=t._ownerColumns(),n,r;if(t._hasGroups()){n=t._groupColumns(i,true);r=t._flattenMenuCols(n);if(r.length!==t.owner.columns.length)t._syncMenuCols(r,t.owner.columns)}var a=y.template(R)({ns:y.ns,field:t.field,title:t.title||t.field,messages:e.messages,sortable:e.sortable,filterable:e.filterable,columns:i,showColumns:e.columns,hasLockableColumns:e.hasLockableColumns,hasStickableColumns:e.hasStickableColumns,hasGroups:t._hasGroups(),groups:n});t.view=t.pane.append(a);t.view.state={columns:{}};t.wrapper=t.view.element.find(".k-column-menu");t.menu=new N(t.wrapper.children(),{pane:t.pane,columnMenu:t});t.menu.element.on("transitionend"+k,function(e){e.stopPropagation()});var o=t.view.wrapper&&t.view.wrapper[0]?t.view.wrapper:t.view.element;o.on("click",".k-header-done",function(e){e.preventDefault();t.menu._applyChanges();t.menu._cancelChanges(false);t.close()});o.on("click",".k-header-cancel",function(e){e.preventDefault();t.menu._cancelChanges(true);t.close()});t.view.bind("showStart",function(){var e=t.view||{columns:{}};if(t.options.hasLockableColumns)t._updateLockedColumns();if(t.options.hasStickableColumns)t._updateStickyColumns();if(e.element.find(".k-sort-asc.k-selected").length)e.state.initialSort="asc";else if(e.element.find(".k-sort-desc.k-selected").length)e.state.initialSort="desc"})},_angularItems:function(e){var i=this;i.angular(e,function(){var e=i.wrapper.find(".k-columns-item input["+y.attr("field")+"]").map(function(){return h(this).closest("li")});var t=a(i._ownerColumns(),function(e){return{column:e._originalObject}});return{elements:e,data:t}})},destroy:function(){var e=this;e._angularItems("cleanup");C.fn.destroy.call(e);if(e.filterMenu)e.filterMenu.destroy();if(e._refreshHandler)e.dataSource.unbind(d,e._refreshHandler);if(e.options.columns&&e.owner){if(e._updateColumnsMenuHandler){e.owner.unbind("columnShow",e._updateColumnsMenuHandler);e.owner.unbind("columnHide",e._updateColumnsMenuHandler)}if(e._updateColumnsLockedStateHandler){e.owner.unbind("columnLock",e._updateColumnsLockedStateHandler);e.owner.unbind("columnUnlock",e._updateColumnsLockedStateHandler)}}if(e.menu){e.menu.element.off(k);e.menu.destroy()}e.wrapper.off(k);if(e.popup)e.popup.destroy();if(e.view)e.view.purge();e.link.off(k);e.owner=null;e.wrapper=null;e.element=null},close:function(){if(this.menu)this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+k)}},_click:function(e){var t=this;e.preventDefault();e.stopPropagation();var i=this.options;if(i.filter&&this.element.is(!i.filter))return;if(!this.popup&&!this.pane)this._init();else t._updateMenuItems();if(this._isMobile)this.pane.navigate(this.view,this.options.animations.left);else this.popup.toggle()},_updateMenuItems:function(){var e=this;if(e.options.columns){e._setMenuItemsVisibility();if(!e.options.columns.sort&&!e.options.columns.groups)e._reorderMenuItems();else e._updateDataIndexes()}},_setMenuItemsVisibility:function(){var e=this;e._eachRenderedMenuItem(function(e,t,i){if(t.matchesMedia===false)i.hide();else i.show()})},_reorderMenuItems:function(){var e=this;e._eachRenderedMenuItem(function(e,t,i,n){if(i[0]&&i.index()!==e)A(e,i,n)});e._updateDataIndexes()},_updateDataIndexes:function(){var n=this;var e=n._isMobile&&n.view?h(n.view.element).find(".k-columns-item").children("ul"):h(n.wrapper).find(".k-menu-group").first(),r=n._ownerColumns(true).map(function(e){return e.title||e.field});e.find("span."+(this._isMobile?"k-listgroup-form-field-wrapper":"k-menu-link")+" input").each(function(e){var t;var i;if(n.options.columns.sort){t=n._ownerColumns();i=r.indexOf(t[e].title);h(this).attr(y.attr("index"),i)}else h(this).attr(y.attr("index"),e)})},_eachRenderedMenuItem:function(e){var t=this;var i;var n;var r;var a;var o=x(D(t.owner.columns),function(e){var t=true,i=S(e.title||"");if(e.menu===false||!e.field&&!i.length)t=false;return t}).map(function(e){return{field:e.field,title:e.title,matchesMedia:e.matchesMedia}});var s=t._getRenderedList();var l=t._getRenderedListElements(s);var d=H(l,s.find("input[type=checkbox]"));var u=F(o);var c;for(var f=0;f<o.length;f++){a=o[f];r=a.field?a.field:a.title;n=h.inArray(f,u[JSON.stringify(a)]);c=h();for(var p=0;p<d[r].length;p++)c=c.add(l.eq(d[r][p]));i=c.find(E("field",r)).closest(t._isModernComponentType()?"label":"li").eq(n);e(f,a,i,s)}},_getRenderedList:function(){var e=this;if(e._isModernComponentType())return h(e.wrapper).find(".k-columns-item");else return e._isMobile&&e.view?h(e.view.element).find(".k-columns-item").children("ul"):h(e.wrapper).find(".k-menu-group").first()},_getRenderedListElements:function(e){var t=this;if(t._isModernComponentType())return e.find("label");else return e.find("span."+(this._isMobile?"k-listgroup-form-field-wrapper":"k-menu-link"))},_open:function(){var i=this,n,r;h(".k-column-menu").not(i.wrapper).each(function(){h(this).data(g).close()});i.popup.element.on("keydown"+k,function(e){var t=h(e.target);if(i._isModernComponentType()&&e.keyCode===y.keys.ENTER)t.click();if(e.keyCode==y.keys.ESC){n=y.widgetInstance(t.find("select"));if(t.hasClass("k-picker")&&n&&n.popup.visible()){e.stopPropagation();return}r=t.closest(".k-popup").closest(".k-menu-item");if(r.length>0){r.addClass("k-focus");if(i.menu)i.menu.element.trigger("focus");else i.popup.element.find("[tabindex=0]").eq(0).trigger("focus")}t.closest(".k-popup").getKendoPopup().close()}});if(i.options.hasLockableColumns)i._updateLockedColumns();if(i.options.hasStickableColumns)i._updateStickyColumns()},_activate:function(){if(this.menu)this.menu.element.trigger("focus");else this.popup.element.find("[tabindex=0]").eq(0).trigger("focus");this.trigger(i,{field:this.field,container:this.wrapper})},_ownerColumns:function(e){var t=D(this.owner.columns),i=x(t,function(e){var t=true,i=S(e.title||"");if(e.menu===false||!e.field&&!i.length)t=false;return t}),n,r=this.options.columns.sort;n=a(i,function(e){return{originalField:e.field,field:e.field||e.title,title:e.title||e.field,hidden:e.hidden,matchesMedia:e.matchesMedia,index:o(e,t),locked:!!e.locked,_originalObject:e,uid:e.headerAttributes.id}});if(r&&!e)n.sort(s.create({field:"title",dir:r}));return n},_sort:function(){var e=this;if(e.options.sortable){e.refresh();if(e._isModernComponentType())e.wrapper.on("click"+k,".k-sort-asc, .k-sort-desc",e._sortHandler.bind(e));else e.menu.bind(f,e._sortHandler.bind(e))}},_sortHandler:function(e){var t=this,i=e.item?h(e.item):h(e.target),n;if(i.hasClass("k-sort-asc"))n=r;else if(i.hasClass("k-sort-desc"))n=l;if(!n)return;t._getSortItemsContainer(i).find(".k-sort-"+(n==r?l:r)).removeClass(c);t._sortDataSource(i,n);if(!t._isMobile)t.close()},_getSortItemsContainer:function(e){return this._isModernComponentType()?e.parents(".k-columnmenu-item-wrapper").first():e.parent()},_sortDataSource:function(e,t){var i=this,n=i.options.sortable,r=n.compare===null?u:n.compare,a=i.dataSource,o,s,l=a.sort()||[];var d=e.hasClass(c)&&n&&n.allowUnsort!==false;t=!d?t:u;if(i.trigger("sort",{sort:{field:i.field,dir:t,compare:r}}))return;if(d)e.removeClass(c);else e.addClass(c);if(n.mode==="multiple"){for(o=0,s=l.length;o<s;o++)if(l[o].field===i.field){l.splice(o,1);break}l.push({field:i.field,dir:t,compare:r})}else l=[{field:i.field,dir:t,compare:r}];a.sort(l)},_columns:function(){var s=this;if(s.options.columns){s._updateColumnsMenu();s._updateColumnsMenuHandler=s._updateColumnsMenu.bind(s);s.owner.bind(["columnHide","columnShow"],s._updateColumnsMenuHandler);s._updateColumnsLockedStateHandler=s._updateColumnsLockedState.bind(s);s.owner.bind(["columnUnlock","columnLock"],s._updateColumnsLockedStateHandler);if(s._isModernComponentType()){s.wrapper.on("click"+k,".k-columns-item .k-button:not(.k-button-solid-primary)",function(){s._updateColumnsMenu()});s.wrapper.on("click"+k,".k-columns-item .k-button.k-button-solid-primary",s._applyColumnVisibility.bind(s));s.wrapper.on("click"+k,".k-columns-item .k-checkbox",function(){s._updateColumnsMenu(true)})}else s.menu.bind(f,function(e){var t=h(e.item),i,n,r=y.attr("uid"),a=0,o=x(D(s.owner.columns),function(e){var t=true,i=S(e.title||"");if(e.menu===false||!e.field&&!i.length)t=false;return t});if(s._isMobile)e.preventDefault();if(!t.parent().closest("li.k-columns-item")[0])return;i=t.find(":checkbox");if(i.attr("disabled"))return;a=o.map(function(e){return e.headerAttributes.id}).indexOf(i.attr(r));n=o[a];if(n.hidden===true)s.owner.showColumn(n);else s.owner.hideColumn(n)})}},_applyColumnVisibility:function(){var e=this;var t=y.attr("field");var i=y.attr("uid");var n=e.wrapper.find(".k-columns-item input["+t+"]");var r=x(D(this.owner.columns),function(e){var t=true,i=S(e.title||"");if(e.menu===false||!e.field&&!i.length)t=false;return t});var a=n.length;var o;var s;var l;var d;e.owner.unbind("columnShow",e._updateColumnsMenuHandler);e.owner.unbind("columnHide",e._updateColumnsMenuHandler);for(o=0;o<a;o++){l=h(n[o]);s=r.map(function(e){return e.headerAttributes.id}).indexOf(l.attr(i));d=r[s];if(l.is(":checked")&&d.hidden)e.owner.showColumn(d);else if(l.is(":not(:checked)")&&!d.hidden)e.owner.hideColumn(d)}e.popup.close();e.owner.bind(["columnHide","columnShow"],e._updateColumnsMenuHandler)},_updateColumnsMenu:function(t){var e,i,n,r,a,o=this;var s=y.attr("field"),l=y.attr("locked"),d=y.attr("uid"),u={},c=0,f=0;t=t===true;var p=x(D(this.owner.columns),function(e,t){var i=true,n=S(e.title||"");if(e.menu===false||!e.field&&!n.length)i=false;if(i){u[t]=c;c++}return i}),h=x(this._ownerColumns(),function(e){if(t)return o.wrapper.find("[role='menuitemcheckbox'] ["+d+"='"+e.uid+"']").prop("checked");return!e.hidden&&e.matchesMedia!==false}),m=x(h,function(e){return e.originalField}),g=x(m,function(e){return e.locked===true}).length,v=x(m,function(e){return e.locked!==true}).length,_=x(this.owner.columns,function(e){return e.menu===false}),b=x(_,function(e){return e.hidden});this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",false);var k=this.wrapper.find(".k-columns-item input["+s+"]").prop("disabled",false);if(!t)k.prop("checked",false);var w;for(e=0,i=k.length;e<i;e++){n=k.eq(e);a=n.attr(l)==="true";r=false;w=n.data("kendoSwitch");f=p.map(function(e){return e.headerAttributes.id}).indexOf(n.attr(d));r=t?n.prop("checked"):!p[f].hidden&&p[f].matchesMedia!==false;n.prop("checked",r);if(w){w.enable(true);w.check(r)}n.closest("[role='menuitemcheckbox']").attr("aria-checked",r);if(r){if(g==1&&a){n.prop("disabled",true);if(w)w.enable(false)}if((_.length===0||_.length===b.length)&&v==1&&!a){n.prop("disabled",true);if(w)w.enable(false)}}}},_updateColumnsLockedState:function(){var e,t,i,n;var r=y.attr("field");var a=y.attr("locked");var o=T(this._ownerColumns(),"field");var s=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=s.length;e<t;e++){i=s.eq(e);n=o[i.attr(r)];if(n)i.attr(a,n.locked)}this._updateColumnsMenu()},_filter:function(){var i=this,e=v,t=i.options;if(t.filterable!==false){if(t.filterable.multi){e="kendoFilterMultiCheck";if(t.filterable.dataSource){t.filterable.checkSource=t.filterable.dataSource;delete t.filterable.dataSource}}i.filterMenu=i.wrapper.find(".k-filterable")[e](n(true,{},{appendToElement:true,dataSource:t.dataSource,values:t.values,field:i.field,title:i.title,change:function(e){if(i.trigger("filtering",{filter:e.filter,field:e.field}))e.preventDefault()},componentType:i.options.componentType,cycleForm:!i._isModernComponentType()},t.filterable)).data(e);if(i._isMobile)i.menu.bind(f,function(e){var t=h(e.item);if(t.hasClass("k-filter-item"))i.pane.navigate(i.filterMenu.view,i.options.animations.left)})}},_lockColumns:function(){var e=this;if(e._isModernComponentType())e.wrapper.on("click"+k,".k-lock, .k-unlock",e._lockableHandler.bind(e));else e.menu.bind(f,e._lockableHandler.bind(e))},_lockableHandler:function(e){var t=this;var i=e.item?h(e.item):h(e.target);if(i.hasClass("k-lock")){t.owner.lockColumn(t.field);if(!t._isMobile)t.close()}else if(i.hasClass("k-unlock")){t.owner.unlockColumn(t.field);if(!t._isMobile)t.close()}},_stickyColumns:function(){var e=this;if(e._isModernComponentType())e.wrapper.on("click"+k,".k-stick, .k-unstick",e._stickableHandler.bind(e));else e.menu.bind(f,e._stickableHandler.bind(e))},_stickableHandler:function(e){var t=this;var i=e.item?h(e.item):h(e.target);var n=t.field;var r=t.owner.columns;var a=x(r,function(e){return e.field==n||e.title==n})[0];if(i.hasClass("k-stick")){t.owner.stickColumn(t.field);t.trigger(p,{column:a});if(!t._isMobile)t.close()}else if(i.hasClass("k-unstick")){t.owner.unstickColumn(t.field);t.trigger(m,{column:a});if(!t._isMobile)t.close()}},_updateLockedColumns:function(){var t=this.field;var e=this.owner.columns;var i=x(e,function(e){return e.field==t||e.title==t})[0];if(!i)return;var n=i.locked===true;var r=x(e,function(e){return!e.hidden&&(e.locked&&n||!e.locked&&!n)}).length;var a=i.lockable===false;var o=this.wrapper.find(".k-lock").removeClass("k-disabled");var s=this.wrapper.find(".k-unlock").removeClass("k-disabled");if(n||r==1||a)o.addClass("k-disabled");if(!n||r==1||a)s.addClass("k-disabled");this._updateColumnsLockedState()},_updateStickyColumns:function(){var t=this.field;var e=this.owner.columns;var i=x(e,function(e){return e.field==t||e.title==t})[0];if(!i)return;var n=i.sticky===true;var r=i.stickable===true;var a=i.locked===true;var o=x(e,function(e){return!e.hidden&&(e.locked&&a||!e.locked&&!a)}).length;var s=this.wrapper.find(".k-stick").removeClass("k-disabled");var l=this.wrapper.find(".k-unstick").removeClass("k-disabled");if(n||!r||a&&o===1)s.addClass("k-disabled");if(!n||!r)l.addClass("k-disabled")},refresh:function(){var e=this,t=e.options.dataSource.sort()||[],i,n=e.field,r,a;e.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(c);for(r=0,a=t.length;r<a;r++){i=t[r];if(n==i.field)e.wrapper.find(".k-sort-"+i.dir).addClass(c)}e.link[e._filterExist(e.dataSource.filter())?"addClass":"removeClass"]("k-active")},_filterExist:function(e){var t=false;var i;if(!e)return;e=e.filters;for(var n=0,r=e.length;n<r;n++){i=e[n];if(i.field==this.field)t=true;else if(i.filters)t=t||this._filterExist(i)}return t}}),O="#if(sortable){#"+'<div class="k-columnmenu-item-wrapper">'+"<div>"+'<div class="k-columnmenu-item k-sort-asc" tabindex="0">'+'<span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}'+"</div>"+"</div>"+"<div>"+'<div class="k-columnmenu-item k-sort-desc" tabindex="0">'+'<span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}'+"</div>"+"</div>"+"</div>"+"#}#"+"#if(showColumns){#"+'<div class="k-columnmenu-item-wrapper">'+"<div>"+'<div class="k-columnmenu-item-content k-columns-item">'+'<div class="k-column-list-wrapper">'+'<div class="k-column-list" role="menu">'+"#for (var idx = 0; idx < columns.length; idx++) {#"+"#if(columns[idx].groupHeader){#"+'<span class="k-column-menu-group-header"><span class="k-column-menu-group-header-text">#=columns[idx].title#</span></span>'+"#} else {#"+'<label class="k-column-list-item" role="menuitemcheckbox" aria-checked="false" #=columns[idx].matchesMedia === false ? "style=\'display:none;\'" : ""#><input class="k-checkbox k-checkbox-md k-rounded-md" type="checkbox" title="#=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#" data-#=ns#uid="#=columns[idx].uid#"/><span class="k-checkbox-label"> #=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#</span></label>'+"#}#"+"#}#"+"</div>"+"</div>"+'<div class="k-columnmenu-actions">'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" type="button">${messages.reset}</button>'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary" type="button">${messages.apply}</button>'+"</div>"+"</div>"+"</div>"+"</div>"+"#}#"+"#if(filterable){#"+'<div class="k-columnmenu-item-wrapper">'+'<div class="k-columnmenu-item-content k-column-menu-filter">'+'<div class="k-filterable"></div>'+"</div>"+"</div>"+"#}#"+"#if(hasLockableColumns || hasStickableColumns){#"+'<div class="k-columnmenu-item-wrapper">'+'<div class="k-column-menu-position">'+"#if(hasLockableColumns){#"+'<div class="k-columnmenu-item k-lock" tabindex="0">'+'<span class="k-icon k-i-lock"></span>${messages.lock}'+"</div>"+'<div class="k-columnmenu-item k-unlock" tabindex="0">'+'<span class="k-icon k-i-unlock"></span>${messages.unlock}'+"</div>"+"#}#"+"#if(hasStickableColumns){#"+'<div class="k-columnmenu-item k-stick" tabindex="0">'+'<span class="k-icon k-i-stick"></span>${messages.stick}'+"</div>"+'<div class="k-columnmenu-item k-unstick" tabindex="0">'+'<span class="k-icon k-i-unstick"></span>${messages.unstick}'+"</div>"+"#}#"+"</div>"+"</div>"+"#}#",M='<ul id="#=uid#">'+"#if(sortable){#"+'<li class="k-item k-menu-item k-sort-asc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-asc-sm"></span><span class="k-menu-link-text">${messages.sortAscending}</span></span></li>'+'<li class="k-item k-menu-item k-sort-desc"><span class="k-link k-menu-link"><span class="k-icon k-i-sort-desc-sm"></span><span class="k-menu-link-text">${messages.sortDescending}</span></span></li>'+"#if(showColumns || filterable){#"+'<li class="k-separator k-menu-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(showColumns){#"+'<li class="k-item k-menu-item k-columns-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-columns"></span><span class="k-menu-link-text">${messages.columns}</span></span><ul>'+"#for (var idx = 0; idx < columns.length; idx++) {#"+"#if(columns[idx].groupHeader){#"+'<li class="k-column-menu-group-header" #=omitWrapAttribute#="true" ><span class="k-column-menu-group-header-text">#=columns[idx].title#</span></li>'+"#} else {#"+'<li role="menuitemcheckbox" aria-checked="false" #=columns[idx].matchesMedia === false ? "style=\'display:none;\'" : ""#><input type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" title="#=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#" data-#=ns#uid="#=columns[idx].uid#"/>#=encodeTitles ? kendo.htmlEncode(columns[idx].title) : columns[idx].title#</li>'+"#}#"+"#}#"+"</ul></li>"+"#if(filterable || hasLockableColumns || hasStickableColumns){#"+'<li class="k-separator k-menu-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(filterable){#"+'<li class="k-item k-menu-item k-filter-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-filter"></span><span class="k-menu-link-text">${messages.filter}</span></span><ul>'+'<li><div class="k-filterable"></div></li>'+"</ul></li>"+"#if(hasLockableColumns || hasStickableColumns){#"+'<li class="k-separator k-menu-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(hasLockableColumns || hasStickableColumns){#"+'<li class="k-item k-menu-item k-position-item" aria-haspopup="true"><span class="k-link k-menu-link"><span class="k-icon k-i-set-column-position"></span><span class="k-menu-link-text">${messages.setColumnPosition}</span></span><ul>'+"#if(hasLockableColumns){#"+'<li class="k-item k-menu-item k-lock"><span class="k-link k-menu-link"><span class="k-icon k-i-lock"></span><span class="k-menu-link-text">${messages.lock}</span></span></li>'+'<li class="k-item k-menu-item k-unlock"><span class="k-link k-menu-link"><span class="k-icon k-i-unlock"></span><span class="k-menu-link-text">${messages.unlock}</span></span></li>'+"#if(hasStickableColumns){#"+'<li class="k-separator k-menu-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(hasStickableColumns){#"+'<li class="k-item k-menu-item k-stick"><span class="k-link k-menu-link"><span class="k-icon k-i-stick"></span><span class="k-menu-link-text">${messages.stick}</span></span></li>'+'<li class="k-item k-menu-item k-unstick"><span class="k-link k-menu-link"><span class="k-icon k-i-unstick"></span><span class="k-menu-link-text">${messages.unstick}</span></span></li>'+"#}#"+"</ul></li>"+"#}#"+"</ul>",R='<div data-#=ns#role="view" class="k-grid-column-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" '+'aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+"${messages.settings}"+'<a href="\\#" class="k-header-done k-link" title="#=messages.done#" '+'aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a>'+"</div>"+'<div class="k-column-menu">'+'<ul class="k-reset">'+"<li>"+'<span class="k-list-title">#=messages.column#: ${title}</span>'+'<ul class="k-listgroup k-listgroup-flush k-mb-4">'+"#if(sortable){#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span><span class="k-item-title">${messages.sortAscending}</span></span></li>'+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span><span class="k-item-title">${messages.sortDescending}</span></span></li>'+"#}#"+"#if(hasLockableColumns){#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span><span class="k-item-title">${messages.lock}</span></span></li>'+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span><span class="k-item-title">${messages.unlock}</span></span></li>'+"#}#"+"#if(hasStickableColumns){#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-stick"><span class="k-link"><span class="k-icon k-i-stick"></span><span class="k-item-title">${messages.stick}</span></span></li>'+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-unstick"><span class="k-link"><span class="k-icon k-i-unstick"></span><span class="k-item-title">${messages.unstick}</span></span></li>'+"#}#"+"#if(filterable){#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item k-filter-item">'+'<span class="k-link k-filterable">'+'<span class="k-icon k-i-filter"></span>'+'<span class="k-item-title">${messages.filter}</span>'+'<span class="k-select"><span class="k-icon k-i-arrow-chevron-right"></span></span>'+"</span>"+"</li>"+"#}#"+"</ul>"+"</li>"+"#if(showColumns){#"+'<li class="k-columns-item"><span class="k-list-title">${messages.columnVisibility}</span>'+"#if(hasGroups){#"+"#for (var i = 0; i < groups.length; i++) {#"+'<span class="k-list-group-header k-pb-1">#:groups[i].title#</span>'+'<ul class="k-listgroup k-listgroup-flush k-mb-4">'+"#for (var idx = 0; idx < groups[i].columns.length; idx++) {#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item">'+'<span class="k-listgroup-form-row">'+'<span class="k-listgroup-form-field-label k-item-title">'+"#=groups[i].columns[idx].title#"+"</span>"+'<span class="k-listgroup-form-field-wrapper">'+'<input type="checkbox" title="#=groups[i].columns[idx].title#" '+' data-#=ns#field="#=groups[i].columns[idx].field.replace(/"/g,"&\\#34;")#"'+' data-#=ns#index="#=groups[i].columns[idx].index#"'+' data-#=ns#uid="#=groups[i].columns[idx].uid#"'+' data-#=ns#locked="#=groups[i].columns[idx].locked#" />'+"</span>"+"</span>"+"</li>"+"#}#"+"</ul>"+"#}#"+"#} else {#"+'<ul class="k-listgroup k-listgroup-flush k-mb-4">'+"#for (var idx = 0; idx < columns.length; idx++) {#"+'<li id="#=kendo.guid()#" class="k-item k-listgroup-item">'+'<span class="k-listgroup-form-row">'+'<span class="k-listgroup-form-field-label k-item-title">'+"#=columns[idx].title#"+"</span>"+'<span class="k-listgroup-form-field-wrapper">'+'<input type="checkbox" title="#=columns[idx].title#" '+' data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#"'+' data-#=ns#index="#=columns[idx].index#"'+' data-#=ns#uid="#=columns[idx].uid#"'+' data-#=ns#locked="#=columns[idx].locked#" />'+"</span>"+"</span>"+"</li>"+"#}#"+"</ul>"+"#}#"+"</li>"+"#}#"+'<li class="k-item k-clear-wrap">'+'<ul class="k-listgroup k-listgroup-flush">'+'<li class="k-listgroup-item">'+'<span class="k-link k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">'+"#=messages.clear#"+"</span>"+"</li>"+"</ul>"+"</li>"+"</ul>"+"</div>"+"</div>",N=C.extend({init:function(e,t){var i=this;C.fn.init.call(i,e,t);i._createCheckBoxes();i.element.on("click"+k,"li.k-item:not(.k-separator):not(.k-disabled):not(:has(.k-switch))","_click")},events:[f],_click:function(e){var t=this;if(!h(e.target).is("[type=checkbox]"))e.preventDefault();if(h(e.target).hasClass("k-clear")){t._cancelChanges(true);return}if(h(e.target).hasClass("k-filterable")){t._cancelChanges(true);t.trigger(f,{item:e.currentTarget});return}t._updateSelectedItems(e.currentTarget)},_updateSelectedItems:function(e){var t=this;var i=h(e);var n=t.options.columnMenu.view.state||{columns:{}};var r=i.prop("id");if(i.hasClass("k-filter-item"))return;if(n[r])n[r]=false;else n[r]=true;if(i.hasClass("k-sort-asc")||i.hasClass("k-sort-desc")){var a;var o;var s;if(i.hasClass("k-sort-asc")){a="asc";o=t.element.find(".k-sort-desc")}else{a="desc";o=t.element.find(".k-sort-asc")}s=o.prop("id");if(a===n.initialSort&&!i.hasClass("k-selected"))n[r]=false;if(n[s])n[s]=false;o.removeClass(c)}if(i.hasClass(c))i.removeClass(c);else i.addClass(c)},_cancelChanges:function(e){var t=this;var i=t.options.columnMenu;var n=i.view;var r=n.state||{columns:{}};var a=r.columns;t.element.find("."+c).removeClass(c);i.refresh();if(e){var o=[];for(var s in a)if(a.hasOwnProperty(s))if(a[s]===true){var l=n.element.find("#"+s);o.push(l[0])}for(var d=o.length-1;d>=0;d--)t.trigger(f,{item:o[d]});if(i.options.hasLockableColumns)i._updateLockedColumns();if(i.options.hasStickableColumns)i._updateStickyColumns()}t.options.columnMenu.view.state={columns:{}}},_applyChanges:function(){var e=this;var t=e.options.columnMenu.view;var i=t.state||{columns:{}};for(var n in i)if(i.hasOwnProperty(n))if(n!=="initialSort"&&n!=="columns"&&i[n]===true){var r=t.element.find("#"+n);if(r.hasClass(c))r.removeClass(c);else r.addClass(c);e.trigger(f,{item:r[0]})}},_createCheckBoxes:function(){var r=this;r.element.find(".k-columns-item").find("[type='checkbox']").kendoSwitch({messages:{checked:"",unchecked:""},change:function(e){var t=e.sender.element.closest(".k-item");var i=r.options.columnMenu.view.state||{columns:{}};var n=t.prop("id");if(i.columns[n])i.columns[n]=false;else i.columns[n]=true;r.trigger(f,{item:t})}})},_destroyCheckBoxes:function(){var e=this;var t=e.element.find(".k-columns-item").find("[type='checkbox']");var i;for(var n=0;n<t.length;n++){i=t.eq(n).data("kendoSwitch");if(i)i.destroy()}},close:function(){this.options.pane.navigate("")},destroy:function(){var e=this;C.fn.destroy.call(e);e.element.off(k);e._destroyCheckBoxes()}});return e.plugin(P),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.groupable.min",["kendo.core.min","kendo.draganddrop.min"],function(){var e={id:"groupable",name:"Groupable",category:"framework",depends:["core","draganddrop"],advanced:true},f=window.kendo.jQuery,t=void 0,p=window.kendo,s=p.ui.Widget,l=p._outerWidth,d=p.attr,h=f.extend,i=f.each,m=false,u="dir",n="field",r="title",g="asc",v="desc",a="removeGroup",_="group-sort",b=".kendoGroupable",k="change",o=p.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" ${data.id ? ("data-" + data.ns + "id="+data.id) : ""} data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}">'+'<a role="button" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})" href="\\#" class="k-link">'+'<span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>'+"${data.title ? data.title: data.field}"+"</a>"+'<a href="\\#" role="button" data-role="button" aria-label="Remove grouping by ${data.title || data.field} field" class="k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button">'+'<span class="k-button-icon k-icon k-i-close"></span>'+"</a>"+"</div>",{useWithBlock:false}),w=function(e){var t=e.attr(p.attr("title"));if(t)t=p.htmlEncode(t);return f('<div class="k-group-clue k-drag-clue" />').html(t||e.attr(p.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel"></span>')},y=f('<div class="k-grouping-dropclue"/>'),c=s.extend({init:function(e,t){var c=this,i=p.guid(),a=c._intializePositions.bind(c),n,r,o=c._dropCuePositions=[];s.fn.init.call(c,e,t);m=p.support.isRtl(e);r=m?"right":"left";c.draggable=n=c.options.draggable||new p.ui.Draggable(c.element,{filter:c.options.draggableElements,hint:w,group:i});c.groupContainer=f(c.options.groupContainer,c.element).kendoDropTarget({group:n.options.group,dragenter:function(e){if(c._canDrag(e.draggable.currentTarget)){e.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus");y.css(r,0).appendTo(c.groupContainer)}},dragleave:function(e){e.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel");y.remove()},drop:function(e){var t=e.draggable.currentTarget,i=t.attr(p.attr("field")),n=t.attr(p.attr("title")),r=t.attr("id"),a=c.indicator(i),o=c._dropCuePositions,s=o[o.length-1],l;var d=h({},c.options.sort,t.data(_));var u=d.dir;if(!t.hasClass("k-group-indicator")&&!c._canDrag(t))return;if(s){l=c._dropCuePosition(p.getOffset(y).left+parseInt(s.element.css("marginLeft"),10)*(m?-1:1)+parseInt(s.element.css("marginRight"),10));if(l&&c._canDrop(f(a),l.element,l.left)){if(l.before)l.element.before(a||c.buildIndicator(i,n,u,r));else l.element.after(a||c.buildIndicator(i,n,u,r));c._setIndicatorSortOptions(i,d);c._change()}}else{c.groupContainer.empty();c.groupContainer.append(c.buildIndicator(i,n,u,r));c._setIndicatorSortOptions(i,d);c._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:w,group:n.options.group,dragcancel:c._dragCancel.bind(c),dragstart:function(e){var t=e.currentTarget,i=parseInt(t.css("marginLeft"),10),n=t.position(),r=m?n.left-i:n.left+l(t);a();y.css("left",r).appendTo(c.groupContainer);this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")},dragend:function(){c._dragEnd(this)},drag:c._drag.bind(c)}).on("click"+b,".k-button",function(e){e.preventDefault();c._removeIndicator(f(this).parent())}).on("click"+b,".k-link",function(e){var t=f(this).parent();var i=t.attr(d(u))===g?v:g;t.attr(d(u),i);c._change();e.preventDefault()});n.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){c._dragEnd(this)},dragcancel:c._dragCancel.bind(c),dragstart:function(e){var t,i,n;if(!c.options.allowDrag&&!c._canDrag(e.currentTarget)){e.preventDefault();return}a();if(o.length){t=o[o.length-1].element;i=parseInt(t.css("marginRight"),10);n=t.position().left+l(t)+i}else n=0},drag:c._drag.bind(c)});c.dataSource=c.options.dataSource;if(c.dataSource&&c._refreshHandler)c.dataSource.unbind(k,c._refreshHandler);else c._refreshHandler=c.refresh.bind(c);if(c.dataSource){c.dataSource.bind("change",c._refreshHandler);c.refresh()}},refresh:function(){var a=this,e=a.dataSource;var t=e.group()||[];var o=d(n);var s=d(r);var l;if(a.groupContainer){a.groupContainer.empty();i(t,function(e,t){var i=t.field;var n=t.dir;var r=a.element.find(a.options.filter).filter(function(){return f(this).attr(o)===i});l=a.buildIndicator(i,r.attr(s),n,r.attr("id"));a.groupContainer.append(l);a._setIndicatorSortOptions(i,h({},a.options.sort,{dir:n,compare:t.compare}))})}a._invalidateGroupContainer()},destroy:function(){var e=this;s.fn.destroy.call(e);e.groupContainer.off(b);if(e.groupContainer.data("kendoDropTarget"))e.groupContainer.data("kendoDropTarget").destroy();if(e.groupContainer.data("kendoDraggable"))e.groupContainer.data("kendoDraggable").destroy();if(!e.options.draggable)e.draggable.destroy();if(e.dataSource&&e._refreshHandler){e.dataSource.unbind("change",e._refreshHandler);e._refreshHandler=null}e.groupContainer=e.element=e.draggable=null},events:["change","removeGroup"],options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"},sort:{dir:g,compare:null}},indicator:function(t){var e=f(".k-group-indicator",this.groupContainer);return f.grep(e,function(e){return f(e).attr(p.attr("field"))===t})[0]},buildIndicator:function(e,t,i,n){var r=this;var a=o({ns:p.ns,field:e.replace(/"/g,"'"),title:t,id:n,dir:i||(r.options.sort||{}).dir||g});return a},_setIndicatorSortOptions:function(e,t){var i=f(this.indicator(e));i.data(_,t)},aggregates:function(){var e=this;var n;var r;var a;return e.element.find(e.options.filter).map(function(){var e=f(this),t=e.attr(p.attr("aggregates")),i=e.attr(p.attr("field"));if(t&&t!==""){n=t.split(",");t=[];for(r=0,a=n.length;r<a;r++)t.push({field:i,aggregate:n[r]})}return t}).toArray()},descriptors:function(){var n=this,e=f(".k-group-indicator",n.groupContainer),r,a=n.aggregates();return f.map(e,function(e){e=f(e);r=e.attr(p.attr("field"));var t=n.options.sort||{};var i=e.data(_)||{};return{field:r,dir:e.attr(p.attr("dir")),aggregates:a||[],colID:e.attr(p.attr("id")),compare:i.compare||t.compare}})},_removeIndicator:function(e){var t=this;t.trigger(a,{field:e.attr(p.attr("field")),colID:e.attr(p.attr("id"))});e.off();e.removeData();e.remove();t._invalidateGroupContainer();t._change()},_change:function(){var e=this;if(e.dataSource){var t=e.descriptors();if(e.trigger("change",{groups:t})){e.refresh();return}e.dataSource.group(t)}},_dropCuePosition:function(t){var e=this._dropCuePositions;if(!y.is(":visible")||e.length===0)return;t=Math.ceil(t);var i=e[e.length-1],n=i.left,r=i.right,a=parseInt(i.element.css("marginLeft"),10),o=parseInt(i.element.css("marginRight"),10);if(t>=r&&!m||t<n&&m)t={left:i.element.position().left+(!m?l(i.element)+o:-a),element:i.element,before:false};else{t=f.grep(e,function(e){return e.left<=t&&t<=e.right||m&&t>e.right})[0];if(t)t={left:m?t.element.position().left+l(t.element)+o:t.element.position().left-a,element:t.element,before:true}}return t},_drag:function(e){var t=this._dropCuePosition(e.x.location);if(t)y.css({left:t.left,right:"auto"})},_canDrag:function(e){var t=e.attr(p.attr("field"));return e.attr(p.attr("groupable"))!="false"&&t&&(e.hasClass("k-group-indicator")||!this.indicator(t))},_canDrop:function(e,t,i){var n=e.next(),r=e[0]!==t[0]&&(!n[0]||t[0]!==n[0]||(!m&&i>n.position().left||m&&i<n.position().left));return r},_dragEnd:function(e){var t=this,i=e.currentTarget.attr(p.attr("field")),n=t.indicator(i);if(e!==t.options.draggable&&!e.dropped&&n)t._removeIndicator(f(n));t._dragCancel()},_dragCancel:function(){y.remove();this._dropCuePositions=[]},_intializePositions:function(){var e=this,t=f(".k-group-indicator",e.groupContainer),i;e._dropCuePositions=f.map(t,function(e){e=f(e);i=p.getOffset(e).left;return{left:parseInt(i,10),right:parseInt(i+l(e),10),element:e}})},_invalidateGroupContainer:function(){var e=this.groupContainer;if(e&&e.is(":empty"))e.html(this.options.messages.empty)}});return p.ui.plugin(c),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.pager.min",["kendo.data.min"],function(){var e={id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:true},w=window.kendo.jQuery,r=void 0,y=window.kendo,t=y.ui,l=t.Widget,o=y.keys,i=y.template,d=".k-i-arrow-end-left",u=".k-i-arrow-end-right",c=".k-i-arrow-60-left",f=".k-i-arrow-60-right",n="k-pager-md k-pager-sm",s=":kendoFocusable:not([tabindex='-1'])",p="change",h=".kendoPager",m="click",g="keydown",x="disabled",v="down",C=Number.MAX_VALUE,_=false,a=y.template('<a href="\\#" role="button" title="#=text#" aria-label="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>');function S(e){return e.template({idx:e.idx,text:e.text,ns:y.ns,numeric:e.numeric,title:e.title||"",tabindex:e.navigatable?0:-1,navigatable:e.navigatable})}function T(e,t,i,n){return e({idx:t,text:i||t,selected:n||false})}function b(e,t,i,n){return a({className:e.substring(1),text:t,wrapClassName:i||"",id:n||""})}function k(e,t,i,n){e.find(t).parent().attr(y.attr("page"),i).attr("tabindex",n?-1:0).attr("aria-disabled",n).toggleClass("k-disabled",n)}function I(e,t){k(e,d,1,t<=1)}function D(e,t){k(e,c,Math.max(1,t-1),t<=1)}function E(e,t,i){k(e,f,Math.min(i,t+1),t>=i)}function A(e,t,i){k(e,u,i,t>=i)}var F=l.extend({init:function(e,t){var i=this,n,r;var a=null;l.fn.init.call(i,e,t);t=i.options;i._createDataSource(t);i.linkTemplate=y.template(i.options.linkTemplate);i.selectTemplate=y.template(i.options.selectTemplate);i.numericSelectItemTemplate=y.template(i.options.numericSelectItemTemplate);n=i.page();r=i.totalPages();i._refreshHandler=i.refresh.bind(i);i.dataSource.bind(p,i._refreshHandler);i.downEvent=y.applyEventMap(v,y.guid());_=y.support.isRtl(e);if(t.navigatable)i._id=i.element.attr("id")||y.guid();i._template();if(t.previousNext){if(!i.element.find(d).length){i.element.append(b(d,t.messages.first,"k-pager-first",i._id));I(i.element,n,r)}if(!i.element.find(c).length){i.element.append(b(c,t.messages.previous,null,i._id));D(i.element,n,r)}}if(t.numeric){if(!i._numericWrap){i._numericWrap=i.element.find(".k-pager-numbers-wrap");if(i._numericWrap.length===0)i._numericWrap=w("<div class='k-pager-numbers-wrap' />").appendTo(i.element)}if(!i._numericSelect){i._numericSelect=i._numericWrap.find(".k-dropdown");if(i._numericSelect.length===0)i._numericSelect=w("<select aria-label='"+i.options.messages.numbersSelectLabel+"' class='k-dropdown k-picker k-dropdown-list' />").appendTo(i._numericWrap)}if(!i.list){i.list=i._numericWrap.find(".k-pager-numbers");if(i.list.length===0)i.list=w('<ul class="k-pager-numbers" />').appendTo(i._numericWrap)}if(t.dataSource&&!t.dataSource.total()){i._numericSelect.empty().append("<option value='0' />");i.list.empty().append(i.selectTemplate({text:0,tabindex:t.navigatalbe?0:-1,navigatable:t.navigatable,title:y.format(t.messages.pageButtonLabel,0)}))}}if(t.input){if(!i.element.find(".k-pager-input").length)i.element.append('<span class="k-pager-input k-label">'+t.messages.page+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" /></span>'+y.format(t.messages.of,r)+"</span>");i.element.on(g+h,".k-pager-input input",i._keydown.bind(i))}if(t.previousNext){if(!i.element.find(f).length){i.element.append(b(f,t.messages.next,null,i._id));E(i.element,n,r)}if(!i.element.find(u).length){i.element.append(b(u,t.messages.last,"k-pager-last",i._id));A(i.element,n,r)}}if(t.pageSizes){if(!i.element.find(".k-pager-sizes").length){var o=t.pageSizes.length?t.pageSizes:["all",5,10,20];var s=w.map(o,function(e){if(e.toLowerCase&&e.toLowerCase()==="all")return"<option value='all'>"+t.messages.allPages+"</option>";return"<option>"+e+"</option>"});w('<span class="k-pager-sizes k-label"><select></select>'+t.messages.itemsPerPage+"</span>").appendTo(i.element).find("select").html(s.join("")).end().appendTo(i.element)}i.element.find(".k-pager-sizes select").val(i.pageSize());if(y.ui.DropDownList)i.element.find(".k-pager-sizes select").show().attr("aria-label",t.messages.pageSizeDropDownLabel).kendoDropDownList();i.element.on(p+h,".k-pager-sizes select",i._change.bind(i))}if(t.refresh){if(!i.element.find(".k-pager-refresh").length)i.element.append('<a role="button" href="#" class="k-pager-refresh k-link" title="'+t.messages.refresh+'" aria-label="'+t.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>');i.element.on(m+h,".k-pager-refresh",i._refreshClick.bind(i))}if(t.info)if(!i.element.find(".k-pager-info").length)i.element.append('<span class="k-pager-info k-label" />');i.element.on(m+h,"a",i._click.bind(i)).on(p+h,"select.k-dropdown",i._numericSelectChange.bind(i)).addClass("k-pager-wrap k-widget k-floatwrap");if(t.autoBind)i.refresh();i._resizeHandler=i.resize.bind(i,true);w(window).on("resize"+h,i._resizeHandler);a=i._getWidthSizeClass(i.element.outerWidth());if(a)i.element.addClass(a);i._navigatable();y.notify(i)},destroy:function(){var e=this;l.fn.destroy.call(e);e.element.off(h);e.dataSource.unbind(p,e._refreshHandler);e._refreshHandler=null;w(window).off("resize"+h,this._resizeHandler);y.destroy(e.element);e.element=e.list=null},events:[p],options:{name:"Pager",ARIATemplate:"Page navigation, page #=page# of #=totalPages#",selectTemplate:'<li><span role="button" aria-current="page" tabindex="#=tabindex#" aria-label="#=title#" class="k-link k-selected">#=text#</span></li>',linkTemplate:'<li><a role="button" tabindex="#=tabindex#" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericSelectItemTemplate:'<option value="#= idx #" #if (selected) {# selected="selected" #}#>#= text #</option>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,responsive:true,navigatable:false,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",pageButtonLabel:"Page {0}",pageSizeDropDownLabel:"Page sizes drop down",numbersSelectLabel:"Page select",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(p,t._refreshHandler);t.dataSource=t.options.dataSource=e;e.bind(p,t._refreshHandler);if(t.options.autoBind)e.fetch()},_aria:function(){this.element.attr({role:"application","aria-roledescription":"pager","aria-keyshortcuts":"Enter ArrowRight ArrowLeft"})},_resize:function(e){if(e.width){var t=this._getWidthSizeClass(e.width);var i=this.element;if(!t)i.removeClass(n);else if(!i.hasClass(t)){i.removeClass(n);i.addClass(t)}}},_createDataSource:function(e){this.dataSource=y.data.DataSource.create(e.dataSource)},refresh:function(e){var t=this,i,n,r=1,a,o=t.page(),s="",l="",d=t.options,u=t.pageSize(),c=t._collapsedTotal(),f=t.dataSource._isGroupPaged()?t.dataSource.groupsTotal(true):t.dataSource.total(),p=t.totalPages(),h=t.linkTemplate,m=d.navigatable,g=t.numericSelectItemTemplate,v=d.buttonCount;if(e&&e.action=="itemchange")return;if(d.numeric){if(o>v){a=o%v;r=a===0?o-v+1:o-a+1}n=Math.min(r+v-1,p);if(r>1){s+=S({template:h,navigatable:m,idx:r-1,text:"...",numeric:false,title:d.messages.morePages});l+=T(g,r-1,d.messages.morePages)}for(i=r;i<=n;i++){s+=S({template:i==o?t.selectTemplate:h,navigatable:m,idx:i,text:i,numeric:true,title:y.format(d.messages.pageButtonLabel,i)});l+=T(g,i,i,i==o)}if(n<p){s+=S({template:h,navigatable:m,idx:i,text:"...",numeric:g,title:d.messages.morePages});l+=T(g,i,d.messages.morePages)}if(s===""){s=t.selectTemplate({text:0,tabindex:m?0:-1,navigatable:m,title:y.format(d.messages.pageButtonLabel,0)});l=w("<option value='0' />")}t.list.html(s);t._numericSelect.html(l)}if(d.info){if(f>0)s=y.format(d.messages.display,t.dataSource.options.endless?1:Math.min((o-1)*(t.dataSource.pageSize()||0)+1,c),Math.min(o*u,c),f);else s=d.messages.empty;t.element.find(".k-pager-info").html(s)}if(d.input)t.element.find(".k-pager-input").html(t.options.messages.page+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" aria-label="'+t.options.messages.page+" "+o+'"></span>'+y.format(d.messages.of,p)).find("input").val(o).attr(x,f<1).attr("aria-disabled",f<1).toggleClass("k-disabled",f<1);if(d.previousNext){I(t.element,o,p);D(t.element,o,p);E(t.element,o,p);A(t.element,o,p)}if(d.pageSizes){var _=t.element.find(".k-pager-sizes option[value='all']").length>0;var b=_&&(u===this.dataSource.total()||u==C);var k=u;if(b){u="all";k=d.messages.allPages}t.element.find(".k-pager-sizes select").val(u).filter("["+y.attr("role")+"=dropdownlist]").kendoDropDownList("value",u).kendoDropDownList("text",k)}t._restoreFocus(r,n,p);t._excludeChildrenFromTab();t._updateAria()},_excludeChildrenFromTab:function(){var e=y._activeElement();if(this.options.navigatable&&(e===this.element[0]||!w.contains(this.element[0],e)))this.element.find(s).attr("tabindex",-1)},_restoreFocus:function(e,t,i){var n=this;if(!n.options.navigatable)return;if(n._focusSelected){n.element.find(".k-selected").trigger("focus");n._focusSelected=null}if(n._focusMore!==null){if(t<i&&n._focusMore)n.list.find("li").last().find("a").trigger("focus");if(!n._focusMore&&e>1)n.list.find("li").first().find("a").trigger("focus");n._focusMore=null}},_restoreTabIndexes:function(){this.element.find("[tabindex='-1']:not(.k-disabled)").attr("tabindex",0)},_collapsedTotal:function(){return this.dataSource.total()},_keydown:function(e){if(e.keyCode===y.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),i=parseInt(t.val(),10);if(isNaN(i)||i<1||i>this.totalPages())i=this.page();t.val(i);this.page(i)}},_refreshClick:function(e){e.preventDefault();this.dataSource.read()},_change:function(e){var t=e.currentTarget.value;var i=parseInt(t,10);var n=this.dataSource;if(!isNaN(i))n.pageSize(i);else if((t+"").toLowerCase()=="all"){n._pageSize=r;n._take=r;n._skip=0;n.fetch()}},_template:function(){this._ariaTemplate=i(this.options.ARIATemplate).bind(this)},_updateAria:function(){if(!this.options.navigatable)return;this.element.attr("aria-label",this._ariaTemplate({page:this.page(),totalPages:this.totalPages()}))},_navigatable:function(){var t=this;var e=t.options;if(!e.navigatable)return;t._aria();t.element.attr("id",t._id);t._template();t._updateAria();t._tabindex(t.element);t.element.on("keydown"+h,t,t._keyDown.bind(t));t.element.on("focusout"+h,function(){t.element.removeClass("k-focus")});t.element.on("focusin"+h,function(e){t.element.addClass("k-focus");if(e.target===t.element[0])t.element.find(s).attr("tabindex",-1);else t.element.removeClass("k-focus")})},_keyDown:function(e){var t=this;var i=w(e.target);var n;var r=false;var a;if(i[0]===t.element[0]&&e.keyCode==o.ENTER){t._restoreTabIndexes();t.element.find(s).first().trigger("focus");r=true}if(i[0]!==t.element[0]&&e.keyCode==o.ESC){t.element.trigger("focus");r=true}if(i[0]===t.element[0]&&e.keyCode==o.HOME){t.page(1);r=true}if(i[0]===t.element[0]&&e.keyCode==o.END){t.page(t.totalPages());r=true}if(i[0]===t.element[0]&&(e.keyCode==(_?o.LEFT:o.RIGHT)||e.keyCode==o.PAGEDOWN)){t.page(t.page()+1);r=true}if(i[0]===t.element[0]&&(e.keyCode==(_?o.RIGHT:o.LEFT)||e.keyCode==o.PAGEUP)){t.page(t.page()-1||1);r=true}if(i[0]!==t.element[0]&&e.keyCode==o.TAB){n=t.element.find(s);a=n.index(i);if(e.shiftKey)if(a-1<0)n.last().trigger("focus");else n.eq(a-1).trigger("focus");else if(a+1<n.length)n.eq(a+1).trigger("focus");else n.first().trigger("focus");r=true}if(r){e.preventDefault();e.stopPropagation()}},_numericSelectChange:function(e){var t=e.currentTarget;var i=t.value;var n=parseInt(i,10);t.blur();this.page(n)},_click:function(e){var t=w(e.currentTarget);e.preventDefault();if(this.options.navigatable)if(t.attr("title")==this.options.messages.morePages)this._focusMore=t.parent().index();else if(!t.hasClass("k-pager-refresh")&&!t.hasClass("k-pager-nav"))this._focusSelected=true;if(!t.is(".k-disabled"))this.page(parseInt(t.attr(y.attr("page")),10))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){if(e){if(this.trigger("pageChange",{index:e}))return;this.dataSource.page(e);this.trigger(p,{index:e})}else if(this.dataSource.total()>0)return this.dataSource.page();else return 0},_getWidthSizeClass:function(e){var t=this,i=n.split(" ");if(!t.options.responsive)return null;else if(e<=480)return i[1];else if(e<=600)return i[0];return null}});return t.plugin(F),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.sortable.min",["kendo.draganddrop.min"],function(){var e={id:"sortable",name:"Sortable",category:"framework",depends:["draganddrop"]},p=window.kendo.jQuery,t=void 0,o=window.kendo,n=o.ui.Widget,s=o._outerWidth,l=o._outerHeight,d="start",r="beforeMove",a="move",u="end",c="change",i="cancel",f="sort",h="remove",m="receive",g,v=-1;function _(e,t){try{return p.contains(e,t)||e==t}catch(e){return false}}function b(e){return e.clone()}function k(e){return e.clone().removeAttr("id").css("visibility","hidden")}var w=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);if(!i.options.placeholder)i.options.placeholder=k;if(!i.options.hint)i.options.hint=b;i.draggable=i._createDraggable()},events:[d,r,a,u,c,i],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto",moveOnDragEnter:false},destroy:function(){this.draggable.destroy();n.fn.destroy.call(this)},_createDraggable:function(){var e=this,t=e.element,i=e.options;return new o.ui.Draggable(t,{filter:i.filter,hint:o.isFunction(i.hint)?i.hint:p(i.hint),holdToDrag:i.holdToDrag,container:i.container?p(i.container):null,cursorOffset:i.cursorOffset,axis:i.axis,ignore:i.ignore,autoScroll:i.autoScroll,dragstart:e._dragstart.bind(e),dragcancel:e._dragcancel.bind(e),drag:e._drag.bind(e),dragend:e._dragend.bind(e)})},_dragstart:function(e){var t=this.draggedElement=e.currentTarget,i=this.options.disabled,n=this.options.handler,r=this.options.placeholder,a=this.placeholder=o.isFunction(r)?p(r.call(this,t)):p(r);if(i&&t.is(i))e.preventDefault();else if(n&&!p(e.initialTarget).is(n))e.preventDefault();else if(this.trigger(d,{item:t,draggableEvent:e}))e.preventDefault();else{t.css("display","none");t.before(a);this._setCursor()}},_dragcancel:function(){this._cancel();this.trigger(i,{item:this.draggedElement});this._resetCursor()},_drag:function(e){var t=this.draggedElement,i=this._findTarget(e),n,r={left:e.x.location,top:e.y.location},a,o={x:e.x.delta,y:e.y.delta},s,l,d,u=this.options.axis,c=this.options.moveOnDragEnter,f={item:t,list:this,draggableEvent:e};if(u==="x"||u==="y"){this._movementByAxis(u,r,o[u],f);return}if(i){n=this._getElementCenter(i.element);a={left:Math.round(r.left-n.left),top:Math.round(r.top-n.top)};p.extend(f,{target:i.element});if(i.appendToBottom){this._movePlaceholder(i,null,f);return}if(i.appendAfterHidden)this._movePlaceholder(i,"next",f);if(this._isFloating(i.element)){if(o.x<0&&c||!c&&a.left<0)s="prev";else if(o.x>0&&c||!c&&a.left>0)s="next"}else if(o.y<0&&c||!c&&a.top<0)s="prev";else if(o.y>0&&c||!c&&a.top>0)s="next";if(s){d=s==="prev"?jQuery.fn.prev:jQuery.fn.next;l=d.call(i.element);while(l.length&&!l.is(":visible"))l=d.call(l);if(l[0]!=this.placeholder[0])this._movePlaceholder(i,s,f)}}},_dragend:function(e){var t=this.placeholder,i=this.draggedElement,n=this.indexOf(i),r=this.indexOf(t),a=this.options.connectWith,o,s,l,d;this._resetCursor();l={action:f,item:i,oldIndex:n,newIndex:r,draggableEvent:e};if(r>=0)s=this.trigger(u,l);else{o=t.parents(a).getKendoSortable();l.action=h;d=p.extend({},l,{action:m,oldIndex:v,newIndex:o.indexOf(t)});s=!(!this.trigger(u,l)&&!o.trigger(u,d))}if(s||r===n){this._cancel();return}t.replaceWith(i);i.show();this.draggable.dropped=true;l={action:this.indexOf(i)!=v?f:h,item:i,oldIndex:n,newIndex:this.indexOf(i),draggableEvent:e};this.trigger(c,l);if(o){d=p.extend({},l,{action:m,oldIndex:v,newIndex:o.indexOf(i)});o.trigger(c,d)}},_findTarget:function(e){var t=this._findElementUnderCursor(e),i,n=this.options.connectWith,r;if(p.contains(this.element[0],t)){i=this.items();r=i.filter(t)[0]||i.has(t)[0];return r?{element:p(r),sortable:this}:null}else if(this.element[0]==t&&this._isEmpty())return{element:this.element,sortable:this,appendToBottom:true};else if(this.element[0]==t&&this._isLastHidden()){r=this.items().eq(0);return{element:r,sortable:this,appendAfterHidden:true}}else if(n)return this._searchConnectedTargets(t,e)},_findElementUnderCursor:function(e){var t=o.elementUnderCursor(e),i=e.sender;if(_(i.hint[0],t)){i.hint.hide();t=o.elementUnderCursor(e);if(!t)t=o.elementUnderCursor(e);i.hint.show()}return t},_searchConnectedTargets:function(e,t){var i=p(this.options.connectWith),n,r,a;for(var o=0;o<i.length;o++){n=i.eq(o).getKendoSortable();if(p.contains(i[o],e)){if(n){r=n.items();a=r.filter(e)[0]||r.has(e)[0];if(a){n.placeholder=this.placeholder;return{element:p(a),sortable:n}}else return null}}else if(i[o]==e)if(n&&n._isEmpty())return{element:i.eq(o),sortable:n,appendToBottom:true};else if(this._isCursorAfterLast(n,t)){a=n.items().last();return{element:a,sortable:n}}}},_isCursorAfterLast:function(e,t){var i=e.items().last(),n={left:t.x.location,top:t.y.location},r,a;r=o.getOffset(i);r.top+=l(i);r.left+=s(i);if(this._isFloating(i))a=r.left-n.left;else a=r.top-n.top;return a<0?true:false},_movementByAxis:function(e,t,i,n){var r=e==="x"?t.left:t.top,a=i<0?this.placeholder.prev():this.placeholder.next(),o=this.items(),s;if(a.length&&!a.is(":visible"))a=i<0?a.prev():a.next();if(!o.filter(a).length)return;p.extend(n,{target:a});s=this._getElementCenter(a);if(s)s=e==="x"?s.left:s.top;if(a.length&&i<0&&r-s<0)this._movePlaceholder({element:a,sortable:this},"prev",n);else if(a.length&&i>0&&r-s>0)this._movePlaceholder({element:a,sortable:this},"next",n)},_movePlaceholder:function(e,t,i){var n=this.placeholder;if(!e.sortable.trigger(r,i)){if(!t)e.element.append(n);else if(t==="prev")e.element.before(n);else if(t==="next")e.element.after(n);e.sortable.trigger(a,i)}},_setCursor:function(){var e=this.options.cursor,t;if(e&&e!=="auto"){t=p(document.body);this._originalCursorType=t.css("cursor");t.css({cursor:e});if(!this._cursorStylesheet)this._cursorStylesheet=p("<style>* { cursor: "+e+" !important; }</style>");this._cursorStylesheet.appendTo(t)}},_resetCursor:function(){if(this._originalCursorType){p(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(e){var t=e.length?o.getOffset(e):null;if(t){t.top+=l(e)/2;t.left+=s(e)/2}return t},_isFloating:function(e){var t=/left|right/.test(e.css("float"));var i=/inline|table-cell/.test(e.css("display"));var n=/flex/.test(e.parent().css("display"))&&(/row|row-reverse/.test(e.parent().css("flex-direction"))||!e.parent().css("flex-direction"));return t||i||n},_cancel:function(){this.draggedElement.show();this.placeholder.remove();this.draggable.dropped=true},_items:function(){var e=this.options.filter,t;if(e)t=this.element.find(e);else t=this.element.children();return t},indexOf:function(e){var t=this._items(),i=this.placeholder,n=this.draggedElement;if(i&&e[0]==i[0])return t.not(n).index(e);else return t.not(i).index(e)},items:function(){var e=this.placeholder,t=this._items();if(e)t=t.not(e);return t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});return o.ui.plugin(w),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.reorderable.min",["kendo.core.min","kendo.draganddrop.min"],function(){var e={id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:true},f=window.kendo.jQuery,t=void 0,n=window.kendo,p=n._outerWidth,h=n._outerHeight,m=n.getOffset,r=n.ui.Widget,a="change",o="k-reorderable",i=r.extend({init:function(e,s){var l=this,t,i=n.guid()+"-reorderable";r.fn.init.call(l,e,s);e=l.element.addClass(o);s=l.options;l.draggable=t=s.draggable||new n.ui.Draggable(e,{group:i,autoScroll:true,filter:s.filter,hint:s.hint});if(!l.options.dropFilter)l.options.dropFilter=t.options.filter;l.reorderDropCue=l.options.reorderDropCue;e.find(s.dropFilter).kendoDropTarget({group:t.options.group,dragenter:function(e){var t=l._externalDraggable(e);if(!l._draggable&&!t)return;if(t)l._handleExternalDraggable(t);var i=this.element,n;var r=l._isPartOfSortable(l._draggable)?!l._dropTargetAllowed(i)||l._isLastDraggable():false;l.toggleHintClass(e.draggable.hint,r);if(!r){n=m(i);var a={top:n.top,left:n.left};var o=s.orientation==="horizontal";if(!s.smartPosition||s.inSameContainer&&!s.inSameContainer({source:i,target:l._draggable,sourceIndex:l._index(i),targetIndex:l._index(l._draggable)}))l._dropTarget=i;else if(l._index(i)>l._index(l._draggable)&&s.smartPosition)a[o?"left":"top"]+=o?p(i):h(i);l.reorderDropCue.css({height:h(i),top:a.top,left:a.left,zIndex:19e3}).appendTo(document.body);if(s.positionDropCue)s.positionDropCue(l.reorderDropCue,i)}},dragleave:function(e){l.toggleHintClass(e.draggable.hint,true);l.reorderDropCue.remove();l._dropTarget=null},drop:function(){l._dropTarget=null;if(!l._draggable)return;var e=this.element;var t=l._draggable;var i=l._index(e);var n=l.options.orientation==="horizontal"?m(l.reorderDropCue).left>m(e).left:m(l.reorderDropCue).top>m(e).top;i=n?i+1:i;if(l._dropTargetAllowed(e)&&!l._isLastDraggable()&&l._index(t)!==i)l.trigger(a,{element:l._draggable,target:e,oldIndex:l._index(t),newIndex:l._index(e),position:n?"after":"before"});if(l.reorderDropCue)l.reorderDropCue.remove()}});t.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:l._dragcancel.bind(l),dragend:l._dragend.bind(l),dragstart:l._dragstart.bind(l),drag:l._drag.bind(l)})},options:{name:"Reorderable",filter:"*",orientation:"horizontal",deniedIcon:"k-i-cancel",allowIcon:"k-i-plus",reorderDropCue:f('<div class="k-reorder-cue"></div></div>'),smartPosition:true},events:[a],toggleHintClass:function(e,t){var i=this,n=i.options;e=f(e);if(t)e.find(".k-drag-status").removeClass(n.allowIcon).addClass(n.deniedIcon);else e.find(".k-drag-status").removeClass(n.deniedIcon).addClass(n.allowIcon)},_handleExternalDraggable:function(e){var t=this;var i=t.options.dropFilter.trimStart();if(i&&i[0]==">")i=i.substring(1);t._dragcancelHandler=t._dragcancel.bind(t);t._dragendHandler=t._dragend.bind(t);t._dragstartHandler=t._dragstart.bind(t);t._dragHandler=t._drag.bind(t);t._draggable=e.currentTarget.closest(i);t._draggableInstance=e;t._elements=t.element.find(t.options.dropFilter);e.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:t._dragcancelHandler,dragend:t._dragendHandler,dragstart:t._dragstartHandler,drag:t._dragHandler})},_dragcancel:function(){var e=this;if(e._draggableInstance&&(e._dragcancelHandler||e._dragendHandler||e._dragstartHandler||e._dragHandler))e._draggableInstance.unbind({dragcancel:e._dragcancelHandler,dragend:e._dragendHandler,dragstart:e._dragstartHandler,drag:e._dragHandler});if(e.reorderDropCue)e.reorderDropCue.remove();e._draggable=null;e._elements=null},_dragend:function(){var e=this;if(e._draggableInstance&&(e._dragcancelHandler||e._dragendHandler||e._dragstartHandler||e._dragHandler))e._draggableInstance.unbind({dragcancel:e._dragcancelHandler,dragend:e._dragendHandler,dragstart:e._dragstartHandler,drag:e._dragHandler});if(e.reorderDropCue)e.reorderDropCue.remove();e._draggable=null;e._elements=null},_dragstart:function(e){var t=this;var i=f(e.currentTarget);var n=t.options.dropFilter.trimStart();if(n&&n[0]==">")n=n.substring(1);t._draggable=i.is(n)?i:i.closest(n);t._elements=t.element.find(t.options.dropFilter)},_drag:function(e){var t=this,i,n,r,a={},o,s=t.options.dropFilter.trimStart();if(s&&s[0]==">")s=s.substring(1);o=f(e.currentTarget).closest(s);if(!t._dropTarget||t.options.smartPosition&&e.sender.hint.find(".k-drag-status").hasClass("k-i-cancel"))return;i=t._index(t._dropTarget);n=t._index(o);n=i>n?n+1:n;if(t.options.orientation==="horizontal"){var l=m(t._dropTarget).left;var d=p(t._dropTarget);if(e.pageX>l+d/2){a.left=l+d;i+=1}else a.left=l}else{var u=m(t._dropTarget).top;var c=h(t._dropTarget);if(e.pageY>u+c/2){a.top=u+c;i+=1}else a.top=u}t.reorderDropCue.css(a);if(t.options.positionDropCue)t.options.positionDropCue(t.reorderDropCue,t._dropTarget);if(t._isPartOfSortable(o)){r=n===i||t.options.dragOverContainers&&!t.options.dragOverContainers(n,i);t.toggleHintClass(e.sender.hint,r)}},_isPartOfSortable:function(e){var t=this;return t._elements.index(e)>=0},_externalDraggable:function(e){var t=this,i=t.options;if(!t._draggable&&i.externalDraggable)return i.externalDraggable(e);return null},_isLastDraggable:function(){var e=this.options.inSameContainer,t=this._draggable[0],i=this._elements.get(),n=false,r;if(!e)return false;while(!n&&i.length>0){r=i.pop();n=t!==r&&e({source:t,target:r,sourceIndex:this._index(t),targetIndex:this._index(r)})}return!n},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,i=this.options.dragOverContainers,n=this._draggable;if(n[0]===e[0])return false;if(!t||!i)return true;if(t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)}))return true;return i(this._index(n),this._index(e))},_index:function(e){return this._elements.index(e)},destroy:function(){var e=this;r.fn.destroy.call(e);e.element.find(e.options.dropFilter).each(function(){var e=f(this);if(e.data("kendoDropTarget"))e.data("kendoDropTarget").destroy()});if(e.draggable){e.draggable.destroy();e.draggable.element=e.draggable=null}e.reorderDropCue.remove();e.elements=e.reorderDropCue=e._elements=e._draggable=null}});return n.ui.plugin(i),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],function(){var e={id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true},r=window.kendo.jQuery,o=void 0,t=window.kendo,n=t.ui,a=n.Widget,s=t.isFunction,l=r.extend,d="horizontal",u="vertical",c="start",f="resize",i="resizeend",p=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.orientation=i.options.orientation.toLowerCase()!=u?d:u;i._positionMouse=i.orientation==d?"x":"y";i._position=i.orientation==d?"left":"top";i._sizingDom=i.orientation==d?"outerWidth":"outerHeight";i.draggable=new n.Draggable(t.draggableElement||e,{distance:1,filter:t.handle,drag:i._resize.bind(i),dragcancel:i._cancel.bind(i),dragstart:i._start.bind(i),dragend:i._stop.bind(i)});i.userEvents=i.draggable.userEvents},events:[f,i,c],options:{name:"Resizable",orientation:d},resize:function(){},_max:function(e){var t=this,i=t.hint?t.hint[t._sizingDom]():0,n=t.options.max;return s(n)?n(e):n!==o?t._initialElementPosition+n-i:n},_min:function(e){var t=this,i=t.options.min;return s(i)?i(e):i!==o?t._initialElementPosition+i:i},_start:function(e){var t=this,i=t.options.hint,n=r(e.currentTarget);t._initialElementPosition=n.position()[t._position];t._initialMousePosition=e[t._positionMouse].startLocation;if(i){t.hint=s(i)?r(i(n)):i;t.hint.css({position:"absolute"}).css(t._position,t._initialElementPosition).appendTo(t.element)}t.trigger(c,e);t._maxPosition=t._max(e);t._minPosition=t._min(e);r(document.body).css("cursor",n.css("cursor"))},_resize:function(e){var t=this,i=t._maxPosition,n=t._minPosition,r=t._initialElementPosition+(e[t._positionMouse].location-t._initialMousePosition),a;a=n!==o?Math.max(n,r):r;t.position=a=i!==o?Math.min(i,a):a;if(t.hint)t.hint.toggleClass(t.options.invalidClass||"",a==i||a==n).css(t._position,a);t.resizing=true;t.trigger(f,l(e,{position:a}))},_stop:function(e){var t=this;if(t.hint)t.hint.remove();t.resizing=false;t.trigger(i,l(e,{position:t.position}));r(document.body).css("cursor","")},_cancel:function(e){var t=this;if(t.hint){t.position=o;t.hint.css(t._position,t._initialElementPosition);t._stop(e)}},destroy:function(){var e=this;a.fn.destroy.call(e);if(e.draggable)e.draggable.destroy()},press:function(e){if(!e)return;var t=e.position(),i=this;i.userEvents.press(t.left,t.top,e[0]);i.targetPosition=t;i.target=e},move:function(e){var t=this,i=t._position,n=t.targetPosition,r=t.position;if(r===o)r=n[i];n[i]=r+e;t.userEvents.move(n.left,n.top)},end:function(){this.userEvents.end();this.target=this.position=o}});return t.ui.plugin(p),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("ooxml/utils.min",["kendo.core.min"],function(){kendo.ooxml=kendo.ooxml||{},kendo.ooxml.createZip=function(){if(typeof JSZip==="undefined")throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");return new JSZip}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("ooxml/kendo-ooxml.min",["kendo.core.min","./utils.min"],function(){var r=window.kendo.jQuery,e=(window.kendo.ooxml=window.kendo.ooxml||{},kendo.ooxml),H=r.map,P=e.createZip,i={toString:function(e){return e}},p=kendo.Class.extend({});function n(e,t,i){return(1461*(e+4800+((t-13)/12|0))/4|0)+(367*(t-1-12*((t-13)/12|0))/12|0)-(3*((e+4900+((t-13)/12|0))/100|0)/4|0)+i-32075}p.register=function(e){i=e},p.toString=function(e,t){return i.toString(e,t)};var a=n(1900,0,-1);function o(e,t,i){return n(e,t,i)-a}function s(e,t,i,n){return(e+(t+(i+n/1e3)/60)/60)/24}function I(e){var t=s(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var i=o(e.getFullYear(),e.getMonth(),e.getDate());return i<0?i-1+t:i+t}var t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",D="data:"+t+";base64,",l={compression:"DEFLATE",type:"base64"},E={compression:"DEFLATE",type:"blob"},A={compression:"DEFLATE",type:"arraybuffer"};function d(e){return D+e}function O(e,t){return t.indexOf(e)}var M=JSON.parse.bind(JSON);function b(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function u(e,t){var i="";for(var n=0;n<e;++n)i+=t(n);return i}function k(i,n){var r="";if(i!=null)if(Array.isArray(i))for(var e=0;e<i.length;++e)r+=n(i[e],e);else if(typeof i=="object")Object.keys(i).forEach(function(e,t){r+=n(i[e],e,t)});return r}var w='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',V=w+'\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>',U=function(e){var t=e.creator;var i=e.lastModifiedBy;var n=e.created;var r=e.modified;return w+'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>'+b(t)+"</dc:creator>\n   <cp:lastModifiedBy>"+b(i)+'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">'+b(n)+'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">'+b(r)+"</dcterms:modified>\n</cp:coreProperties>"},W=function(e){var t=e.sheets;return w+'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>'+t.length+'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="'+t.length+'" baseType="lpstr">'+k(t,function(e,t){return e.options.title?"<vt:lpstr>"+b(e.options.title)+"</vt:lpstr>":"<vt:lpstr>Sheet"+(t+1)+"</vt:lpstr>"})+"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"},j=function(e){var t=e.sheetCount;var i=e.commentFiles;var n=e.drawingFiles;return w+'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  '+u(t,function(e){return'<Override PartName="/xl/worksheets/sheet'+(e+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />'})+"\n  "+k(i,function(e){return'<Override PartName="/xl/'+e+'" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>'})+"\n  "+k(n,function(e){return'<Override PartName="/xl/drawings/'+e+'" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>'})+'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>'},q=function(e){var t=e.sheets;var i=e.filterNames;var n=e.userNames;return w+'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  '+k(t,function(e,t){var i=e.options;var n=i.name||i.title||"Sheet"+(t+1);return'<sheet name="'+b(n)+'" sheetId="'+(t+1)+'" r:id="rId'+(t+1)+'" />'})+"\n  </sheets>\n  "+(i.length||n.length?"\n    <definedNames>\n      "+k(i,function(e){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'+e.localSheetId+'">'+b(ke(e.name))+"!"+b(e.from)+":"+b(e.to)+"</definedName>"})+"\n      "+k(n,function(e){return'\n         <definedName name="'+e.name+'" hidden="'+(e.hidden?1:0)+'" '+(e.localSheetId!=null?'localSheetId="'+e.localSheetId+'"':"")+">"+b(e.value)+"</definedName>"})+"\n    </definedNames>":"")+'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>'},F=function(e){var t=e.frozenColumns;var i=e.frozenRows;var n=e.columns;var r=e.defaults;var a=e.data;var o=e.index;var s=e.mergeCells;var l=e.autoFilter;var d=e.filter;var u=e.showGridLines;var c=e.hyperlinks;var f=e.validations;var p=e.defaultCellStyleId;var h=e.rtl;var m=e.legacyDrawing;var g=e.drawing;var v=e.lastRow;var _=e.lastCol;return w+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   '+(v&&_?'<dimension ref="A1:'+y(v-1,_-1)+'" />':"")+"\n\n   <sheetViews>\n     <sheetView "+(h?'rightToLeft="1"':"")+" "+(o===0?'tabSelected="1"':"")+' workbookViewId="0" '+(u===false?'showGridLines="0"':"")+">\n     "+(i||t?'\n       <pane state="frozen"\n         '+(t?'xSplit="'+t+'"':"")+"\n         "+(i?'ySplit="'+i+'"':"")+'\n         topLeftCell="'+(String.fromCharCode(65+(t||0))+((i||0)+1))+'"\n       />':"")+'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" '+(!r.skipCustomHeight?'customHeight="1"':"")+' defaultRowHeight="'+(r.rowHeight?r.rowHeight*.75:15)+'"\n     '+(r.columnWidth?'defaultColWidth="'+x(r.columnWidth)+'"':"")+" />\n\n   "+(p!=null||n&&n.length>0?"\n     <cols>\n       "+(!n||!n.length?'\n         <col min="1" max="16384" style="'+p+'"\n              '+(r.columnWidth?'width="'+x(r.columnWidth)+'"':"")+" /> ":"")+"\n       "+k(n,function(e,t){var i=typeof e.index==="number"?e.index+1:t+1;if(e.width===0)return"<col "+(p!=null?'style="'+p+'"':"")+'\n                        min="'+i+'" max="'+i+'" hidden="1" customWidth="1" />';return"<col "+(p!=null?'style="'+p+'"':"")+'\n                      min="'+i+'" max="'+i+'" customWidth="1"\n                      '+(e.autoWidth?'width="'+(e.width*7+5)/7*256/256+'" bestFit="1"':'width="'+x(e.width)+'"')+" />"})+"\n     </cols>":"")+"\n\n   <sheetData>\n     "+k(a,function(e,t){var i=typeof e.index==="number"?e.index+1:t+1;return'\n         <row r="'+i+'" x14ac:dyDescent="0.25"\n              '+(e.level?'outlineLevel="'+e.level+'"':"")+"\n              "+(e.height===0?'hidden="1"':e.height?'ht="'+te(e.height)+'" customHeight="1"':"")+">\n           "+k(e.data,function(e){return'\n             <c r="'+e.ref+'" '+(e.style?'s="'+e.style+'"':"")+" "+(e.type?'t="'+e.type+'"':"")+">\n               "+(e.formula!=null?ee(e.formula):"")+"\n               "+(e.value!=null?"<v>"+b(e.value)+"</v>":"")+"\n             </c>"})+"\n         </row>\n       "})+"\n   </sheetData>\n\n   "+(l?'<autoFilter ref="'+l.from+":"+l.to+'"/>':d?T(d):"")+"\n\n   "+(s.length?'\n     <mergeCells count="'+s.length+'">\n       '+k(s,function(e){return'<mergeCell ref="'+e+'"/>'})+"\n     </mergeCells>":"")+"\n\n   "+(f.length?"\n     <dataValidations>\n       "+k(f,function(e){return'\n         <dataValidation sqref="'+e.sqref.join(" ")+'"\n                         showErrorMessage="'+e.showErrorMessage+'"\n                         type="'+b(e.type)+'"\n                         '+(e.type!=="list"?'operator="'+b(e.operator)+'"':"")+'\n                         allowBlank="'+e.allowBlank+'"\n                         showDropDown="'+e.showDropDown+'"\n                         '+(e.error?'error="'+b(e.error)+'"':"")+"\n                         "+(e.errorTitle?'errorTitle="'+b(e.errorTitle)+'"':"")+">\n           "+(e.formula1?"<formula1>"+b(e.formula1)+"</formula1>":"")+"\n           "+(e.formula2?"<formula2>"+b(e.formula2)+"</formula2>":"")+"\n         </dataValidation>"})+"\n     </dataValidations>":"")+"\n\n   "+(c.length?"\n     <hyperlinks>\n       "+k(c,function(e){return'\n         <hyperlink ref="'+e.ref+'" r:id="'+e.rId+'"/>'})+"\n     </hyperlinks>":"")+'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   '+(g?'<drawing r:id="'+g+'"/>':"")+"\n   "+(m?'<legacyDrawing r:id="'+m+'"/>':"")+"\n</worksheet>"},G=function(e){var t=e.count;return w+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+u(t,function(e){return'\n    <Relationship Id="rId'+(e+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(e+1)+'.xml" />'})+'\n  <Relationship Id="rId'+(t+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId'+(t+2)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'},K=function(e){var t=e.hyperlinks;var i=e.comments;var n=e.sheetIndex;var r=e.drawings;return w+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+k(t,function(e){return'\n    <Relationship Id="'+e.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+b(e.target)+'" TargetMode="External" />'})+"\n  "+(!i.length?"":'\n    <Relationship Id="comment'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments'+n+'.xml"/>\n    <Relationship Id="vml'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing'+n+'.vml"/>')+"\n  "+(!r.length?"":'\n    <Relationship Id="drw'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+n+'.xml"/>')+"\n</Relationships>"},$=function(e){var t=e.comments;return w+'\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    '+k(t,function(e){return'\n      <comment ref="'+e.ref+'" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>'+b(e.text)+"</t>\n          </r>\n        </text>\n      </comment>"})+"\n  </commentList>\n</comments>"},Y=function(e){var t=e.comments;return'<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  '+k(t,function(e){return'\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>'+e.anchor+"</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>"+e.row+"</x:Row>\n        <x:Column>"+e.col+"</x:Column>\n      </x:ClientData>\n    </v:shape>"})+"\n</xml>"},Q=function(e){return w+'\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  '+k(e,function(e,t){return'\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>'+e.col+"</xdr:col>\n        <xdr:colOff>"+e.colOffset+"</xdr:colOff>\n        <xdr:row>"+e.row+"</xdr:row>\n        <xdr:rowOff>"+e.rowOffset+'</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="'+e.width+'" cy="'+e.height+'" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="'+(t+1)+'" name="Picture '+(t+1)+'"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="'+e.imageId+'"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>'})+"\n</xdr:wsDr>"},X=function(e){return w+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+k(e,function(e){return'\n    <Relationship Id="'+e.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+e.target+'"/>'})+"\n</Relationships>"},J=function(e){var t=e.count;var i=e.uniqueCount;var n=e.indexes;return w+'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">\n  '+k(Object.keys(n),function(e){return'\n    <si><t xml:space="preserve">'+b(e.substring(1))+"</t></si>"})+"\n</sst>"},Z=function(e){var t=e.formats;var i=e.fonts;var n=e.fills;var r=e.borders;var a=e.styles;return w+'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="'+t.length+'">\n  '+k(t,function(e,t){return'\n    <numFmt formatCode="'+b(e.format)+'" numFmtId="'+(165+t)+'" />'})+'\n  </numFmts>\n  <fonts count="'+(i.length+1)+'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    '+k(i,function(e){return"\n    <font>\n      "+(e.bold?"<b/>":"")+"\n      "+(e.italic?"<i/>":"")+"\n      "+(e.underline?"<u/>":"")+'\n      <sz val="'+(e.fontSize||11)+'" />\n      '+(e.color?'<color rgb="'+b(e.color)+'" />':'<color theme="1" />')+"\n      "+(e.fontFamily?'\n        <name val="'+b(e.fontFamily)+'" />\n        <family val="2" />\n      ':'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ')+"\n    </font>"})+'\n  </fonts>\n  <fills count="'+(n.length+2)+'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    '+k(n,function(e){return"\n      "+(e.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'+b(e.background)+'"/>\n          </patternFill>\n        </fill>\n      ':"")})+'\n  </fills>\n  <borders count="'+(r.length+1)+'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    '+k(r,se)+'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="'+(a.length+1)+'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    '+k(a,function(e){return'\n      <xf xfId="0"\n          '+(e.fontId?'fontId="'+e.fontId+'" applyFont="1"':"")+"\n          "+(e.fillId?'fillId="'+e.fillId+'" applyFill="1"':"")+"\n          "+(e.numFmtId?'numFmtId="'+e.numFmtId+'" applyNumberFormat="1"':"")+"\n          "+(e.textAlign||e.verticalAlign||e.wrap?'applyAlignment="1"':"")+"\n          "+(e.borderId?'borderId="'+e.borderId+'" applyBorder="1"':"")+">\n        "+(e.textAlign||e.verticalAlign||e.wrap?"\n        <alignment\n          "+(e.textAlign?'horizontal="'+b(e.textAlign)+'"':"")+"\n          "+(e.verticalAlign?'vertical="'+b(e.verticalAlign)+'"':"")+"\n          "+(e.indent?'indent="'+b(e.indent)+'"':"")+"\n          "+(e.wrap?'wrapText="1"':"")+" />\n        ":"")+"\n      </xf>\n    "})+'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>'};function ee(e){if(typeof e=="string")return"<f>"+b(e)+"</f>";return'<f t="array" ref="'+e.ref+'">'+b(e.src)+"</f>"}function c(e){var t=Math.floor(e/26)-1;return(t>=0?c(t):"")+String.fromCharCode(65+e%26)}function y(e,t){return c(t)+(e+1)}function z(e,t){return"$"+c(t)+"$"+(e+1)}function R(e){var t=e.frozenRows||(e.freezePane||{}).rowSplit||1;return t-1}function x(e){var t=7;return e/t-Math.floor(128/t)/256}function te(e){return e*.75}function ie(e){return String(e).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}var f=kendo.Class.extend({init:function(e,t,i,n){this.options=e;this._strings=t;this._styles=i;this._borders=n;this._validations={};this._comments=[];this._drawings=e.drawings||[];this._hyperlinks=(this.options.hyperlinks||[]).map(function(e,t){return r.extend({},e,{rId:"link"+t})})},relsToXML:function(){var e=this._hyperlinks;var t=this._comments;var i=this._drawings;if(e.length||t.length||i.length)return K({hyperlinks:e,comments:t,sheetIndex:this.options.sheetIndex,drawings:i})},toXML:function(e){var t=this;var i=this.options.mergedCells||[];var n=this.options.rows||[];var r=le(n,i);this._readCells(r);var a=this.options.filter;var o;if(a&&typeof a.from==="number"&&typeof a.to==="number")a={from:y(R(this.options),a.from),to:y(R(this.options),a.to)};else if(a&&a.ref&&a.columns){o=a;a=null}var s=[];for(var l in this._validations)if(Object.prototype.hasOwnProperty.call(t._validations,l))s.push(t._validations[l]);var d=null;if(this.options.defaultCellStyle)d=this._lookupStyle(this.options.defaultCellStyle);var u=this.options.freezePane||{};var c=this.options.defaults||{};var f=this.options.rows?this._getLastRow():1;var p=this.options.rows?this._getLastCol():1;return F({frozenColumns:this.options.frozenColumns||u.colSplit,frozenRows:this.options.frozenRows||u.rowSplit,columns:this.options.columns,defaults:c,data:r,index:e,mergeCells:i,autoFilter:a,filter:o,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:s,defaultCellStyleId:d,rtl:this.options.rtl!==undefined?this.options.rtl:c.rtl,legacyDrawing:this._comments.length?"vml"+this.options.sheetIndex:null,drawing:this._drawings.length?"drw"+this.options.sheetIndex:null,lastRow:f,lastCol:p})},commentsXML:function(){if(this._comments.length)return $({comments:this._comments})},drawingsXML:function(n){if(this._drawings.length){var r={};var e=this._drawings.map(function(e){var t=B(e.topLeftCell);var i=r[e.image];if(!i)i=r[e.image]={rId:"img"+e.image,target:n[e.image].target};return{col:t.col,colOffset:_(e.offsetX),row:t.row,rowOffset:_(e.offsetY),width:_(e.width),height:_(e.height),imageId:i.rId}});return{main:Q(e),rels:X(r)}}},legacyDrawing:function(){if(this._comments.length)return Y({comments:this._comments})},_lookupString:function(e){var t="$"+e;var i=this._strings.indexes[t];var n;if(i!==undefined)n=i;else{n=this._strings.indexes[t]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return n},_lookupStyle:function(e){var t=JSON.stringify(e);if(t==="{}")return 0;var i=O(t,this._styles);if(i<0)i=this._styles.push(t)-1;return i+1},_lookupBorder:function(e){var t=JSON.stringify(e);if(t==="{}")return;var i=O(t,this._borders);if(i<0)i=this._borders.push(t)-1;return i+1},_readCells:function(e){var t=this;for(var i=0;i<e.length;i++){var n=e[i];var r=n.cells;n.data=[];for(var a=0;a<r.length;a++){var o=t._cell(r[a],n.index,a);if(o)n.data.push(o)}}},_cell:function(n,e,t){if(!n||n===g)return null;var i=n.value;var r={};if(n.borderLeft)r.left=n.borderLeft;if(n.borderRight)r.right=n.borderRight;if(n.borderTop)r.top=n.borderTop;if(n.borderBottom)r.bottom=n.borderBottom;r=this._lookupBorder(r);var a=this.options.defaultCellStyle||{};var o={borderId:r};(function(e){e("color");e("background");e("bold");e("italic");e("underline");if(!e("fontFamily"))e("fontName","fontFamily");e("fontSize");e("format");if(!e("textAlign"))e("hAlign","textAlign");if(!e("verticalAlign"))e("vAlign","verticalAlign");e("wrap");e("indent")})(function(e,t){var i=n[e];if(i===undefined)i=a[e];if(i!==undefined){o[t||e]=i;return true}});var s=this.options.columns||[];var l=s[t];var d=typeof i;if(l&&l.autoWidth&&(!n.colSpan||n.colSpan===1)){var u=i;if(d==="number")u=p.toString(i,n.format);l.width=Math.max(l.width||0,String(u).length)}if(d==="string"){i=ie(i);i=this._lookupString(i);d="s"}else if(d==="number")d="n";else if(d==="boolean"){d="b";i=Number(i)}else if(i&&i.getTime){d=null;i=I(i);if(!o.format)o.format="mm-dd-yy"}else{d=null;i=null}o=this._lookupStyle(o);var c=y(e,t);if(n.validation)this._addValidation(n.validation,c);if(n.comment){var f=[t+1,15,e,10,t+3,15,e+3,4];this._comments.push({ref:c,text:n.comment,row:e,col:t,anchor:f.join(", ")})}return{value:i,formula:n.formula,type:d,style:o,ref:c}},_addValidation:function(e,t){var i={showErrorMessage:e.type==="reject"?1:0,formula1:e.from,formula2:e.to,type:re[e.dataType]||e.dataType,operator:ne[e.comparerType]||e.comparerType,allowBlank:e.allowNulls?1:0,showDropDown:e.showButton?0:1,error:e.messageTemplate,errorTitle:e.titleTemplate};var n=JSON.stringify(i);if(!this._validations[n]){this._validations[n]=i;i.sqref=[]}this._validations[n].sqref.push(t)},_getLastRow:function(){return h(this.options.rows)},_getLastCol:function(){var t=0;this.options.rows.forEach(function(e){if(e.cells)t=Math.max(t,h(e.cells))});return t}});function h(e){var t=e.length;e.forEach(function(e){if(e.index&&e.index>=t)t=e.index+1});return t}var ne={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},re={number:"decimal"},N={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function L(e){var t=e;if(t.length<6)t=t.replace(/(\w)/g,function(e,t){return t+t});t=t.substring(1).toUpperCase();if(t.length<8)t="FF"+t;return t}var ae=kendo.Class.extend({init:function(e){var i=this;this.options=e||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._borders=[];this._images=this.options.images;this._imgId=0;this._sheets=H(this.options.sheets||[],function(e,t){e.defaults=i.options;e.sheetIndex=t+1;return new f(e,i._strings,i._styles,i._borders)})},imageFilename:function(e){var t=++this._imgId;switch(e){case"image/jpg":case"image/jpeg":return"image"+t+".jpg";case"image/png":return"image"+t+".png";case"image/gif":return"image"+t+".gif";default:return"image"+t+".bin"}},toZIP:function(){var n=this;var e=P();var t=e.folder("docProps");t.file("core.xml",U({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var i=this._sheets.length;t.file("app.xml",W({sheets:this._sheets}));var r=e.folder("_rels");r.file(".rels",V);var a=e.folder("xl");var o=a.folder("_rels");o.file("workbook.xml.rels",G({count:i}));if(this._images){var s=a.folder("media");Object.keys(this._images).forEach(function(e){var t=n._images[e];var i=n.imageFilename(t.type);s.file(i,t.data);t.target="../media/"+i})}var l={};a.file("workbook.xml",q({sheets:this._sheets,filterNames:H(this._sheets,function(e,t){var i=e.options;var n=i.name||i.title||"Sheet"+(t+1);l[n.toLowerCase()]=t;var r=i.filter;if(r)if(r.ref){var a=r.ref.split(":");var o=B(a[0]);var s=B(a[1]);return{localSheetId:t,name:n,from:z(o.row,o.col),to:z(s.row,s.col)}}else if(typeof r.from!=="undefined"&&typeof r.to!=="undefined")return{localSheetId:t,name:n,from:z(R(i),r.from),to:z(R(i),r.to)}}),userNames:H(this.options.names||[],function(e){return{name:e.localName,localSheetId:e.sheet?l[e.sheet.toLowerCase()]:null,value:e.value,hidden:e.hidden}})}));var d=a.folder("worksheets");var u=a.folder("drawings");var c=u.folder("_rels");var f=d.folder("_rels");var p=[];var h=[];for(var m=0;m<i;m++){var g=n._sheets[m];var v="sheet"+(m+1)+".xml";var _=g.toXML(m);var b=g.relsToXML();var k=g.commentsXML();var w=g.legacyDrawing();var y=g.drawingsXML(n._images);if(b)f.file(v+".rels",b);if(k){var x="comments"+g.options.sheetIndex+".xml";a.file(x,k);p.push(x)}if(w)u.file("vmlDrawing"+g.options.sheetIndex+".vml",w);if(y){var C="drawing"+g.options.sheetIndex+".xml";u.file(C,y.main);c.file(C+".rels",y.rels);h.push(C)}d.file(v,_)}var S=H(this._borders,M);var T=H(this._styles,M);var I=function(e){return e.underline||e.bold||e.italic||e.color||e.fontFamily||e.fontSize};var D=function(e){var t=Number(e);var i;if(t)i=t*3/4;return i};var E=H(T,function(e){if(e.fontSize)e.fontSize=D(e.fontSize);if(e.color)e.color=L(e.color);if(I(e))return e});var A=H(T,function(e){if(e.format&&N[e.format]===undefined)return e});var F=H(T,function(e){if(e.background){e.background=L(e.background);return e}});a.file("styles.xml",Z({fonts:E,fills:F,formats:A,borders:S,styles:H(T,function(e){var t={};if(I(e))t.fontId=O(e,E)+1;if(e.background)t.fillId=O(e,F)+2;t.textAlign=e.textAlign;t.indent=e.indent;t.verticalAlign=e.verticalAlign;t.wrap=e.wrap;t.borderId=e.borderId;if(e.format)if(N[e.format]!==undefined)t.numFmtId=N[e.format];else t.numFmtId=165+O(e,A);return t})}));a.file("sharedStrings.xml",J(this._strings));e.file("[Content_Types].xml",j({sheetCount:i,commentFiles:p,drawingFiles:h}));return e},toDataURL:function(){var e=this.toZIP();return e.generateAsync?e.generateAsync(l).then(d):d(e.generate(l))},toBlob:function(){var e=this.toZIP();if(e.generateAsync)return e.generateAsync(E);return new Blob([e.generate(A)],{type:t})}});function oe(e){var t="thin";if(e===2)t="medium";else if(e===3)t="thick";return t}function m(e,t){var i="";if(t){i+="<"+e+' style="'+oe(t.size)+'">';if(t.color)i+='<color rgb="'+L(t.color)+'"/>';i+="</"+e+">"}return i}function se(e){return"<border>"+m("left",e.left)+m("right",e.right)+m("top",e.top)+m("bottom",e.bottom)+"</border>"}var g={};function le(e,t){var n=[];var r=[];de(e,function(e,t){var i={_source:e,index:t,height:e.height,level:e.level,cells:[]};n.push(i);r[t]=i});var i=v(n).slice(0);var a={rowData:n,rowsByIndex:r,mergedCells:t};for(var o=0;o<i.length;o++){fe(i[o],a);delete i[o]._source}return v(n)}function de(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(!n)continue;var r=n.index;if(typeof r!=="number")r=i;t(n,r)}}function v(e){return e.sort(function(e,t){return e.index-t.index})}function ue(e,t){if(e.indexOf(t)<0)e.push(t)}function ce(e,t){for(var i=0;i<e.length;++i){var n=e[i];var r=n.split(":");var a=r[0];if(a===t){var o=r[1];a=B(a);o=B(o);return{rowSpan:o.row-a.row+1,colSpan:o.col-a.col+1}}}}function B(e){function t(e){var t=e.toUpperCase();var i=0;for(var n=0;n<t.length;++n)i=i*26+t.charCodeAt(n)-64;return i-1}function i(e){return parseInt(e,10)-1}var n=/^([a-z]+)(\d+)$/i.exec(e);return{row:i(n[2]),col:t(n[1])}}function _(e){return Math.round(e*9525)}function fe(e,t){var i=e._source;var n=e.index;var r=i.cells;var a=e.cells;if(!r)return;for(var o=0;o<r.length;o++){var s=r[o]||g;var l=s.rowSpan||1;var d=s.colSpan||1;var u=pe(a,s);var c=y(n,u);if(l===1&&d===1){var f=ce(t.mergedCells,c);if(f){d=f.colSpan;l=f.rowSpan}}S(s,a,u,d);if(l>1||d>1)ue(t.mergedCells,c+":"+y(n+l-1,u+d-1));if(l>1)for(var p=n+1;p<n+l;p++){var h=t.rowsByIndex[p];if(!h){h=t.rowsByIndex[p]={index:p,cells:[]};t.rowData.push(h)}S(s,h.cells,u-1,d+1)}}}function pe(e,t){var i;if(typeof t.index==="number"){i=t.index;C(e,t,t.index)}else i=he(e,t);return i}function C(e,t,i){e[i]=t}function he(e,t){var i=e.length;for(var n=0;n<e.length+1;n++)if(!e[n]){e[n]=t;i=n;break}return i}function S(e,t,i,n){for(var r=1;r<n;r++){var a={borderTop:e.borderTop,borderRight:e.borderRight,borderBottom:e.borderBottom,borderLeft:e.borderLeft};C(t,a,i+r)}}var me=function(e){var t=e.ref;var i=e.columns;var n=e.generators;return'\n<autoFilter ref="'+t+'">\n  '+k(i,function(e){return'\n    <filterColumn colId="'+e.index+'">\n      '+n[e.filter](e)+"\n    </filterColumn>\n  "})+"\n</autoFilter>"},ge=function(e){var t=e.logic;var i=e.criteria;return"\n<customFilters "+(t==="and"?'and="1"':"")+">\n"+k(i,function(e){var t=T.customOperator(e);var i=T.customValue(e);return"<customFilter "+(t?'operator="'+t+'"':"")+' val="'+i+'"/>'})+"\n</customFilters>"},ve=function(e){var t=e.type;return'<dynamicFilter type="'+T.dynamicFilterType(t)+'" />'},_e=function(e){var t=e.type;var i=e.value;return'<top10 percent="'+(/percent$/i.test(t)?1:0)+'"\n       top="'+(/^top/i.test(t)?1:0)+'"\n       val="'+i+'" />'},be=function(e){var t=e.blanks;var i=e.values;return"<filters "+(t?'blank="1"':"")+">\n    "+k(i,function(e){return'\n      <filter val="'+e+'" />'})+"\n  </filters>"};function T(e){return me({ref:e.ref,columns:e.columns,generators:{custom:ge,dynamic:ve,top:_e,value:be}})}function ke(e){if(/^\'/.test(e))return e;if(/^[a-z_][a-z0-9_]*$/i.test(e))return e;return"'"+e.replace(/\x27/g,"\\'")+"'"}T.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},T.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},T.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e},kendo.deepExtend(kendo.ooxml,{IntlService:p,Workbook:ae,Worksheet:f})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("ooxml/main.min",["kendo.core.min","./kendo-ooxml.min"],function(){var i=window.kendo.jQuery,n=kendo.ooxml.Workbook;kendo.ooxml.IntlService.register({toString:kendo.toString}),kendo.ooxml.Workbook=n.extend({toDataURL:function(){var e=n.fn.toDataURL.call(this);if(typeof e!=="string")throw new Error("The toDataURL method can be used only with jsZip 2. Either include jsZip 2 or use the toDataURLAsync method.");return e},toDataURLAsync:function(){var t=i.Deferred();var e=n.fn.toDataURL.call(this);if(typeof e==="string")e=t.resolve(e);else if(e&&e.then)e.then(function(e){t.resolve(e)},function(){t.reject()});return t.promise()}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.ooxml.min",["./ooxml/main.min"],function(){var e={id:"ooxml",name:"XLSX generation",category:"framework",advanced:true,depends:["core"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("excel/kendo-excel.min",["kendo.core.min"],function(){var c=window.kendo.jQuery,n=(window.kendo.excel=window.kendo.excel||{},kendo.getter),t=c.map,i={compile:function(e){return e}},r=kendo.Class.extend({});function a(e){return e.title+": "+e.value}function o(e,t){var i=[];for(var n=0;n<e;n++)i.push(t(n));return i}function h(e){return e.id}r.register=function(e){i=e},r.compile=function(e){return i.compile(e)};var e=kendo.Class.extend({init:function(e){e.columns=this._trimColumns(e.columns||[]);this.allColumns=t(this._leafColumns(e.columns||[]),this._prepareColumn);this.columns=this._visibleColumns(this.allColumns);this.options=e;this.data=e.data||[];this.aggregates=e.aggregates||{};this.groups=[].concat(e.groups||[]);this.hasGroups=this.groups.length>0;this.hierarchy=e.hierarchy;this.hasGroupHeaderColumn=this.columns.some(function(e){return e.groupHeaderColumnTemplate});this.collapsible=this.options.collapsible},workbook:function(){var e={sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};return e},_trimColumns:function(e){var i=this;return e.filter(function(e){var t=Boolean(e.field);if(!t&&e.columns)t=i._trimColumns(e.columns).length>0;return t})},_leafColumns:function(e){var t=this;var i=[];for(var n=0;n<e.length;n++)if(!e[n].columns)i.push(e[n]);else i=i.concat(t._leafColumns(e[n].columns));return i},_prepareColumn:function(t){if(!t.field)return null;var e=function(e){return n(t.field,true)(e)};var i=null;if(t.values){i={};t.values.forEach(function(e){i[e.value]=e.text});e=function(e){return i[n(t.field,true)(e)]}}return c.extend({},t,{value:e,values:i,groupHeaderTemplate:t.groupHeaderTemplate?r.compile(t.groupHeaderTemplate):a,groupHeaderColumnTemplate:t.groupHeaderColumnTemplate?r.compile(t.groupHeaderColumnTemplate):null,groupFooterTemplate:t.groupFooterTemplate?r.compile(t.groupFooterTemplate):null,footerTemplate:t.footerTemplate?r.compile(t.footerTemplate):null})},_filter:function(){if(!this.options.filterable)return null;var e=this._depth();return{from:e,to:e+this.columns.length-1}},_createPaddingCells:function(e){var t=this;return o(e,function(){return c.extend({background:"#dfdfdf",color:"#333"},t.options.paddingCellOptions)})},_dataRow:function(e,t,i){var n=this;var r=this._createPaddingCells(t);if(this.hasGroups&&i&&e.items){r=r.concat(this._groupHeaderCells(e,t,i));var a=this._dataRows(e.items,t+1);a.unshift({type:"group-header",cells:r,level:this.collapsible?t:null});return a.concat(this._footer(e,t))}var o=[];for(var s=0;s<this.columns.length;s++)o[s]=n._cell(e,n.columns[s]);if(this.hierarchy)o[0].colSpan=i-t+1;return[{type:"data",cells:r.concat(o),level:this.collapsible?t:null}]},_groupHeaderCells:function(i,e,t){var n=[];var r=this.allColumns.filter(function(e){return e.field===i.field})[0]||{};var a=r&&r.title?r.title:i.field;var o=r?r.groupHeaderTemplate||r.groupHeaderColumnTemplate:null;var s=c.extend({title:a,field:i.field,value:r&&r.values?r.values[i.value]:i.value,aggregates:i.aggregates,items:i.items},i.aggregates[i.field]);var l=o?o(s):a+": "+i.value;n.push(c.extend({value:l,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+t-e},r.groupHeaderCellOptions));if(this.hasGroupHeaderColumn)this.columns.forEach(function(e,t){if(t>0)n.push(c.extend({background:"#dfdfdf",color:"#333",value:e.groupHeaderColumnTemplate?e.groupHeaderColumnTemplate(c.extend({group:s},s,i.aggregates[e.field])):undefined},e.groupHeaderCellOptions))});return n},_dataRows:function(e,t){var i=this;var n=this._depth();var r=[];for(var a=0;a<e.length;a++)r.push.apply(r,i._dataRow(e[a],t,n));return r},_hierarchyRows:function(){var e=this;var t=this._depth();var i=this.data;var n=this.hierarchy.itemLevel;var r=this.hierarchy.itemId||h;var a=this._hasFooterTemplate();var o=[];var s=[];var l=0;var d;if(!a)this.collapsible=false;for(var u=0;u<i.length;u++){var c=i[u];var f=n(c,u);if(a){if(f>l)s.push({id:d,level:l});else if(f<l)o.push.apply(o,e._hierarchyFooterRows(s,f,t));l=f;d=r(c,u)}o.push.apply(o,e._dataRow(c,f+1,t))}if(a){o.push.apply(o,this._hierarchyFooterRows(s,0,t));var p=i.length?this.aggregates[i[0].parentId]:{};o.push(this._hierarchyFooter(p,0,t))}this._prependHeaderRows(o);return o},_hierarchyFooterRows:function(e,t,i){var n=this;var r=[];while(e.length&&e[e.length-1].level>=t){var a=e.pop();r.push(n._hierarchyFooter(n.aggregates[a.id],a.level+1,i))}return r},_hasFooterTemplate:function(){var e=this.columns;for(var t=0;t<e.length;t++)if(e[t].footerTemplate)return true},_hierarchyFooter:function(r,a,o){var e=this.columns.map(function(e,t){var i=t?1:o-a+1;if(e.footerTemplate){var n=(r||{})[e.field];return c.extend({background:"#dfdfdf",color:"#333",colSpan:i,value:e.footerTemplate(c.extend({aggregates:r},n))},e.footerCellOptions)}return c.extend({background:"#dfdfdf",color:"#333",colSpan:i},e.footerCellOptions)});return{type:"footer",cells:this._createPaddingCells(a).concat(e),level:this.collapsible?a:null}},_footer:function(i,e){var t=[];var n=this.columns.some(function(e){return e.groupFooterTemplate});var r,a;if(n){a={group:{items:i.items,field:i.field,value:i.value}};r={};Object.keys(i.aggregates).forEach(function(e){r[e]=c.extend({},i.aggregates[e],a)})}var o=this.columns.map(function(e){if(e.groupFooterTemplate){var t=c.extend({},r,i.aggregates[e.field],a);return c.extend({background:"#dfdfdf",color:"#333",value:e.groupFooterTemplate(t)},e.groupFooterCellOptions)}return c.extend({background:"#dfdfdf",color:"#333"},e.groupFooterCellOptions)});if(n)t.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(o),level:this.collapsible?e:null});return t},_isColumnVisible:function(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns)},_visibleColumns:function(e){var a=this;return e.filter(function(e){var t=e.exportable;if(typeof t==="object")t=e.exportable.excel;var i=!e.hidden&&t!==false;var n=e.hidden&&t===true;var r=i||n;if(r&&e.columns)r=a._visibleColumns(e.columns).length>0;return r})},_headerRow:function(t,e){var i=this;var n=t.cells.map(function(e){return c.extend(e,{colSpan:e.colSpan>1?e.colSpan:1,rowSpan:t.rowSpan>1&&!e.colSpan?t.rowSpan:1})});if(this.hierarchy&&n[0].firstCell)n[0].colSpan+=this._depth();return{type:"header",cells:o(e.length,function(){return c.extend({background:"#7a7a7a",color:"#fff"},i.options.headerPaddingCellOptions)}).concat(n)}},_prependHeaderRows:function(e){var t=this;var i=this.groups;var n=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(n,this.options.columns);for(var r=n.length-1;r>=0;r--)e.unshift(t._headerRow(n[r],i))},_prepareHeaderRows:function(e,t,i,n){var r=this;var a=n||e[e.length-1];var o=e[a.index+1];var s=0;for(var l=0;l<t.length;l++){var d=t[l];if(r._isColumnVisible(d)){var u=c.extend({background:"#7a7a7a",color:"#fff",value:d.title||d.field,colSpan:0,firstCell:l===0&&(!i||i.firstCell)},d.headerCellOptions);a.cells.push(u);if(d.columns&&d.columns.length){if(!o){o={rowSpan:0,cells:[],index:e.length};e.push(o)}u.colSpan=r._trimColumns(r._visibleColumns(d.columns)).length;r._prepareHeaderRows(e,d.columns,u,o);s+=u.colSpan-1;a.rowSpan=e.length-a.index}}}if(i)i.colSpan+=s},_rows:function(){var t=this;var e=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(e);var i=false;var n=this.columns.map(function(e){if(e.footerTemplate){i=true;return c.extend({background:"#dfdfdf",color:"#333",value:e.footerTemplate(c.extend({},t.aggregates,t.aggregates[e.field]))},e.footerCellOptions)}return c.extend({background:"#dfdfdf",color:"#333"},e.footerCellOptions)});if(i)e.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(n)})}return e},_headerDepth:function(e){var t=this;var i=1;var n=0;for(var r=0;r<e.length;r++)if(e[r].columns){var a=t._headerDepth(e[r].columns);if(a>n)n=a}return i+n},_freezePane:function(){var e=this._visibleColumns(this.options.columns||[]);var t=this._visibleColumns(this._trimColumns(this._leafColumns(e.filter(function(e){return e.locked})))).length;return{rowSplit:this._headerDepth(e),colSplit:t?t+this.groups.length:0}},_cell:function(e,t){return c.extend({value:t.value(e)},t.cellOptions)},_depth:function(){var e=0;if(this.hierarchy)e=this.hierarchy.depth;else e=this.groups.length;return e},_columns:function(){var e=this._depth();var t=o(e,function(){return{width:20}});return t.concat(this.columns.map(function(e){return{width:parseInt(e.width,10),autoWidth:e.width?false:true}}))}});kendo.deepExtend(kendo.excel,{ExcelExporter:e,TemplateService:r})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("excel/main.min",["kendo.core.min","kendo.data.min","./kendo-excel.min"],function(){var e=kendo.jQuery,a=kendo,i=a.excel.ExcelExporter,o=e.extend;return a.excel.TemplateService.register({compile:a.template}),a.ExcelExporter=a.Class.extend({init:function(e){this.options=e;var t=e.dataSource;if(t instanceof a.data.DataSource){if(!t.filter())t.options.filter=undefined;this.dataSource=new t.constructor(o({},t.options,{page:e.allPages?0:t.page(),filter:t.filter(),pageSize:e.allPages?t.total():t.pageSize()||t.total(),sort:t.sort(),group:t.group(),aggregate:t.aggregate()}));var i=t.data();if(i.length>0){if(e.hierarchy)for(var n=0;n<i.length;n++)if(i[n].expanded===false||i[n].expanded===undefined)i[n].expanded=true;this.dataSource._data=i;var r=this.dataSource.transport;if(t._isServerGrouped()&&r.options&&r.options.data)r.options.data=null}}else this.dataSource=a.data.DataSource.create(t)},_hierarchy:function(){var e=this.options.hierarchy;var t=this.dataSource;if(e&&t.level){e={itemLevel:function(e){return t.level(e)}};var i=t.view();var n=0;var r;for(var a=0;a<i.length;a++){r=t.level(i[a]);if(r>n)n=r}e.depth=n+1}else e=false;return{hierarchy:e}},workbook:function(){return e.Deferred(function(t){this.dataSource.fetch().then(function(){var e=new i(o({},this.options,this._hierarchy(),{data:this.dataSource.view(),groups:this.dataSource.group(),aggregates:this.dataSource.aggregates()})).workbook();t.resolve(e,this.dataSource.view())}.bind(this))}.bind(this)).promise()}}),kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("excel/mixins.min",["./main.min","kendo.ooxml.min"],function(){var t=kendo.jQuery,r=kendo;return r.ExcelMixin={extend:function(e){e.events.push("excelExport");e.options.excel=t.extend(e.options.excel,this.options);e.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx",collapsible:false},saveAsExcel:function(){var n=this.options.excel||{};var e=new r.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:n.allPages,filterable:n.filterable,hierarchy:n.hierarchy,collapsible:n.collapsible});e.workbook().then(function(t,e){if(!this.trigger("excelExport",{workbook:t,data:e})){var i=new r.ooxml.Workbook(t);if(!i.options)i.options={};i.options.skipCustomHeight=true;i.toDataURLAsync().then(function(e){r.saveAs({dataURI:e,fileName:t.fileName||n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy})})}}.bind(this))}},kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.excel.min",["./excel/main.min","./excel/mixins.min"],function(){var e={id:"excel",name:"Excel export",category:"framework",advanced:true,mixin:true,depends:["data","ooxml"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.view.min",["kendo.core.min","kendo.binder.min","kendo.fx.min"],function(){var M={id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder","fx"],hidden:false},a=window.kendo.jQuery,z=void 0,u=window.kendo,s=u.attr,t=u.ui,i=u.attrValue,n=u.directiveSelector,r=u.Observable,o=u.ui.Widget,l=u.roleSelector,d="SCRIPT",c="init",f="transitionStart",p="transitionEnd",h="show",m="hide",g="attach",e="detach",v=/unrecognized expression/,_=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,b="loadStart",k="loadComplete",w="showStart",y="sameViewRequested",x="viewShow",C="viewTypeDetermined",S="after",T={content:"k-content",view:"k-view",stretchedView:"k-stretched-view",widget:"k-widget",header:"k-header",footer:"k-footer"},I=u.ui.Widget.extend({init:function(e,t){var i=this;t=t||{};i.id=u.guid();r.fn.init.call(i);this.options=a.extend({},this.options,t);i.content=e;if(i.options.renderOnInit)o.fn.init.call(i,i._createElement(),t);if(i.options.wrapInSections)i._renderSections();i.tagName=t.tagName||"div";i.model=t.model;i._wrap=t.wrap!==false;this._evalTemplate=t.evalTemplate||false;this._useWithBlock=t.useWithBlock;i._fragments={};i.bind([c,h,m,f,p],t)},options:{name:"View",renderOnInit:false,wrapInSections:false,detachOnHide:true,detachOnDestroy:true},render:function(e){var t=this,i=!t.element;if(i)t.element=t._createElement();if(e)a(e).append(t.element);if(i){u.bind(t.element,t.model);t.trigger(c)}if(e){t._eachFragment(g);t.trigger(h)}return t.element},clone:function(){return new D(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){var e=this;var t=e.render();if(t)t.css("display","");this.trigger(w,{view:this})},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(f,{type:e})},afterTransition:function(e){this.trigger(p,{type:e})},hide:function(){if(this.options.detachOnHide){this._eachFragment(e);a(this.element).detach()}this.trigger(m)},destroy:function(){var e=this;var t=e.element;if(t){o.fn.destroy.call(e);u.unbind(t);u.destroy(t);if(e.options.detachOnDestroy)t.remove()}},purge:function(){var e=this;e.destroy();a(e.element).add(e.content).add(e.wrapper).off().remove()},fragments:function(e){a.extend(this._fragments,e)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t=this,e="<"+t.tagName+">",i,n;try{n=a(document.getElementById(t.content)||t.content);if(n[0].tagName===d)n=n.html()}catch(e){if(v.test(e.message))n=t.content}if(typeof n==="string"){n=n.replace(/^\s+|\s+$/g,"");if(t._evalTemplate)n=u.template(n,{useWithBlock:t._useWithBlock})(t.model||{});i=a(e).append(n);if(!t._wrap)i=i.contents()}else{i=n;if(t._evalTemplate){var r=a(u.template(a("<div />").append(i.clone(true)).html(),{useWithBlock:t._useWithBlock})(t.model||{}));if(a.contains(document,i[0]))i.replaceWith(r);i=r}if(t._wrap)i=i.wrapAll(e).parent()}return i},_renderSections:function(){var e=this;if(e.options.wrapInSections){e._wrapper();e._createContent();e._createHeader();e._createFooter()}},_wrapper:function(){var e=this;var t=e.content;if(t.is(l("view")))e.wrapper=e.content;else e.wrapper=t.wrap("<div data-"+u.ns+'stretch="true" data-'+u.ns+'role="view" data-'+u.ns+'init-widgets="false"></div>').parent();var i=e.wrapper;i.attr("id",e.id);i.addClass(T.view);i.addClass(T.widget);i.attr("role","view")},_createContent:function(){var e=this;var t=a(e.wrapper);var i=l("content");if(!t.children(i)[0]){var n=t.children().filter(function(){var e=a(this);if(!e.is(l("header"))&&!e.is(l("footer")))return e});n.wrap("<div "+s("role")+'="content"></div>')}this.contentElement=t.children(l("content"));this.contentElement.addClass(T.stretchedView).addClass(T.content)},_createHeader:function(){var e=this;var t=e.wrapper;this.header=t.children(l("header")).addClass(T.header)},_createFooter:function(){var e=this;var t=e.wrapper;this.footer=t.children(l("footer")).addClass(T.footer)}}),D=u.Class.extend({init:function(e){a.extend(this,{element:e.element.clone(true),transition:e.transition,id:e.id});e.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:a.noop,afterTransition:a.noop}),E=I.extend({init:function(e,t){I.fn.init.call(this,e,t);this.containers={}},container:function(e){var t=this.containers[e];if(!t){t=this._createContainer(e);this.containers[e]=t}return t},showIn:function(e,t,i){this.container(e).show(t,i)},_createContainer:function(e){var t=this.render(),i=t.find(e),n;if(!i.length&&t.is(e))if(t.is(e))i=t;else throw new Error("can't find a container with the specified "+e+" selector");n=new P(i);n.bind("accepted",function(e){e.view.render(i)});return n}}),A=I.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),F=/^(\w+)(:(\w+))?( (\w+))?$/;function H(e){if(!e)return{};var t=e.match(F)||[];return{type:t[1],direction:t[3],reverse:t[5]==="reverse"}}var P=r.extend({init:function(e){r.fn.init.call(this);this.container=e;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(e,t,i){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide()){this.trigger("after");return false}i=i||e.id;var n=this,r=e===n.view?e.clone():n.view,a=n.history,o=a[a.length-2]||{},s=o.id===i,l=t||(s?a[a.length-1].transition:e.transition),d=H(l);if(n.running)n.effect.stop();if(l==="none")l=null;n.trigger("accepted",{view:e});n.view=e;n.previous=r;n.running=true;if(!s)a.push({id:i,transition:l});else a.pop();if(!r){e.showStart();e.showEnd();n.after();return true}if(!l||!u.effects.enabled){e.showStart();n.end()}else{e.element.addClass("k-fx-hidden");e.showStart();if(s&&!t)d.reverse=!d.reverse;n.effect=u.fx(e.element).replace(r.element,d.type).beforeTransition(function(){e.beforeTransition("show");r.beforeTransition("hide")}).afterTransition(function(){e.afterTransition("show");r.afterTransition("hide")}).direction(d.direction).setReverse(d.reverse);n.effect.run().then(function(){n.end()})}return true},destroy:function(){var e=this;var t=e.view;if(t&&t.destroy)t.destroy()}}),O=r.extend({init:function(e){var t=this,i,n;r.fn.init.call(t);t.options=e;a.extend(t,e);t.sandbox=a("<div />");n=t.container;i=t._hideViews(n);t.rootView=i.first();t.layouts={};t.viewContainer=new u.ViewContainer(t.container);t.viewContainer.bind("accepted",function(e){e.view.params=t.params});t.viewContainer.bind("complete",function(e){t.trigger(x,{view:e.view})});t.viewContainer.bind(S,function(){t.trigger(S)});this.bind(this.events,e)},events:[w,S,x,b,k,y,C],destroy:function(){var e=this;var t=e.viewContainer;u.destroy(e.container);for(var i in e.layouts)this.layouts[i].destroy();if(t)t.destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,i){e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(e===""&&this.remoteViewURLPrefix)e="/";if(e.replace(/^#/,"")===this.url){this.trigger(y);return false}this.trigger(w);var n=this,r=n._findViewElement(e),a=u.widgetInstance(r);n.url=e.replace(/^#/,"");n.params=i;if(a&&a.reload){a.purge();r=[]}this.trigger(C,{remote:r.length===0,url:e});if(r[0]){if(!a)a=n._createView(r);return n.viewContainer.show(a,t,e)}else return true},append:function(e,t){var i=this.sandbox,n=(t||"").split("?")[0],r=this.container,a,o;if(_.test(e))e=RegExp.$1;i[0].innerHTML=e;r.append(i.children("script, style"));a=this._hideViews(i);o=a.first();if(!o.length)a=o=i.wrapInner("<div data-role=view />").children();if(n)o.hide().attr(s("url"),n);r.append(a);return this._createView(o)},_locate:function(e){return this.$angular?n(e):l(e)},_findViewElement:function(e){var t,i=e.split("?")[0];if(!i)return this.rootView;t=this.container.children("["+s("url")+"='"+i+"']");if(!t[0]&&i.indexOf("/")===-1)t=this.container.children(i.charAt(0)==="#"?i:"#"+i);if(!t[0])t=this._findViewElementById(e);return t},_findViewElementById:function(e){var t=this.container.children("[id='"+e+"']");return t},_createView:function(e){return this._createSpaView(e)},_createMobileView:function(e){return u.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:i(e,"reload")},t.roles)},_createSpaView:function(e){var t=(this.options||{}).viewOptions||{};return new u.View(e,{renderOnInit:t.renderOnInit,wrap:t.wrap||false,wrapInSections:t.wrapInSections,detachOnHide:t.detachOnHide,detachOnDestroy:t.detachOnDestroy})},_hideViews:function(e){return e.children(this._locate("view")).hide()}});return u.ViewEngine=O,u.ViewContainer=P,u.Fragment=A,u.Layout=E,u.View=I,u.ViewClone=D,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.pane.min",["kendo.view.min"],function(){var e={id:"pane",name:"Pane",category:"web",description:"Pane",depends:["view"],hidden:true},t=window.kendo.jQuery,i=void 0,a=window.kendo,r=a.roleSelector,n=a.ui,o=n.Widget,s=a.ViewEngine,l=a.View,d=t.extend,u="navigate",c="viewShow",f="sameViewRequested",p=a.support.mobileOS,h=p.ios&&!p.appMode&&p.flatVersion>=700,m="#:back",g=".",v={pane:"k-pane",paneWrapper:"k-pane-wrapper",collapsiblePane:"k-collapsible-pane",vertical:"k-vertical"},_=o.extend({init:function(e,t){var r=this;o.fn.init.call(r,e,t);t=r.options;e=r.element;e.addClass(v.pane);if(r.options.collapsible)e.addClass(v.collapsiblePane);this.history=[];this.historyCallback=function(e,t,i){var n=r.transition;r.transition=null;if(h&&i)n="none";return r.viewEngine.showView(e,n,t)};this._historyNavigate=function(e){if(e===m){if(r.history.length===1)return;r.history.pop();e=r.history[r.history.length-1]}else{if(e instanceof l)e="";r.history.push(e)}r.historyCallback(e,a.parseQueryStringParams(e))};this._historyReplace=function(e){var t=a.parseQueryStringParams(e);r.history[r.history.length-1]=e;r.historyCallback(e,t)};r.viewEngine=new s(d({},{container:e,transition:t.transition,modelScope:t.modelScope,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,$angular:t.$angular,showStart:function(){r.closeActiveDialogs()},after:function(){},viewShow:function(e){r.trigger(c,e)},loadStart:function(){},loadComplete:function(){},sameViewRequested:function(){r.trigger(f)},viewTypeDetermined:function(e){if(!e.remote||!r.options.serverNavigation)r.trigger(u,{url:e.url})}},this.options.viewEngine));this._setPortraitWidth();a.onResize(function(){r._setPortraitWidth()})},closeActiveDialogs:function(){var e=this.element.find(r("actionsheet popover modalview")).filter(":visible");e.each(function(){a.widgetInstance(t(this),n).close()})},navigateToInitial:function(){var e=this.options.initial;if(e)this.navigate(e);return e},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window},events:[u,c,f],append:function(e){return this.viewEngine.append(e)},destroy:function(){var e=this;o.fn.destroy.call(e);if(e.viewEngine)e.viewEngine.destroy()},navigate:function(e,t){if(e instanceof l)e=e.id;this.transition=t;this._historyNavigate(e)},replace:function(e,t){if(e instanceof l)e=e.id;this.transition=t;this._historyReplace(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;if(t){e=a.mobile.application.element.is(g+v.vertical)?t:"auto";this.element.css("width",e)}}});return _.wrap=function(e,t){if(!e.is(r("view")))e=e.wrap("<div data-"+a.ns+'role="view" data-stretch="true"></div>').parent();var i=e.wrap('<div class="'+v.paneWrapper+' k-widget"><div></div></div>').parent();var n=new _(i,t);n.navigate("");return n},a.Pane=_,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.progressbar.min",["kendo.core.min"],function(){var e={id:"progressbar",name:"ProgressBar",category:"web",description:"The ProgressBar offers rich functionality for displaying and tracking progress",depends:["core"]},r=window.kendo.jQuery,o=void 0,l=window.kendo,t,n=l.ui.Widget,d="horizontal",u="vertical",i,a,s,c,f="k-progressbar",p="k-progressbar-reverse",h="k-progressbar-indeterminate",m="k-complete",g="k-selected",v="k-progress-status",_,b="k-selected",k="k-disabled",w={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},y="change",x="complete",C="boolean",S=Math,T=r.extend,I=100,D=400,E=3,A={progressStatus:"<span class='k-progress-status-wrap "+"k-progress-end"+"'><span class='k-progress-status'></span></span>",announceElement:'<span aria-live="polite" class="k-sr-only k-progress-announce"></span>'},F=n.extend({init:function(e,t){var i=this;n.fn.init.call(this,e,t);t=i.options;i._progressProperty=t.orientation===d?"width":"height";i._fields();t.value=i._validateValue(t.value);i._validateType(t.type);i._wrapper();if(t.ariaRole)i._aria();i._progressAnimation();if(t.value!==t.min&&t.value!==false)i._updateProgress()},setOptions:function(e){var t=this,i=t.wrapper;n.fn.setOptions.call(t,e);if(e.hasOwnProperty("reverse"))i.toggleClass("k-progressbar-reverse",e.reverse);if(e.hasOwnProperty("enable"))t.enable(e.enable);if(e.ariaRole)t._aria();t._progressAnimation();t._validateValue();t._updateProgress()},events:[y,x],options:{name:"ProgressBar",orientation:d,reverse:false,min:0,max:100,value:0,enable:true,type:w.VALUE,chunkCount:5,showStatus:true,animation:{},label:null,labelId:null,ariaRole:false},_aria:function(){var e=this,t=e.options,i=e.wrapper;i.attr({role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max});if(!!t.labelId)i.attr("aria-labelledby",t.labelId);else if(!!t.label)i.attr("aria-label",t.label);e.announce=r(A.announceElement);e.announce.appendTo(r("body"));if(t.value!==false){i.attr("aria-valuenow",t.value);e.announce.text(e._calculatePercentage().toFixed()+"%")}},_fields:function(){var e=this;e._isStarted=false;e.progressWrapper=e.progressStatus=r()},_validateType:function(i){var n=false;r.each(w,function(e,t){if(t===i){n=true;return false}});if(!n)throw new Error(l.format("Invalid ProgressBar type '{0}'",i))},_wrapper:function(){var e=this;var t=e.wrapper=e.element;var i=e.options;var n=i.orientation;var r=i.value!==false?i.value:i.min;t.addClass("k-widget "+f);t.addClass(f+"-"+(n===d?d:u));if(i.enable===false)t.addClass(k);if(i.reverse)t.addClass(p);if(i.value===false)t.addClass(h);if(i.type===w.CHUNK)e._addChunkProgressWrapper();else if(i.showStatus){e.progressStatus=e.wrapper.prepend(A.progressStatus).find("."+v);if(i.type===w.VALUE)e.progressStatus.text(r);else e.progressStatus.text(e._calculatePercentage(r).toFixed()+"%")}},value:function(e){return this._value(e)},_value:function(e){var t=this;var i=t.options;var n;if(e===o)return i.value;else if(typeof e!==C){e=t._roundValue(e);if(!isNaN(e)){n=t._validateValue(e);if(n!==i.value){t.wrapper.removeClass(h);i.value=n;t._isStarted=true;t._updateProgress()}}}else if(!e){t.wrapper.addClass(h);t.wrapper.removeAttr("aria-valuenow");i.value=false;if(t.announce)t.announce.text("")}},_roundValue:function(e){e=parseFloat(e);var t=S.pow(10,E);return l._round(e*t)/t},_validateValue:function(e){var t=this;var i=t.options;if(e!==false){if(e<=i.min||e===true)return i.min;else if(e>=i.max)return i.max}else if(e===false)return false;if(isNaN(t._roundValue(e)))return i.min;return e},_updateProgress:function(){var e=this;var t=e.options;var i=e._calculatePercentage();if(t.type===w.CHUNK){e._updateChunks(i);e._onProgressUpdateAlways(t.value)}else e._updateProgressWrapper(i);if(t.ariaRole){e.wrapper.attr("aria-valuenow",e.options.value);if(e.announce)e.announce.text(i.toFixed()+"%")}},_updateChunks:function(e){var t=this;var i=t.options;var n=i.chunkCount;var r=parseInt(I/n*100,10)/100;var a=parseInt(e*100,10)/100;var o=S.floor(a/r);var s;if(i.orientation===d&&!i.reverse||i.orientation===u&&i.reverse)s=t.wrapper.find("li.k-item").slice(0,o);else if(o===0)s=l.jQuery();else s=t.wrapper.find("li.k-item").slice(o*-1);t.wrapper.find("."+b).removeClass(b);s.addClass(b)},_updateProgressWrapper:function(e){var t=this;var i=t.options;var n=t.wrapper.find("."+g);var r=t._isStarted?t._animation.duration:0;var a={};if(n.length===0)t._addRegularProgressWrapper();a[t._progressProperty]=e+"%";t.progressWrapper.animate(a,{duration:r,start:t._onProgressAnimateStart.bind(t),progress:t._onProgressAnimate.bind(t),complete:t._onProgressAnimateComplete.bind(t,i.value),always:t._onProgressUpdateAlways.bind(t,i.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(e){var t=this;var i=t.options;var n=parseFloat(e.elem.style[t._progressProperty],10);var r;if(i.showStatus){r=1e4/parseFloat(t.progressWrapper[0].style[t._progressProperty]);t.progressWrapper.find(".k-progress-status-wrap").css(t._progressProperty,r+"%")}if(i.type!==w.CHUNK&&n<=98)t.progressWrapper.removeClass(m)},_onProgressAnimateComplete:function(e){var t=this;var i=t.options;var n=parseFloat(t.progressWrapper[0].style[t._progressProperty]);var r;if(i.type!==w.CHUNK&&n>98)t.progressWrapper.addClass(m);if(i.showStatus){if(i.type===w.VALUE)r=e;else if(i.type==w.PERCENT)r=t._calculatePercentage(e).toFixed()+"%";else r=S.floor(t._calculatePercentage(e))+"%";t.progressStatus.text(r)}if(e===i.min)t.progressWrapper.hide()},_onProgressUpdateAlways:function(e){var t=this;var i=t.options;if(t._isStarted)t.trigger(y,{value:e});if(e===i.max&&t._isStarted)t.trigger(x,{value:i.max})},enable:function(e){var t=this;var i=t.options;i.enable=typeof e==="undefined"?true:e;t.wrapper.toggleClass(k,!i.enable)},destroy:function(){var e=this;if(e.announce)e.announce.remove();n.fn.destroy.call(e)},_addChunkProgressWrapper:function(){var e=this;var t=e.options;var i=e.wrapper;var n=I/t.chunkCount;var r="";if(t.chunkCount<=1)t.chunkCount=1;r+="<ul class='k-reset'>";for(var a=t.chunkCount-1;a>=0;a--)r+="<li class='k-item'></li>";r+="</ul>";i.append(r).find(".k-item").css(e._progressProperty,n+"%").first().addClass("k-first").end().last().addClass("k-last");e._normalizeChunkSize()},_normalizeChunkSize:function(){var e=this;var t=e.options;var i=e.wrapper.find(".k-item").last();var n=parseFloat(i[0].style[e._progressProperty]);var r=I-t.chunkCount*n;if(r>0)i.css(e._progressProperty,n+r+"%")},_addRegularProgressWrapper:function(){var e=this;e.progressWrapper=r("<div class='"+g+"'></div>").appendTo(e.wrapper);if(e.options.showStatus){e.progressWrapper.append(A.progressStatus);e.progressStatus=e.wrapper.find("."+v)}},_calculateChunkSize:function(){var e=this;var t=e.options.chunkCount;var i=e.wrapper.find("ul.k-reset");return(parseInt(i.css(e._progressProperty),10)-(t-1))/t},_calculatePercentage:function(e){var t=this;var i=t.options;var n=e!==o?e:i.value;var r=i.min;var a=i.max;t._onePercent=S.abs((a-r)/100);return S.abs((n-r)/t._onePercent)},_progressAnimation:function(){var e=this;var t=e.options;var i=t.animation;if(i===false)e._animation={duration:0};else e._animation=T({duration:D},t.animation)}});return l.ui.plugin(F),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.color.min",["kendo.core.min"],function(){var e={id:"color",name:"Color utils",category:"framework",advanced:true,description:"Color utilities used across components",depends:["core"]},t=(window.kendo=window.kendo||{},kendo.Class),i=kendo.support,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n=i.browser,o=function(e){var t=Object.keys(a);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");o=function(e){return i.exec(e)};return i.exec(e)},s=t.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(e){return this.toBytes().toHex(e)},toBytes:function(){return this},toCss:function(e){return"#"+this.toHex(e)},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){if(n.msie&&n.version<9)return this.toCss();return this.toCssRgba()},equals:function(e){return e===this||e!==null&&e!==undefined&&this.toCssRgba()===h(e).toCssRgba()},diff:function(e){if(e===null)return NaN;var t=this.toBytes();var i=e.toBytes();return Math.sqrt(Math.pow((t.r-i.r)*.3,2)+Math.pow((t.g-i.g)*.59,2)+Math.pow((t.b-i.b)*.11,2))},clone:function(){var e=this.toBytes();if(e===this)e=new l(e.r,e.g,e.b,e.a);return e}}),f=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.r=e;this.g=t;this.b=i;this.a=n},toHSV:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.min(t,i,n);var a=Math.max(t,i,n);var o=a-r;var s=a;var l,d;if(o===0)return new u(0,0,s,this.a);if(a!==0){d=o/a;if(t===a)l=(i-n)/o;else if(i===a)l=2+(n-t)/o;else l=4+(t-i)/o;l*=60;if(l<0)l+=360}else{d=0;l=-1}return new u(l,d,s,this.a)},toHSL:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.max(t,i,n);var a=Math.min(t,i,n);var o,s,l=(r+a)/2;if(r===a)o=s=0;else{var d=r-a;s=l>.5?d/(2-r-a):d/(r+a);switch(r){case t:o=(i-n)/d+(i<n?6:0);break;case i:o=(n-t)/d+2;break;case n:o=(t-i)/d+4;break;default:break}}return new c(o*60,s*100,l*100,this.a)},toBytes:function(){return new l(this.r*255,this.g*255,this.b*255,this.a)}}),l=f.extend({init:function(e,t,i,n){f.fn.init.call(this,Math.round(e),Math.round(t),Math.round(i),n)},toRGB:function(){return new f(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(e){var t=r(this.r,2)+r(this.g,2)+r(this.b,2);if(e&&e.alpha)t+=r(Math.round(this.a*255),2);return t},toBytes:function(){return this}});function r(e,t,i){if(i===void 0)i="0";var n=e.toString(16);while(t>n.length)n=i+n;return n}var u=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.h=e;this.s=t;this.v=i;this.a=n},toRGB:function(){var e=this;var t=e.h;var i=e.s;var n=e.v;var r,a,o;if(i===0)r=a=o=n;else{t/=60;var s=Math.floor(t);var l=t-s;var d=n*(1-i);var u=n*(1-i*l);var c=n*(1-i*(1-l));switch(s){case 0:r=n;a=c;o=d;break;case 1:r=u;a=n;o=d;break;case 2:r=d;a=n;o=c;break;case 3:r=d;a=u;o=n;break;case 4:r=c;a=d;o=n;break;default:r=n;a=d;o=u;break}}return new f(r,a,o,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),c=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.h=e;this.s=t;this.l=i;this.a=n},toRGB:function(){var e=this.h/360;var t=this.s/100;var i=this.l/100;var n,r,a;if(t===0)n=r=a=i;else{var o=i<.5?i*(1+t):i+t-i*t;var s=2*i-o;n=d(s,o,e+1/3);r=d(s,o,e);a=d(s,o,e-1/3)}return new f(n,r,a,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function d(e,t,i){var n=i;if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}function p(e){return parseFloat(parseFloat(parseInt(e,16)/255).toFixed(3))}function h(e,t){var i,n;if(e==null||e==="none")return null;if(e instanceof s)return e;var r=e.toLowerCase();if(i=o(r)){if(i[1]==="transparent")r=new f(1,1,1,0);else r=h(a[i[1]],t);r.match=[i[1]];return r}if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),p(i[4]+i[4]));else if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),p(i[4]));else if(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1);else if(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));else if(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))n=new f(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1);else if(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))n=new f(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]));if(n)n.match=i;else if(!t)throw new Error("Cannot parse color: "+r);return n}var m=180,g=t.extend({init:function(e){var t=this;if(arguments.length===1){var i=g.formats;var n=this.resolveColor(e);for(var r=0;r<i.length;r++){var a=i[r].re;var o=i[r].process;var s=a.exec(n);if(s){var l=o(s);t.r=l[0];t.g=l[1];t.b=l[2]}}}else{this.r=arguments[0];this.g=arguments[1];this.b=arguments[2]}this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit;var t=this.r.toString(16);var i=this.g.toString(16);var n=this.b.toString(16);return"#"+e(t)+e(i)+e(n)},resolveColor:function(e){var t=e||"black";if(t.charAt(0)==="#")t=t.substr(1,6);t=t.replace(/ /g,"");t=t.toLowerCase();t=g.namedColors[t]||t;return t},normalizeByte:function(e){if(e<0||isNaN(e))return 0;return e>255?255:e},padDigit:function(e){return e.length===1?"0"+e:e},brightness:function(e){var t=Math.round;this.r=t(this.normalizeByte(this.r*e));this.g=t(this.normalizeByte(this.g*e));this.b=t(this.normalizeByte(this.b*e));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},isDark:function(){return this.percBrightness()<m}});g.fromBytes=function(e,t,i,n){return new l(e,t,i,n!=null?n:1)},g.fromRGB=function(e,t,i,n){return new f(e,t,i,n!=null?n:1)},g.fromHSV=function(e,t,i,n){return new u(e,t,i,n!=null?n:1)},g.fromHSL=function(e,t,i,n){return new c(e,t,i,n!=null?n:1)},g.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],g.namedColors=a,kendo.deepExtend(kendo,{parseColor:h,namedColors:a,Color:g})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/util.min",["kendo.core.min"],function(){var t=window.kendo.jQuery;function e(){return t.Deferred()}function i(e){return t.when.apply(t,e)}function n(e,t){if(!t)return;if(typeof t.__proto__==="function")e.__proto__=t;else for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]}return kendo.drawing.util=kendo.drawing.util||{},kendo.deepExtend(kendo.drawing.util,{createPromise:e,promiseAll:i,extendStatic:n}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("util/text-metrics.min",["kendo.core.min"],function(){var t=window.kendo.jQuery,i=(window.kendo.util=window.kendo.util||{},kendo.Class.extend({init:function(e){this._size=e;this._length=0;this._map={}},put:function(e,t){var i=this._map;var n={key:e,value:t};i[e]=n;if(!this._head)this._head=this._tail=n;else{this._tail.newer=n;n.older=this._tail;this._tail=n}if(this._length>=this._size){i[this._head.key]=null;this._head=this._head.newer;this._head.older=null}else this._length++},get:function(e){var t=this._map[e];if(t){if(t===this._head&&t!==this._tail){this._head=t.newer;this._head.older=null}if(t!==this._tail){if(t.older){t.older.newer=t.newer;t.newer.older=t.older}t.older=this._tail;t.newer=null;this._tail.newer=t;this._tail=t}return t.value}}})),n=/\r?\n|\r|\t/g,r=" ";function f(e){return String(e).replace(n,r)}function p(e){var t=[];for(var i in e)t.push(i+e[i]);return t.sort().join("")}function h(e){var t=2166136261;for(var i=0;i<e.length;++i){t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);t^=e.charCodeAt(i)}return t>>>0}function m(){return{width:0,height:0,baseline:0}}var a={baselineMarkerSize:1},g;if(typeof document!=="undefined"){g=document.createElement("div");g.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;"+"padding: 0 !important; margin: 0 !important; border: 0 !important;"+"line-height: normal !important; visibility: hidden !important; white-space: pre!important;"}var o=kendo.Class.extend({init:function(e){this._cache=new i(1e3);this.options=t.extend({},a,e)},measure:function(e,t,i){if(i===void 0)i={};if(typeof e==="undefined"||e===null)return m();var n=p(t);var r=h(e+n);var a=this._cache.get(r);if(a)return a;var o=m();var s=i.box||g;var l=this._baselineMarker().cloneNode(false);for(var d in t){var u=t[d];if(typeof u!=="undefined")s.style[d]=u}var c=i.normalizeText!==false?f(e):String(e);s.textContent=c;s.appendChild(l);document.body.appendChild(s);if(c.length){o.width=s.offsetWidth-this.options.baselineMarkerSize;o.height=s.offsetHeight;o.baseline=l.offsetTop+this.options.baselineMarkerSize}if(o.width>0&&o.height>0)this._cache.put(r,o);s.parentNode.removeChild(s);return o},_baselineMarker:function(){var e=document.createElement("div");e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;";return e}});function e(e,t,i){return o.current.measure(e,t,i)}o.current=new o,kendo.deepExtend(kendo.util,{LRUCache:i,TextMetrics:o,measureText:e,objectKey:p,hashKey:h,normalizeText:f})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/kendo-drawing.min",["./util.min","kendo.color.min","../util/text-metrics.min"],function(){var m=window.kendo.jQuery;window.kendo=window.kendo||{};var g,_=kendo.drawing.util,c=_.extendStatic,o=kendo.Class,x=kendo.util,C,S=kendo.support.browser,I=_.createPromise,D=_.promiseAll,e=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.observers=function e(){this._observers=this._observers||[];return this._observers};t.prototype.addObserver=function e(t){if(!this._observers)this._observers=[t];else this._observers.push(t);return this};t.prototype.removeObserver=function e(t){var i=this.observers();var n=i.indexOf(t);if(n!==-1)i.splice(n,1);return this};t.prototype.trigger=function e(t,i){var n=this._observers;if(n&&!this._suspended)for(var r=0;r<n.length;r++){var a=n[r];if(a[t])a[t](i)}return this};t.prototype.optionsChange=function e(t){if(t===void 0)t={};t.element=this;this.trigger("optionsChange",t)};t.prototype.geometryChange=function e(){this.trigger("geometryChange",{element:this})};t.prototype.suspend=function e(){this._suspended=(this._suspended||0)+1;return this};t.prototype.resume=function e(){this._suspended=Math.max((this._suspended||0)-1,0);return this};t.prototype._observerField=function e(t,i){if(this[t])this[t].removeObserver(this);this[t]=i;i.addObserver(this)};return t}(o);function E(e,t){e.push.apply(e,t);return e}var A={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function K(e){var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var i="";while(e>0)if(e<t[0])t.shift();else{i+=A[t[0]];e-=t[0]}return i}var F="undefined";function p(e){return typeof e!==F}var $=1;function Y(){return"kdef"+$++}var Q=Math.PI/180,X=Number.MAX_VALUE,J=-Number.MAX_VALUE;function M(e){return e/Q}var s=String.fromCharCode;function Z(e){var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(55296<=n&&n<=56319){var r=n;var a=e.charCodeAt(++i);if(!isNaN(a))n=(r-55296)*1024+(a-56320)+65536}if(n<128)t+=s(n);else if(n<2048){t+=s(192|n>>>6);t+=s(128|n&63)}else if(n<65536){t+=s(224|n>>>12);t+=s(128|n>>>6&63);t+=s(128|n&63)}else if(n<1114111){t+=s(240|n>>>18);t+=s(128|n>>>12&63);t+=s(128|n>>>6&63);t+=s(128|n&63)}}return t}var ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function te(e){var t="";var i=0;var n=Z(e);while(i<n.length){var r=n.charCodeAt(i++);var a=n.charCodeAt(i++);var o=n.charCodeAt(i++);var s=r>>2;var l=(r&3)<<4|a>>4;var d=(a&15)<<2|o>>6;var u=o&63;if(isNaN(a))d=u=64;else if(isNaN(o))u=64;t=t+ee.charAt(s)+ee.charAt(l)+ee.charAt(d)+ee.charAt(u)}return t}function ie(e){if(p((e.x||{}).location))return{x:e.x.location,y:e.y.location};return{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function ne(e){if(e===void 0)e={};return e.touch?e.touch.initialTouch:e.target}function re(e){return e===""||e===null||e==="none"||e==="transparent"||!p(e)}function b(e){if(e)return e[e.length-1]}function ae(e,t,i){return Math.max(Math.min(e,i),t)}function oe(e,o){if(e.length<2)return e.slice();function a(e,t){var i=[],n=0,r=0,a=0;while(n<e.length&&r<t.length)if(o(e[n],t[r])<=0)i[a++]=e[n++];else i[a++]=t[r++];if(n<e.length)i.push.apply(i,e.slice(n));if(r<t.length)i.push.apply(i,t.slice(r));return i}return function e(t){if(t.length<=1)return t;var i=Math.floor(t.length/2);var n=t.slice(0,i);var r=t.slice(i);n=e(n);r=e(r);return a(n,r)}(e)}var se=Date.now||function(){return(new Date).getTime()};function z(e){return e*Q}function le(e){if(e)return Math.pow(10,e);return 1}function R(e,t){var i=le(t);return Math.round(e*i)/i}function de(e,t){return p(e)?e:t}function ue(e,t){for(var i in t){var n=i.trim().split(" ");for(var r=0;r<n.length;r++)e.addEventListener(n[r],t[i],false)}}function ce(e){var t=e.getBoundingClientRect();var i=document.documentElement;return{top:t.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}function fe(e,t){var i={};var n=window.getComputedStyle(e)||{};var r=Array.isArray(t)?t:[t];for(var a=0;a<r.length;a++){var o=r[a];i[o]=n[o]}return i}function pe(e){if(isNaN(e))return e;return e+"px"}function he(e,t){if(t){var i=t.width;var n=t.height;if(p(i))e.style.width=pe(i);if(p(n))e.style.height=pe(n)}else{var r=fe(e,["width","height"]);return{width:parseInt(r.width,10),height:parseInt(r.height,10)}}}function me(e,t){if(t===void 0)t={};for(var i in t){var n=i.trim().split(" ");for(var r=0;r<n.length;r++)e.removeEventListener(n[r],t[i],false)}}function ge(e){var t=fe(e,["paddingLeft","paddingTop"]);var i=t.paddingLeft;var n=t.paddingTop;return{top:parseFloat(n),left:parseFloat(i)}}var a=function(o){function d(e,t,i,n,r,a){if(e===void 0)e=0;if(t===void 0)t=0;if(i===void 0)i=0;if(n===void 0)n=0;if(r===void 0)r=0;if(a===void 0)a=0;o.call(this);this.a=e;this.b=t;this.c=i;this.d=n;this.e=r;this.f=a}c(d,o);d.prototype=Object.create(o&&o.prototype);d.prototype.constructor=d;d.fn=d.prototype;d.fn.init=d.fn.constructor;d.prototype.multiplyCopy=function e(t){return new d(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)};d.prototype.invert=function e(){var t=this;var i=t.a;var n=t.b;var r=t.c;var a=t.d;var o=t.e;var s=t.f;var l=i*a-n*r;if(l===0)return null;return new d(a/l,-n/l,-r/l,i/l,(r*s-a*o)/l,(n*o-i*s)/l)};d.prototype.clone=function e(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)};d.prototype.equals=function e(t){if(!t)return false;return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f};d.prototype.round=function e(t){this.a=R(this.a,t);this.b=R(this.b,t);this.c=R(this.c,t);this.d=R(this.d,t);this.e=R(this.e,t);this.f=R(this.f,t);return this};d.prototype.toArray=function e(t){var i=[this.a,this.b,this.c,this.d,this.e,this.f];if(p(t))for(var n=0;n<i.length;n++)i[n]=R(i[n],t);return i};d.prototype.toString=function e(t,i){if(i===void 0)i=",";return this.toArray(t).join(i)};d.translate=function e(t,i){return new d(1,0,0,1,t,i)};d.unit=function e(){return new d(1,0,0,1,0,0)};d.rotate=function e(t,i,n){var r=new d;r.a=Math.cos(z(t));r.b=Math.sin(z(t));r.c=-r.b;r.d=r.a;r.e=i-i*r.a+n*r.b||0;r.f=n-n*r.a-i*r.b||0;return r};d.scale=function e(t,i){return new d(t,0,0,i,0,0)};return d}(o),ve=(a.IDENTITY=a.unit(),/matrix\((.*)\)/);function _e(e){var t=e.match(ve);if(t===null||t.length!==2)return a.unit();var i=t[1].split(",").map(function(e){return parseFloat(e)});return new(Function.prototype.bind.apply(a,[null].concat(i)))}function be(e){var t=getComputedStyle(e).transform;if(t==="none")return a.unit();return _e(t)}function ke(e){if(!e)return a.unit();var t=be(e);var i=e.parentElement;while(i){var n=be(i);t=t.multiplyCopy(n);i=i.parentElement}t.b=t.c=t.e=t.f=0;return t}var we={append:E,arabicToRoman:K,createPromise:I,defined:p,definitionId:Y,deg:M,encodeBase64:te,eventCoordinates:ie,eventElement:ne,isTransparent:re,last:b,limitValue:ae,mergeSort:oe,now:se,promiseAll:D,rad:z,round:R,valueOrDefault:de,bindEvents:ue,elementOffset:ce,elementSize:he,elementStyles:fe,unbindEvents:me,elementPadding:ge,elementScale:ke,DEG_TO_RAD:Q,MAX_NUM:X,MIN_NUM:J},ye={}.toString,xe=function(a){function u(e,t){var i=this;if(t===void 0)t="";a.call(this);this.prefix=t;for(var n in e){var r=e[n];r=i._wrap(r,n);i[n]=r}}c(u,a);u.prototype=Object.create(a&&a.prototype);u.prototype.constructor=u;u.fn=u.prototype;u.fn.init=u.fn.constructor;u.prototype.get=function e(t){var i=t.split(".");var n=this;while(i.length&&n){var r=i.shift();n=n[r]}return n};u.prototype.set=function e(t,i){var n=this.get(t);if(n!==i){this._set(t,this._wrap(i,t));this.optionsChange({field:this.prefix+t,value:i})}};u.prototype._set=function e(t,i){var n=this;var r=t.indexOf(".")>=0;var a=this;var o=t;if(r){var s=o.split(".");var l=this.prefix;while(s.length>1){o=s.shift();l+=o+".";var d=a[o];if(!d){d=new u({},l);d.addObserver(n);a[o]=d}a=d}o=s[0]}a._clear(o);a[o]=i};u.prototype._clear=function e(t){var i=this[t];if(i&&i.removeObserver)i.removeObserver(this)};u.prototype._wrap=function e(t,i){var n=ye.call(t);var r=t;if(r!==null&&p(r)&&n==="[object Object]"){if(!(t instanceof u)&&!(t instanceof o))r=new u(r,this.prefix+i+".");r.addObserver(this)}return r};return u}(e);function Ce(t){return function(e){if(this[t]!==e){this[t]=e;this.geometryChange()}return this}}function Se(e){return function(){return this[e]}}function Te(e,t){for(var i=0;i<t.length;i++){var n=t[i];var r=n.charAt(0).toUpperCase()+n.substring(1,n.length);e["set"+r]=Ce(n);e["get"+r]=Se(n)}}var Ie=function(e,t){var i=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);Te(i.prototype,t);return i};function l(e){if(e&&typeof e.matrix==="function")return e.matrix();return e}var N=function(i){function o(e,t){i.call(this);this.x=e||0;this.y=t||0}c(o,i);o.prototype=Object.create(i&&i.prototype);o.prototype.constructor=o;o.fn=o.prototype;o.fn.init=o.fn.constructor;var e={ZERO:{}};o.prototype.equals=function e(t){return t&&t.x===this.x&&t.y===this.y};o.prototype.clone=function e(){return new o(this.x,this.y)};o.prototype.rotate=function e(t,i){var n=o.create(i)||o.ZERO;return this.transform(a.rotate(t,n.x,n.y))};o.prototype.translate=function e(t,i){this.x+=t;this.y+=i;this.geometryChange();return this};o.prototype.translateWith=function e(t){return this.translate(t.x,t.y)};o.prototype.move=function e(t,i){this.x=this.y=0;return this.translate(t,i)};o.prototype.scale=function e(t,i){if(i===void 0)i=t;this.x*=t;this.y*=i;this.geometryChange();return this};o.prototype.scaleCopy=function e(t,i){return this.clone().scale(t,i)};o.prototype.transform=function e(t){var i=l(t);var n=this;var r=n.x;var a=n.y;this.x=i.a*r+i.c*a+i.e;this.y=i.b*r+i.d*a+i.f;this.geometryChange();return this};o.prototype.transformCopy=function e(t){var i=this.clone();if(t)i.transform(t);return i};o.prototype.distanceTo=function e(t){var i=this.x-t.x;var n=this.y-t.y;return Math.sqrt(i*i+n*n)};o.prototype.round=function e(t){this.x=R(this.x,t);this.y=R(this.y,t);this.geometryChange();return this};o.prototype.toArray=function e(t){var i=p(t);var n=i?R(this.x,t):this.x;var r=i?R(this.y,t):this.y;return[n,r]};o.prototype.toString=function e(t,i){if(i===void 0)i=" ";var n=this;var r=n.x;var a=n.y;if(p(t)){r=R(r,t);a=R(a,t)}return r+i+a};o.create=function e(t,i){if(p(t)){if(t instanceof o)return t;else if(arguments.length===1&&t.length===2)return new o(t[0],t[1]);return new o(t,i)}};o.min=function e(){var t=arguments;var i=X;var n=X;for(var r=0;r<arguments.length;r++){var a=t[r];i=Math.min(a.x,i);n=Math.min(a.y,n)}return new o(i,n)};o.max=function e(){var t=arguments;var i=J;var n=J;for(var r=0;r<arguments.length;r++){var a=t[r];i=Math.max(a.x,i);n=Math.max(a.y,n)}return new o(i,n)};o.minPoint=function e(){return new o(J,J)};o.maxPoint=function e(){return new o(X,X)};e.ZERO.get=function(){return new o(0,0)};Object.defineProperties(o,e);return o}(Ie(e,["x","y"])),De=function(i){function n(e,t){i.call(this);this.width=e||0;this.height=t||0}c(n,i);n.prototype=Object.create(i&&i.prototype);n.prototype.constructor=n;n.fn=n.prototype;n.fn.init=n.fn.constructor;var e={ZERO:{}};n.prototype.equals=function e(t){return t&&t.width===this.width&&t.height===this.height};n.prototype.clone=function e(){return new n(this.width,this.height)};n.prototype.toArray=function e(t){var i=p(t);var n=i?R(this.width,t):this.width;var r=i?R(this.height,t):this.height;return[n,r]};n.create=function e(t,i){if(p(t)){if(t instanceof n)return t;else if(arguments.length===1&&t.length===2)return new n(t[0],t[1]);return new n(t,i)}};e.ZERO.get=function(){return new n(0,0)};Object.defineProperties(n,e);return n}(Ie(e,["width","height"])),H=function(n){function o(e,t,i){if(e===void 0)e=new N;if(t===void 0)t=new De;if(i===void 0)i=0;n.call(this);this.setOrigin(e);this.setSize(t);this.setCornerRadius(i)}c(o,n);o.prototype=Object.create(n&&n.prototype);o.prototype.constructor=o;o.fn=o.prototype;o.fn.init=o.fn.constructor;o.prototype.clone=function e(){return new o(this.origin.clone(),this.size.clone())};o.prototype.equals=function e(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)};o.prototype.setOrigin=function e(t){this._observerField("origin",N.create(t));this.geometryChange();return this};o.prototype.getOrigin=function e(){return this.origin};o.prototype.setCornerRadius=function e(t){this.cornerRadius=Array.isArray(t)?t:[t,t];this.geometryChange();return this};o.prototype.getCornerRadius=function e(){return this.cornerRadius};o.prototype.setSize=function e(t){this._observerField("size",De.create(t));this.geometryChange();return this};o.prototype.getSize=function e(){return this.size};o.prototype.width=function e(){return this.size.width};o.prototype.height=function e(){return this.size.height};o.prototype.topLeft=function e(){return this.origin.clone()};o.prototype.bottomRight=function e(){return this.origin.clone().translate(this.width(),this.height())};o.prototype.topRight=function e(){return this.origin.clone().translate(this.width(),0)};o.prototype.bottomLeft=function e(){return this.origin.clone().translate(0,this.height())};o.prototype.center=function e(){return this.origin.clone().translate(this.width()/2,this.height()/2)};o.prototype.bbox=function e(t){var i=this.topLeft().transformCopy(t);var n=this.topRight().transformCopy(t);var r=this.bottomRight().transformCopy(t);var a=this.bottomLeft().transformCopy(t);return o.fromPoints(i,n,r,a)};o.prototype.transformCopy=function e(t){return o.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))};o.prototype.expand=function e(t,i){if(i===void 0)i=t;this.size.width+=2*t;this.size.height+=2*i;this.origin.translate(-t,-i);return this};o.prototype.expandCopy=function e(t,i){return this.clone().expand(t,i)};o.prototype.containsPoint=function e(t){var i=this.origin;var n=this.bottomRight();return!(t.x<i.x||t.y<i.y||n.x<t.x||n.y<t.y)};o.prototype._isOnPath=function e(t,i){var n=this.expandCopy(i,i);var r=this.expandCopy(-i,-i);return n.containsPoint(t)&&!r.containsPoint(t)};o.fromPoints=function e(){var t=N.min.apply(null,arguments);var i=N.max.apply(null,arguments);var n=new De(i.x-t.x,i.y-t.y);return new o(t,n)};o.union=function e(t,i){return o.fromPoints(N.min(t.topLeft(),i.topLeft()),N.max(t.bottomRight(),i.bottomRight()))};o.intersect=function e(t,i){var n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};var r={left:i.topLeft().x,top:i.topLeft().y,right:i.bottomRight().x,bottom:i.bottomRight().y};if(n.left<=r.right&&r.left<=n.right&&n.top<=r.bottom&&r.top<=n.bottom)return o.fromPoints(new N(Math.max(n.left,r.left),Math.max(n.top,r.top)),new N(Math.min(n.right,r.right),Math.min(n.bottom,r.bottom)))};return o}(e),Ee=function(t){function i(e){if(e===void 0)e=a.unit();t.call(this);this._matrix=e}c(i,t);i.prototype=Object.create(t&&t.prototype);i.prototype.constructor=i;i.fn=i.prototype;i.fn.init=i.fn.constructor;i.prototype.clone=function e(){return new i(this._matrix.clone())};i.prototype.equals=function e(t){return t&&t._matrix.equals(this._matrix)};i.prototype.translate=function e(t,i){this._matrix=this._matrix.multiplyCopy(a.translate(t,i));this._optionsChange();return this};i.prototype.scale=function e(t,i,n){if(i===void 0)i=t;if(n===void 0)n=null;var r=n;if(r){r=N.create(r);this._matrix=this._matrix.multiplyCopy(a.translate(r.x,r.y))}this._matrix=this._matrix.multiplyCopy(a.scale(t,i));if(r)this._matrix=this._matrix.multiplyCopy(a.translate(-r.x,-r.y));this._optionsChange();return this};i.prototype.rotate=function e(t,i){var n=N.create(i)||N.ZERO;this._matrix=this._matrix.multiplyCopy(a.rotate(t,n.x,n.y));this._optionsChange();return this};i.prototype.multiply=function e(t){var i=l(t);this._matrix=this._matrix.multiplyCopy(i);this._optionsChange();return this};i.prototype.matrix=function e(t){if(t){this._matrix=t;this._optionsChange();return this}return this._matrix};i.prototype._optionsChange=function e(){this.optionsChange({field:"transform",value:this})};return i}(e);function T(e){if(e===null)return null;if(e instanceof Ee)return e;return new Ee(e)}var n=function(t){function e(e){t.call(this);this._initOptions(e)}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Rect"};e.prototype._initOptions=function e(t){if(t===void 0)t={};var i=t.clip;var n=t.transform;if(n)t.transform=T(n);if(i&&!i.id)i.id=Y();this.options=new xe(t);this.options.addObserver(this)};e.prototype.transform=function e(t){if(p(t))this.options.set("transform",T(t));else return this.options.get("transform")};e.prototype.parentTransform=function e(){var t=this;var i;while(t.parent){t=t.parent;var n=t.transform();if(n)i=n.matrix().multiplyCopy(i||a.unit())}if(i)return T(i)};e.prototype.currentTransform=function e(t){if(t===void 0)t=this.parentTransform();var i=this.transform();var n=l(i);var r=l(t);var a;if(n&&r)a=r.multiplyCopy(n);else a=n||r;if(a)return T(a)};e.prototype.visible=function e(t){if(p(t)){this.options.set("visible",t);return this}return this.options.get("visible")!==false};e.prototype.clip=function e(t){var i=this.options;if(p(t)){if(t&&!t.id)t.id=Y();i.set("clip",t);return this}return i.get("clip")};e.prototype.opacity=function e(t){if(p(t)){this.options.set("opacity",t);return this}return de(this.options.get("opacity"),1)};e.prototype.clippedBBox=function e(t){var i=this._clippedBBox(t);if(i){var n=this.clip();return n?H.intersect(i,n.bbox(t)):i}};e.prototype.containsPoint=function e(t,i){if(this.visible()){var n=this.currentTransform(i);var r=t;if(n)r=t.transformCopy(n.matrix().invert());return this._hasFill()&&this._containsPoint(r)||this._isOnPath&&this._hasStroke()&&this._isOnPath(r)}return false};e.prototype._hasFill=function e(){var t=this.options.fill;return t&&!re(t.color)};e.prototype._hasStroke=function e(){var t=this.options.stroke;return t&&t.width>0&&!re(t.color)};e.prototype._clippedBBox=function e(t){return this.bbox(t)};Object.defineProperties(e.prototype,i);return e}(e);function Ae(e,t,i,n){var r=0;var a=0;if(n){r=Math.atan2(n.c*i,n.a*t);if(n.b!==0)a=Math.atan2(n.d*i,n.b*t)}return{x:r,y:a}}var Fe=Math.PI/2,He=function(i){function t(e,t){if(e===void 0)e=new N;if(t===void 0)t=0;i.call(this);this.setCenter(e);this.setRadius(t)}c(t,i);t.prototype=Object.create(i&&i.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.setCenter=function e(t){this._observerField("center",N.create(t));this.geometryChange();return this};t.prototype.getCenter=function e(){return this.center};t.prototype.equals=function e(t){return t&&t.center.equals(this.center)&&t.radius===this.radius};t.prototype.clone=function e(){return new t(this.center.clone(),this.radius)};t.prototype.pointAt=function e(t){return this._pointAt(z(t))};t.prototype.bbox=function e(t){var i=this;var n=Ae(this.center,this.radius,this.radius,t);var r=N.maxPoint();var a=N.minPoint();for(var o=0;o<4;o++){var s=i._pointAt(n.x+o*Fe).transformCopy(t);var l=i._pointAt(n.y+o*Fe).transformCopy(t);var d=new N(s.x,l.y);r=N.min(r,d);a=N.max(a,d)}return H.fromPoints(r,a)};t.prototype._pointAt=function e(t){var i=this;var n=i.center;var r=i.radius;return new N(n.x+r*Math.cos(t),n.y+r*Math.sin(t))};t.prototype.containsPoint=function e(t){var i=this;var n=i.center;var r=i.radius;var a=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)<=Math.pow(r,2);return a};t.prototype._isOnPath=function e(t,i){var n=this;var r=n.center;var a=n.radius;var o=r.distanceTo(t);return a-i<=o&&o<=a+i};return t}(Ie(e,["radius"])),Pe="Gradient",Oe=function(e){return function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.fill=function e(t,i){var n=this.options;if(p(t)){if(t&&t.nodeType!==Pe){var r={color:t};if(p(i))r.opacity=i;n.set("fill",r)}else n.set("fill",t);return this}return n.get("fill")};t.prototype.stroke=function e(t,i,n){if(p(t)){this.options.set("stroke.color",t);if(p(i))this.options.set("stroke.width",i);if(p(n))this.options.set("stroke.opacity",n);return this}return this.options.get("stroke")};return t}(e)},Me=a.IDENTITY.toString(),ze=function(e){return function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.bbox=function e(t){var i=l(this.currentTransform(t));var n=i?i.toString():Me;var e;if(this._bboxCache&&this._matrixHash===n)e=this._bboxCache.clone();else{e=this._bbox(i);this._bboxCache=e?e.clone():null;this._matrixHash=n}var r=this.options.get("stroke.width");if(r&&e)e.expand(r/2);return e};t.prototype.geometryChange=function e(){delete this._bboxCache;this.trigger("geometryChange",{element:this})};return t}(e)};function Re(e){var t="_"+e;return function(e){if(p(e)){this._observerField(t,e);this.geometryChange();return this}return this[t]}}function Ne(e,t){for(var i=0;i<t.length;i++)e[t[i]]=Re(t[i])}var Le=function(e,t){if(t===void 0)t=["geometry"];var i=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);Ne(i.prototype,t);return i},Be="#000",Ve=function(i){function e(e,t){if(e===void 0)e=new He;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!p(this.options.stroke))this.stroke(Be)}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Circle"};e.prototype.rawBBox=function e(){return this._geometry.bbox()};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype._containsPoint=function e(t){return this.geometry().containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(Oe(ze(Le(n)))),v=10;function Ue(e,t,i){if(i===void 0)i=v;return R(Math.abs(e-t),i)===0}function We(e,t,i){return e<t||Ue(e,t,i)}function je(e,t,i,n){var r=t.x-e.x;var a=n.x-i.x;var o=t.y-e.y;var s=n.y-i.y;var l=e.x-i.x;var d=e.y-i.y;var u=r*s-a*o;var c=(r*d-o*l)/u;var f=(a*d-s*l)/u;if(c>=0&&c<=1&&f>=0&&f<=1)return new N(e.x+f*r,e.y+f*o)}var qe=45,Ge=Math.pow,Ke,$e=function(i){function d(e,t){if(e===void 0)e=new N;if(t===void 0)t={};i.call(this);this.setCenter(e);this.radiusX=t.radiusX;this.radiusY=t.radiusY||t.radiusX;this.startAngle=t.startAngle;this.endAngle=t.endAngle;this.anticlockwise=t.anticlockwise||false;this.xRotation=t.xRotation}c(d,i);d.prototype=Object.create(i&&i.prototype);d.prototype.constructor=d;d.fn=d.prototype;d.fn.init=d.fn.constructor;d.prototype.clone=function e(){return new d(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})};d.prototype.setCenter=function e(t){this._observerField("center",N.create(t));this.geometryChange();return this};d.prototype.getCenter=function e(){return this.center};d.prototype.pointAt=function e(t){var i=this.center;var n=z(t);return new N(i.x+this.radiusX*Math.cos(n),i.y+this.radiusY*Math.sin(n))};d.prototype.curvePoints=function e(){var t=this;var i=this.startAngle;var n=this.anticlockwise?-1:1;var e=[this.pointAt(i)];var r=this._arcInterval();var a=r.endAngle-r.startAngle;var o=Math.ceil(a/qe);var s=a/o;var l=i;var d;if(this.xRotation)d=T().rotate(this.xRotation,this.center);for(var u=1;u<=o;u++){var c=l+n*s;var f=t._intervalCurvePoints(l,c,d);e.push(f.cp1,f.cp2,f.p2);l=c}return e};d.prototype.bbox=function e(t){var i=this;var n=this._arcInterval();var r=n.startAngle;var a=n.endAngle;var o=Ae(this.center,this.radiusX,this.radiusY,t);var s=M(o.x);var l=M(o.y);var d=this.pointAt(a).transformCopy(t);var u=Xe(s,r);var c=Xe(l,r);var f=this.pointAt(r).transformCopy(t);var p=N.min(f,d);var h=N.max(f,d);while(u<a||c<a){var m=void 0;if(u<a){m=i.pointAt(u).transformCopy(t);u+=90}var g=void 0;if(c<a){g=i.pointAt(c).transformCopy(t);c+=90}f=new N(m.x,g.y);p=N.min(p,f);h=N.max(h,f)}return H.fromPoints(p,h)};d.prototype._arcInterval=function e(){var t=this;var i=t.startAngle;var n=t.endAngle;var r=t.anticlockwise;if(r){var a=i;i=n;n=a}if(i>n||r&&i===n)n+=360;return{startAngle:i,endAngle:n}};d.prototype._intervalCurvePoints=function e(t,i,n){var r=this.pointAt(t);var a=this.pointAt(i);var o=this._derivativeAt(t);var s=this._derivativeAt(i);var l=(z(i)-z(t))/3;var d=new N(r.x+l*o.x,r.y+l*o.y);var u=new N(a.x-l*s.x,a.y-l*s.y);if(n){r.transform(n);a.transform(n);d.transform(n);u.transform(n)}return{p1:r,cp1:d,cp2:u,p2:a}};d.prototype._derivativeAt=function e(t){var i=z(t);return new N(-this.radiusX*Math.sin(i),this.radiusY*Math.cos(i))};d.prototype.containsPoint=function e(t){var i=this._arcInterval();var n=i.endAngle-i.startAngle;var r=this;var a=r.center;var o=r.radiusX;var s=r.radiusY;var l=a.distanceTo(t);var d=Math.atan2(t.y-a.y,t.x-a.x);var u=o*s/Math.sqrt(Ge(o,2)*Ge(Math.sin(d),2)+Ge(s,2)*Ge(Math.cos(d),2));var c=this.pointAt(this.startAngle).round(v);var f=this.pointAt(this.endAngle).round(v);var p=je(a,t.round(v),c,f);var e;if(n<180)e=p&&We(a.distanceTo(p),l)&&We(l,u);else{var h=Ye(a.x,a.y,o,s,t.x,t.y);if(h!==360)h=(360+h)%360;var m=i.startAngle<=h&&h<=i.endAngle;e=m&&We(l,u)||!m&&(!p||p.equals(t))}return e};d.prototype._isOnPath=function e(t,i){var n=this._arcInterval();var r=this.center;var a=Ye(r.x,r.y,this.radiusX,this.radiusY,t.x,t.y);if(a!==360)a=(360+a)%360;var o=n.startAngle<=a&&a<=n.endAngle;return o&&this.pointAt(a).distanceTo(t)<=i};d.fromPoints=function e(t,i,n,r,a,o,s){var l=Qe({x1:t.x,y1:t.y,x2:i.x,y2:i.y,rx:n,ry:r,largeArc:a,swipe:o,rotation:s});return new d(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:o===0})};return d}(Ie(e,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]));function Ye(e,t,i,n,r,a){var o=R((r-e)/i,3);var s=R((a-t)/n,3);return R(M(Math.atan2(s,o)))}function Qe(e){var t=e.x1;var i=e.y1;var n=e.x2;var r=e.y2;var a=e.rx;var o=e.ry;var s=e.largeArc;var l=e.swipe;var d=e.rotation;if(d===void 0)d=0;var u=z(d);var c=Math.cos(u);var f=Math.sin(u);var p=c*(t-n)/2+f*(i-r)/2;var h=-f*(t-n)/2+c*(i-r)/2;var m=s!==l?1:-1;var g=Math.pow(p,2);var v=Math.pow(h,2);var _=Math.pow(a,2);var b=Math.pow(o,2);var k=g/_+v/b;if(k>1){k=Math.sqrt(g/_+v/b);a=k*a;_=Math.pow(a,2);o=k*o;b=Math.pow(o,2)}var w=m*Math.sqrt((_*b-_*v-b*g)/(_*v+b*g));if(isNaN(w))w=0;var y=w*(a*h)/o;var x=-w*(o*p)/a;var C=c*y-f*x+(t+n)/2;var S=f*y+c*x+(i+r)/2;var T=(p-y)/a;var I=(h-x)/o;var D=-(p+y)/a;var E=-(h+x)/o;var A=(I>=0?1:-1)*M(Math.acos(T/Math.sqrt(T*T+I*I)));var F=R((T*D+I*E)/(Math.sqrt(T*T+I*I)*Math.sqrt(D*D+E*E)),10);var H=(T*E-I*D>=0?1:-1)*M(Math.acos(F));if(!l&&H>0)H-=360;if(l&&H<0)H+=360;var P=A+H;var O=P>=0?1:-1;P=Math.abs(P)%360*O;return{center:new N(C,S),startAngle:A,endAngle:P,radiusX:a,radiusY:o,xRotation:d}}function Xe(e,t){var i=e;while(i<t)i+=90;return i}var Je=[].push,Ze=[].pop,et=[].splice,tt=[].shift,it=[].slice,nt=[].unshift,rt=function(t){function e(e){if(e===void 0)e=[];t.call(this);this.length=0;this._splice(0,e.length,e)}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.elements=function e(t){if(t){this._splice(0,this.length,t);this._change();return this}return this.slice(0)};e.prototype.push=function e(){var t=arguments;var i=Je.apply(this,t);this._add(t);return i};e.prototype.slice=function e(){return it.call(this)};e.prototype.pop=function e(){var t=this.length;var i=Ze.apply(this);if(t)this._remove([i]);return i};e.prototype.splice=function e(t,i){var n=it.call(arguments,2);var r=this._splice(t,i,n);this._change();return r};e.prototype.shift=function e(){var t=this.length;var i=tt.apply(this);if(t)this._remove([i]);return i};e.prototype.unshift=function e(){var t=arguments;var i=nt.apply(this,t);this._add(t);return i};e.prototype.indexOf=function e(t){var i=this;var n=this.length;for(var r=0;r<n;r++)if(i[r]===t)return r;return-1};e.prototype._splice=function e(t,i,n){var r=et.apply(this,[t,i].concat(n));this._clearObserver(r);this._setObserver(n);return r};e.prototype._add=function e(t){this._setObserver(t);this._change()};e.prototype._remove=function e(t){this._clearObserver(t);this._change()};e.prototype._setObserver=function e(t){var i=this;for(var n=0;n<t.length;n++)t[n].addObserver(i)};e.prototype._clearObserver=function e(t){var i=this;for(var n=0;n<t.length;n++)t[n].removeObserver(i)};e.prototype._change=function e(){};return e}(e),at=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._change=function e(){this.geometryChange()};return t}(rt);function ot(e,t,i){var n=M(Math.atan2(t.y-e.y,t.x-e.x));var r=i.transformCopy(T().rotate(-n,e));return r.x<e.x}function st(e,t,i){var n=1-e;return Math.pow(n,3)*i[0][t]+3*Math.pow(n,2)*e*i[1][t]+3*Math.pow(e,2)*n*i[2][t]+Math.pow(e,3)*i[3][t]}function lt(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var dt=function(i){function a(e,t){if(e===void 0)e=0;if(t===void 0)t=0;i.call(this);this.real=e;this.img=t}c(a,i);a.prototype=Object.create(i&&i.prototype);a.prototype.constructor=a;a.fn=a.prototype;a.fn.init=a.fn.constructor;a.prototype.add=function e(t){return new a(R(this.real+t.real,v),R(this.img+t.img,v))};a.prototype.addConstant=function e(t){return new a(this.real+t,this.img)};a.prototype.negate=function e(){return new a(-this.real,-this.img)};a.prototype.multiply=function e(t){return new a(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)};a.prototype.multiplyConstant=function e(t){return new a(this.real*t,this.img*t)};a.prototype.nthRoot=function e(t){var i=Math.atan2(this.img,this.real);var n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2));var r=Math.pow(n,1/t);return new a(r*Math.cos(i/t),r*Math.sin(i/t))};a.prototype.equals=function e(t){return this.real===t.real&&this.img===t.img};a.prototype.isReal=function e(){return this.img===0};return a}(o);function ut(e){return e<0?-1:1}function ct(e,t,i){var n=Math.sqrt(Math.pow(t,2)-4*e*i);return[(-t+n)/(2*e),(-t-n)/(2*e)]}function ft(e,t,i,n){if(e===0)return ct(t,i,n);var r=(3*e*i-Math.pow(t,2))/(3*Math.pow(e,2));var a=(2*Math.pow(t,3)-9*e*t*i+27*Math.pow(e,2)*n)/(27*Math.pow(e,3));var o=Math.pow(r/3,3)+Math.pow(a/2,2);var s=new dt(0,1);var l=-t/(3*e);var d,u,c,f,p,h,m;if(o<0){d=new dt(-a/2,Math.sqrt(-o)).nthRoot(3);u=new dt(-a/2,-Math.sqrt(-o)).nthRoot(3)}else{d=-a/2+Math.sqrt(o);d=new dt(ut(d)*Math.pow(Math.abs(d),1/3));u=-a/2-Math.sqrt(o);u=new dt(ut(u)*Math.pow(Math.abs(u),1/3))}c=d.add(u);h=d.add(u).multiplyConstant(-1/2);m=d.add(u.negate()).multiplyConstant(Math.sqrt(3)/2);f=h.add(s.multiply(m));p=h.add(s.negate().multiply(m));var g=[];if(c.isReal())g.push(R(c.real+l,v));if(f.isReal())g.push(R(f.real+l,v));if(p.isReal())g.push(R(p.real+l,v));return g}function pt(e,t,i,n,r){var a=lt(e,n);var o=ft(a[0],a[1],a[2],a[3]-t[n]);var s;for(var l=0;l<o.length;l++)if(0<=o[l]&&o[l]<=1){s=st(o[l],i,e);if(Math.abs(s-t[i])<=r)return true}}function ht(e,t,i){var n=lt(e,"x");var r=ft(n[0],n[1],n[2],n[3]-t.x);var a,o;var s=0;for(var l=0;l<r.length;l++){a=st(r[l],"y",e);o=Ue(a,t.y)||a>t.y;if(o&&((r[l]===0||r[l]===1)&&i.bottomRight().x>t.x||0<r[l]&&r[l]<1))s++}return s}function mt(e,t,i){var n;if(e.x!==t.x){var r=Math.min(e.x,t.x);var a=Math.max(e.x,t.x);var o=Math.min(e.y,t.y);var s=Math.max(e.y,t.y);var l=r<=i.x&&i.x<a;if(o===s)n=i.y<=o&&l;else n=l&&(s-o)*((e.x-t.x)*(e.y-t.y)>0?i.x-r:a-i.x)/(a-r)+o-i.y>=0}return n?1:0}function gt(e){var t="_"+e;return function(e){if(p(e)){this._observerField(t,N.create(e));this.geometryChange();return this}return this[t]}}function vt(e,t){for(var i=0;i<t.length;i++)e[t[i]]=gt(t[i])}var _t=function(e,t){var i=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);vt(i.prototype,t);return i},bt,k=function(n){function e(e,t,i){n.call(this);this.anchor(e||new N);this.controlIn(t);this.controlOut(i)}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.bboxTo=function e(t,i){var n=this.anchor().transformCopy(i);var r=t.anchor().transformCopy(i);var a;if(this.controlOut()&&t.controlIn())a=this._curveBoundingBox(n,this.controlOut().transformCopy(i),t.controlIn().transformCopy(i),r);else a=this._lineBoundingBox(n,r);return a};e.prototype._lineBoundingBox=function e(t,i){return H.fromPoints(t,i)};e.prototype._curveBoundingBox=function e(t,i,n,r){var a=[t,i,n,r];var o=this._curveExtremesFor(a,"x");var s=this._curveExtremesFor(a,"y");var l=kt([o.min,o.max,t.x,r.x]);var d=kt([s.min,s.max,t.y,r.y]);return H.fromPoints(new N(l.min,d.min),new N(l.max,d.max))};e.prototype._curveExtremesFor=function e(t,i){var n=this._curveExtremes(t[0][i],t[1][i],t[2][i],t[3][i]);return{min:st(n.min,i,t),max:st(n.max,i,t)}};e.prototype._curveExtremes=function e(t,i,n,r){var a=t-3*i+3*n-r;var o=-2*(t-2*i+n);var s=t-i;var l=Math.sqrt(o*o-4*a*s);var d=0;var u=1;if(a===0){if(o!==0)d=u=-s/o}else if(!isNaN(l)){d=(-o+l)/(2*a);u=(-o-l)/(2*a)}var c=Math.max(Math.min(d,u),0);if(c<0||c>1)c=0;var f=Math.min(Math.max(d,u),1);if(f>1||f<0)f=1;return{min:c,max:f}};e.prototype._intersectionsTo=function e(t,i){var n;if(this.controlOut()&&t.controlIn())n=ht([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],i,this.bboxTo(t));else n=mt(this.anchor(),t.anchor(),i);return n};e.prototype._isOnCurveTo=function e(t,i,n,r){var a=this.bboxTo(t).expand(n,n);if(a.containsPoint(i)){var o=this.anchor();var s=this.controlOut();var l=t.controlIn();var d=t.anchor();if(r==="start"&&o.distanceTo(i)<=n)return!ot(o,s,i);else if(r==="end"&&d.distanceTo(i)<=n)return!ot(d,l,i);var u=[o,s,l,d];if(pt(u,i,"x","y",n)||pt(u,i,"y","x",n))return true;var c=T().rotate(45,i);var f=[o.transformCopy(c),s.transformCopy(c),l.transformCopy(c),d.transformCopy(c)];return pt(f,i,"x","y",n)||pt(f,i,"y","x",n)}};e.prototype._isOnLineTo=function e(t,i,n){var r=this.anchor();var a=t.anchor();var o=M(Math.atan2(a.y-r.y,a.x-r.x));var s=new H([r.x,r.y-n/2],[r.distanceTo(a),n]);return s.containsPoint(i.transformCopy(T().rotate(-o,r)))};e.prototype._isOnPathTo=function e(t,i,n,r){var a;if(this.controlOut()&&t.controlIn())a=this._isOnCurveTo(t,i,n/2,r);else a=this._isOnLineTo(t,i,n);return a};return e}(_t(e,["anchor","controlIn","controlOut"]));function kt(e){var t=e.length;var i=X;var n=J;for(var r=0;r<t;r++){n=Math.max(n,e[r]);i=Math.min(i,e[r])}return{min:i,max:n}}var wt={Circle:He,Arc:$e,Rect:H,Point:N,Segment:k,Matrix:a,Size:De,toMatrix:l,Transformation:Ee,transform:T},yt=.333,xt=.01,w="x",y="y";function Ct(e,t){var i=e.slice(0);var n=[];var r=i.length;if(r>2){St(0,i);r=i.length}if(r<2||r===2&&i[0].equals(i[1]))return n;var a=i[0];var o=i[1];var s=i[2];n.push(new k(a));while(a.equals(i[r-1])){t=true;i.pop();r--}if(r===2){var l=Ft(a,o,w,y);b(n).controlOut(Pt(l,a,o,w,y));n.push(new k(o,Ot(l,a,o,w,y)));return n}var d,u;if(t){a=i[r-1];o=i[0];s=i[1];var c=Et(a,o,s);d=c[1];u=c[0]}else{var f=Ft(a,o,w,y);d=Pt(f,a,o,w,y)}var p=d;for(var h=0;h<=r-3;h++){St(h,i);r=i.length;if(h+3<=r){a=i[h];o=i[h+1];s=i[h+2];var m=Et(a,o,s);b(n).controlOut(p);p=m[1];var g=m[0];n.push(new k(o,g))}}if(t){a=i[r-2];o=i[r-1];s=i[0];var v=Et(a,o,s);b(n).controlOut(p);n.push(new k(o,v[0]));b(n).controlOut(v[1]);n.push(new k(s,u))}else{var _=Ft(o,s,w,y);b(n).controlOut(p);n.push(new k(s,Ot(_,o,s,w,y)))}return n}function St(e,t){while(t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2])))t.splice(e+1,1)}function Tt(e,t,i){var n=false;if(e.x===t.x)n=true;else if(t.x===i.x){if(t.y<i.y&&e.y<=t.y||i.y<t.y&&t.y<=e.y)n=true}else{var r=Dt(e,t);var a=zt(r,i.x);if(!(e.y<=t.y&&i.y<=a)&&!(t.y<=e.y&&i.y>=a))n=true}return n}function It(e,t,i){var n=Dt(e,t);var r=zt(n,i.x);return e.x===t.x&&t.x===i.x||R(r,1)===R(i.y,1)}function Dt(e,t){var i=(t.y-e.y)/(t.x-e.x);var n=e.y-i*e.x;return[n,i]}function Et(e,t,i){var n=w;var r=y;var a=false;var o=false;var s;if(It(e,t,i))s=Ft(e,t,w,y);else{var l={x:Ht(e,t,i,w),y:Ht(e,t,i,y)};if(l.x&&l.y){s=Ft(e,i,w,y);a=true}else{if(Tt(e,t,i)){n=y;r=w}if(l[n])s=0;else{var d;if(i[r]<e[r]&&e[r]<=t[r]||e[r]<i[r]&&t[r]<=e[r])d=Rt((i[r]-e[r])*(t[n]-e[n]));else d=-Rt((i[n]-e[n])*(t[r]-e[r]));s=xt*d;o=true}}}var u=Ot(s,e,t,n,r);if(o){var c=n;n=r;r=c}var f=Pt(s,t,i,n,r);if(a){At(e,t,u,s);At(t,i,f,s)}return[u,f]}function At(e,t,i,n){if(e.y<t.y){if(t.y<i.y){i.x=e.x+(t.y-e.y)/n;i.y=t.y}else if(i.y<e.y){i.x=t.x-(t.y-e.y)/n;i.y=e.y}}else if(i.y<t.y){i.x=e.x-(e.y-t.y)/n;i.y=t.y}else if(e.y<i.y){i.x=t.x+(e.y-t.y)/n;i.y=e.y}}function Ft(e,t,i,n){var r=t[i]-e[i];var a=t[n]-e[n];var o;if(r===0)o=0;else o=a/r;return o}function Ht(e,t,i,n){return i[n]>t[n]&&t[n]>e[n]||i[n]<t[n]&&t[n]<e[n]}function Pt(e,t,i,n,r){var a=t[n];var o=i[n];var s=(o-a)*yt;return Mt(a+s,t[r]+s*e,n,r)}function Ot(e,t,i,n,r){var a=t[n];var o=i[n];var s=(o-a)*yt;return Mt(o-s,i[r]-s*e,n,r)}function Mt(e,t,i,n){var r=new N;r[i]=e;r[n]=t;return r}function zt(e,t){var i=e.length;var n=0;for(var r=0;r<i;r++)n+=Math.pow(t,r)*e[r];return n}function Rt(e){return e<=0?-1:1}var Nt={l:function(e,t){var i=t.parameters;var n=t.position;for(var r=0;r<i.length;r+=2){var a=new N(i[r],i[r+1]);if(t.isRelative)a.translateWith(n);e.lineTo(a.x,a.y);n.x=a.x;n.y=a.y}},c:function(e,t){var i=t.parameters;var n=t.position;for(var r=0;r<i.length;r+=6){var a=new N(i[r],i[r+1]);var o=new N(i[r+2],i[r+3]);var s=new N(i[r+4],i[r+5]);if(t.isRelative){o.translateWith(n);a.translateWith(n);s.translateWith(n)}e.curveTo(a,o,s);n.x=s.x;n.y=s.y}},v:function(e,t){var i=t.isRelative?0:t.position.x;Lt(t.parameters,true,i);this.l(e,t)},h:function(e,t){var i=t.isRelative?0:t.position.y;Lt(t.parameters,false,i);this.l(e,t)},a:function(e,t){var i=t.parameters;var n=t.position;for(var r=0;r<i.length;r+=7){var a=i[r];var o=i[r+1];var s=i[r+2];var l=i[r+3];var d=i[r+4];var u=new N(i[r+5],i[r+6]);if(t.isRelative)u.translateWith(n);if(n.x!==u.x||n.y!==u.y){e.arcTo(u,a,o,l,d,s);n.x=u.x;n.y=u.y}}},s:function(e,t){var i=t.parameters;var n=t.position;var r=t.previousCommand;var a;if(r==="s"||r==="c")a=b(b(e.paths).segments).controlIn();for(var o=0;o<i.length;o+=4){var s=new N(i[o],i[o+1]);var l=new N(i[o+2],i[o+3]);var d=void 0;if(t.isRelative){s.translateWith(n);l.translateWith(n)}if(a)d=Bt(a,n);else d=n.clone();a=s;e.curveTo(d,s,l);n.x=l.x;n.y=l.y}},q:function(e,t){var i=t.parameters;var n=t.position;for(var r=0;r<i.length;r+=4){var a=new N(i[r],i[r+1]);var o=new N(i[r+2],i[r+3]);if(t.isRelative){a.translateWith(n);o.translateWith(n)}var s=Ut(n,a,o);e.curveTo(s.controlOut,s.controlIn,o);n.x=o.x;n.y=o.y}},t:function(e,t){var i=t.parameters;var n=t.position;var r=t.previousCommand;var a;if(r==="q"||r==="t"){var o=b(b(e.paths).segments);a=o.controlIn().clone().translateWith(n.scaleCopy(-1/3)).scale(3/2)}for(var s=0;s<i.length;s+=2){var l=new N(i[s],i[s+1]);if(t.isRelative)l.translateWith(n);if(a)a=Bt(a,n);else a=n.clone();var d=Ut(n,a,l);e.curveTo(d.controlOut,d.controlIn,l);n.x=l.x;n.y=l.y}}};function Lt(e,t,i){var n=t?0:1;for(var r=0;r<e.length;r+=2)e.splice(r+n,0,i)}function Bt(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}var Vt=1/3;function Ut(e,t,i){var n=t.clone().scale(2/3);return{controlOut:n.clone().translateWith(e.scaleCopy(Vt)),controlIn:n.translateWith(i.scaleCopy(Vt))}}var Wt=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,jt=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,qt="m",Gt="z";function Kt(e){var i=[];e.replace(jt,function(e,t){i.push(parseFloat(t))});return i}function $t(s,e){var l=new N;var d;e.replace(Wt,function(e,t,i,n){var r=t.toLowerCase();var a=r===t;var o=Kt(i.trim());if(r===qt){if(a){l.x+=o[0];l.y+=o[1]}else{l.x=o[0];l.y=o[1]}s.moveTo(l.x,l.y);if(o.length>2){r="l";o.splice(0,2)}}if(Nt[r]){Nt[r](s,{parameters:o,position:l,isRelative:a,previousCommand:d});if(n&&n.toLowerCase()===Gt)s.close()}else if(r!==qt)throw new Error("Error while parsing SVG path. Unsupported command: "+r);d=r});return s}function Yt(e,t,i){var n;for(var r=0;r<e.length;r++){var a=e[r];if(a.visible()){var o=t?a.bbox(i):a.rawBBox();if(o)if(n)n=H.union(n,o);else n=o}}return n}function Qt(e,t){var i;for(var n=0;n<e.length;n++){var r=e[n];if(r.visible()){var a=r.clippedBBox(t);if(a)if(i)i=H.union(i,a);else i=a}}return i}var Xt=" ",Jt=function(i){return function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];return e.map(function(e){return e.toString(i)}).join(Xt)}},Zt=function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"},P=function(t){function f(e){t.call(this,e);this.segments=new at;this.segments.addObserver(this);if(!p(this.options.stroke)){this.stroke("#000");if(!p(this.options.stroke.lineJoin))this.options.set("stroke.lineJoin","miter")}}c(f,t);f.prototype=Object.create(t&&t.prototype);f.prototype.constructor=f;f.fn=f.prototype;f.fn.init=f.fn.constructor;var e={nodeType:{}};e.nodeType.get=function(){return"Path"};f.prototype.moveTo=function e(t,i){this.suspend();this.segments.elements([]);this.resume();this.lineTo(t,i);return this};f.prototype.lineTo=function e(t,i){var n=p(i)?new N(t,i):t;var r=new k(n);this.segments.push(r);return this};f.prototype.curveTo=function e(t,i,n){if(this.segments.length>0){var r=b(this.segments);var a=new k(n,i);this.suspend();r.controlOut(t);this.resume();this.segments.push(a)}return this};f.prototype.arc=function e(t,i,n,r,a){if(this.segments.length>0){var o=b(this.segments);var s=o.anchor();var l=z(t);var d=new N(s.x-n*Math.cos(l),s.y-r*Math.sin(l));var e=new $e(d,{startAngle:t,endAngle:i,radiusX:n,radiusY:r,anticlockwise:a});this._addArcSegments(e)}return this};f.prototype.arcTo=function e(t,i,n,r,a,o){if(this.segments.length>0){var s=b(this.segments);var l=s.anchor();var d=$e.fromPoints(l,N.create(t),i,n,r,a,o);this._addArcSegments(d)}return this};f.prototype._addArcSegments=function e(t){var i=this;this.suspend();var n=t.curvePoints();for(var r=1;r<n.length;r+=3)i.curveTo(n[r],n[r+1],n[r+2]);this.resume();this.geometryChange()};f.prototype.close=function e(){this.options.closed=true;this.geometryChange();return this};f.prototype.rawBBox=function e(){return this._bbox()};f.prototype.toString=function e(t){var i="";var n=this.segments;var r=n.length;if(r>0){var a=[];var o=Jt(t);var s;for(var l=1;l<r;l++){var d=Zt(n[l-1],n[l]);if(d!==s){s=d;a.push(d)}if(d==="L")a.push(o(n[l].anchor()));else a.push(o(n[l-1].controlOut(),n[l].controlIn(),n[l].anchor()))}i="M"+o(n[0].anchor())+Xt+a.join(Xt);if(this.options.closed)i+="Z"}return i};f.prototype._containsPoint=function e(t){var i=this.segments;var n=i.length;var r=0;var a,o;for(var s=1;s<n;s++){a=i[s-1];o=i[s];r+=a._intersectionsTo(o,t)}if(this.options.closed||!i[0].anchor().equals(i[n-1].anchor()))r+=mt(i[0].anchor(),i[n-1].anchor(),t);return r%2!==0};f.prototype._isOnPath=function e(t,i){var n=this.segments;var r=n.length;var a=i||this.options.stroke.width;if(r>1){if(n[0]._isOnPathTo(n[1],t,a,"start"))return true;for(var o=2;o<=r-2;o++)if(n[o-1]._isOnPathTo(n[o],t,a))return true;if(n[r-2]._isOnPathTo(n[r-1],t,a,"end"))return true}return false};f.prototype._bbox=function e(t){var i=this.segments;var n=i.length;var r;if(n===1){var a=i[0].anchor().transformCopy(t);r=new H(a,De.ZERO)}else if(n>0)for(var o=1;o<n;o++){var s=i[o-1].bboxTo(i[o],t);if(r)r=H.union(r,s);else r=s}return r};f.parse=function e(t,i){return ei.parse(t,i)};f.fromRect=function e(t,i){var n=new f(i);var r=t.cornerRadius;var a=r[0];var o=r[1];if(a===0&&o===0)n.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{var s=t.origin;var l=s.x;var d=s.y;var u=t.width();var c=t.height();a=ae(a,0,u/2);o=ae(o,0,c/2);n.moveTo(l+a,d).lineTo(l+u-a,d).arcTo([l+u,d+o],a,o,false).lineTo(l+u,d+c-o).arcTo([l+u-a,d+c],a,o,false).lineTo(l+a,d+c).arcTo([l,d+c-o],a,o,false).lineTo(l,d+o).arcTo([l+a,d],a,o,false)}return n};f.fromPoints=function e(t,i){if(t){var n=new f(i);for(var r=0;r<t.length;r++){var a=N.create(t[r]);if(a)if(r===0)n.moveTo(a);else n.lineTo(a)}return n}};f.curveFromPoints=function e(t,i){if(t){var n=Ct(t);var r=new f(i);r.segments.push.apply(r.segments,n);return r}};f.fromArc=function e(t,i){var n=new f(i);var r=t.startAngle;var a=t.pointAt(r);n.moveTo(a.x,a.y);n.arc(r,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise);return n};Object.defineProperties(f.prototype,e);return f}(Oe(ze(n))),ei=function(t){function r(e){t.call(this,e);this.paths=new at;this.paths.addObserver(this);if(!p(this.options.stroke))this.stroke("#000")}c(r,t);r.prototype=Object.create(t&&t.prototype);r.prototype.constructor=r;r.fn=r.prototype;r.fn.init=r.fn.constructor;var e={nodeType:{}};r.parse=function e(t,i){var n=new r(i);return $t(n,t)};r.prototype.toString=function e(t){var i=this.paths;var n="";if(i.length>0){var r=[];for(var a=0;a<i.length;a++)r.push(i[a].toString(t));n=r.join(Xt)}return n};e.nodeType.get=function(){return"MultiPath"};r.prototype.moveTo=function e(t,i){var n=new P;n.moveTo(t,i);this.paths.push(n);return this};r.prototype.lineTo=function e(t,i){if(this.paths.length>0)b(this.paths).lineTo(t,i);return this};r.prototype.curveTo=function e(t,i,n){if(this.paths.length>0)b(this.paths).curveTo(t,i,n);return this};r.prototype.arc=function e(t,i,n,r,a){if(this.paths.length>0)b(this.paths).arc(t,i,n,r,a);return this};r.prototype.arcTo=function e(t,i,n,r,a,o){if(this.paths.length>0)b(this.paths).arcTo(t,i,n,r,a,o);return this};r.prototype.close=function e(){if(this.paths.length>0)b(this.paths).close();return this};r.prototype._bbox=function e(t){return Yt(this.paths,true,t)};r.prototype.rawBBox=function e(){return Yt(this.paths,false)};r.prototype._containsPoint=function e(t){var i=this.paths;for(var n=0;n<i.length;n++)if(i[n]._containsPoint(t))return true;return false};r.prototype._isOnPath=function e(t){var i=this.paths;var n=this.options.stroke.width;for(var r=0;r<i.length;r++)if(i[r]._isOnPath(t,n))return true;return false};r.prototype._clippedBBox=function e(t){return Qt(this.paths,this.currentTransform(t))};Object.defineProperties(r.prototype,e);return r}(Oe(ze(n))),ti="#000",ii=function(i){function e(e,t){if(e===void 0)e=new $e;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!p(this.options.stroke))this.stroke(ti)}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Arc"};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype.rawBBox=function e(){return this.geometry().bbox()};e.prototype.toPath=function e(){var t=new P;var i=this.geometry().curvePoints();if(i.length>0){t.moveTo(i[0].x,i[0].y);for(var n=1;n<i.length;n+=3)t.curveTo(i[n],i[n+1],i[n+2])}return t};e.prototype._containsPoint=function e(t){return this.geometry().containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(Oe(ze(Le(n)))),ni="12px sans-serif",ri="#000",ai=function(n){function e(e,t,i){if(t===void 0)t=new N;if(i===void 0)i={};n.call(this,i);this.content(e);this.position(t);if(!this.options.font)this.options.font=ni;if(!p(this.options.fill))this.fill(ri)}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Text"};e.prototype.content=function e(t){if(p(t)){this.options.set("content",t);return this}return this.options.get("content")};e.prototype.measure=function e(){var t=x.measureText(this.content(),{font:this.options.get("font")});return t};e.prototype.rect=function e(){var t=this.measure();var i=this.position().clone();return new H(i,[t.width,t.height])};e.prototype.bbox=function e(t){var i=l(this.currentTransform(t));return this.rect().bbox(i)};e.prototype.rawBBox=function e(){return this.rect().bbox()};e.prototype._containsPoint=function e(t){return this.rect().containsPoint(t)};Object.defineProperties(e.prototype,t);return e}(Oe(_t(n,["position"]))),oi=function(n){function e(e,t,i){if(t===void 0)t=new H;if(i===void 0)i={};n.call(this,i);this.src(e);this.rect(t)}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Image"};e.prototype.src=function e(t){if(p(t)){this.options.set("src",t);return this}return this.options.get("src")};e.prototype.bbox=function e(t){var i=l(this.currentTransform(t));return this._rect.bbox(i)};e.prototype.rawBBox=function e(){return this._rect.bbox()};e.prototype._containsPoint=function e(t){return this._rect.containsPoint(t)};e.prototype._hasFill=function e(){return this.src()};Object.defineProperties(e.prototype,t);return e}(Le(n,["rect"])),si=function(e,a){return function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.traverse=function e(t){var i=this[a];for(var n=0;n<i.length;n++){var r=i[n];if(r.traverse)r.traverse(t);else t(r)}return this};return t}(e)},O=function(t){function e(e){t.call(this,e);this.children=[]}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Group"};e.prototype.childrenChange=function e(t,i,n){this.trigger("childrenChange",{action:t,items:i,index:n})};e.prototype.append=function e(){E(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this};e.prototype.insert=function e(t,i){this.children.splice(t,0,i);i.parent=this;this.childrenChange("add",[i],t);return this};e.prototype.insertAt=function e(t,i){return this.insert(i,t)};e.prototype.remove=function e(t){var i=this.children.indexOf(t);if(i>=0){this.children.splice(i,1);t.parent=null;this.childrenChange("remove",[t],i)}return this};e.prototype.removeAt=function e(t){if(0<=t&&t<this.children.length){var i=this.children[t];this.children.splice(t,1);i.parent=null;this.childrenChange("remove",[i],t)}return this};e.prototype.clear=function e(){var t=this.children;this.children=[];this._reparent(t,null);this.childrenChange("remove",t,0);return this};e.prototype.bbox=function e(t){return Yt(this.children,true,this.currentTransform(t))};e.prototype.rawBBox=function e(){return Yt(this.children,false)};e.prototype._clippedBBox=function e(t){return Qt(this.children,this.currentTransform(t))};e.prototype.currentTransform=function e(t){return n.prototype.currentTransform.call(this,t)||null};e.prototype.containsPoint=function e(t,i){if(this.visible()){var n=this.children;var r=this.currentTransform(i);for(var a=0;a<n.length;a++)if(n[a].containsPoint(t,r))return true}return false};e.prototype._reparent=function e(t,i){var n=this;for(var r=0;r<t.length;r++){var a=t[r];var o=a.parent;if(o&&o!==n&&o.remove)o.remove(a);a.parent=i}};Object.defineProperties(e.prototype,i);return e}(si(n,"children"));function li(e,t,i){var n=i.transform()||T();var r=n.matrix();r.e+=e.x-t.origin.x;r.f+=e.y-t.origin.y;n.matrix(r);i.transform(n)}function di(e,t,i,n,r){var a;if(i==="start")a=t.origin[n];else if(i==="end")a=t.origin[n]+t.size[r]-e;else a=t.origin[n]+(t.size[r]-e)/2;return a}function ui(e,t,i,n,r){var a;if(i==="start")a=t.origin[n]+t.size[r]-e;else if(i==="end")a=t.origin[n];else a=t.origin[n]+(t.size[r]-e)/2;return a}var ci={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:true,revers:false},fi=function(e,t){e.forEach(t)},pi=function(e,t){var i=e.length;for(var n=i-1;n>=0;n--)t(e[n],n)},hi=function(i){function e(e,t){i.call(this,m.extend({},ci,t));this._rect=e;this._fieldMap={}}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.rect=function e(t){if(t){this._rect=t;return this}return this._rect};e.prototype._initMap=function e(){var t=this.options;var i=this._fieldMap;if(t.orientation==="horizontal"){i.sizeField="width";i.groupsSizeField="height";i.groupAxis="x";i.groupsAxis="y"}else{i.sizeField="height";i.groupsSizeField="width";i.groupAxis="y";i.groupsAxis="x"}if(t.reverse){this.forEach=pi;this.justifyAlign=ui}else{this.forEach=fi;this.justifyAlign=di}};e.prototype.reflow=function e(){var t=this;if(!this._rect||this.children.length===0)return;this._initMap();if(this.options.transform)this.transform(null);var n=this.options;var i=this._rect;var r=this._initGroups();var a=r.groups;var o=r.groupsSize;var s=this._fieldMap;var l=s.sizeField;var d=s.groupsSizeField;var u=s.groupAxis;var c=s.groupsAxis;var f=new N;var p=new N;var h=new De;var m=di(o,i,n.alignContent,c,d);var g,v,_;var b=function(e,t){var i=v.elements[t];p[u]=g;p[c]=di(e.size[d],_,n.alignItems,c,d);li(p,e,i);g+=e.size[l]+n.spacing};for(var k=0;k<a.length;k++){v=a[k];f[u]=g=t.justifyAlign(v.size,i,n.justifyContent,u,l);f[c]=m;h[l]=v.size;h[d]=v.lineSize;_=new H(f,h);t.forEach(v.bboxes,b);m+=v.lineSize+n.lineSpacing}if(!n.wrap&&v.size>i.size[l]){var w=i.size[l]/_.size[l];var y=_.topLeft().scale(w,w);var x=_.size[d]*w;var C=di(x,i,n.alignContent,c,d);var S=T();if(u==="x")S.translate(i.origin.x-y.x,C-y.y);else S.translate(C-y.x,i.origin.y-y.y);S.scale(w,w);this.transform(S)}};e.prototype._initGroups=function e(){var t=this;var i=this;var n=i.options;var r=i.children;var a=n.lineSpacing;var o=n.wrap;var s=n.spacing;var l=this._fieldMap.sizeField;var d=this._newGroup();var u=[];var c=function(){u.push(d);f+=d.lineSize+a};var f=-a;for(var p=0;p<r.length;p++){var h=r[p];var m=r[p].clippedBBox();if(h.visible()&&m)if(o&&d.size+m.size[l]+s>t._rect.size[l])if(d.bboxes.length===0){t._addToGroup(d,m,h);c();d=t._newGroup()}else{c();d=t._newGroup();t._addToGroup(d,m,h)}else t._addToGroup(d,m,h)}if(d.bboxes.length)c();return{groups:u,groupsSize:f}};e.prototype._addToGroup=function e(t,i,n){t.size+=i.size[this._fieldMap.sizeField]+this.options.spacing;t.lineSize=Math.max(i.size[this._fieldMap.groupsSizeField],t.lineSize);t.bboxes.push(i);t.elements.push(n)};e.prototype._newGroup=function e(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}};return e}(O),mi=function(i){function e(e,t){if(e===void 0)e=new H;if(t===void 0)t={};i.call(this,t);this.geometry(e);if(!p(this.options.stroke))this.stroke("#000")}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={nodeType:{}};t.nodeType.get=function(){return"Rect"};e.prototype._bbox=function e(t){return this._geometry.bbox(t)};e.prototype.rawBBox=function e(){return this._geometry.bbox()};e.prototype._containsPoint=function e(t){return this._geometry.containsPoint(t)};e.prototype._isOnPath=function e(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)};Object.defineProperties(e.prototype,t);return e}(Oe(ze(Le(n))));function gi(e,t,i,n,r){for(var a=0;a<e.length;a++){var o=e[a].clippedBBox();if(o){var s=o.origin.clone();s[n]=di(o.size[r],t,i||"start",n,r);li(s,o,e[a])}}}function vi(e,t,i){gi(e,t,i,"x","width")}function _i(e,t,i){gi(e,t,i,"y","height")}function bi(e,t,i,n){if(e.length>1){var r=new N;var a=e[0].bbox;for(var o=1;o<e.length;o++){var s=e[o].element;var l=e[o].bbox;r[t]=a.origin[t]+a.size[n];r[i]=l.origin[i];li(r,l,s);l.origin[t]=r[t];a=l}}}function ki(e){var t=[];for(var i=0;i<e.length;i++){var n=e[i];var r=n.clippedBBox();if(r)t.push({element:n,bbox:r})}return t}function wi(e){bi(ki(e),"x","y","width")}function yi(e){bi(ki(e),"y","x","height")}function xi(e,t,i){var n=t.size[i];var r=[];var a=[];var o=0;var s,l;var d=function(){a.push({element:s,bbox:l})};for(var u=0;u<e.length;u++){s=e[u];l=s.clippedBBox();if(l){var c=l.size[i];if(o+c>n)if(a.length){r.push(a);a=[];d();o=c}else{d();r.push(a);a=[];o=0}else{d();o+=c}}}if(a.length)r.push(a);return r}function Ci(e,t,i,n,r){var a=xi(e,t,r);var o=t.origin.clone();var s=[];for(var l=0;l<a.length;l++){var d=a[l];var u=d[0];o[n]=u.bbox.origin[n];li(o,u.bbox,u.element);u.bbox.origin[i]=o[i];bi(d,i,n,r);s.push([]);for(var c=0;c<d.length;c++)s[l].push(d[c].element)}return s}function Si(e,t){return Ci(e,t,"x","y","width")}function Ti(e,t){return Ci(e,t,"y","x","height")}function Ii(e,t){var i=e.clippedBBox();if(i){var n=i.size;var r=t.size;if(r.width<n.width||r.height<n.height){var a=Math.min(r.width/n.width,r.height/n.height);var o=e.transform()||T();o.scale(a,a);e.transform(o)}}}var Di=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._change=function e(){this.optionsChange({field:"stops"})};return t}(rt);function Ei(t){return function(e){if(p(e)){this.options.set(t,e);return this}return this.options.get(t)}}function Ai(e,t){for(var i=0;i<t.length;i++)e[t[i]]=Ei(t[i])}var Fi,Hi,Pi=function(n){function r(e,t,i){n.call(this);this.options=new xe({offset:e,color:t,opacity:p(i)?i:1});this.options.addObserver(this)}c(r,n);r.prototype=Object.create(n&&n.prototype);r.prototype.constructor=r;r.fn=r.prototype;r.fn.init=r.fn.constructor;r.create=function e(t){if(p(t)){var i;if(t instanceof r)i=t;else if(t.length>1)i=new r(t[0],t[1],t[2]);else i=new r(t.offset,t.color,t.opacity);return i}};return r}(function(e,t){var i=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;return t}(e);Ai(i.prototype,t);return i}(e,["offset","color","opacity"])),Oi=function(t){function e(e){if(e===void 0)e={};t.call(this);this.stops=new Di(this._createStops(e.stops));this.stops.addObserver(this);this._userSpace=e.userSpace;this.id=Y()}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var i={nodeType:{}};i.nodeType.get=function(){return"Gradient"};e.prototype.userSpace=function e(t){if(p(t)){this._userSpace=t;this.optionsChange();return this}return this._userSpace};e.prototype._createStops=function e(t){if(t===void 0)t=[];var i=[];for(var n=0;n<t.length;n++)i.push(Pi.create(t[n]));return i};e.prototype.addStop=function e(t,i,n){this.stops.push(new Pi(t,i,n))};e.prototype.removeStop=function e(t){var i=this.stops.indexOf(t);if(i>=0)this.stops.splice(i,1)};e.prototype.optionsChange=function e(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})};e.prototype.geometryChange=function e(){this.optionsChange()};Object.defineProperties(e.prototype,i);return e}(e),Mi,zi=function(t){function e(e){if(e===void 0)e={};t.call(this,e);this.start(e.start||new N);this.end(e.end||new N(1,0))}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;return e}(_t(Oi,["start","end"])),Ri=function(t){function e(e){if(e===void 0)e={};t.call(this,e);this.center(e.center||new N);this._radius=p(e.radius)?e.radius:1;this._fallbackFill=e.fallbackFill}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.radius=function e(t){if(p(t)){this._radius=t;this.geometryChange();return this}return this._radius};e.prototype.fallbackFill=function e(t){if(p(t)){this._fallbackFill=t;this.optionsChange();return this}return this._fallbackFill};return e}(_t(Oi,["center"]));function Ni(e){return.5-Math.cos(e*Math.PI)/2}function Li(e){return e}function Bi(e,t,i,n){var r=1.70158,a=0,o=n;if(e===0)return i;if(e===1)return i+n;if(!a)a=.5;if(o<Math.abs(n)){o=n;r=a/4}else r=a/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((Number(e)-r)*(1.1*Math.PI)/a)+n+i}var Vi={swing:Ni,linear:Li,easeOutElastic:Bi},Ui,Wi=function(e){function t(){e.call(this);this._items=[]}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={current:{}};i.current.get=function(){if(!Ui)Ui=new t;return Ui};t.prototype.register=function e(t,i){this._items.push({name:t,type:i})};t.prototype.create=function e(t,i){var n=this._items;var r;if(i&&i.type){var a=i.type.toLowerCase();for(var o=0;o<n.length;o++)if(n[o].name.toLowerCase()===a){r=n[o];break}}if(r)return new r.type(t,i)};Object.defineProperties(t,i);return t}(o),ji=function(i){function e(e,t){i.call(this);this.options=m.extend({},this.options,t);this.element=e}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={options:{}};e.create=function e(t,i,n){return Wi.current.create(t,i,n)};t.options.get=function(){return this._options||{duration:500,easing:"swing"}};t.options.set=function(e){this._options=e};e.prototype.setup=function e(){};e.prototype.step=function e(){};e.prototype.play=function e(){var a=this;var t=this.options;var o=t.duration;var i=t.delay;if(i===void 0)i=0;var s=Vi[t.easing];var l=se()+i;var d=l+o;if(o===0){this.step(1);this.abort()}else setTimeout(function(){var r=function(){if(a._stopped)return;var e=se();var t=ae(e-l,0,o);var i=t/o;var n=s(i,t,0,1,o);a.step(n);if(e<d)kendo.animationFrame(r);else a.abort()};r()},i)};e.prototype.abort=function e(){this._stopped=true};e.prototype.destroy=function e(){this.abort()};Object.defineProperties(e.prototype,t);return e}(o),qi,Gi=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={current:{}};i.current.get=function(){if(!qi)qi=new t;return qi};t.prototype.parse=function e(t,i){var n=new ei(i);return $t(n,t)};Object.defineProperties(t,i);return t}(o),Ki=function(t){function e(e){t.call(this);this.childNodes=[];this.parent=null;if(e){this.srcElement=e;this.observe()}}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){var t=this;if(this.srcElement)this.srcElement.removeObserver(this);var i=this.childNodes;for(var n=0;n<i.length;n++)t.childNodes[n].destroy();this.parent=null};e.prototype.load=function e(){};e.prototype.observe=function e(){if(this.srcElement)this.srcElement.addObserver(this)};e.prototype.append=function e(t){this.childNodes.push(t);t.parent=this};e.prototype.insertAt=function e(t,i){this.childNodes.splice(i,0,t);t.parent=this};e.prototype.remove=function e(t,i){var n=this;var r=t+i;for(var a=t;a<r;a++)n.childNodes[a].removeSelf();this.childNodes.splice(t,i)};e.prototype.removeSelf=function e(){this.clear();this.destroy()};e.prototype.clear=function e(){this.remove(0,this.childNodes.length)};e.prototype.invalidate=function e(){if(this.parent)this.parent.invalidate()};e.prototype.geometryChange=function e(){this.invalidate()};e.prototype.optionsChange=function e(){this.invalidate()};e.prototype.childrenChange=function e(t){if(t.action==="add")this.load(t.items,t.index);else if(t.action==="remove")this.remove(t.index,t.items.length);this.invalidate()};return e}(o),$i=["click","mouseenter","mouseleave","mousemove","resize"],Yi=function(i){function e(e,t){i.call(this);this.options=m.extend({},t);this.element=e;this.element._kendoExportVisual=this.exportVisual.bind(this);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._mousemove=this._handler("mousemove");this._visual=new O;he(e,this.options);this.bind($i,this.options);this._enableTracking()}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.draw=function e(t){this._visual.children.push(t)};e.prototype.clear=function e(){this._visual.children=[]};e.prototype.destroy=function e(){this._visual=null;this.element._kendoExportVisual=null;this.unbind()};e.prototype.eventTarget=function e(t){var i=this;var n=ne(t);var r;while(!r&&n){r=n._kendoNode;if(n===i.element)break;n=n.parentElement}if(r)return r.srcElement};e.prototype.exportVisual=function e(){return this._visual};e.prototype.getSize=function e(){return he(this.element)};e.prototype.currentSize=function e(t){if(t)this._size=t;else return this._size};e.prototype.setSize=function e(t){he(this.element,t);this.currentSize(t);this._resize()};e.prototype.resize=function e(t){var i=this.getSize();var n=this.currentSize();if(t||(i.width>0||i.height>0)&&(!n||i.width!==n.width||i.height!==n.height)){this.currentSize(i);this._resize(i,t);this.trigger("resize",i)}};e.prototype.size=function e(t){if(!t)return this.getSize();this.setSize(t)};e.prototype.suspendTracking=function e(){this._suspendedTracking=true};e.prototype.resumeTracking=function e(){this._suspendedTracking=false};e.prototype._enableTracking=function e(){};e.prototype._resize=function e(){};e.prototype._handler=function e(i){var n=this;return function(e){var t=n.eventTarget(e);if(t&&!n._suspendedTracking)n.trigger(i,{element:t,originalEvent:e,type:i})}};e.prototype._elementOffset=function e(){var t=this.element;var i=ge(t);var n=ce(t);var r=n.left;var a=n.top;return{left:r+i.left,top:a+i.top}};e.prototype._surfacePoint=function e(t){var i=this._elementOffset();var n=ie(t);var r=n.x-i.left;var a=n.y-i.top;var o=ke(this.element).invert();var s=new N(r,a).transform(o);return s};return e}(kendo.Observable);function Qi(e,t){return p(t)&&t!==null?" "+e+'="'+t+'" ':""}function Xi(e){var t="";for(var i=0;i<e.length;i++)t+=Qi(e[i][0],e[i][1]);return t}function Ji(e){var t="";for(var i=0;i<e.length;i++){var n=e[i][1];if(p(n))t+=e[i][0]+":"+n+";"}if(t!=="")return t}var d={},Zi="http://www.w3.org/2000/svg",en="none",tn=3,nn=function(e,t){e.innerHTML=t};if(typeof document!=="undefined"){var rn="<svg xmlns='"+Zi+"'></svg>";var an=document.createElement("div");var on=typeof DOMParser!=="undefined";an.innerHTML=rn;if(on&&an.firstChild.namespaceURI!==Zi)nn=function(e,t){var i=new DOMParser;var n=i.parseFromString(t,"text/xml");var r=document.adoptNode(n.documentElement);e.innerHTML="";e.appendChild(r)}}var sn=nn,ln="transform",dn={clip:"clip-path",fill:"fill"};function un(e,t){return e==="clip"||e==="fill"&&(!t||t.nodeType==="Gradient")}function cn(){var e=document.getElementsByTagName("base")[0];var t=document.location.href;var i="";if(e&&!(S||{}).msie){var n=t.indexOf("#");if(n!==-1)t=t.substring(0,n);i=t}return i}var t=function(r){function e(e,t){r.call(this,e);this.definitions={};this.options=t}c(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();r.prototype.destroy.call(this)};e.prototype.load=function e(t,i){var n=this;for(var r=0;r<t.length;r++){var a=t[r];var o=a.children;var s=new d[a.nodeType](a,n.options);if(p(i))n.insertAt(s,i);else n.append(s);s.createDefinitions();if(o&&o.length>0)s.load(o);var l=n.element;if(l)s.attachTo(l,i)}};e.prototype.root=function e(){var e=this;while(e.parent)e=e.parent;return e};e.prototype.attachTo=function e(t,i){var n=document.createElement("div");sn(n,"<svg xmlns='"+Zi+"' version='1.1'>"+this.render()+"</svg>");var r=n.firstChild.firstChild;if(r){if(p(i))t.insertBefore(r,t.childNodes[i]||null);else t.appendChild(r);this.setElement(r)}};e.prototype.setElement=function e(t){if(this.element)this.element._kendoNode=null;this.element=t;this.element._kendoNode=this;var i=this.childNodes;for(var n=0;n<i.length;n++){var r=t.childNodes[n];i[n].setElement(r)}};e.prototype.clear=function e(){this.clearDefinitions();if(this.element)this.element.innerHTML="";var t=this.childNodes;for(var i=0;i<t.length;i++)t[i].destroy();this.childNodes=[]};e.prototype.removeSelf=function e(){if(this.element){var t=this.element.parentNode;if(t)t.removeChild(this.element);this.element=null}r.prototype.removeSelf.call(this)};e.prototype.template=function e(){return this.renderChildren()};e.prototype.render=function e(){return this.template()};e.prototype.renderChildren=function e(){var t=this.childNodes;var i="";for(var n=0;n<t.length;n++)i+=t[n].render();return i};e.prototype.optionsChange=function e(t){var i=t.field;var n=t.value;if(i==="visible")this.css("display",n?"":en);else if(dn[i]&&un(i,n))this.updateDefinition(i,n);else if(i==="opacity")this.attr("opacity",n);else if(i==="cursor")this.css("cursor",n);else if(i==="id")if(n)this.attr("id",n);else this.removeAttr("id");r.prototype.optionsChange.call(this,t)};e.prototype.attr=function e(t,i){if(this.element)this.element.setAttribute(t,i)};e.prototype.allAttr=function e(t){var i=this;for(var n=0;n<t.length;n++)i.attr(t[n][0],t[n][1])};e.prototype.css=function e(t,i){if(this.element)this.element.style[t]=i};e.prototype.allCss=function e(t){var i=this;for(var n=0;n<t.length;n++)i.css(t[n][0],t[n][1])};e.prototype.removeAttr=function e(t){if(this.element)this.element.removeAttribute(t)};e.prototype.mapTransform=function e(t){var i=[];if(t)i.push([ln,"matrix("+t.matrix().toString(6)+")"]);return i};e.prototype.renderTransform=function e(){return Xi(this.mapTransform(this.srcElement.transform()))};e.prototype.transformChange=function e(t){if(t)this.allAttr(this.mapTransform(t));else this.removeAttr(ln)};e.prototype.mapStyle=function e(){var t=this.srcElement.options;var i=[["cursor",t.cursor]];if(t.visible===false)i.push(["display",en]);return i};e.prototype.renderStyle=function e(){return Qi("style",Ji(this.mapStyle(true)))};e.prototype.renderOpacity=function e(){return Qi("opacity",this.srcElement.options.opacity)};e.prototype.renderId=function e(){return Qi("id",this.srcElement.options.id)};e.prototype.createDefinitions=function e(){var t=this.srcElement;var i=this.definitions;if(t){var n=t.options;var r;for(var a in dn){var o=n.get(a);if(o&&un(a,o)){i[a]=o;r=true}}if(r)this.definitionChange({action:"add",definitions:i})}};e.prototype.definitionChange=function e(t){if(this.parent)this.parent.definitionChange(t)};e.prototype.updateDefinition=function e(t,i){var n=this.definitions;var r=n[t];var a=dn[t];var o={};if(r){o[t]=r;this.definitionChange({action:"remove",definitions:o});delete n[t]}if(!i){if(r)this.removeAttr(a)}else{o[t]=i;this.definitionChange({action:"add",definitions:o});n[t]=i;this.attr(a,this.refUrl(i.id))}};e.prototype.clearDefinitions=function e(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t});this.definitions={}};e.prototype.renderDefinitions=function e(){return Xi(this.mapDefinitions())};e.prototype.mapDefinitions=function e(){var t=this;var i=this.definitions;var n=[];for(var r in i)n.push([dn[r],t.refUrl(i[r].id)]);return n};e.prototype.refUrl=function e(t){var i=(this.options||{}).skipBaseHref;var n=this.baseUrl().replace(/'/g,"\\'");var r=i?"":n;return"url("+r+"#"+t+")"};e.prototype.baseUrl=function e(){return cn()};return e}(Ki),fn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"};t.prototype.renderOffset=function e(){return Qi("offset",this.srcElement.offset())};t.prototype.mapStyle=function e(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]};t.prototype.optionsChange=function e(t){if(t.field==="offset")this.attr(t.field,t.value);else if(t.field==="color"||t.field==="opacity")this.css("stop-"+t.field,t.value)};return t}(t),pn=function(t){function e(e){t.call(this,e);this.id=e.id;this.loadStops()}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.loadStops=function e(){var t=this;var i=this.srcElement.stops;var n=this.element;for(var r=0;r<i.length;r++){var a=new fn(i[r]);t.append(a);if(n)a.attachTo(n)}};e.prototype.optionsChange=function e(t){if(t.field==="gradient.stops"){Ki.prototype.clear.call(this);this.loadStops()}else if(t.field==="gradient")this.allAttr(this.mapCoordinates())};e.prototype.renderCoordinates=function e(){return Xi(this.mapCoordinates())};e.prototype.mapSpace=function e(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]};return e}(t),hn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"};t.prototype.mapCoordinates=function e(){var t=this.srcElement;var i=t.start();var n=t.end();var r=[["x1",i.x],["y1",i.y],["x2",n.x],["y2",n.y],this.mapSpace()];return r};return t}(pn),mn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.template=function e(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"};t.prototype.mapCoordinates=function e(){var t=this.srcElement;var i=t.center();var n=t.radius();var r=[["cx",i.x],["cy",i.y],["r",n],this.mapSpace()];return r};return t}(pn),gn=function(t){function e(e){t.call(this);this.srcElement=e;this.id=e.id;this.load([e])}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.template=function e(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"};return e}(t),vn=function(e){function t(){e.call(this);this.definitionMap={}}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.attachTo=function e(t){this.element=t};t.prototype.template=function e(){return"<defs>"+this.renderChildren()+"</defs>"};t.prototype.definitionChange=function e(t){var i=t.definitions;var n=t.action;if(n==="add")this.addDefinitions(i);else if(n==="remove")this.removeDefinitions(i)};t.prototype.createDefinition=function e(t,i){var n;if(t==="clip")n=gn;else if(t==="fill")if(i instanceof zi)n=hn;else if(i instanceof Ri)n=mn;return new n(i)};t.prototype.addDefinitions=function e(t){var i=this;for(var n in t)i.addDefinition(n,t[n])};t.prototype.addDefinition=function e(t,i){var n=this;var r=n.element;var a=n.definitionMap;var o=i.id;var s=a[o];if(!s){var l=this.createDefinition(t,i);a[o]={element:l,count:1};this.append(l);if(r)l.attachTo(this.element)}else s.count++};t.prototype.removeDefinitions=function e(t){var i=this;for(var n in t)i.removeDefinition(t[n])};t.prototype.removeDefinition=function e(t){var i=this.definitionMap;var n=t.id;var r=i[n];if(r){r.count--;if(r.count===0){this.remove(this.childNodes.indexOf(r.element),1);delete i[n]}}};return t}(t),_n=function(t){function e(e){t.call(this);this.options=e;this.defs=new vn}c(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.attachTo=function e(t){this.element=t;this.defs.attachTo(t.firstElementChild)};e.prototype.clear=function e(){Ki.prototype.clear.call(this)};e.prototype.template=function e(){return this.defs.render()+this.renderChildren()};e.prototype.definitionChange=function e(t){this.defs.definitionChange(t)};return e}(t),bn={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},kn="solid",wn="butt",yn={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},i=function(n){function e(){n.apply(this,arguments)}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){this.attr("d",this.renderData());this.invalidate()};e.prototype.optionsChange=function e(t){switch(t.field){case"fill":if(t.value)this.allAttr(this.mapFill(t.value));else this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":if(t.value)this.allAttr(this.mapStroke(t.value));else this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:var i=yn[t.field];if(i)this.attr(i,t.value);break}n.prototype.optionsChange.call(this,t)};e.prototype.content=function e(){if(this.element)this.element.textContent=this.srcElement.content()};e.prototype.renderData=function e(){return this.srcElement.toString(tn)||undefined};e.prototype.mapStroke=function e(t){var i=[];if(t&&!re(t.color)){i.push(["stroke",t.color]);i.push(["stroke-width",t.width]);i.push(["stroke-linecap",this.renderLinecap(t)]);i.push(["stroke-linejoin",t.lineJoin]);if(p(t.opacity))i.push(["stroke-opacity",t.opacity]);if(p(t.dashType))i.push(["stroke-dasharray",this.renderDashType(t)])}else i.push(["stroke",en]);return i};e.prototype.renderStroke=function e(){return Xi(this.mapStroke(this.srcElement.options.stroke))};e.prototype.renderDashType=function e(t){var i=t.dashType;var n=t.width;if(n===void 0)n=1;if(i&&i!==kn){var r=bn[i.toLowerCase()];var a=[];for(var o=0;o<r.length;o++)a.push(r[o]*n);return a.join(" ")}};e.prototype.renderLinecap=function e(t){var i=t.dashType;var n=t.lineCap;return i&&i!=="solid"?wn:n};e.prototype.mapFill=function e(t){var i=[];if(!(t&&t.nodeType==="Gradient"))if(t&&!re(t.color)){i.push(["fill",t.color]);if(p(t.opacity))i.push(["fill-opacity",t.opacity])}else i.push(["fill",en]);return i};e.prototype.renderFill=function e(){return Xi(this.mapFill(this.srcElement.options.fill))};e.prototype.template=function e(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Qi("d",this.renderData())+""+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"};return e}(t),xn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderData=function e(){return this.srcElement.toPath().toString(tn)};return t}(i),Cn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.geometryChange=function e(){var t=this.center();this.attr("cx",t.x);this.attr("cy",t.y);this.attr("r",this.radius());this.invalidate()};t.prototype.center=function e(){return this.srcElement.geometry().center};t.prototype.radius=function e(){return this.srcElement.geometry().radius};t.prototype.template=function e(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"};return t}(i),Sn=function(i){function e(){i.apply(this,arguments)}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.template=function e(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"};e.prototype.optionsChange=function e(t){if(t.field==="transform")this.transformChange(t.value);i.prototype.optionsChange.call(this,t)};return e}(t),Tn=function(i){function e(){i.apply(this,arguments)}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){this.allAttr(this.mapPosition());this.invalidate()};e.prototype.optionsChange=function e(t){if(t.field==="src")this.allAttr(this.mapSource());i.prototype.optionsChange.call(this,t)};e.prototype.mapPosition=function e(){var t=this.srcElement.rect();var i=t.topLeft();return[["x",i.x],["y",i.y],["width",t.width()+"px"],["height",t.height()+"px"]]};e.prototype.renderPosition=function e(){return Xi(this.mapPosition())};e.prototype.mapSource=function e(t){var i=this.srcElement.src();if(t)i=kendo.htmlEncode(i);return[["xlink:href",i]]};e.prototype.renderSource=function e(){return Xi(this.mapSource(true))};e.prototype.template=function e(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+">"+"</image>"};return e}(i),In=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderData=function e(){return this.srcElement.toString(tn)||"undefined"};return t}(i),Dn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.geometryChange=function e(){var t=this.srcElement.geometry();this.attr("x",t.origin.x);this.attr("y",t.origin.y);this.attr("width",t.size.width);this.attr("height",t.size.height);this.attr("rx",t.cornerRadius[0]);this.attr("ry",t.cornerRadius[1]);this.invalidate()};t.prototype.size=function e(){return this.srcElement.geometry().size};t.prototype.origin=function e(){return this.srcElement.geometry().origin};t.prototype.rx=function e(){return this.srcElement.geometry().cornerRadius[0]};t.prototype.ry=function e(){return this.srcElement.geometry().cornerRadius[1]};t.prototype.template=function e(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' "+"rx='"+this.rx()+"' ry='"+this.ry()+"' "+"width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"};return t}(i),En=/&(?:[a-zA-Z]+|#\d+);/g;function An(e){if(!e||typeof e!=="string"||!En.test(e))return e;var t=An._element;En.lastIndex=0;return e.replace(En,function(e){t.innerHTML=e;return t.textContent||t.innerText})}if(typeof document!=="undefined")An._element=document.createElement("span");var Fn=function(r){function e(){r.apply(this,arguments)}c(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.geometryChange=function e(){var t=this.pos();this.attr("x",t.x);this.attr("y",t.y);this.invalidate()};e.prototype.optionsChange=function e(t){if(t.field==="font"){this.attr("style",Ji(this.mapStyle()));this.geometryChange()}else if(t.field==="content")r.prototype.content.call(this,this.srcElement.content());r.prototype.optionsChange.call(this,t)};e.prototype.mapStyle=function e(t){var i=r.prototype.mapStyle.call(this,t);var n=this.srcElement.options.font;if(t)n=kendo.htmlEncode(n);i.push(["font",n],["white-space","pre"]);return i};e.prototype.pos=function e(){var e=this.srcElement.position();var t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)};e.prototype.renderContent=function e(){var t=this.srcElement.content();t=An(t);t=kendo.htmlEncode(t);return x.normalizeText(t)};e.prototype.renderTextAnchor=function e(){var t;if((this.options||{}).rtl&&!(S.msie||S.edge))t="end";return Qi("text-anchor",t)};e.prototype.template=function e(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"};return e}(i),Hn=(d.Arc=xn,d.Circle=Cn,d.Group=Sn,d.Image=Tn,d.MultiPath=In,d.Path=i,d.Rect=Dn,d.Text=Fn,"rtl");function Pn(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(e){}if(t){var i=-t.e%1;var n=-t.f%1;var r=e.style;if(i!==0||n!==0){r.left=i+"px";r.top=n+"px"}}}var On=function(i){function e(e,t){i.call(this,e,t);this._root=new _n(m.extend({rtl:fe(e,"direction").direction===Hn},this.options));sn(this.element,this._template());this._rootElement=this.element.firstElementChild;Pn(this._rootElement);this._root.attachTo(this._rootElement);ue(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove});this.resize()}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={type:{}};t.type.get=function(){return"svg"};e.prototype.destroy=function e(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;me(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})}i.prototype.destroy.call(this)};e.prototype.translate=function e(t){var i=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t;this._rootElement.setAttribute("viewBox",i)};e.prototype.draw=function e(t){i.prototype.draw.call(this,t);this._root.load([t])};e.prototype.clear=function e(){i.prototype.clear.call(this);this._root.clear()};e.prototype.svg=function e(){return"<?xml version='1.0' ?>"+this._template()};e.prototype.exportVisual=function e(){var t=this;var i=t._visual;var n=t._offset;if(n){var r=new O;r.children.push(i);r.transform(T().translate(-n.x,-n.y));i=r}return i};e.prototype._resize=function e(){if(this._offset)this.translate(this._offset)};e.prototype._template=function e(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+Zi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"};Object.defineProperties(e.prototype,t);return e}(Yi),u={};function Mn(e,t){var i=t.segments;if(i.length===0)return;var n=i[0];var r=n.anchor();e.moveTo(r.x,r.y);for(var a=1;a<i.length;a++){n=i[a];r=n.anchor();var o=i[a-1];var s=o.controlOut();var l=n.controlIn();if(s&&l)e.bezierCurveTo(s.x,s.y,l.x,l.y,r.x,r.y);else e.lineTo(r.x,r.y)}if(t.options.closed)e.closePath()}var zn=function(i){function e(e){i.call(this,e);if(e)this.initClip()}c(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.initClip=function e(){var t=this.srcElement.clip();if(t){this.clip=t;t.addObserver(this)}};e.prototype.clear=function e(){if(this.srcElement)this.srcElement.removeObserver(this);this.clearClip();i.prototype.clear.call(this)};e.prototype.clearClip=function e(){if(this.clip){this.clip.removeObserver(this);delete this.clip}};e.prototype.setClip=function e(t){if(this.clip){t.beginPath();Mn(t,this.clip);t.clip()}};e.prototype.optionsChange=function e(t){if(t.field==="clip"){this.clearClip();this.initClip()}i.prototype.optionsChange.call(this,t)};e.prototype.setTransform=function e(t){if(this.srcElement){var i=this.srcElement.transform();if(i)t.transform.apply(t,i.matrix().toArray(6))}};e.prototype.loadElements=function e(t,i,n){var r=this;for(var a=0;a<t.length;a++){var o=t[a];var s=o.children;var l=new u[o.nodeType](o,n);if(s&&s.length>0)l.load(s,i,n);if(p(i))r.insertAt(l,i);else r.append(l)}};e.prototype.load=function e(t,i,n){this.loadElements(t,i,n);this.invalidate()};e.prototype.setOpacity=function e(t){if(this.srcElement){var i=this.srcElement.opacity();if(p(i))this.globalAlpha(t,i)}};e.prototype.globalAlpha=function e(t,i){var n=i;if(n&&t.globalAlpha)n*=t.globalAlpha;t.globalAlpha=n};e.prototype.visible=function e(){var t=this.srcElement;return!t||t&&t.options.visible!==false};return e}(Ki),Rn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){if(!this.visible())return;t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);var i=this.childNodes;for(var n=0;n<i.length;n++){var r=i[n];if(r.visible())r.renderTo(t)}t.restore()};return t}(si(zn,"childNodes")),Nn=1e3/60,Ln=function(n){function e(e,t){n.call(this);this.canvas=e;this.size=t;this.ctx=e.getContext("2d");var i=this._invalidate.bind(this);this.invalidate=kendo.throttle(function(){kendo.animationFrame(i)},Nn)}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.destroy=function e(){n.prototype.destroy.call(this);this.canvas=null;this.ctx=null};e.prototype.load=function e(t,i,n){this.loadElements(t,i,n);this._invalidate()};e.prototype._rescale=function e(t){var i=this;var n=i.canvas;var r=i.size;n.width=r.width*t;n.height=r.height*t;this.ctx.scale(t,t)};e.prototype._devicePixelRatio=function e(){if(typeof window.devicePixelRatio==="number")return window.devicePixelRatio;return 1};e.prototype._invalidate=function e(t){if(!this.ctx)return;var i=t&&t.fixedScale;var n=i?1:this._devicePixelRatio();this._rescale(n);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)};return e}(si(Rn,"childNodes")),Bn=function(e){function t(){e.call(this);this.shapes=[]}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype._add=function e(t,i){this.shapes.push({bbox:i,shape:t});t._quadNode=this};t.prototype.pointShapes=function e(t){var i=this.shapes;var n=i.length;var r=[];for(var a=0;a<n;a++)if(i[a].bbox.containsPoint(t))r.push(i[a].shape);return r};t.prototype.insert=function e(t,i){this._add(t,i)};t.prototype.remove=function e(t){var i=this.shapes;var n=i.length;for(var r=0;r<n;r++)if(i[r].shape===t){i.splice(r,1);break}};return t}(o),Vn=function(o){function s(e){o.call(this);this.children=[];this.rect=e}c(s,o);s.prototype=Object.create(o&&o.prototype);s.prototype.constructor=s;s.fn=s.prototype;s.fn.init=s.fn.constructor;s.prototype.inBounds=function e(t){var i=this.rect;var n=i.bottomRight();var r=t.bottomRight();var e=i.origin.x<=t.origin.x&&i.origin.y<=t.origin.y&&r.x<=n.x&&r.y<=n.y;return e};s.prototype.pointShapes=function e(t){var i=this.children;var n=i.length;var r=o.prototype.pointShapes.call(this,t);for(var a=0;a<n;a++)E(r,i[a].pointShapes(t));return r};s.prototype.insert=function e(t,i){var n=this.children;var r=false;if(this.inBounds(i)){if(this.shapes.length<4)this._add(t,i);else{if(!n.length)this._initChildren();for(var a=0;a<n.length;a++)if(n[a].insert(t,i)){r=true;break}if(!r)this._add(t,i)}r=true}return r};s.prototype._initChildren=function e(){var t=this;var i=t.rect;var n=t.children;var r=i.center();var a=i.width()/2;var o=i.height()/2;n.push(new s(new H([i.origin.x,i.origin.y],[a,o])),new s(new H([r.x,i.origin.y],[a,o])),new s(new H([i.origin.x,r.y],[a,o])),new s(new H([r.x,r.y],[a,o])))};return s}(Bn),f=3e3,Un=1e4,Wn=75,jn=function(e){function t(){e.call(this);this.initRoots()}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.initRoots=function e(){this.rootMap={};this.root=new Bn;this.rootElements=[]};t.prototype.clear=function e(){var t=this;var i=this.rootElements;for(var n=0;n<i.length;n++)t.remove(i[n]);this.initRoots()};t.prototype.pointShape=function e(t){var i=(this.rootMap[Math.floor(t.x/f)]||{})[Math.floor(t.y/f)];var n=this.root.pointShapes(t);if(i)n=n.concat(i.pointShapes(t));this.assignZindex(n);n.sort(qn);for(var r=0;r<n.length;r++)if(n[r].containsPoint(t))return n[r]};t.prototype.assignZindex=function e(t){var i=this;for(var n=0;n<t.length;n++){var r=t[n];var a=0;var o=Math.pow(Un,Wn);var s=[];while(r){s.push(r);r=r.parent}while(s.length){r=s.pop();a+=((r.parent?r.parent.children:i.rootElements).indexOf(r)+1)*o;o/=Un}t[n]._zIndex=a}};t.prototype.optionsChange=function e(t){if(t.field==="transform"||t.field==="stroke.width")this.bboxChange(t.element)};t.prototype.geometryChange=function e(t){this.bboxChange(t.element)};t.prototype.bboxChange=function e(t){var i=this;if(t.nodeType==="Group")for(var n=0;n<t.children.length;n++)i.bboxChange(t.children[n]);else{if(t._quadNode)t._quadNode.remove(t);this._insertShape(t)}};t.prototype.add=function e(t){var i=Array.isArray(t)?t.slice(0):[t];E(this.rootElements,i);this._insert(i)};t.prototype.childrenChange=function e(t){var i=this;if(t.action==="remove")for(var n=0;n<t.items.length;n++)i.remove(t.items[n]);else this._insert(Array.prototype.slice.call(t.items,0))};t.prototype._insert=function e(t){var i=this;var n;while(t.length>0){n=t.pop();n.addObserver(i);if(n.nodeType==="Group")E(t,n.children);else i._insertShape(n)}};t.prototype._insertShape=function e(t){var i=t.bbox();if(i){var n=this.getSectors(i);var r=n[0][0];var a=n[1][0];if(this.inRoot(n))this.root.insert(t,i);else{var o=this.rootMap;if(!o[r])o[r]={};if(!o[r][a])o[r][a]=new Vn(new H([r*f,a*f],[f,f]));o[r][a].insert(t,i)}}};t.prototype.remove=function e(t){var i=this;t.removeObserver(this);if(t.nodeType==="Group"){var n=t.children;for(var r=0;r<n.length;r++)i.remove(n[r])}else if(t._quadNode){t._quadNode.remove(t);delete t._quadNode}};t.prototype.inRoot=function e(t){return t[0].length>1||t[1].length>1};t.prototype.getSectors=function e(t){var i=t.bottomRight();var n=Math.floor(i.x/f);var r=Math.floor(i.y/f);var a=[[],[]];for(var o=Math.floor(t.origin.x/f);o<=n;o++)a[0].push(o);for(var s=Math.floor(t.origin.y/f);s<=r;s++)a[1].push(s);return a};return t}(o);function qn(e,t){if(e._zIndex<t._zIndex)return 1;if(e._zIndex>t._zIndex)return-1;return 0}var h=function e(t){t.bind("mouseenter",this._mouseenter.bind(this));t.bind("mouseleave",this._mouseleave.bind(this));this.element=t.element};function Gn(e,t){for(var i=0;i<t.length;i++){var n=t[i];var r=kendo.parseColor(n.color());r.a*=n.opacity();e.addColorStop(n.offset(),r.toCssRgba())}}h.prototype.clear=function e(){this._resetCursor()},h.prototype.destroy=function e(){this._resetCursor();delete this.element},h.prototype._mouseenter=function e(t){var i=this._shapeCursor(t);if(!i)this._resetCursor();else{if(!this._current)this._defaultCursor=this._getCursor();this._setCursor(i)}},h.prototype._mouseleave=function e(){this._resetCursor()},h.prototype._shapeCursor=function e(t){var i=t.element;while(i&&!p(i.options.cursor))i=i.parent;if(i)return i.options.cursor},h.prototype._getCursor=function e(){if(this.element)return this.element.style.cursor},h.prototype._setCursor=function e(t){if(this.element){this.element.style.cursor=t;this._current=t}},h.prototype._resetCursor=function e(){if(this._current){this._setCursor(this._defaultCursor||"");delete this._current}};var r=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);t.beginPath();this.renderPoints(t,this.srcElement);this.setLineDash(t);this.setLineCap(t);this.setLineJoin(t);this.setFill(t);this.setStroke(t);t.restore()};t.prototype.setFill=function e(t){var i=this.srcElement.options.fill;var n=false;if(i)if(i.nodeType==="Gradient"){this.setGradientFill(t,i);n=true}else if(!re(i.color)){t.fillStyle=i.color;t.save();this.globalAlpha(t,i.opacity);t.fill();t.restore();n=true}return n};t.prototype.setGradientFill=function e(t,i){var n=this.srcElement.rawBBox();var r;if(i instanceof zi){var a=i.start();var o=i.end();r=t.createLinearGradient(a.x,a.y,o.x,o.y)}else if(i instanceof Ri){var s=i.center();r=t.createRadialGradient(s.x,s.y,0,s.x,s.y,i.radius())}Gn(r,i.stops);t.save();if(!i.userSpace())t.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y);t.fillStyle=r;t.fill();t.restore()};t.prototype.setStroke=function e(t){var i=this.srcElement.options.stroke;if(i&&!re(i.color)&&i.width>0){t.strokeStyle=i.color;t.lineWidth=de(i.width,1);t.save();this.globalAlpha(t,i.opacity);t.stroke();t.restore();return true}};t.prototype.dashType=function e(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()};t.prototype.setLineDash=function e(t){var i=this.dashType();if(i&&i!==kn){var n=bn[i];if(t.setLineDash)t.setLineDash(n);else{t.mozDash=n;t.webkitLineDash=n}}};t.prototype.setLineCap=function e(t){var i=this.dashType();var n=this.srcElement.options.stroke;if(i&&i!==kn)t.lineCap=wn;else if(n&&n.lineCap)t.lineCap=n.lineCap};t.prototype.setLineJoin=function e(t){var i=this.srcElement.options.stroke;if(i&&i.lineJoin)t.lineJoin=i.lineJoin};t.prototype.renderPoints=function e(t,i){Mn(t,i)};return t}(zn),Kn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.toPath();Mn(t,i)};return t}(r),$n=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.geometry();var n=i.center;var r=i.radius;t.arc(n.x,n.y,r,0,Math.PI*2)};return t}(r),Yn=function(r){function e(e,t){r.call(this,e);this.onLoad=this.onLoad.bind(this);this.onError=this.onError.bind(this);this.loading=I();var i=this.img=new Image;var n=e.src();if(t&&!/^data:/i.test(n))i.crossOrigin=t;if(n)i.src=n;if(i.complete)this.onLoad();else{i.onload=this.onLoad;i.onerror=this.onError}}c(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.renderTo=function e(t){if(this.loading.state()==="resolved"){t.save();this.setTransform(t);this.setClip(t);this.drawImage(t);t.restore()}};e.prototype.optionsChange=function e(t){if(t.field==="src"){this.loading=I();this.img.src=this.srcElement.src()}else r.prototype.optionsChange.call(this,t)};e.prototype.onLoad=function e(){this.loading.resolve();this.invalidate()};e.prototype.onError=function e(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))};e.prototype.drawImage=function e(t){var i=this.srcElement.rect();var n=i.topLeft();t.drawImage(this.img,n.x,n.y,i.width(),i.height())};return e}(r),Qn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderPoints=function e(t){var i=this.srcElement.paths;for(var n=0;n<i.length;n++)Mn(t,i[n])};return t}(r),Xn=function(l){function e(){l.apply(this,arguments)}c(e,l);e.prototype=Object.create(l&&l.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.renderPoints=function e(t){var i=this.srcElement.geometry();var n=i.cornerRadius;var r=n[0];var a=n[1];if(r===0&&a===0){var o=i.origin;var s=i.size;t.rect(o.x,o.y,s.width,s.height)}else l.prototype.renderPoints.call(this,t,P.fromRect(i))};return e}(r),Jn=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.renderTo=function e(t){var i=this.srcElement;var n=i.position();var r=i.measure();t.save();this.setTransform(t);this.setClip(t);this.setOpacity(t);t.beginPath();t.font=i.options.font;t.textAlign="left";if(this.setFill(t))t.fillText(i.content(),n.x,n.y+r.baseline);if(this.setStroke(t)){this.setLineDash(t);t.strokeText(i.content(),n.x,n.y+r.baseline)}t.restore()};return t}(r),Zn=(u.Arc=Kn,u.Circle=$n,u.Group=Rn,u.Image=Yn,u.MultiPath=Qn,u.Path=r,u.Rect=Xn,u.Text=Jn,function(r){function e(e,t){r.call(this,e,t);this.element.innerHTML=this._template(this);var i=this.element.firstElementChild;var n=he(e);i.width=n.width;i.height=n.height;this._rootElement=i;this._root=new Ln(i,n);this._mouseTrackHandler=this._trackMouse.bind(this);ue(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}c(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;var t={type:{}};t.type.get=function(){return"canvas"};e.prototype.destroy=function e(){r.prototype.destroy.call(this);if(this._root){this._root.destroy();this._root=null}if(this._searchTree){this._searchTree.clear();delete this._searchTree}if(this._cursor){this._cursor.destroy();delete this._cursor}me(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})};e.prototype.draw=function e(t){r.prototype.draw.call(this,t);this._root.load([t],undefined,this.options.cors);if(this._searchTree)this._searchTree.add([t])};e.prototype.clear=function e(){r.prototype.clear.call(this);this._root.clear();if(this._searchTree)this._searchTree.clear();if(this._cursor)this._cursor.clear()};e.prototype.eventTarget=function e(t){if(this._searchTree){var i=this._surfacePoint(t);var n=this._searchTree.pointShape(i);return n}};e.prototype.image=function e(){var t=this;var i=t._root;var n=t._rootElement;var r=[];i.traverse(function(e){if(e.loading)r.push(e.loading)});var a=I();var o=function(){i._invalidate({fixedScale:true});try{var e=n.toDataURL();a.resolve(e)}catch(e){a.reject(e)}};D(r).then(o,o);return a};e.prototype.suspendTracking=function e(){r.prototype.suspendTracking.call(this);if(this._searchTree){this._searchTree.clear();delete this._searchTree}};e.prototype.resumeTracking=function e(){r.prototype.resumeTracking.call(this);if(!this._searchTree){this._searchTree=new jn;var t=this._root.childNodes;var i=[];for(var n=0;n<t.length;n++)i.push(t[n].srcElement);this._searchTree.add(i)}};e.prototype._resize=function e(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.size=this._size;this._root.invalidate()};e.prototype._template=function e(){return"<canvas style='width: 100%; height: 100%;'></canvas>"};e.prototype._enableTracking=function e(){this._searchTree=new jn;this._cursor=new h(this);r.prototype._enableTracking.call(this)};e.prototype._trackMouse=function e(t){if(this._suspendedTracking)return;var i=this.eventTarget(t);if(t.type!=="click"){var n=this._currentShape;if(n&&n!==i)this.trigger("mouseleave",{element:n,originalEvent:t,type:"mouseleave"});if(i&&n!==i)this.trigger("mouseenter",{element:i,originalEvent:t,type:"mouseenter"});this.trigger("mousemove",{element:i,originalEvent:t,type:"mousemove"});this._currentShape=i}else if(i)this.trigger("click",{element:i,originalEvent:t,type:"click"})};Object.defineProperties(e.prototype,t);return e}(Yi)),er,tr,ir=function(){return typeof document!=="undefined"},nr=function(){return ir()&&document.createElement("canvas").getContext},rr=function(){return ir()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},ar=function(e){function t(){e.call(this);this._items=[{name:"svg",type:On},{name:"canvas",type:Zn}]}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={support:{},current:{}};i.support.get=function(){if(!tr)tr={canvas:nr(),svg:rr()};return tr};i.current.get=function(){if(!er)er=new t;return er};t.prototype.create=function e(t,i){var n=this._items;var r=n[0];if(i&&i.type){var a=i.type.toLowerCase();for(var o=0;o<n.length;o++)if(n[o].name===a){r=n[o];break}}if(r)return new r.type(t,i);kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)};Object.defineProperties(t,i);return t}(o),or=function(e){function t(){e.apply(this,arguments)}c(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;var i={support:{}};i.support.get=function(){return ar.support};t.create=function e(t,i){return ar.current.create(t,i)};Object.defineProperties(t,i);return t}(Yi);function sr(e){var t=new _n({skipBaseHref:true});var i=e.clippedBBox();var n=e;if(i){var r=i.getOrigin();var a=new O;a.transform(T().translate(-r.x,-r.y));a.children.push(e);n=a}t.load([n]);var o="<?xml version='1.0' ?><svg xmlns='"+Zi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+t.render()+"</svg>";t.destroy();return o}var lr={Surface:On,RootNode:_n,Node:t,GroupNode:Sn,ArcNode:xn,CircleNode:Cn,RectNode:Dn,ImageNode:Tn,TextNode:Fn,PathNode:i,MultiPathNode:In,DefinitionNode:vn,ClipNode:gn,GradientStopNode:fn,LinearGradientNode:hn,RadialGradientNode:mn,exportGroup:sr},dr={Surface:Zn,RootNode:Ln,Node:zn,GroupNode:Rn,ArcNode:Kn,CircleNode:$n,RectNode:Xn,ImageNode:Yn,TextNode:Jn,PathNode:r,MultiPathNode:Qn};function ur(e,t){var i={width:"800px",height:"600px",cors:"Anonymous"};var n=e;var r=e.clippedBBox();if(r){var a=r.getOrigin();n=new O;n.transform(T().translate(-a.x,-a.y));n.children.push(e);var o=r.getSize();i.width=o.width+"px";i.height=o.height+"px"}var s=m.extend(i,t);var l=document.createElement("div");var d=l.style;d.display="none";d.width=s.width;d.height=s.height;document.body.appendChild(l);var u=new Zn(l,s);u.suspendTracking();u.draw(n);var c=u.image();var f=function(){u.destroy();document.body.removeChild(l)};c.then(f,f);return c}function cr(e,t){var i=sr(e);if(!t||!t.raw)i="data:image/svg+xml;base64,"+te(i);return I().resolve(i)}var L=S||{};function B(e){return Array.prototype.slice.call(e)}var fr="KENDO-PSEUDO-ELEMENT",pr={},V={};V._root=V;var hr,mr=typeof window!=="undefined"?L.msie||L.edge:false,gr=function(n){function e(e,t,i){n.call(this,e,t.getOrigin(),i);this._pdfRect=t}c(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.rect=function e(){return this._pdfRect};e.prototype.rawBBox=function e(){return this._pdfRect};return e}(ai);function vr(e,t){if(e.classList)e.classList.add(t);else e.className+=" "+t}function _r(e,i){if(e.classList)e.classList.remove(i);else e.className=e.className.split(/\s+/).reduce(function(e,t){if(t!=i)e.push(t);return e},[]).join(" ")}function br(t,i){Object.keys(i).forEach(function(e){t.style[e]=i[e]})}var kr=typeof Element!=="undefined"&&Element.prototype&&function(e){if(e.matches)return function(e,t){return e.matches(t)};if(e.webkitMatchesSelector)return function(e,t){return e.webkitMatchesSelector(t)};if(e.mozMatchesSelector)return function(e,t){return e.mozMatchesSelector(t)};if(e.msMatchesSelector)return function(e,t){return e.msMatchesSelector(t)};return function(e){return[].indexOf.call(document.querySelectorAll(e),this)!==-1}}(Element.prototype);function wr(e,t){if(e.closest)return e.closest(t);while(e&&!/^\[object (?:HTML)?Document\]$/.test(String(e))){if(e.nodeType==1&&kr(e,t))return e;e=e.parentNode}}var yr=function(s){if(s)return function e(t){var i=t.cloneNode(false);if(t.nodeType==1){var n=s(t),r=s(i),a;var o=n.data();for(a in o)r.data(a,o[a]);if(/^canvas$/i.test(t.tagName))i.getContext("2d").drawImage(t,0,0);else if(/^(?:input|select|textarea|option)$/i.test(t.tagName)){i.removeAttribute("id");i.removeAttribute("name");if(!/^textarea$/i.test(t.tagName))i.value=t.value;i.checked=t.checked;i.selected=t.selected}for(a=t.firstChild;a;a=a.nextSibling)i.appendChild(e(a))}return i};else return function e(t){var i=function e(t){var i=t.cloneNode(false);if(t._kendoExportVisual)i._kendoExportVisual=t._kendoExportVisual;for(var n=t.firstChild;n;n=n.nextSibling)i.appendChild(e(n));return i}(t);var n=t.querySelectorAll("canvas");if(n.length)B(i.querySelectorAll("canvas")).forEach(function(e,t){e.getContext("2d").drawImage(n[t],0,0)});var r=t.querySelectorAll("input, select, textarea, option");B(i.querySelectorAll("input, select, textarea, option")).forEach(function(e,t){e.removeAttribute("id");e.removeAttribute("name");if(!/^textarea$/i.test(e.tagName))e.value=r[t].value;e.checked=r[t].checked;e.selected=r[t].selected});return i}}(typeof window!=="undefined"&&window.kendo&&window.kendo.jQuery);function xr(e){if(typeof e=="number")return{x:e,y:e};if(Array.isArray(e))return{x:e[0],y:e[1]};return{x:e.x,y:e.y}}function Cr(l,d){if(!d)d={};var u=I();if(!l)return u.reject("No element to export");if(typeof window.getComputedStyle!="function")throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");kendo.pdf.defineFont(Er(l.ownerDocument));var c=xr(d.scale||1);function f(e){var t=new O;var i=e.getBoundingClientRect();Zr(t,[c.x,0,0,c.y,-i.left*c.x,-i.top*c.y]);V._clipbox=false;V._matrix=a.unit();V._stackingContext={element:e,group:t};if(d.avoidLinks===true)V._avoidLinks="a";else V._avoidLinks=d.avoidLinks;vr(e,"k-pdf-export");xa(e,t);_r(e,"k-pdf-export");return t}Lr([l],function(){var e=d&&d.forcePageBreak;var i=d&&d.paperSize&&d.paperSize!="auto";var t=kendo.pdf.getPaperOptions(function(e,t){if(e=="paperSize")return i?d[e]:"A4";return e in d?d[e]:t});var n=i&&t.paperSize[0];var r=i&&t.paperSize[1];var a=d.margin&&t.margin;var o=Boolean(a);if(e||r){if(!a)a={left:0,top:0,right:0,bottom:0};if(n)n/=c.x;if(r)r/=c.y;a.left/=c.x;a.right/=c.x;a.top/=c.y;a.bottom/=c.y;var s=new O({pdf:{multiPage:true,paperSize:i?t.paperSize:"auto",_ignoreMargin:o}});p(function(i){if(d.progress){var n=false,r=0;(function e(){if(r<i.pages.length){var t=f(i.pages[r]);s.append(t);d.progress({page:t,pageNum:++r,totalPages:i.pages.length,cancel:function(){n=true}});if(!n)setTimeout(e);else i.container.parentNode.removeChild(i.container)}else{i.container.parentNode.removeChild(i.container);u.resolve(s)}})()}else{i.pages.forEach(function(e){s.append(f(e))});i.container.parentNode.removeChild(i.container);u.resolve(s)}},l,e,n?n-a.left-a.right:null,r?r-a.top-a.bottom:null,a,d)}else u.resolve(f(l))});function y(n){if(n!=null){if(typeof n=="string")n=kendo.template(n.replace(/^\s+|\s+$/g,""));if(typeof n=="function")return function(e){var t=n(e);if(t&&typeof t=="string"){var i=document.createElement("div");i.innerHTML=t;t=i.firstElementChild}return t};return function(){return n.cloneNode(true)}}}function p(t,e,l,i,d,n,u){var r=y(u.template);var c=e.ownerDocument;var a=[];var f=u._destructive?e:yr(e);var o=c.createElement("KENDO-PDF-DOCUMENT");var p=0;B(f.querySelectorAll("tfoot")).forEach(function(e){e.parentNode.appendChild(e)});B(f.querySelectorAll("ol")).forEach(function(e){B(e.children).forEach(function(e,t){e.setAttribute("kendo-split-index",t)})});br(o,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(i){br(o,{width:i+"px",paddingLeft:n.left+"px",paddingRight:n.right+"px"});br(f,{overflow:"hidden"})}e.parentNode.insertBefore(o,e);o.appendChild(f);if(u.beforePageBreak)Nr([o],function(){u.beforePageBreak(o,s)});else Nr([o],s);function s(){if(l!="-"||d)m(f);{var e=_();f.parentNode.insertBefore(e,f);e.appendChild(f)}if(r)a.forEach(function(e,t){var i=r({element:e,pageNum:t+1,totalPages:a.length});if(i)e.appendChild(i)});Lr(a,t.bind(null,{pages:a,container:o}))}function h(e){if(u.keepTogether&&kr(e,u.keepTogether)&&e.offsetHeight<=d-p)return true;var t=e.tagName;if(/^h[1-6]$/i.test(t)&&e.offsetHeight>=d-p)return false;return e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName)}function m(e){if(e.tagName=="TABLE")br(e,{tableLayout:"fixed"});if(h(e))return;var t=W(e);var i=parseFloat(j(t,"padding-bottom"));var n=parseFloat(j(t,"border-bottom-width"));var r=p;p+=i+n;var a=true;for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==1){a=false;if(kr(o,l)){v(o);continue}if(!d){m(o);continue}if(!/^(?:static|relative)$/.test(j(W(o),"position")))continue;var s=b(o);if(s==1)v(o);else if(s)if(h(o))v(o);else m(o);else m(o)}else if(o.nodeType==3&&d){k(o,a);a=false}p=r}function g(e){var t=e.parentNode,i=t.firstChild;if(e===i)return true;if(e===t.children[0]){if(i.nodeType==7||i.nodeType==8)return true;if(i.nodeType==3)return!/\S/.test(i.data)}return false}function v(e){if(e.nodeType==1&&e!==f&&g(e))return v(e.parentNode);var t,i,n,r,a;t=wr(e,"table");i=t&&t.querySelector("colgroup");if(u.repeatHeaders){n=t&&t.querySelector("thead");r=wr(e,".k-grid.k-widget");if(r&&r.querySelector(".k-auto-scrollable"))a=r.querySelector(".k-grid-header")}var o=_();var s=c.createRange();s.setStartBefore(f);s.setEndBefore(e);o.appendChild(s.extractContents());f.parentNode.insertBefore(o,f);w(e.parentNode);if(t){t=wr(e,"table");if(u.repeatHeaders&&n)t.insertBefore(n.cloneNode(true),t.firstChild);if(i)t.insertBefore(i.cloneNode(true),t.firstChild)}if(u.repeatHeaders&&a){r=wr(e,".k-grid.k-widget");r.insertBefore(a.cloneNode(true),r.firstChild)}}function _(){var e=c.createElement("KENDO-PDF-PAGE");br(e,{display:"block",boxSizing:"content-box",width:i?i+"px":"auto",padding:n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px",position:"relative",height:d?d+"px":"auto",overflow:d||i?"hidden":"visible",clear:"both"});if(u&&u.pageClassName)e.className=u.pageClassName;a.push(e);return e}function b(e){var t=e.getBoundingClientRect();if(t.width===0||t.height===0)return 0;var i=f.getBoundingClientRect().top;var n=d-p;return t.height>n?3:t.top-i>n?1:t.bottom-i>n?2:0}function k(r,e){if(!/\S/.test(r.data))return;var t=r.data.length;var a=c.createRange();a.selectNodeContents(r);var i=b(a);if(!i)return;var n=r;if(i==1)if(e)v(r.parentNode);else v(r);else{(function e(t,i,n){a.setEnd(r,i);if(t==i||i==n)return i;if(b(a))return e(t,t+i>>1,i);else return e(i,i+n>>1,n)})(0,t>>1,t);if(!/\S/.test(a.toString())&&e)v(r.parentNode);else{n=r.splitText(a.endOffset);var o=_();a.setStartBefore(f);o.appendChild(a.extractContents());f.parentNode.insertBefore(o,f);w(n.parentNode)}}k(n)}function w(e){var t=wr(e,"li");if(t){t.setAttribute("kendo-no-bullet","1");w(t.parentNode)}}}return u}function Sr(e){var t=new O;V._clipbox=false;V._matrix=a.unit();V._stackingContext={element:e,group:t};Vr(e,W(e),t);if(e.firstChild.nodeType==3)wa(e,e.firstChild,t);else ua(e,t);Ur();return t}var Tr=function(){var a=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var f=/^([-0-9.]+%)/;var o=/^([-0-9.]+px)/;var p=/^(left|right|top|bottom|to|center)\W/;var h=/^([-0-9.]+(deg|grad|rad|turn)|0)/;var s=/^(\s+)/;var m=/^(\()/;var g=/^(\))/;var v=/^(,)/;var l=/^(url)\(/;var _=/^(.*?)\)/;var b={},t={};function i(d){var e=d;if(Ar(b,e))return b[e];function i(){var e=s.exec(d);if(e)d=d.substr(e[1].length)}function u(e){i();var t=e.exec(d);if(t){d=d.substr(t[1].length);return t[1]}}function c(){var e=kendo.parseColor(d,true);var t,i;if(e){var n=/^#[0-9a-f]+/i.exec(d)||/^rgba?\(.*?\)/i.exec(d)||/^..*?\b/.exec(d);d=d.substr(n[0].length);e=e.toRGB();if(!(t=u(o)))i=u(f);return{color:e,length:t,percent:i}}}function t(e){var t;var i,n;var r=[];var a=false;if(u(m)){t=u(h);if(t=="0")t="0deg";if(t){t=Jr(t);u(v)}else{i=u(p);if(i=="to")i=u(p);else if(i&&/^-/.test(e))a=true;n=u(p);u(v)}if(/-moz-/.test(e)&&t==null&&i==null){var o=u(f),s=u(f);a=true;if(o=="0%")i="left";else if(o=="100%")i="right";if(s=="0%")n="top";else if(s=="100%")n="bottom";u(v)}while(d&&!u(g)){var l=c();if(!l)break;r.push(l);u(v)}return{type:"linear",angle:t,to:i&&n?i+" "+n:i?i:n?n:null,stops:r,reverse:a}}}function n(){if(u(m)){var e=u(_);e=e.replace(/^['"]+|["']+$/g,"");u(g);return{type:"url",url:e}}}var r;if(r=u(a))r=t(r);else if(r=u(l))r=n();return b[e]=r||{type:"none"}}return function(e){if(Ar(t,e))return t[e];return t[e]=U(e).map(i)}}(),U=function(){var c={};return function(t,e){if(!e)e=/^\s*,\s*/;var i=t+e;if(Ar(c,i))return c[i];var n=[];var r=0,a=0;var o=0;var s=false;var l;function d(e){return l=e.exec(t.substr(a))}function u(e){return e.replace(/^\s+|\s+$/g,"")}while(a<t.length)if(!s&&d(/^[\(\[\{]/)){o++;a++}else if(!s&&d(/^[\)\]\}]/)){o--;a++}else if(!s&&d(/^[\"\']/)){s=l[0];a++}else if(s=="'"&&d(/^\\\'/))a+=2;else if(s=='"'&&d(/^\\\"/))a+=2;else if(s=="'"&&d(/^\'/)){s=false;a++}else if(s=='"'&&d(/^\"/)){s=false;a++}else if(d(e)){if(!s&&!o&&a>r){n.push(u(t.substring(r,a)));r=a+l[0].length}a+=l[0].length}else a++;if(r<a)n.push(u(t.substring(r,a)));return c[i]=n}}(),Ir=function(n){return function(e){var t=n[e];if(!t){var i;if(i=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))t=n[e]=i[2];else if(i=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))t=n[e]=i[2]}return t}}(Object.create?Object.create(null):{}),Dr=function(i){return function(e){var t=i[e];if(t==null)t=i[e]=x.measureText("Mapq",{font:e}).height;return t}}(Object.create?Object.create(null):{});function Er(e){if(e==null)e=document;var a={};for(var t=0;t<e.styleSheets.length;++t)d(e.styleSheets[t]);return a;function d(e){if(e){var t=null;try{t=e.cssRules}catch(e){}if(t)i(e,t)}}function u(e){var t=j(e.style,"src");if(t)return U(t).reduce(function(e,t){var i=Ir(t);if(i)e.push(i);return e},[]);else{var i=Ir(e.cssText);return i?[i]:[]}}function i(e,t){for(var i=0;i<t.length;++i){var n=t[i];switch(n.type){case 3:d(n.styleSheet);break;case 5:var r=n.style;var a=U(j(r,"font-family"));var o=/^([56789]00|bold)$/i.test(j(r,"font-weight"));var s="italic"==j(r,"font-style");var l=u(n);if(l.length>0)c(e,a,o,s,l[0])}}}function c(e,t,i,n,r){if(!/^data:/i.test(r))if(!(/^[^\/:]+:\/\//.test(r)||/^\//.test(r)))r=String(e.href).replace(/[^\/]*$/,"")+r;t.forEach(function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2");if(i)e+="|bold";if(n)e+="|italic";a[e]=r})}}function Ar(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fr(e){e="_counter_"+e;return V[e]}function Hr(e){var t=[],i=V;e="_counter_"+e;while(i){if(Ar(i,e))t.push(i[e]);i=Object.getPrototypeOf(i)}return t.reverse()}function Pr(e,t){var i=V;e="_counter_"+e;while(i&&!Ar(i,e))i=Object.getPrototypeOf(i);if(!i)i=V._root;i[e]=(i[e]||0)+(t==null?1:t)}function Or(e,t){e="_counter_"+e;V[e]=t==null?0:t}function Mr(e,t,i){for(var n=0;n<e.length;){var r=e[n++];var a=parseFloat(e[n]);if(isNaN(a))t(r,i);else{t(r,a);++n}}}function zr(e){var t=j(e,"counter-reset");if(t)Mr(U(t,/^\s+/),Or,0);var i=j(e,"counter-increment");if(i)Mr(U(i,/^\s+/),Pr,1)}function Rr(e,t){var i=kendo.parseColor(e,true);if(i){i=i.toRGB();if(t)i=i.toCssRgba();else if(i.a===0)i=null}return i}function Nr(e,t){var r=0;e.forEach(function(e){var t=e.querySelectorAll("img");for(var i=0;i<t.length;++i){var n=t[i];if(!n.complete){r++;n.onload=n.onerror=a}}});if(!r)a();function a(){if(--r<=0)t()}}function Lr(e,t){var i=[];function n(e){if(!pr[e]){pr[e]=true;i.push(e)}}e.forEach(function e(t){if(/^img$/i.test(t.tagName))n(t.src);Tr(j(W(t),"background-image")).forEach(function(e){if(e.type=="url")n(e.url)});if(t.children)B(t.children).forEach(e)});var r=i.length;function a(){if(--r<=0)Nr(e,t)}if(r===0)a();i.forEach(function(e){var t=pr[e]=new window.Image;if(!/^data:/i.test(e))t.crossOrigin="Anonymous";t.src=e;if(t.complete)a();else{t.onload=a;t.onerror=function(){pr[e]=null;a()}}})}function Br(e){var t="";do{var i=e%26;t=String.fromCharCode(97+i)+t;e=Math.floor(e/26)}while(e>0);return t}function Vr(e,t,i){V=Object.create(V);V[e.tagName.toLowerCase()]={element:e,style:t};var n=j(t,"text-decoration");if(n&&n!="none"){var r=j(t,"color");n.split(/\s+/g).forEach(function(e){if(!V[e])V[e]=r})}if(qr(t))V._stackingContext={element:e,group:i}}function Ur(){V=Object.getPrototypeOf(V)}function Wr(e){if(V._clipbox!=null){var t=e.bbox(V._matrix);if(V._clipbox)V._clipbox=H.intersect(V._clipbox,t);else V._clipbox=t}}function jr(){var e=V._clipbox;if(e==null)return true;if(e)return e.width()===0||e.height()===0}function qr(t){function e(e){return j(t,e)}if(e("transform")!="none"||e("position")!="static"||e("z-index")!="auto"||e("opacity")<1)return true}function W(e,t){return window.getComputedStyle(e,t||null)}function j(e,t,i){var n=e.getPropertyValue(t);if(n==null||n==="")if(L.webkit)n=e.getPropertyValue("-webkit-"+t);else if(L.mozilla)n=e.getPropertyValue("-moz-"+t);else if(L.opera)n=e.getPropertyValue("-o-"+t);else if(mr)n=e.getPropertyValue("-ms-"+t);if(arguments.length>2&&(n==null||n===""))return i;else return n}function Gr(e,t,i,n){e.setProperty(t,i,n);if(L.webkit)e.setProperty("-webkit-"+t,i,n);else if(L.mozilla)e.setProperty("-moz-"+t,i,n);else if(L.opera)e.setProperty("-o-"+t,i,n);else if(mr){e.setProperty("-ms-"+t,i,n);t="ms"+t.replace(/(^|-)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});e[t]=i}}function q(e,t){t="border-"+t;return{width:parseFloat(j(e,t+"-width")),style:j(e,t+"-style"),color:Rr(j(e,t+"-color"),true)}}function Kr(e,t){var i=e.style.cssText;var n=t();e.style.cssText=i;return n}function G(e,t){var i=j(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);if(i.length==1)i.push(i[0]);return ia({x:i[0],y:i[1]})}function $r(e){var t=e.getBoundingClientRect();t=Yr(t,"border-*-width",e);t=Yr(t,"padding-*",e);return t}function Yr(e,t,i){var n,r,a,o,s;if(typeof t=="string"){n=W(i);r=parseFloat(j(n,t.replace("*","top")));a=parseFloat(j(n,t.replace("*","right")));o=parseFloat(j(n,t.replace("*","bottom")));s=parseFloat(j(n,t.replace("*","left")))}else if(typeof t=="number")r=a=o=s=t;return{top:e.top+r,right:e.right-a,bottom:e.bottom-o,left:e.left+s,width:e.right-e.left-a-s,height:e.bottom-e.top-o-r}}function Qr(e){var t=j(e,"transform");if(t=="none")return null;var i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(i){var n=j(e,"transform-origin");i=i[1].split(/\s*,\s*/g).map(parseFloat);n=n.split(/\s+/g).map(parseFloat);return{matrix:i,origin:n}}}function Xr(e){return 180*e/Math.PI%360}function Jr(e){var t=parseFloat(e);if(/grad$/.test(e))return Math.PI*t/200;else if(/rad$/.test(e))return t;else if(/turn$/.test(e))return Math.PI*t*2;else if(/deg$/.test(e))return Math.PI*t/180}function Zr(e,t){t=new a(t[0],t[1],t[2],t[3],t[4],t[5]);e.transform(t);return t}function ea(e,t){e.clip(t)}function ta(e,t,i,n){var r=new $e([t,i],n).curvePoints(),a=1;while(a<r.length)e.curveTo(r[a++],r[a++],r[a++])}function ia(e){if(e.x<=0||e.y<=0)e.x=e.y=0;return e}function na(e,t,i,n,r){var a=Math.max(0,t.x),o=Math.max(0,t.y);var s=Math.max(0,i.x),l=Math.max(0,i.y);var d=Math.max(0,n.x),u=Math.max(0,n.y);var c=Math.max(0,r.x),f=Math.max(0,r.y);var p=Math.min(e.width/(a+s),e.height/(l+u),e.width/(d+c),e.height/(f+o));if(p<1){a*=p;o*=p;s*=p;l*=p;d*=p;u*=p;c*=p;f*=p}return{tl:{x:a,y:o},tr:{x:s,y:l},br:{x:d,y:u},bl:{x:c,y:f}}}function ra(e,t,i){var n=W(e);var r=G(n,"top-left");var a=G(n,"top-right");var o=G(n,"bottom-left");var s=G(n,"bottom-right");if(i=="padding"||i=="content"){var l=q(n,"top");var d=q(n,"right");var u=q(n,"bottom");var c=q(n,"left");r.x-=c.width;r.y-=l.width;a.x-=d.width;a.y-=l.width;s.x-=d.width;s.y-=u.width;o.x-=c.width;o.y-=u.width;if(i=="content"){var f=parseFloat(j(n,"padding-top"));var p=parseFloat(j(n,"padding-right"));var h=parseFloat(j(n,"padding-bottom"));var m=parseFloat(j(n,"padding-left"));r.x-=m;r.y-=f;a.x-=p;a.y-=f;s.x-=p;s.y-=h;o.x-=m;o.y-=h}}if(typeof i=="number"){r.x-=i;r.y-=i;a.x-=i;a.y-=i;s.x-=i;s.y-=i;o.x-=i;o.y-=i}return aa(t,r,a,s,o)}function aa(e,t,i,n,r){var a=na(e,t,i,n,r);var o=a.tl;var s=a.tr;var l=a.br;var d=a.bl;var u=new P({fill:null,stroke:null});u.moveTo(e.left,e.top+o.y);if(o.x)ta(u,e.left+o.x,e.top+o.y,{startAngle:-180,endAngle:-90,radiusX:o.x,radiusY:o.y});u.lineTo(e.right-s.x,e.top);if(s.x)ta(u,e.right-s.x,e.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y});u.lineTo(e.right,e.bottom-l.y);if(l.x)ta(u,e.right-l.x,e.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y});u.lineTo(e.left+d.x,e.bottom);if(d.x)ta(u,e.left+d.x,e.bottom-d.y,{startAngle:90,endAngle:180,radiusX:d.x,radiusY:d.y});return u.close()}function oa(e,t){var i=String(parseFloat(e));switch(t){case"decimal-leading-zero":if(i.length<2)i="0"+i;return i;case"lower-roman":return K(e).toLowerCase();case"upper-roman":return K(e).toUpperCase();case"lower-latin":case"lower-alpha":return Br(e-1);case"upper-latin":case"upper-alpha":return Br(e-1).toUpperCase();default:return i}}function sa(i,e){function n(e,t,i){if(!i)return oa(Fr(e)||0,t);i=i.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return Hr(e).map(function(e){return oa(e,t)}).join(i)}var t=U(e,/^\s+/);var r=[],a;t.forEach(function(e){var t;if(a=/^\s*(["'])(.*)\1\s*$/.exec(e))r.push(a[2].replace(/\\([0-9a-f]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}));else if(a=/^\s*counter\((.*?)\)\s*$/.exec(e)){t=U(a[1]);r.push(n(t[0],t[1]))}else if(a=/^\s*counters\((.*?)\)\s*$/.exec(e)){t=U(a[1]);r.push(n(t[0],t[2],t[1]))}else if(a=/^\s*attr\((.*?)\)\s*$/.exec(e))r.push(i.getAttribute(a[1])||"");else r.push(e)});return r.join("")}function la(e){if(e.cssText)return e.cssText;var t=[];for(var i=0;i<e.length;++i)t.push(e[i]+": "+j(e,e[i]));return t.join(";\n")}function da(a,e){if(a.tagName==fr){ua(a,e);return}var o=[];function t(e,t){var i=W(a,e),n=i.content;zr(i);if(n&&n!="normal"&&n!="none"&&i.width!="0px"){var r=a.ownerDocument.createElement(fr);r.style.cssText=la(i);r.textContent=sa(a,n);a.insertBefore(r,t);o.push(r)}}t(":before",a.firstChild);t(":after",null);if(o.length>0){var i=a.className;a.className+=" kendo-pdf-hide-pseudo-elements";ua(a,e);a.className=i;o.forEach(function(e){a.removeChild(e)})}else ua(a,e)}function ua(b,f){var d=W(b);var p=q(d,"top");var h=q(d,"right");var m=q(d,"bottom");var g=q(d,"left");var v=G(d,"top-left");var _=G(d,"top-right");var k=G(d,"bottom-left");var w=G(d,"bottom-right");var y=j(d,"direction");var r=j(d,"background-color");r=Rr(r);var a=Tr(j(d,"background-image"));var o=U(j(d,"background-repeat"));var s=U(j(d,"background-position"));var l=U(j(d,"background-origin"));var u=U(j(d,"background-size"));var e,t;if(mr){e=d.textOverflow;if(e=="ellipsis"){t=b.style.textOverflow;b.style.textOverflow="clip"}}if(L.msie&&L.version<10)s=U(b.currentStyle.backgroundPosition);var c=Yr(b.getBoundingClientRect(),"border-*-width",b);(function(){var e=j(d,"clip");var t=/^\s*rect\((.*)\)\s*$/.exec(e);if(t){var i=t[1].split(/[ ,]+/g);var n=i[0]=="auto"?c.top:parseFloat(i[0])+c.top;var r=i[1]=="auto"?c.right:parseFloat(i[1])+c.left;var a=i[2]=="auto"?c.bottom:parseFloat(i[2])+c.top;var o=i[3]=="auto"?c.left:parseFloat(i[3])+c.left;var s=new O;var l=(new P).moveTo(o,n).lineTo(r,n).lineTo(r,a).lineTo(o,a).close();ea(s,l);f.append(s);f=s;Wr(l)}})();var i,n,x;var C=j(d,"display");if(C=="table-row"){i=[];for(n=0,x=b.children;n<x.length;++n)i.push(x[n].getBoundingClientRect())}else{i=b.getClientRects();if(i.length==1)i=[b.getBoundingClientRect()]}i=T(i);for(n=0;n<i.length;++n)F(i[n],n===0,n==i.length-1);if(b.tagName=="A"&&b.href&&!/^#?$/.test(b.getAttribute("href")))if(!V._avoidLinks||!kr(b,V._avoidLinks)){var S=document.createRange();S.selectNodeContents(b);B(S.getClientRects()).forEach(function(e){var t=new O;t._pdfLink={url:b.href,top:e.top,right:e.right,bottom:e.bottom,left:e.left};f.append(t)})}if(i.length>0&&C=="list-item"&&!b.getAttribute("kendo-no-bullet"))A(i[0]);(function(){function e(){var e=ra(b,c,"padding");var t=new O;ea(t,e);f.append(t);f=t;Wr(e)}if(ma(b))e();else if(/^(hidden|auto|scroll)/.test(j(d,"overflow")))e();else if(/^(hidden|auto|scroll)/.test(j(d,"overflow-x")))e();else if(/^(hidden|auto|scroll)/.test(j(d,"overflow-y")))e()})();if(!fa(b,f))ka(b,f);if(mr&&e=="ellipsis")b.style.textOverflow=t;return f;function T(e){if(/^td$/i.test(b.tagName)){var t=V.table;if(t&&j(t.style,"border-collapse")=="collapse"){var i=q(t.style,"left").width;var n=q(t.style,"top").width;if(i===0&&n===0)return e;var r=t.element.getBoundingClientRect();var a=t.element.rows[0].cells[0];var o=a.getBoundingClientRect();if(o.top==r.top||o.left==r.left)return B(e).map(function(e){return{left:e.left+i,top:e.top+n,right:e.right+i,bottom:e.bottom+n,height:e.height,width:e.width}})}}return e}function I(o,e,s,t,i,n,r,a){if(s<=0)return;var l,d=new O;Zr(d,a);f.append(d);ia(n);ia(r);l=new P({fill:{color:o},stroke:null});d.append(l);l.moveTo(n.x?Math.max(n.x,t):0,0).lineTo(e-(r.x?Math.max(r.x,i):0),0).lineTo(e-Math.max(r.x,i),s).lineTo(Math.max(n.x,t),s).close();if(n.x)u(t,n,[-1,0,0,1,n.x,0]);if(r.x)u(i,r,[1,0,0,1,e-r.x,0]);function u(e,t,i){var n=Math.PI/2*e/(e+s);var r={x:t.x-e,y:t.y-s};var a=new P({fill:{color:o},stroke:null}).moveTo(0,0);Zr(a,i);ta(a,0,t.y,{startAngle:-90,endAngle:-Xr(n),radiusX:t.x,radiusY:t.y});if(r.x>0&&r.y>0){a.lineTo(r.x*Math.cos(n),t.y-r.y*Math.sin(n));ta(a,0,t.y,{startAngle:-Xr(n),endAngle:-90,radiusX:r.x,radiusY:r.y,anticlockwise:true})}else if(r.x>0)a.lineTo(r.x,s).lineTo(0,s);else a.lineTo(r.x,s).lineTo(r.x,0);d.append(a.close())}}function D(e){var t=new O;ea(t,aa(e,v,_,w,k));f.append(t);if(r){var i=new P({fill:{color:r.toCssRgba()},stroke:null});i.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close();t.append(i)}for(var n=a.length;--n>=0;)E(t,e,a[n],o[n%o.length],s[n%s.length],l[n%l.length],u[n%u.length])}function E(e,t,i,m,g,v,_){if(!i||i=="none")return;if(i.type=="url"){var n=pr[i.url];if(n&&n.width>0&&n.height>0)r(e,t,n.width,n.height,function(e,t){e.append(new oi(i.url,t))})}else if(i.type=="linear")r(e,t,t.width,t.height,ca(i));else return;function r(e,t,i,n,r){var a=i/n,o;var s=t;if(v=="content-box"){s=Yr(s,"border-*-width",b);s=Yr(s,"padding-*",b)}else if(v=="padding-box")s=Yr(s,"border-*-width",b);if(!/^\s*auto(\s+auto)?\s*$/.test(_))if(_=="contain"){o=Math.min(s.width/i,s.height/n);i*=o;n*=o}else if(_=="cover"){o=Math.max(s.width/i,s.height/n);i*=o;n*=o}else{var l=_.split(/\s+/g);if(/%$/.test(l[0]))i=s.width*parseFloat(l[0])/100;else i=parseFloat(l[0]);if(l.length==1||l[1]=="auto")n=i/a;else if(/%$/.test(l[1]))n=s.height*parseFloat(l[1])/100;else n=parseFloat(l[1])}var d=String(g);switch(d){case"bottom":d="50% 100%";break;case"top":d="50% 0";break;case"left":d="0 50%";break;case"right":d="100% 50%";break;case"center":d="50% 50%";break}d=d.split(/\s+/);if(d.length==1)d[1]="50%";if(/%$/.test(d[0]))d[0]=parseFloat(d[0])/100*(s.width-i);else d[0]=parseFloat(d[0]);if(/%$/.test(d[1]))d[1]=parseFloat(d[1])/100*(s.height-n);else d[1]=parseFloat(d[1]);var u=new H([s.left+d[0],s.top+d[1]],[i,n]);function c(){while(u.origin.x>t.left)u.origin.x-=i}function f(){while(u.origin.y>t.top)u.origin.y-=n}function p(){while(u.origin.x<t.right){r(e,u.clone());u.origin.x+=i}}if(m=="no-repeat")r(e,u);else if(m=="repeat-x"){c();p()}else if(m=="repeat-y"){f();while(u.origin.y<t.bottom){r(e,u.clone());u.origin.y+=n}}else if(m=="repeat"){c();f();var h=u.origin.clone();while(u.origin.y<t.bottom){u.origin.x=h.x;p();u.origin.y+=n}}}}function A(){var i=j(d,"list-style-type");if(i=="none")return;var n=j(d,"list-style-position");function e(t){Kr(b,function(){b.style.position="relative";var e=b.ownerDocument.createElement(fr);e.style.position="absolute";e.style.boxSizing="border-box";if(n=="outside"){e.style.width="6em";e.style.left="-6.8em";e.style.textAlign="right"}else e.style.left="0px";t(e);b.insertBefore(e,b.firstChild);xa(e,f);b.removeChild(e)})}function r(e){var t=b.parentNode.children;var i=b.getAttribute("kendo-split-index");if(i!=null)return e(i|0,t.length);for(var n=0;n<t.length;++n)if(t[n]===b)return e(n,t.length)}switch(i){case"circle":case"disc":case"square":e(function(e){e.style.fontSize="60%";e.style.lineHeight="200%";e.style.paddingRight="0.5em";e.style.fontFamily="DejaVu Serif";e.innerHTML={disc:"●",circle:"◯",square:"■"}[i]});break;case"decimal":case"decimal-leading-zero":e(function(t){r(function(e){++e;if(i=="decimal-leading-zero"&&e<10)e="0"+e;t.innerHTML=e+"."})});break;case"lower-roman":case"upper-roman":e(function(t){r(function(e){e=K(e+1);if(i=="upper-roman")e=e.toUpperCase();t.innerHTML=e+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":e(function(t){r(function(e){e=Br(e);if(/^upper/i.test(i))e=e.toUpperCase();t.innerHTML=e+"."})});break}}function F(e,t,i){if(e.width===0||e.height===0)return;D(e);var n=g.width>0&&(t&&y=="ltr"||i&&y=="rtl");var r=h.width>0&&(i&&y=="ltr"||t&&y=="rtl");if(p.width===0&&g.width===0&&h.width===0&&m.width===0)return;if(p.color==h.color&&p.color==m.color&&p.color==g.color)if(p.width==h.width&&p.width==m.width&&p.width==g.width)if(n&&r){e=Yr(e,p.width/2);var a=ra(b,e,p.width/2);a.options.stroke={color:p.color,width:p.width};f.append(a);return}if(v.x===0&&_.x===0&&w.x===0&&k.x===0)if(p.width<2&&g.width<2&&h.width<2&&m.width<2){if(p.width>0)f.append(new P({stroke:{width:p.width,color:p.color}}).moveTo(e.left,e.top+p.width/2).lineTo(e.right,e.top+p.width/2));if(m.width>0)f.append(new P({stroke:{width:m.width,color:m.color}}).moveTo(e.left,e.bottom-m.width/2).lineTo(e.right,e.bottom-m.width/2));if(n)f.append(new P({stroke:{width:g.width,color:g.color}}).moveTo(e.left+g.width/2,e.top).lineTo(e.left+g.width/2,e.bottom));if(r)f.append(new P({stroke:{width:h.width,color:h.color}}).moveTo(e.right-h.width/2,e.top).lineTo(e.right-h.width/2,e.bottom));return}var o=na(e,v,_,w,k);var s=o.tl;var l=o.tr;var d=o.br;var u=o.bl;I(p.color,e.width,p.width,g.width,h.width,s,l,[1,0,0,1,e.left,e.top]);I(m.color,e.width,m.width,h.width,g.width,d,u,[-1,0,0,-1,e.right,e.bottom]);function c(e){return{x:e.y,y:e.x}}I(g.color,e.height,g.width,m.width,p.width,c(u),c(s),[0,-1,1,0,e.left,e.bottom]);I(h.color,e.height,h.width,p.width,m.width,c(l),c(d),[0,1,-1,0,e.right,e.top])}}function ca(v){return function(e,t){var i=t.width(),n=t.height();switch(v.type){case"linear":var r=v.angle!=null?v.angle:Math.PI;switch(v.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(n,i);break;case"top right":case"right top":r=Math.atan2(n,i);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(n,i);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(n,i);break}if(v.reverse)r-=Math.PI;r%=2*Math.PI;if(r<0)r+=2*Math.PI;var a=Math.abs(i*Math.sin(r))+Math.abs(n*Math.cos(r));var o=Math.atan(i*Math.tan(r)/n);var s=Math.sin(o),l=Math.cos(o);var d=Math.abs(s)+Math.abs(l);var u=d/2*s;var c=d/2*l;if(r>Math.PI/2&&r<=3*Math.PI/2){u=-u;c=-c}var f=[],p=0;var h=v.stops.map(function(e,t){var i=e.percent;if(i)i=parseFloat(i)/100;else if(e.length)i=parseFloat(e.length)/a;else if(t===0)i=0;else if(t==v.stops.length-1)i=1;var n={color:e.color.toCssRgba(),offset:i};if(i!=null){p=i;f.forEach(function(e,t){var i=e.stop;i.offset=e.left+(p-e.left)*(t+1)/(f.length+1)});f=[]}else f.push({left:p,stop:n});return n});var m=[.5-u,.5+c];var g=[.5+u,.5-c];e.append(P.fromRect(t).stroke(null).fill(new zi({start:m,end:g,stops:h,userSpace:false})));break;case"radial":if(window.console&&window.console.log)window.console.log("Radial gradients are not yet supported in HTML renderer");break}}}function fa(e,t){var i;if(e._kendoExportVisual)i=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var n=window.kendo.widgetInstance(window.kendo.jQuery(e));if(n&&(n.exportDOMVisual||n.exportVisual))if(n.exportDOMVisual)i=n.exportDOMVisual();else i=n.exportVisual()}if(!i)return false;var r=new O;r.children.push(i);var a=e.getBoundingClientRect();r.transform(T().translate(a.left,a.top));t.append(r);return true}function pa(e,t,i){var n=$r(e);var r=new H([n.left,n.top],[n.width,n.height]);var a=new oi(t,r);ea(a,ra(e,n,"content"));i.append(a)}function ha(e,t){var i=W(e);var n=W(t);var r=parseFloat(j(i,"z-index"));var a=parseFloat(j(n,"z-index"));var o=j(i,"position");var s=j(n,"position");if(isNaN(r)&&isNaN(a)){if(/static|absolute/.test(o)&&/static|absolute/.test(s))return 0;if(o=="static")return-1;if(s=="static")return 1;return 0}if(isNaN(r))return a===0?0:a>0?-1:1;if(isNaN(a))return r===0?0:r>0?1:-1;return parseFloat(r)-parseFloat(a)}function ma(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}function ga(e){if(e.selectedOptions&&e.selectedOptions.length>0)return e.selectedOptions[0];return e.options[e.selectedIndex]}function va(e,t){var i=W(e);var n=j(i,"color");var r=e.getBoundingClientRect();if(e.type=="checkbox"){t.append(P.fromRect(new H([r.left+1,r.top+1],[r.width-2,r.height-2])).stroke(n,1));if(e.checked)t.append((new P).stroke(n,1.2).moveTo(r.left+.22*r.width,r.top+.55*r.height).lineTo(r.left+.45*r.width,r.top+.75*r.height).lineTo(r.left+.78*r.width,r.top+.22*r.width))}else{t.append(new Ve(new He([(r.left+r.right)/2,(r.top+r.bottom)/2],Math.min(r.width-2,r.height-2)/2)).stroke(n,1));if(e.checked)t.append(new Ve(new He([(r.left+r.right)/2,(r.top+r.bottom)/2],Math.min(r.width-8,r.height-8)/2)).fill(n).stroke(null))}}function _a(e,t){var i=e.tagName.toLowerCase();if(i=="input"&&(e.type=="checkbox"||e.type=="radio"))return va(e,t);var n=e.parentNode;var r=e.ownerDocument;var a=r.createElement(fr);var o;a.style.cssText=la(W(e));if(i=="input")a.style.whiteSpace="pre";if(i=="select"||i=="textarea")a.style.overflow="auto";if(i=="select")if(e.multiple)for(var s=0;s<e.options.length;++s){o=r.createElement(fr);o.style.cssText=la(W(e.options[s]));o.style.display="block";o.textContent=e.options[s].textContent;a.appendChild(o)}else{o=ga(e);if(o)a.textContent=o.textContent}else a.textContent=e.value;n.insertBefore(a,e);a.scrollLeft=e.scrollLeft;a.scrollTop=e.scrollTop;e.style.display="none";ka(a,t);e.style.display="";n.removeChild(a)}function ba(e){var t=new window.XMLSerializer;var i=t.serializeToString(e);if(L.mozilla&&!(e.getAttribute("width")&&e.getAttribute("height"))){var n=(new window.DOMParser).parseFromString(i,"image/svg+xml");var r=n.documentElement;var a=$r(e);r.setAttribute("width",a.width);r.setAttribute("height",a.height);i=t.serializeToString(r)}return i}function ka(e,t){if(V._stackingContext.element===e)V._stackingContext.group=t;switch(e.tagName.toLowerCase()){case"img":pa(e,e.src,t);break;case"svg":var i=ba(e);var n="data:image/svg+xml;base64,"+te(i);pa(e,n,t);break;case"canvas":try{pa(e,e.toDataURL("image/png"),t)}catch(e){}break;case"textarea":case"input":case"select":_a(e,t);break;default:var r=[],a=[],o=[];for(var s=e.firstChild;s;s=s.nextSibling)switch(s.nodeType){case 3:if(/\S/.test(s.data))wa(e,s,t);break;case 1:var l=W(s);var d=j(l,"float");var u=j(l,"position");if(u!="static")o.push(s);else if(d!="none")a.push(s);else r.push(s);break}oe(r,ha).forEach(function(e){xa(e,t)});oe(a,ha).forEach(function(e){xa(e,t)});oe(o,ha).forEach(function(e){xa(e,t)})}}function wa(e,d,a){if(jr())return;var t=W(e);if(parseFloat(j(t,"text-indent"))<-500)return;var u=d.data;var c=0;var f=u.search(/\S\s*$/)+1;if(!f)return;var o=j(t,"font-size");var s=j(t,"line-height");var l=[j(t,"font-style"),j(t,"font-variant"),j(t,"font-weight"),o,j(t,"font-family")].join(" ");o=parseFloat(o);s=parseFloat(s);if(o===0)return;var p=j(t,"color");var h=e.ownerDocument.createRange();var i=j(t,"text-align");var m=i=="justify";var g=j(t,"column-count",1);var v=j(t,"white-space");var _=j(t,"text-transform");var b=e.getBoundingClientRect().width/o*5;if(b===0)b=500;var k=null;var n=V["underline"];var w=V["line-through"];var y=V["overline"];var r=n||w||y;while(!C());if(r){h.selectNode(d);B(h.getClientRects()).forEach(T)}return;function x(e){if(mr||L.chrome||L.safari){var t=e.getClientRects(),i={top:Infinity,right:-Infinity,bottom:-Infinity,left:Infinity},n=false;for(var r=0;r<t.length;++r){var a=t[r];if(a.width<=1||a.bottom===k)continue;i.left=Math.min(a.left,i.left);i.top=Math.min(a.top,i.top);i.right=Math.max(a.right,i.right);i.bottom=Math.max(a.bottom,i.bottom);n=true}if(!n)return e.getBoundingClientRect();i.width=i.right-i.left;i.height=i.bottom-i.top;return i}return e.getBoundingClientRect()}function C(){var e=c;var a,t=u.substr(c).search(/\S/);c+=t;if(t<0||c>=f)return true;h.setStart(d,c);h.setEnd(d,c+1);a=x(h);var i=false;if(m||g>1){t=u.substr(c).search(/\s/);if(t>=0){h.setEnd(d,c+t);var n=x(h);if(n.bottom==a.bottom){a=n;i=true;c+=t}}}if(!i){t=function e(t,i,n){h.setEnd(d,i);var r=x(h);if(r.bottom!=a.bottom&&t<i)return e(t,t+i>>1,i);else if(r.right!=a.right){a=r;if(i<n)return e(i,i+n>>1,n);else return i}else return i}(c,Math.min(f,c+b),f);if(t==c)return true;c=t;t=h.toString().search(/\s+$/);if(t===0)return false;if(t>0){h.setEnd(d,h.startOffset+t);a=x(h)}}if(mr)a=h.getClientRects()[0];var r=h.toString();if(!/^(?:pre|pre-wrap)$/i.test(v))r=r.replace(/\s+/g," ");else if(/\t/.test(r)){var o=0;for(t=e;t<h.startOffset;++t){var s=u.charCodeAt(t);if(s==9)o+=8-o%8;else if(s==10||s==13)o=0;else o++}while((t=r.search("\t"))>=0){var l="        ".substr(0,8-(o+t)%8);r=r.substr(0,t)+l+r.substr(t+1)}}if(!i)k=a.bottom;S(r,a)}function S(e,t){if(mr&&!isNaN(s)){var i=Dr(l);var n=(t.top+t.bottom-i)/2;t={top:n,right:t.right,bottom:n+i,left:t.left,height:i,width:t.right-t.left}}switch(_){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()});break}var r=new gr(e,new H([t.left,t.top],[t.width,t.height]),{font:l,fill:{color:p}});a.append(r)}function T(r){e(n,r.bottom);e(w,r.bottom-r.height/2.7);e(y,r.top);function e(e,t){if(e){var i=o/12;var n=new P({stroke:{width:i,color:e}});t-=i;n.moveTo(r.left,t).lineTo(r.right,t);a.append(n)}}}}function ya(e,t,i){var n;if(i!="auto"){n=V._stackingContext.group;i=parseFloat(i)}else{n=t;i=0}var r=n.children;for(var a=0;a<r.length;++a)if(r[a]._dom_zIndex!=null&&r[a]._dom_zIndex>i)break;var o=new O;n.insert(a,o);o._dom_zIndex=i;if(n!==t)if(V._clipbox){var s=V._matrix.invert();var l=V._clipbox.transformCopy(s);ea(o,P.fromRect(l))}return o}function xa(r,e){var a=W(r);zr(a);if(/^(style|script|link|meta|iframe|col|colgroup)$/i.test(r.tagName))return;if(V._clipbox==null)return;var t=parseFloat(j(a,"opacity"));var i=j(a,"visibility");var n=j(a,"display");if(t===0||i=="hidden"||n=="none")return;var o=Qr(a);var s;var l=j(a,"z-index");if((o||t<1)&&l=="auto")l=0;s=ya(r,e,l);if(t<1)s.opacity(t*s.opacity());Vr(r,a,s);if(!o)da(r,s);else Kr(r,function(){Gr(r.style,"transform","none","important");Gr(r.style,"transition","none","important");if(j(a,"position")=="static")Gr(r.style,"position","relative","important");var e=r.getBoundingClientRect();var t=e.left+o.origin[0];var i=e.top+o.origin[1];var n=[1,0,0,1,-t,-i];n=Ca(n,o.matrix);n=Ca(n,[1,0,0,1,t,i]);n=Zr(s,n);V._matrix=V._matrix.multiplyCopy(n);da(r,s)});Ur()}function Ca(e,t){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5];var l=t[0],d=t[1],u=t[2],c=t[3],f=t[4],p=t[5];return[i*l+n*u,i*d+n*c,r*l+a*u,r*d+a*c,o*l+s*u+f,o*d+s*c+p]}var Sa={svg:lr,canvas:dr,util:we,HasObservers:e,PathParser:Gi,parsePath:$t,BaseNode:Ki,OptionsStore:xe,Surface:or,SurfaceFactory:ar,exportImage:ur,exportSVG:cr,QuadNode:Vn,ShapesQuadTree:jn,Element:n,Circle:Ve,Arc:ii,Path:P,MultiPath:ei,Text:ai,Image:oi,Group:O,Layout:hi,Rect:mi,align:vi,vAlign:_i,stack:wi,vStack:yi,wrap:Si,vWrap:Ti,fit:Ii,LinearGradient:zi,RadialGradient:Ri,GradientStop:Pi,Gradient:Oi,Animation:ji,AnimationFactory:Wi,drawDOM:Cr,drawText:Sr,getFontFaces:Er};kendo.deepExtend(kendo,{drawing:Sa,geometry:wt}),kendo.drawing.Segment=kendo.geometry.Segment,kendo.dataviz.drawing=kendo.drawing,kendo.dataviz.geometry=kendo.geometry,kendo.drawing.util.measureText=kendo.util.measureText,kendo.drawing.util.objectKey=kendo.util.objectKey,kendo.drawing.Color=kendo.Color,kendo.util.encodeBase64=kendo.drawing.util.encodeBase64})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/surface-tooltip.min",["kendo.popup.min","./kendo-drawing.min"],function(){var i=window.kendo.jQuery,t=".kendo",r=window.kendo,n=r.deepExtend,e=r.drawing.util,a=e.defined,g=e.limitValue,v=e.eventCoordinates,o=r._outerWidth,s=r._outerHeight,l='<div class="k-tooltip">'+'<div class="k-tooltip-content"></div>'+"</div>",d='<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>',u=r.Class.extend({init:function(e,t){this.element=i(l);this.content=this.element.children(".k-tooltip-content");t=t||{};this.options=n({},this.options,this._tooltipOptions(t));this.popupOptions={appendTo:t.appendTo,animation:t.animation,copyAnchorStyles:false,collision:"fit fit"};this._openPopupHandler=this._openPopup.bind(this);this.surface=e;this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:true,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=this._showEvent.bind(this);this._surfaceLeaveHandler=this._surfaceLeave.bind(this);this._mouseleaveHandler=this._mouseleave.bind(this);this._mousemoveHandler=this._mousemove.bind(this);this.surface.bind("click",this._showHandler);this.surface.bind("mouseenter",this._showHandler);this.surface.bind("mouseleave",this._mouseleaveHandler);this.surface.bind("mousemove",this._mousemoveHandler);this.surface.element.on("mouseleave"+t,this._surfaceLeaveHandler);this.element.on("click"+t,".k-tooltip-button",this._hideClick.bind(this));this.element.on("mouseleave"+t,this._tooltipLeave.bind(this))},getPopup:function(){if(!this.popup)this.popup=new r.ui.Popup(this.element,this.popupOptions);return this.popup},destroy:function(){var e=this.popup;this.surface.unbind("click",this._showHandler);this.surface.unbind("mouseenter",this._showHandler);this.surface.unbind("mouseleave",this._mouseleaveHandler);this.surface.unbind("mousemove",this._mousemoveHandler);this.surface.element.off("mouseleave"+t,this._surfaceLeaveHandler);this.element.off("click"+t);this.element.off("mouseleave"+t);if(e){e.destroy();delete this.popup}delete this.popupOptions;clearTimeout(this._timeout);delete this.element;delete this.content;delete this.surface},_tooltipOptions:function(e){e=e||{};return{position:e.position,showOn:e.showOn,offset:e.offset,autoHide:e.autoHide,width:e.width,height:e.height,content:e.content,shared:e.shared,hideDelay:e.hideDelay,showAfter:e.showAfter}},_tooltipShape:function(e){while(e&&!e.options.tooltip)e=e.parent;return e},_updateContent:function(e,t,i){var n=i.content;if(r.isFunction(n))n=n({element:t,target:e});if(n){this.content.html(n);return true}},_position:function(e,t,i,n){var r=t.position;var a=t.offset||0;var o=this.surface;var s=o._instance._elementOffset();var l=o.getSize();var d=o._instance._offset;var u=e.bbox();var c=i.width;var f=i.height;var p=0,h=0;u.origin.translate(s.left,s.top);if(d)u.origin.translate(-d.x,-d.y);if(r=="cursor"&&n){var m=v(n);p=m.x-c/2;h=m.y-f-a}else if(r=="left"){p=u.origin.x-c-a;h=u.center().y-f/2}else if(r=="right"){p=u.bottomRight().x+a;h=u.center().y-f/2}else if(r=="bottom"){p=u.center().x-c/2;h=u.bottomRight().y+a}else{p=u.center().x-c/2;h=u.origin.y-f-a}return{left:g(p,s.left,s.left+l.width),top:g(h,s.top,s.top+l.height)}},show:function(e,t){this._show(e,e,n({},this.options,this._tooltipOptions(e.options.tooltip),t))},hide:function(){var e=this.popup;var t=this._current;delete this._current;clearTimeout(this._showTimeout);if(e&&e.visible()&&t&&!this.surface.trigger("tooltipClose",{element:t.shape,target:t.target,popup:e}))e.close()},_hideClick:function(e){e.preventDefault();this.hide()},_show:function(e,t,i,n,r){var a=this._current;clearTimeout(this._timeout);if(a&&(a.shape===t&&i.shared||a.target===e))return;clearTimeout(this._showTimeout);var o=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:t,target:e,popup:o})&&this._updateContent(e,t,i)){this._autoHide(i);var s=this._measure(i);if(o.visible())o.close(true);this._current={options:i,elementSize:s,shape:t,target:e,position:this._position(i.shared?t:e,i,s,n)};if(r)this._showTimeout=setTimeout(this._openPopupHandler,i.showAfter||0);else this._openPopup()}},_openPopup:function(){var e=this._current;var t=e.position;this.getPopup().open(t.left,t.top)},_autoHide:function(e){if(e.autoHide&&this._closeButton){this.element.removeClass("k-tooltip-closable");this._closeButton.remove();delete this._closeButton}if(!e.autoHide&&!this._closeButton){this.element.addClass("k-tooltip-closable");this._closeButton=i(d).appendTo(this.element)}},_showEvent:function(e){var t=this._tooltipShape(e.element);if(t){var i=n({},this.options,this._tooltipOptions(t.options.tooltip));if(i&&i.showOn==e.type)this._show(e.element,t,i,e.originalEvent,true)}},_measure:function(e){var t=this.getPopup();var i,n;this.element.css({width:"auto",height:"auto"});var r=t.visible();if(!r)t.wrapper.show();this.element.css({width:a(e.width)?e.width:"auto",height:a(e.height)?e.height:"auto"});i=o(this.element);n=s(this.element);if(!r)t.wrapper.hide();return{width:i,height:n}},_mouseleave:function(e){if(this.popup&&!this._popupRelatedTarget(e.originalEvent)){var t=this;var i=t._current;if(i&&i.options.autoHide)t._timeout=setTimeout(function(){clearTimeout(t._showTimeout);t.hide()},i.options.hideDelay||0)}},_mousemove:function(e){var t=this._current;if(t&&e.element){var i=t.options;if(i.position=="cursor"){var n=this._position(e.element,i,t.elementSize,e.originalEvent);t.position=n;this.getPopup().wrapper.css({left:n.left,top:n.top})}}},_surfaceLeave:function(e){if(this.popup&&!this._popupRelatedTarget(e)){clearTimeout(this._showTimeout);this.hide()}},_popupRelatedTarget:function(e){return e.relatedTarget&&i(e.relatedTarget).closest(this.popup.wrapper).length},_tooltipLeave:function(){var e=this;var t=e._current;if(t&&t.options.autoHide)e._timeout=setTimeout(function(){e.hide()},t.options.hideDelay||0)}});r.drawing.SurfaceTooltip=u})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/surface.min",["./kendo-drawing.min","./surface-tooltip.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=t.drawing,n=i.Surface,r=t.ui.Widget,a=t.deepExtend,o=(t.support.svg=n.support.svg,t.support.canvas=n.support.canvas,r.extend({init:function(e,t){r.fn.init.call(this,e,{});this.options=a({},this.options,t);this._instance=n.create(this.element[0],t);if(this._instance.translate)this.translate=s;this._triggerInstanceHandler=this._triggerInstanceEvent.bind(this);this._bindHandler("click");this._bindHandler("mouseenter");this._bindHandler("mouseleave");this._bindHandler("mousemove");this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(e){this.trigger(e.type,e)},_bindHandler:function(e){this._instance.bind(e,this._triggerInstanceHandler)},draw:function(e){this._instance.draw(e)},clear:function(){if(this._instance)this._instance.clear();this.hideTooltip()},destroy:function(){if(this._instance){this._instance.destroy();delete this._instance}if(this._tooltip){this._tooltip.destroy();delete this._tooltip}r.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(e){return this._instance.eventTarget(e)},showTooltip:function(e,t){if(this._tooltip)this._tooltip.show(e,t)},hideTooltip:function(){if(this._tooltip)this._tooltip.hide()},suspendTracking:function(){this._instance.suspendTracking();this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(e){this.element.css({width:e.width,height:e.height});this._size=e;this._instance.currentSize(e);this._resize()},_resize:function(){this._instance.currentSize(this._size);this._instance._resize()},_enableTracking:function(){if(t.ui.Popup)this._tooltip=new i.SurfaceTooltip(this,this.options.tooltip||{})}}));function s(e){this._instance.translate(e)}t.ui.plugin(o),o.create=function(e,t){return new o(e,t)},t.drawing.Surface=o})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("drawing/html.min",["./kendo-drawing.min"],function(){var i=window.kendo.jQuery,e,t=window.kendo.drawing,n=t.drawDOM;t.drawDOM=function(e,t){return n(i(e)[0],t)},t.drawDOM.drawText=t.drawText,t.drawDOM.getFontFaces=t.getFontFaces})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.drawing.min",["./drawing/util.min","./drawing/kendo-drawing.min","./drawing/surface-tooltip.min","./drawing/surface.min","./drawing/html.min"],function(){var e={id:"drawing",name:"Drawing API",category:"framework",description:"The Kendo UI low-level drawing API",depends:["core","color","popup"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("pdf/pako.min",["kendo.core.min"],function(){return kendo.pdf=kendo.pdf||{},kendo.pdf.supportsDeflate=function(){return window.pako&&typeof window.pako.deflate=="function"},kendo.pdf.deflate=function(e){return window.pako.deflate(e)},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("pdf/core.min",["./pako.min","kendo.core.min","kendo.color.min","kendo.drawing.min"],function(){var z=window.kendo.jQuery;window.kendo.pdf=window.kendo.pdf||{};var R,N=kendo.support.browser,p=kendo.drawing,o=p.util,f=o.extendStatic,L=kendo.pdf,c=kendo.geometry,I=typeof Uint8Array!=="undefined"&&kendo.support.browser&&(!kendo.support.browser.msie||kendo.support.browser.version>9),D=function(){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(e){var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=0,n=t.length,r=[];while(i<n){var a=f.indexOf(t.charAt(i++));var o=f.indexOf(t.charAt(i++));var s=f.indexOf(t.charAt(i++));var l=f.indexOf(t.charAt(i++));var d=a<<2|o>>>4;var u=(o&15)<<4|s>>>2;var c=(s&3)<<6|l;r.push(d);if(s!=64)r.push(u);if(l!=64)r.push(c)}return r},encode:function(e){var t=0,i=e.length;var n="";while(t<i){var r=e[t++];var a=e[t++];var o=e[t++];var s=r>>>2;var l=(r&3)<<4|a>>>4;var d=(a&15)<<2|o>>>6;var u=o&63;if(t-i==2)d=u=64;else if(t-i==1)u=64;n+=f.charAt(s)+f.charAt(l)+f.charAt(d)+f.charAt(u)}return n}}}();function S(n){var i=0,r=0;if(n==null)n=I?new Uint8Array(256):[];else r=n.length;var a=I?function(e){if(e>=n.length){var t=new Uint8Array(Math.max(e+256,n.length*2));t.set(n,0);n=t}}:function(){};var e=I?function(){return new Uint8Array(n.buffer,0,r)}:function(){return n};var t=I?function(e){if(typeof e=="string")return C(e);var t=e.length;a(i+t);n.set(e,i);i+=t;if(i>r)r=i}:function(e){if(typeof e=="string")return C(e);for(var t=0;t<e.length;++t)d(e[t])};var o=I?function(e,t){if(n.buffer.slice)return new Uint8Array(n.buffer.slice(e,e+t));else{var i=new Uint8Array(t);i.set(new Uint8Array(n.buffer,e,t));return i}}:function(e,t){return n.slice(e,e+t)};function s(){return i>=r}function l(){return i<r?n[i++]:0}function d(e){a(i);n[i++]=e&255;if(i>r)r=i}function u(){return l()<<8|l()}function c(e){d(e>>8);d(e)}function f(){var e=u();return e>=32768?e-65536:e}function p(e){c(e<0?e+65536:e)}function h(){return u()*65536+u()}function m(e){c(e>>>16&65535);c(e&65535)}function g(){var e=h();return e>=2147483648?e-4294967296:e}function v(e){m(e<0?e+4294967296:e)}function _(){return h()/65536}function b(e){m(Math.round(e*65536))}function k(){return g()/65536}function w(e){v(Math.round(e*65536))}function y(e){return S(e,l)}function x(e){return String.fromCharCode.apply(String,y(e))}function C(e){for(var t=0;t<e.length;++t)d(e.charCodeAt(t))}function S(e,t){for(var i=new Array(e),n=0;n<e;++n)i[n]=t();return i}var T={eof:s,readByte:l,writeByte:d,readShort:u,writeShort:c,readLong:h,writeLong:m,readFixed:_,writeFixed:b,readShort_:f,writeShort_:p,readLong_:g,writeLong_:v,readFixed_:k,writeFixed_:w,read:y,write:t,readString:x,writeString:C,times:S,get:e,slice:o,offset:function(e){if(e!=null){i=e;return T}return i},skip:function(e){i+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return r},saveExcursion:function(e){var t=i;try{return e()}finally{i=t}},writeBase64:function(e){if(window.atob)C(window.atob(e));else t(D.decode(e))},base64:function(){return D.encode(e())}};return T}function B(e){var t=[],i=0,n=e.length,r,a;while(i<n){r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){a=e.charCodeAt(i++);if((a&64512)==56320)t.push(((r&1023)<<10)+(a&1023)+65536);else{t.push(r);i--}}else t.push(r)}return t}function V(e){return e.map(function(e){var t="";if(e>65535){e-=65536;t+=String.fromCharCode(e>>>10&1023|55296);e=56320|e&1023}t+=String.fromCharCode(e);return t}).join("")}function U(e){var t=window.atob(e);var i=new Uint8Array(t.length);for(var n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}function W(e){var t=new Uint8Array(e.length);for(var i=0;i<e.length;i++)t[i]=e[i];return t}function j(e){if(window.atob)return U(e);return W(D.decode(e))}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e){return Object.keys(e).sort(function(e,t){return e-t}).map(parseFloat)}var i=function e(t){this.raw=t;this.scalerType=t.readLong();this.tableCount=t.readShort();this.searchRange=t.readShort();this.entrySelector=t.readShort();this.rangeShift=t.readShort();var i=this.tables={};for(var n=0;n<this.tableCount;++n){var r={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()};i[r.tag]=r}},n=(i.prototype.readTable=function e(t,i){var n=this.tables[t];if(!n)throw new Error("Table "+t+" not found in directory");return this[t]=n.table=new i(this,n)},i.prototype.render=function e(t){var i=this;var n=Object.keys(t).length;var r=Math.pow(2,Math.floor(Math.log(n)/Math.LN2));var a=r*16;var o=Math.floor(Math.log(r)/Math.LN2);var s=n*16-a;var l=S();l.writeLong(this.scalerType);l.writeShort(n);l.writeShort(a);l.writeShort(o);l.writeShort(s);var d=n*16;var u=l.offset()+d;var c=null;var f=S();for(var p in t)if(v(t,p)){var h=t[p];l.writeString(p);l.writeLong(i.checksum(h));l.writeLong(u);l.writeLong(h.length);f.write(h);if(p=="head")c=u;u+=h.length;while(u%4){f.writeByte(0);u++}}l.write(f.get());var m=this.checksum(l.get());var g=2981146554-m;l.offset(c+8);l.writeLong(g);return l.get()},i.prototype.checksum=function e(t){t=S(t);var i=0;while(!t.eof())i+=t.readLong();return i&4294967295},function e(t,i){this.definition=i;this.length=i.length;this.offset=i.offset;this.file=t;this.rawData=t.raw;this.parse(t.raw)}),q=(n.prototype.raw=function e(){return this.rawData.slice(this.offset,this.length)},n.prototype.parse=function e(){},function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);this.version=t.readLong();this.revision=t.readLong();this.checkSumAdjustment=t.readLong();this.magicNumber=t.readLong();this.flags=t.readShort();this.unitsPerEm=t.readShort();this.created=t.read(8);this.modified=t.read(8);this.xMin=t.readShort_();this.yMin=t.readShort_();this.xMax=t.readShort_();this.yMax=t.readShort_();this.macStyle=t.readShort();this.lowestRecPPEM=t.readShort();this.fontDirectionHint=t.readShort_();this.indexToLocFormat=t.readShort_();this.glyphDataFormat=t.readShort_()};t.prototype.render=function e(t){var i=S();i.writeLong(this.version);i.writeLong(this.revision);i.writeLong(0);i.writeLong(this.magicNumber);i.writeShort(this.flags);i.writeShort(this.unitsPerEm);i.write(this.created);i.write(this.modified);i.writeShort_(this.xMin);i.writeShort_(this.yMin);i.writeShort_(this.xMax);i.writeShort_(this.yMax);i.writeShort(this.macStyle);i.writeShort(this.lowestRecPPEM);i.writeShort_(this.fontDirectionHint);i.writeShort_(t);i.writeShort_(this.glyphDataFormat);return i.get()};return t}(n)),G=function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);var i=this.file.head.indexToLocFormat;if(i===0)this.offsets=t.times(this.length/2,function(){return 2*t.readShort()});else this.offsets=t.times(this.length/4,t.readLong)};t.prototype.offsetOf=function e(t){return this.offsets[t]};t.prototype.lengthOf=function e(t){return this.offsets[t+1]-this.offsets[t]};t.prototype.render=function e(t){var i=S();var n=t[t.length-1]>65535;for(var r=0;r<t.length;++r)if(n)i.writeLong(t[r]);else i.writeShort(t[r]/2);return{format:n?1:0,table:i.get()}};return t}(n),K=function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);this.version=t.readLong();this.ascent=t.readShort_();this.descent=t.readShort_();this.lineGap=t.readShort_();this.advanceWidthMax=t.readShort();this.minLeftSideBearing=t.readShort_();this.minRightSideBearing=t.readShort_();this.xMaxExtent=t.readShort_();this.caretSlopeRise=t.readShort_();this.caretSlopeRun=t.readShort_();this.caretOffset=t.readShort_();t.skip(4*2);this.metricDataFormat=t.readShort_();this.numOfLongHorMetrics=t.readShort()};t.prototype.render=function e(t){var i=S();i.writeLong(this.version);i.writeShort_(this.ascent);i.writeShort_(this.descent);i.writeShort_(this.lineGap);i.writeShort(this.advanceWidthMax);i.writeShort_(this.minLeftSideBearing);i.writeShort_(this.minRightSideBearing);i.writeShort_(this.xMaxExtent);i.writeShort_(this.caretSlopeRise);i.writeShort_(this.caretSlopeRun);i.writeShort_(this.caretOffset);i.write([0,0,0,0,0,0,0,0]);i.writeShort_(this.metricDataFormat);i.writeShort(t.length);return i.get()};return t}(n),$=function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);this.version=t.readLong();this.numGlyphs=t.readShort();this.maxPoints=t.readShort();this.maxContours=t.readShort();this.maxComponentPoints=t.readShort();this.maxComponentContours=t.readShort();this.maxZones=t.readShort();this.maxTwilightPoints=t.readShort();this.maxStorage=t.readShort();this.maxFunctionDefs=t.readShort();this.maxInstructionDefs=t.readShort();this.maxStackElements=t.readShort();this.maxSizeOfInstructions=t.readShort();this.maxComponentElements=t.readShort();this.maxComponentDepth=t.readShort()};t.prototype.render=function e(t){var i=S();i.writeLong(this.version);i.writeShort(t.length);i.writeShort(this.maxPoints);i.writeShort(this.maxContours);i.writeShort(this.maxComponentPoints);i.writeShort(this.maxComponentContours);i.writeShort(this.maxZones);i.writeShort(this.maxTwilightPoints);i.writeShort(this.maxStorage);i.writeShort(this.maxFunctionDefs);i.writeShort(this.maxInstructionDefs);i.writeShort(this.maxStackElements);i.writeShort(this.maxSizeOfInstructions);i.writeShort(this.maxComponentElements);i.writeShort(this.maxComponentDepth);return i.get()};return t}(n),Y=function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);var i=this.file,n=i.hhea;this.metrics=t.times(n.numOfLongHorMetrics,function(){return{advance:t.readShort(),lsb:t.readShort_()}});var r=i.maxp.numGlyphs-i.hhea.numOfLongHorMetrics;this.leftSideBearings=t.times(r,t.readShort_)};t.prototype.forGlyph=function e(t){var i=this.metrics;var n=i.length;if(t<n)return i[t];return{advance:i[n-1].advance,lsb:this.leftSideBearings[t-n]}};t.prototype.render=function e(t){var i=this;var n=S();for(var r=0;r<t.length;++r){var a=i.forGlyph(t[r]);n.writeShort(a.advance);n.writeShort_(a.lsb)}return n.get()};return t}(n),Q=function(){var h=function e(t){this.raw=t};var e={compound:{}};e.compound.get=function(){return false};h.prototype.render=function e(){return this.raw.get()};Object.defineProperties(h.prototype,e);var a=1;var o=8;var s=32;var l=64;var d=128;var m=function e(t){this.raw=t;var i=this.glyphIds=[];var n=this.idOffsets=[];while(true){var r=t.readShort();n.push(t.offset());i.push(t.readShort());if(!(r&s))break;t.skip(r&a?4:2);if(r&d)t.skip(8);else if(r&l)t.skip(4);else if(r&o)t.skip(2)}};var t={compound:{}};t.compound.get=function(){return true};m.prototype.render=function e(t){var i=this;var n=S(this.raw.get());for(var r=0;r<this.glyphIds.length;++r){var a=i.glyphIds[r];n.offset(i.idOffsets[r]);n.writeShort(t[a])}return n.get()};Object.defineProperties(m.prototype,t);return function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(){this.cache={}};t.prototype.glyphFor=function e(t){var i=this.cache;if(v(i,t))return i[t];var n=this.file.loca;var r=n.lengthOf(t);if(r===0)return i[t]=null;var a=this.rawData;var o=this.offset+n.offsetOf(t);var s=S(a.slice(o,r));var l=s.readShort_();var d=s.readShort_();var u=s.readShort_();var c=s.readShort_();var f=s.readShort_();var p=i[t]=l<0?new m(s):new h(s);p.numberOfContours=l;p.xMin=d;p.yMin=u;p.xMax=c;p.yMax=f;return p};t.prototype.render=function e(t,i,n){var r=S(),a=[];for(var o=0;o<i.length;++o){var s=i[o];var l=t[s];if(r.offset()%2)r.writeByte(0);a.push(r.offset());if(l)r.write(l.render(n))}if(r.offset()%2)r.writeByte(0);a.push(r.offset());return{table:r.get(),offsets:a}};return t}(n)}(),X=function(){var c=function e(t,i){this.text=t;this.length=t.length;this.platformID=i.platformID;this.platformSpecificID=i.platformSpecificID;this.languageID=i.languageID;this.nameID=i.nameID};return function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);t.readShort();var i=t.readShort();var n=this.offset+t.readShort();var r=t.times(i,function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+n}});var a=this.strings={};for(var o=0;o<r.length;++o){var s=r[o];t.offset(s.offset);var l=t.readString(s.length);if(!a[s.nameID])a[s.nameID]=[];a[s.nameID].push(new c(l,s))}this.postscriptEntry=a[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")};t.prototype.render=function e(t){var i=this;var n=this.strings;var r=0;for(var a in n)if(v(n,a))r+=n[a].length;var o=S();var s=S();o.writeShort(0);o.writeShort(r);o.writeShort(6+12*r);for(a in n)if(v(n,a)){var l=a==6?[new c(t,i.postscriptEntry)]:n[a];for(var d=0;d<l.length;++d){var u=l[d];o.writeShort(u.platformID);o.writeShort(u.platformSpecificID);o.writeShort(u.languageID);o.writeShort(u.nameID);o.writeShort(u.length);o.writeShort(s.offset());s.writeString(u.text)}}o.write(s.get());return o.get()};return t}(n)}(),J=function(){var u=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){var i=this;t.offset(this.offset);this.format=t.readLong();this.italicAngle=t.readFixed_();this.underlinePosition=t.readShort_();this.underlineThickness=t.readShort_();this.isFixedPitch=t.readLong();this.minMemType42=t.readLong();this.maxMemType42=t.readLong();this.minMemType1=t.readLong();this.maxMemType1=t.readLong();var n;switch(this.format){case 65536:case 196608:break;case 131072:n=t.readShort();this.glyphNameIndex=t.times(n,t.readShort);this.names=[];var r=this.offset+this.length;while(t.offset()<r)i.names.push(t.readString(t.readByte()));break;case 151552:n=t.readShort();this.offsets=t.read(n);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort);break}};t.prototype.glyphFor=function e(t){switch(this.format){case 65536:return u[t]||".notdef";case 131072:var i=this.glyphNameIndex[t];if(i<u.length)return u[i];return this.names[i-u.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535}};t.prototype.render=function e(t){var i=this;if(this.format==196608)return this.raw();var n=S(this.rawData.slice(this.offset,32));n.writeLong(131072);n.offset(32);var r=[];var a=[];for(var o=0;o<t.length;++o){var s=t[o];var l=i.glyphFor(s);var d=u.indexOf(l);if(d>=0)r.push(d);else{r.push(u.length+a.length);a.push(l)}}n.writeShort(t.length);for(o=0;o<r.length;++o)n.writeShort(r[o]);for(o=0;o<a.length;++o){n.writeByte(a[o].length);n.writeString(a[o])}return n.get()};return t}(n)}(),Z=function(){var a=function e(v,t,_){var b=this;b.platformID=v.readShort();b.platformSpecificID=v.readShort();b.offset=t+v.readLong();v.saveExcursion(function(){var e;v.offset(b.offset);b.format=v.readShort();switch(b.format){case 0:b.length=v.readShort();b.language=v.readShort();for(var t=0;t<256;++t)_[t]=v.readByte();break;case 4:b.length=v.readShort();b.language=v.readShort();var i=v.readShort()/2;v.skip(6);var n=v.times(i,v.readShort);v.skip(2);var r=v.times(i,v.readShort);var a=v.times(i,v.readShort_);var o=v.times(i,v.readShort);var s=(b.length+b.offset-v.offset())/2;var l=v.times(s,v.readShort);for(t=0;t<i;++t){var d=r[t],u=n[t];for(e=d;e<=u;++e){var c;if(o[t]===0)c=e+a[t];else{var f=o[t]/2-(i-t)+(e-d);c=l[f]||0;if(c!==0)c+=a[t]}_[e]=c&65535}}break;case 6:b.length=v.readShort();b.language=v.readShort();e=v.readShort();var p=v.readShort();while(p-- >0)_[e++]=v.readShort();break;case 12:v.readShort();b.length=v.readLong();b.language=v.readLong();var h=v.readLong();while(h-- >0){e=v.readLong();var m=v.readLong();var g=v.readLong();while(e<=m)_[e++]=g++}break;default:if(window.console)window.console.error("Unhandled CMAP format: "+b.format)}})};function r(t,i){var e=T(t);var n=[];var r=[];var a=null;var o=null;function s(e){return i[t[e]]}for(var l=0;l<e.length;++l){var d=e[l];var u=s(d);var c=u-d;if(a==null||c!==o){if(a)r.push(a);n.push(d);o=c}a=d}if(a)r.push(a);r.push(65535);n.push(65535);var f=n.length;var p=f*2;var h=2*Math.pow(2,Math.floor(Math.log(f)/Math.LN2));var m=Math.log(h/2)/Math.LN2;var g=p-h;var v=[];var _=[];var b=[];for(l=0;l<f;++l){var k=n[l];var w=r[l];if(k==65535){v.push(0);_.push(0);break}var y=s(k);if(k-y>=32768){v.push(0);_.push(2*(b.length+f-l));for(var x=k;x<=w;++x)b.push(s(x))}else{v.push(y-k);_.push(0)}}var C=S();C.writeShort(3);C.writeShort(1);C.writeLong(12);C.writeShort(4);C.writeShort(16+f*8+b.length*2);C.writeShort(0);C.writeShort(p);C.writeShort(h);C.writeShort(m);C.writeShort(g);r.forEach(C.writeShort);C.writeShort(0);n.forEach(C.writeShort);v.forEach(C.writeShort_);_.forEach(C.writeShort);b.forEach(C.writeShort);return C.get()}return function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){var i=this;var n=i.offset;t.offset(n);i.codeMap={};i.version=t.readShort();var r=t.readShort();i.tables=t.times(r,function(){return new a(t,n,i.codeMap)})};t.render=function e(t,i){var n=S();n.writeShort(0);n.writeShort(1);n.write(r(t,i));return n.get()};return t}(n)}(),ee=function(e){function t(){e.apply(this,arguments)}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.parse=function e(t){t.offset(this.offset);this.version=t.readShort();this.averageCharWidth=t.readShort_();this.weightClass=t.readShort();this.widthClass=t.readShort();this.type=t.readShort();this.ySubscriptXSize=t.readShort_();this.ySubscriptYSize=t.readShort_();this.ySubscriptXOffset=t.readShort_();this.ySubscriptYOffset=t.readShort_();this.ySuperscriptXSize=t.readShort_();this.ySuperscriptYSize=t.readShort_();this.ySuperscriptXOffset=t.readShort_();this.ySuperscriptYOffset=t.readShort_();this.yStrikeoutSize=t.readShort_();this.yStrikeoutPosition=t.readShort_();this.familyClass=t.readShort_();this.panose=t.times(10,t.readByte);this.charRange=t.times(4,t.readLong);this.vendorID=t.readString(4);this.selection=t.readShort();this.firstCharIndex=t.readShort();this.lastCharIndex=t.readShort();if(this.version>0){this.ascent=t.readShort_();this.descent=t.readShort_();this.lineGap=t.readShort_();this.winAscent=t.readShort();this.winDescent=t.readShort();this.codePageRange=t.times(2,t.readLong);if(this.version>1){this.xHeight=t.readShort();this.capHeight=t.readShort();this.defaultChar=t.readShort();this.breakChar=t.readShort();this.maxContext=t.readShort()}}};t.prototype.render=function e(){return this.raw()};return t}(n),te=1e5;function ie(){var e="",t=String(te);for(var i=0;i<t.length;++i)e+=String.fromCharCode(t.charCodeAt(i)-48+65);++te;return e}var t=function e(t){this.font=t;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=ie()+"+"+this.font.psName},r=(t.prototype.use=function e(t){var i=this;if(typeof t=="string")return B(t).reduce(function(e,t){return e+String.fromCharCode(i.use(t))},"");var n=i.unicodes[t];if(!n){n=i.next++;i.subset[n]=t;i.unicodes[t]=n;var r=i.font.cmap.codeMap[t];if(r){i.ncid2ogid[n]=r;if(i.ogid2ngid[r]==null){var a=i.nextGid++;i.ogid2ngid[r]=a;i.ngid2ogid[a]=r}}}return n},t.prototype.encodeText=function e(t){return this.use(t)},t.prototype.glyphIds=function e(){return T(this.ogid2ngid)},t.prototype.glyphsFor=function e(t,i){var n=this;if(!i)i={};for(var r=0;r<t.length;++r){var a=t[r];if(!i[a]){var o=i[a]=n.font.glyf.glyphFor(a);if(o&&o.compound)n.glyphsFor(o.glyphIds,i)}}return i},t.prototype.render=function e(){var t=this;var i=this.glyphsFor(this.glyphIds());for(var n in i)if(v(i,n)){n=parseInt(n,10);if(t.ogid2ngid[n]==null){var r=t.nextGid++;t.ogid2ngid[n]=r;t.ngid2ogid[r]=n}}var a=T(this.ngid2ogid);var o=a.map(function(e){return this.ngid2ogid[e]},this);var s=this.font;var l=s.glyf.render(i,o,this.ogid2ngid);var d=s.loca.render(l.offsets);this.lastChar=this.next-1;var u={cmap:Z.render(this.ncid2ogid,this.ogid2ngid),glyf:l.table,loca:d.table,hmtx:s.hmtx.render(o),hhea:s.hhea.render(o),maxp:s.maxp.render(o),post:s.post.render(o),name:s.name.render(this.psName),head:s.head.render(d.format),"OS/2":s.os2.render()};return this.font.directory.render(u)},t.prototype.cidToGidMap=function e(){var t=this;var i=S(),n=0;for(var r=this.firstChar;r<this.next;++r){while(n<r){i.writeShort(0);n++}var a=t.ncid2ogid[r];if(a){var o=t.ogid2ngid[a];i.writeShort(o)}else i.writeShort(0);n++}return i.get()},function e(t,i){var n=this;var r=n.contents=S(t);if(r.readString(4)=="ttcf"){var a;var o=function(){r.offset(a);n.parse()};if(!i)throw new Error("Must specify a name for TTC files");r.readLong();var s=r.readLong();for(var l=0;l<s;++l){a=r.readLong();r.saveExcursion(o);if(n.psName==i)return}throw new Error("Font "+i+" not found in collection")}else{r.offset(0);n.parse()}}),ne=(r.prototype.parse=function e(){var t=this.directory=new i(this.contents);this.head=t.readTable("head",q);this.loca=t.readTable("loca",G);this.hhea=t.readTable("hhea",K);this.maxp=t.readTable("maxp",$);this.hmtx=t.readTable("hmtx",Y);this.glyf=t.readTable("glyf",Q);this.name=t.readTable("name",X);this.post=t.readTable("post",J);this.cmap=t.readTable("cmap",Z);this.os2=t.readTable("OS/2",ee);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1e3/this.head.unitsPerEm},r.prototype.widthOfGlyph=function e(t){return this.hmtx.forGlyph(t).advance*this.scale},r.prototype.makeSubset=function e(){return new t(this)},String.fromCharCode),re="þÿ";function s(e){return ne(e>>8)+ne(e&255)}function ae(e){var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<65535)t+=s(n);else{var r=(n-65536>>10)+55296;var a=(n-65536&1023)+56320;t+=s(r);t+=s(a)}}return t}var l=kendo.support.browser,h="\n",m=0,oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function g(){var t=0,r=S();function a(){var e=arguments;for(var t=0;t<arguments.length;++t){var i=e[t];if(i===undefined)throw new Error("Cannot output undefined to PDF");else if(i instanceof u){i.beforeRender(a);i.render(a)}else if(ge(i))_e(i,a);else if(ve(i))be(i,a);else if(typeof i=="number"){if(isNaN(i))throw new Error("Cannot output NaN to PDF");var n=i.toFixed(7);if(n.indexOf(".")>=0)n=n.replace(/\.?0+$/,"");if(n=="-0")n="0";r.writeString(n)}else if(/string|boolean/.test(typeof i))r.writeString(String(i));else if(typeof i.get=="function")r.write(i.get());else if(typeof i=="object")if(!i)r.writeString("null");else a(new E(i))}}a.writeData=function(e){r.write(e)};a.withIndent=function(e){++t;e(a);--t};a.indent=function(){a(h,he("",t*2,"  "));a.apply(null,arguments)};a.offset=function(){return r.offset()};a.toString=function(){throw new Error("FIX CALLER")};a.get=function(){return r.get()};a.stream=function(){return r};return a}function se(t,i){var n=t.beforeRender;var r=t.render;t.beforeRender=function(){};t.render=function(e){e(i," 0 R")};t.renderFull=function(e){t._offset=e.offset();e(i," 0 obj ");n.call(t,e);r.call(t,e);e(" endobj")}}function le(e){if(typeof e!="function"){var i=e;e=function(e,t){return e in i?i[e]:t}}var t=e("paperSize",oe.a4);if(!t)return{};if(typeof t=="string"){t=oe[t.toLowerCase()];if(t==null)throw new Error("Unknown paper size")}t[0]=d(t[0]);t[1]=d(t[1]);if(e("landscape",false))t=[Math.max(t[0],t[1]),Math.min(t[0],t[1])];var n=e("margin");if(n){if(typeof n=="string"||typeof n=="number"){n=d(n,0);n={left:n,top:n,right:n,bottom:n}}else n={left:d(n.left,0),top:d(n.top,0),right:d(n.right,0),bottom:d(n.bottom,0)};if(e("addMargin")){t[0]+=n.left+n.right;t[1]+=n.top+n.bottom}}return{paperSize:t,margin:n}}var a={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,Helvetica:true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,Courier:true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,Symbol:true,ZapfDingbats:true};function de(e,t){var i;if(l.msie&&(i=/^data:.*?;base64,/i.exec(e))){t(j(e.substr(i[0].length)));return}function n(){if(window.console)if(window.console.error)window.console.error("Cannot load URL: %s",e);else window.console.log("Cannot load URL: %s",e);t(null)}var r=new XMLHttpRequest;r.open("GET",e,true);if(I)r.responseType="arraybuffer";r.onload=function(){if(r.status==200||r.status==304)if(I)t(new Uint8Array(r.response));else t(new window.VBArray(r.responseBody).toArray());else n()};r.onerror=n;r.send(null)}function ue(i,n){var e=a[i];if(e)n(e);else de(i,function(e){if(e==null)throw new Error("Cannot load font from "+i);else{var t=new r(e);a[i]=t;n(t)}})}var _={};function ce(){_={}}function fe(c,f,p,h){var m=_[c],g,r;if(m)p(m);else{m=new Image;if(!/^data:/i.test(c))m.crossOrigin="Anonymous";if(I&&!/^data:/i.test(c)){var t=new XMLHttpRequest;t.onload=function(){r=t.response;if(l.mozilla&&r.type=="image/svg+xml"){var e=new FileReader;e.onload=function(){var e=(new window.DOMParser).parseFromString(this.result,"image/svg+xml");var t=e.documentElement;if(t.getAttribute("width")&&t.getAttribute("height")){g=URL.createObjectURL(r);a(g)}else{t.setAttribute("width",f.width);t.setAttribute("height",f.height);var i=(new window.XMLSerializer).serializeToString(t);var n="data:image/svg+xml;base64,"+o.encodeBase64(i);a(n)}};e.readAsText(r)}else{g=URL.createObjectURL(r);a(g)}};t.onerror=v;t.open("GET",c,true);t.responseType="blob";t.send()}else a(c)}function a(e){m.src=e;if(m.complete&&!l.msie)i.call(m);else{m.onload=i;m.onerror=v}}function n(){if(!f)f={width:m.width,height:m.height};var e=document.createElement("canvas");e.width=f.width;e.height=f.height;var t=e.getContext("2d");t.drawImage(m,0,0,f.width,f.height);var i;try{i=t.getImageData(0,0,f.width,f.height)}catch(e){v();return}finally{if(g)URL.revokeObjectURL(g)}var n=false,r=S(),a=S();var o=i.data;var s=0;while(s<o.length){r.writeByte(o[s++]);r.writeByte(o[s++]);r.writeByte(o[s++]);var l=o[s++];if(l<255)n=true;a.writeByte(l)}if(n||h.keepPNG)m=new Ae(f.width,f.height,r,a);else{var d=e.toDataURL("image/jpeg",h.jpegQuality);d=d.substr(d.indexOf(";base64,")+8);var u=S();u.writeBase64(d);m=new Ee(u)}p(_[c]=m)}function v(){p(_[c]="ERROR")}function i(){if(f){var e=r&&r.type==="image/svg+xml"||/^data:image\/svg\+xml;/i.test(this.src.substring(0,19));var t=f.width>=m.width||f.height>=m.height;if(!e&&t)f=null}if(!f&&r&&/^image\/jpe?g$/i.test(r.type)){var i=new FileReader;i.onload=function(){try{var e=new Ee(S(new Uint8Array(this.result)));URL.revokeObjectURL(g);p(_[c]=e)}catch(e){n()}};i.readAsArrayBuffer(r)}else n()}}function pe(a){return function(e,t){var i=e.length,n=i;if(i===0)return t();function r(){if(--i===0)t()}while(n-- >0)a(e[n],r)}}var b=pe(ue),k=function(t,e,i){i=z.extend({jpegQuality:.92,keepPNG:false},i);var n=Object.keys(t),r=n.length;if(r===0)return e();function a(){if(--r===0)e()}n.forEach(function(e){fe(e,t[e],a,i)})},w=function e(i){var d=this;var n=g();var t=0;var r=[];function a(e,t){return i&&i[e]!=null?i[e]:t}d.getOption=a;d.attach=function(e){if(r.indexOf(e)<0){se(e,++t);r.push(e)}return e};d.pages=[];d.FONTS={};d.IMAGES={};d.GRAD_COL_FUNCTIONS={};d.GRAD_OPC_FUNCTIONS={};d.GRAD_COL={};d.GRAD_OPC={};var o=d.attach(new Te);var u=d.attach(new Ie);if(a("autoPrint")){var s={};s.JavaScript=new E({Names:[new x("JS"),d.attach(new E({S:C("JavaScript"),JS:new x("print(true);")}))]});o.props.Names=new E(s)}o.setPages(u);var l=d.attach(new E({Producer:new x(a("producer","Kendo UI PDF Generator"),true),Title:new x(a("title",""),true),Author:new x(a("author",""),true),Subject:new x(a("subject",""),true),Keywords:new x(a("keywords",""),true),Creator:new x(a("creator","Kendo UI PDF Generator"),true),CreationDate:a("date",new Date)}));d.addPage=function(i){var e=le(function(e,t){return i&&i[e]!=null?i[e]:t});var t=e.paperSize;var n=e.margin;var r=t[0];var a=t[1];if(n){r-=n.left+n.right;a-=n.top+n.bottom}var o=new A(g(),null,true);var s={Contents:d.attach(o),Parent:u,MediaBox:[0,0,t[0],t[1]]};var l=new Be(d,s);l._content=o;u.addPage(d.attach(l));l.transform(1,0,0,-1,0,t[1]);if(n){l.translate(n.left,n.top);l.rect(0,0,r,a);l.clip()}d.pages.push(l);return l};d.render=function(){var e;n("%PDF-1.4",h,"%ÂÁÚÏÎ",h,h);for(e=0;e<r.length;++e){r[e].renderFull(n);n(h,h)}var t=n.offset();n("xref",h,0," ",r.length+1,h);n("0000000000 65535 f ",h);for(e=0;e<r.length;++e)n(y(r[e]._offset,10)," 00000 n ",h);n(h);n("trailer",h);n(new E({Size:r.length+1,Root:o,Info:l}),h,h);n("startxref",h,t,h);n("%%EOF",h);return n.stream().offset(0)};d.loadFonts=b;d.loadImages=k};function he(e,t,i){while(e.length<t)e=i+e;return e}function y(e,t){return he(String(e),t,"0")}function me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w.prototype.getFont=function e(t){var i=this.FONTS[t];if(!i){i=a[t];if(!i)throw new Error("Font "+t+" has not been loaded");if(i===true)i=this.attach(new Fe(t));else i=this.attach(new He(this,i));this.FONTS[t]=i}return i},w.prototype.getImage=function e(t){var i=this.IMAGES[t];if(!i){i=_[t];if(!i)throw new Error("Image "+t+" has not been loaded");if(i==="ERROR")return null;i=this.IMAGES[t]=this.attach(i.asStream(this))}return i},w.prototype.getOpacityGS=function e(t,i){var n=parseFloat(t).toFixed(3);t=parseFloat(n);n+=i?"S":"F";var r=this._opacityGSCache||(this._opacityGSCache={});var a=r[n];if(!a){var o={Type:C("ExtGState")};if(i)o.CA=t;else o.ca=t;a=this.attach(new E(o));a._resourceName=C("GS"+ ++m);r[n]=a}return a},w.prototype.dict=function e(t){return new E(t)},w.prototype.name=function e(t){return C(t)},w.prototype.stream=function e(t,i){return new A(i,t)};var ge=Array.isArray||function(e){return e instanceof Array};function ve(e){return e instanceof Date}function _e(t,i){i("[");if(t.length>0)i.withIndent(function(){for(var e=0;e<t.length;++e)if(e>0&&e%8===0)i.indent(t[e]);else i(" ",t[e])});i(" ]")}function be(e,t){t("(D:",y(e.getUTCFullYear(),4),y(e.getUTCMonth()+1,2),y(e.getUTCDate(),2),y(e.getUTCHours(),2),y(e.getUTCMinutes(),2),y(e.getUTCSeconds(),2),"Z)")}function ke(e){return e*(72/25.4)}function we(e){return ke(e*10)}function ye(e){return e*72}function d(e,t){if(typeof e=="number")return e;if(typeof e=="string"){var i;i=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e);if(i){var n=parseFloat(i[1]);if(!isNaN(n)){if(i[2]=="pt")return n;return{mm:ke,cm:we,in:ye}[i[2]](n)}}}if(t!=null)return t;throw new Error("Can't parse unit: "+e)}var u=function e(){},x=(u.prototype.beforeRender=function e(){},function(i){function e(e,t){i.call(this);this.value=e;this.utf16be=Boolean(t)}f(e,i);e.prototype=Object.create(i&&i.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.render=function e(t){var i=this.value;if(this.utf16be){i=re+ae(i);i=i.replace(/([\(\)\\])/g,"\\$1");t("(",i,")")}else{var n=[40];for(var r=0;r<i.length;++r){var a=i.charCodeAt(r)&255;if(a==40||a==41||a==92)n.push(92);n.push(a)}n.push(41);t.writeData(n)}};e.prototype.toString=function e(){return this.value};return e}(u)),xe=function(t){function e(e){t.call(this,e);this.value=e}f(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.render=function e(t){var i=this;t("<");for(var n=0;n<this.value.length;++n)t(y(i.value.charCodeAt(n).toString(16),4));t(">")};return e}(x),Ce=function(t){function e(e){t.call(this);this.name=e}f(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.get=function e(t){return C(t)};e.prototype.render=function e(t){t("/"+this.escape())};e.prototype.escape=function e(){return this.name.replace(/[^\x21-\x7E]/g,function(e){return"#"+y(e.charCodeAt(0).toString(16),2)})};e.prototype.toString=function e(){return this.name};return e}(u),Se={};function C(e){if(me(Se,e))return Se[e];return Se[e]=new Ce(e)}var E=function(t){function e(e){t.call(this);this.props=e}f(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.render=function e(t){var i=this.props,n=true;t("<<");t.withIndent(function(){for(var e in i)if(me(i,e)&&!/^_/.test(e)){n=false;t.indent(C(e)," ",i[e])}});if(!n)t.indent();t(">>")};return e}(u),A=function(r){function e(e,t,i){r.call(this);if(typeof e=="string"){var n=S();n.write(e);e=n}this.data=e;this.props=t||{};this.compress=i}f(e,r);e.prototype=Object.create(r&&r.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.render=function e(t){var i=this.data.get(),n=this.props;if(this.compress&&L.supportsDeflate()){if(!n.Filter)n.Filter=[];else if(!(n.Filter instanceof Array))n.Filter=[n.Filter];n.Filter.unshift(C("FlateDecode"));i=L.deflate(i)}n.Length=i.length;t(new E(n)," stream",h);t.writeData(i);t(h,"endstream")};return e}(u),Te=function(e){function t(){e.call(this,{Type:C("Catalog")})}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.setPages=function e(t){this.props.Pages=t};return t}(E),Ie=function(e){function t(){e.call(this,{Type:C("Pages"),Kids:[],Count:0})}f(t,e);t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.fn=t.prototype;t.fn.init=t.fn.constructor;t.prototype.addPage=function e(t){this.props.Kids.push(t);this.props.Count++};return t}(E),De=[192,193,194,195,197,198,199,201,202,203,205,206,207],Ee=function e(t){t.offset(0);var i,n,r,a;var o=t.readShort();if(o!=65496)throw new Error("Invalid JPEG image");while(!t.eof()){var s=t.readByte();if(s!=255)throw new Error("Invalid JPEG image");var l=t.readByte();var d=t.readShort();if(De.indexOf(l)>=0){a=t.readByte();n=t.readShort();i=t.readShort();r=t.readByte();break}t.skip(d-2)}if(r==null)throw new Error("Invalid JPEG image");var u={Type:C("XObject"),Subtype:C("Image"),Width:i,Height:n,BitsPerComponent:a,Filter:C("DCTDecode")};switch(r){case 1:u.ColorSpace=C("DeviceGray");break;case 3:u.ColorSpace=C("DeviceRGB");break;case 4:u.ColorSpace=C("DeviceCMYK");u.Decode=[1,0,1,0,1,0,1,0];break}this.asStream=function(){t.offset(0);var e=new A(t,u);e._resourceName=C("I"+ ++m);return e}},Ae=function e(n,r,a,o){this.asStream=function(e){var t=new A(o,{Type:C("XObject"),Subtype:C("Image"),Width:n,Height:r,BitsPerComponent:8,ColorSpace:C("DeviceGray")},true);var i=new A(a,{Type:C("XObject"),Subtype:C("Image"),Width:n,Height:r,BitsPerComponent:8,ColorSpace:C("DeviceRGB"),SMask:e.attach(t)},true);i._resourceName=C("I"+ ++m);return i}},Fe=function(t){function e(e){t.call(this,{Type:C("Font"),Subtype:C("Type1"),BaseFont:C(e)});this._resourceName=C("F"+ ++m)}f(e,t);e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.encodeText=function e(t){return new x(String(t))};return e}(E),He=function(h){function e(e,t,i){h.call(this,{});i=this.props;i.Type=C("Font");i.Subtype=C("Type0");i.Encoding=C("Identity-H");this._pdf=e;this._font=t;this._sub=t.makeSubset();this._resourceName=C("F"+ ++m);var n=t.head;this.name=t.psName;var r=this.scale=t.scale;this.bbox=[n.xMin*r,n.yMin*r,n.xMax*r,n.yMax*r];this.italicAngle=t.post.italicAngle;this.ascent=t.ascent*r;this.descent=t.descent*r;this.lineGap=t.lineGap*r;this.capHeight=t.os2.capHeight||this.ascent;this.xHeight=t.os2.xHeight||0;this.stemV=0;this.familyClass=(t.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|1<<5}f(e,h);e.prototype=Object.create(h&&h.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.encodeText=function e(t){return new xe(this._sub.encodeText(String(t)))};e.prototype.getTextWidth=function e(t,i){var n=this;var r=0,a=this._font.cmap.codeMap;for(var o=0;o<i.length;++o){var s=a[i.charCodeAt(o)];r+=n._font.widthOfGlyph(s||0)}return r*t/1e3};e.prototype.beforeRender=function e(){var r=this;var t=r._sub;var i=t.render();var n=new A(S(i),{Length1:i.length},true);var a=r._pdf.attach(new h({Type:C("FontDescriptor"),FontName:C(r._sub.psName),FontBBox:r.bbox,Flags:r.flags,StemV:r.stemV,ItalicAngle:r.italicAngle,Ascent:r.ascent,Descent:r.descent,CapHeight:r.capHeight,XHeight:r.xHeight,FontFile2:r._pdf.attach(n)}));var o=t.ncid2ogid;var s=t.firstChar;var l=t.lastChar;var d=[];(function e(t,i){if(t<=l){var n=o[t];if(n==null)e(t+1);else{if(!i)d.push(t,i=[]);i.push(r._font.widthOfGlyph(n));e(t+1,i)}}})(s);var u=new h({Type:C("Font"),Subtype:C("CIDFontType2"),BaseFont:C(r._sub.psName),CIDSystemInfo:new h({Registry:new x("Adobe"),Ordering:new x("Identity"),Supplement:0}),FontDescriptor:a,FirstChar:s,LastChar:l,DW:Math.round(r._font.widthOfGlyph(0)),W:d,CIDToGIDMap:r._pdf.attach(r._makeCidToGidMap())});var c=r.props;c.BaseFont=C(r._sub.psName);c.DescendantFonts=[r._pdf.attach(u)];var f=new Pe(s,l,t.subset);var p=new A(g(),null,true);p.data(f);c.ToUnicode=r._pdf.attach(p)};e.prototype._makeCidToGidMap=function e(){return new A(S(this._sub.cidToGidMap()),null,true)};return e}(E),Pe=function(n){function e(e,t,i){n.call(this);this.firstChar=e;this.lastChar=t;this.map=i}f(e,n);e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype.render=function e(r){r.indent("/CIDInit /ProcSet findresource begin");r.indent("12 dict begin");r.indent("begincmap");r.indent("/CIDSystemInfo <<");r.indent("  /Registry (Adobe)");r.indent("  /Ordering (UCS)");r.indent("  /Supplement 0");r.indent(">> def");r.indent("/CMapName /Adobe-Identity-UCS def");r.indent("/CMapType 2 def");r.indent("1 begincodespacerange");r.indent("  <0000><ffff>");r.indent("endcodespacerange");var a=this;r.indent(a.lastChar-a.firstChar+1," beginbfchar");r.withIndent(function(){for(var e=a.firstChar;e<=a.lastChar;++e){var t=a.map[e];var i=V([t]);r.indent("<",y(e.toString(16),4),">","<");for(var n=0;n<i.length;++n)r(y(i.charCodeAt(n).toString(16),4));r(">")}});r.indent("endbfchar");r.indent("endcmap");r.indent("CMapName currentdict /CMap defineresource pop");r.indent("end");r.indent("end")};return e}(u);function F(e){return e.map(function(e){return ge(e)?F(e):typeof e=="number"?(Math.round(e*1e3)/1e3).toFixed(3):e}).join(" ")}function Oe(e,t,i,n,r,a,o){var s=F([t,i,n,r,a,o]);var l=e.GRAD_COL_FUNCTIONS[s];if(!l)l=e.GRAD_COL_FUNCTIONS[s]=e.attach(new E({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,i,n],C1:[r,a,o]}));return l}function Me(e,t,i){var n=F([t,i]);var r=e.GRAD_OPC_FUNCTIONS[n];if(!r)r=e.GRAD_OPC_FUNCTIONS[n]=e.attach(new E({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[i]}));return r}function ze(e,t){var i=false;var n=[];var r=[];var a=[];var o=[];var s,l,d,u,c;for(s=1;s<t.length;++s){l=t[s-1];d=t[s];u=l.color;c=d.color;r.push(Oe(e,u.r,u.g,u.b,c.r,c.g,c.b));if(u.a<1||c.a<1)i=true;a.push(d.offset);o.push(0,1)}if(i)for(s=1;s<t.length;++s){l=t[s-1];d=t[s];u=l.color;c=d.color;n.push(Me(e,u.a,c.a))}a.pop();return{hasAlpha:i,colors:f(r),opacities:i?f(n):null};function f(e){if(e.length==1)return e[0];return{FunctionType:3,Functions:e,Domain:[0,1],Bounds:a,Encode:o}}}function Re(e,t,i,n,r,a){var o,s;if(!a){var l=[t].concat(n);i.forEach(function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b)});s=F(l);o=e.GRAD_COL[s]}if(!o){o=new E({Type:C("Shading"),ShadingType:t?3:2,ColorSpace:C("DeviceRGB"),Coords:n,Domain:[0,1],Function:r,Extend:[true,true]});e.attach(o);o._resourceName="S"+ ++m;if(s)e.GRAD_COL[s]=o}return o}function Ne(e,t,i,n,r,a){var o,s;if(!a){var l=[t].concat(n);i.forEach(function(e){l.push(e.offset,e.color.a)});s=F(l);o=e.GRAD_OPC[s]}if(!o){o=new E({Type:C("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:C("Mask"),S:C("Luminosity"),G:e.attach(new A("/a0 gs /s0 sh",{Type:C("XObject"),Subtype:C("Form"),FormType:1,BBox:a?[a.left,a.top+a.height,a.left+a.width,a.top]:[0,1,1,0],Group:{Type:C("Group"),S:C("Transparency"),CS:C("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:C("DeviceGray"),Coords:n,Domain:[0,1],ShadingType:t?3:2,Function:r,Extend:[true,true]}}}}))}});e.attach(o);o._resourceName="O"+ ++m;if(s)e.GRAD_OPC[s]=o}return o}function Le(e,t,i){var n=t.type=="radial";var r=ze(e,t.stops);var a=n?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y];var o=Re(e,n,t.stops,a,r.colors,t.userSpace&&i);var s=r.hasAlpha?Ne(e,n,t.stops,a,r.opacities,t.userSpace&&i):null;return{hasAlpha:r.hasAlpha,shading:o,opacity:s}}var Be=function(a){function e(e,t){a.call(this,t);this._pdf=e;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];t=this.props;t.Type=C("Page");t.ProcSet=[C("PDF"),C("Text"),C("ImageB"),C("ImageC"),C("ImageI")];t.Resources=new a({Font:new a(this._fontResources),ExtGState:new a(this._gsResources),XObject:new a(this._xResources),Pattern:new a(this._patResources),Shading:new a(this._shResources)});t.Annots=this._annotations}f(e,a);e.prototype=Object.create(a&&a.prototype);e.prototype.constructor=e;e.fn=e.prototype;e.fn.init=e.fn.constructor;e.prototype._out=function e(){this._content.data.apply(null,arguments)};e.prototype.transform=function e(t,i,n,r,a,o){if(!Ge(arguments)){this._matrix=qe(arguments,this._matrix);this._out(t," ",i," ",n," ",r," ",a," ",o," cm");this._out(h)}};e.prototype.translate=function e(t,i){this.transform(1,0,0,1,t,i)};e.prototype.scale=function e(t,i){this.transform(t,0,0,i,0,0)};e.prototype.rotate=function e(t){var i=Math.cos(t),n=Math.sin(t);this.transform(i,n,-n,i,0,0)};e.prototype.beginText=function e(){this._textMode=true;this._out("BT",h)};e.prototype.endText=function e(){this._textMode=false;this._out("ET",h)};e.prototype._requireTextMode=function e(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")};e.prototype._requireFont=function e(){if(!this._font)throw new Error("No font selected; call page.setFont() first")};e.prototype.setFont=function e(t,i){this._requireTextMode();if(t==null)t=this._font;else if(!(t instanceof He))t=this._pdf.getFont(t);if(i==null)i=this._fontSize;this._fontResources[t._resourceName]=t;this._font=t;this._fontSize=i;this._out(t._resourceName," ",i," Tf",h)};e.prototype.setTextLeading=function e(t){this._requireTextMode();this._out(t," TL",h)};e.prototype.setTextRenderingMode=function e(t){this._requireTextMode();this._out(t," Tr",h)};e.prototype.showText=function e(t,i){this._requireFont();if(t.length>1&&i&&this._font instanceof He){var n=this._font.getTextWidth(this._fontSize,t);var r=i/n*100;this._out(r," Tz ")}this._out(this._font.encodeText(t)," Tj",h)};e.prototype.showTextNL=function e(t){this._requireFont();this._out(this._font.encodeText(t)," '",h)};e.prototype.addLink=function e(t,i){var n=this._toPage({x:i.left,y:i.bottom});var r=this._toPage({x:i.right,y:i.top});this._annotations.push(new a({Type:C("Annot"),Subtype:C("Link"),Rect:[n.x,n.y,r.x,r.y],Border:[0,0,0],A:new a({Type:C("Action"),S:C("URI"),URI:new x(t)})}))};e.prototype.setStrokeColor=function e(t,i,n){this._out(t," ",i," ",n," RG",h)};e.prototype.setOpacity=function e(t){this.setFillOpacity(t);this.setStrokeOpacity(t);this._opacity*=t};e.prototype.setStrokeOpacity=function e(t){if(t<1){var i=this._pdf.getOpacityGS(this._opacity*t,true);this._gsResources[i._resourceName]=i;this._out(i._resourceName," gs",h)}};e.prototype.setFillColor=function e(t,i,n){this._out(t," ",i," ",n," rg",h)};e.prototype.setFillOpacity=function e(t){if(t<1){var i=this._pdf.getOpacityGS(this._opacity*t,false);this._gsResources[i._resourceName]=i;this._out(i._resourceName," gs",h)}};e.prototype.gradient=function e(e,t){this.save();this.rect(t.left,t.top,t.width,t.height);this.clip();if(!e.userSpace)this.transform(t.width,0,0,t.height,t.left,t.top);var i=Le(this._pdf,e,t);var n=i.shading._resourceName,r;this._shResources[n]=i.shading;if(i.hasAlpha){r=i.opacity._resourceName;this._gsResources[r]=i.opacity;this._out("/"+r+" gs ")}this._out("/"+n+" sh",h);this.restore()};e.prototype.setDashPattern=function e(t,i){this._out(t," ",i," d",h)};e.prototype.setLineWidth=function e(t){this._out(t," w",h)};e.prototype.setLineCap=function e(t){this._out(t," J",h)};e.prototype.setLineJoin=function e(t){this._out(t," j",h)};e.prototype.setMitterLimit=function e(t){this._out(t," M",h)};e.prototype.save=function e(){this._contextStack.push(this._context());this._out("q",h)};e.prototype.restore=function e(){this._out("Q",h);this._context(this._contextStack.pop())};e.prototype.moveTo=function e(t,i){this._out(t," ",i," m",h)};e.prototype.lineTo=function e(t,i){this._out(t," ",i," l",h)};e.prototype.bezier=function e(t,i,n,r,a,o){this._out(t," ",i," ",n," ",r," ",a," ",o," c",h)};e.prototype.bezier1=function e(t,i,n,r){this._out(t," ",i," ",n," ",r," y",h)};e.prototype.bezier2=function e(t,i,n,r){this._out(t," ",i," ",n," ",r," v",h)};e.prototype.close=function e(){this._out("h",h)};e.prototype.rect=function e(t,i,n,r){this._out(t," ",i," ",n," ",r," re",h)};e.prototype.ellipse=function e(t,i,n,r){function a(e){return t+e}function o(e){return i+e}var s=.5522847498307936;this.moveTo(a(0),o(r));this.bezier(a(n*s),o(r),a(n),o(r*s),a(n),o(0));this.bezier(a(n),o(-r*s),a(n*s),o(-r),a(0),o(-r));this.bezier(a(-n*s),o(-r),a(-n),o(-r*s),a(-n),o(0));this.bezier(a(-n),o(r*s),a(-n*s),o(r),a(0),o(r))};e.prototype.circle=function e(t,i,n){this.ellipse(t,i,n,n)};e.prototype.stroke=function e(){this._out("S",h)};e.prototype.nop=function e(){this._out("n",h)};e.prototype.clip=function e(){this._out("W n",h)};e.prototype.clipStroke=function e(){this._out("W S",h)};e.prototype.closeStroke=function e(){this._out("s",h)};e.prototype.fill=function e(){this._out("f",h)};e.prototype.fillStroke=function e(){this._out("B",h)};e.prototype.drawImage=function e(t){var i=this._pdf.getImage(t);if(i){this._xResources[i._resourceName]=i;this._out(i._resourceName," Do",h)}};e.prototype.comment=function e(t){var i=this;t.split(/\r?\n/g).forEach(function(e){i._out("% ",e,h)})};e.prototype._context=function e(t){if(t!=null){this._opacity=t.opacity;this._matrix=t.matrix}else return{opacity:this._opacity,matrix:this._matrix}};e.prototype._toPage=function e(t){var i=this._matrix;var n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5];return{x:n*t.x+a*t.y+s,y:r*t.x+o*t.y+l}};return e}(E);function Ve(e){return e.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function Ue(e){var t=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var i=t.exec(e);if(!i)return{fontSize:12,fontFamily:"sans-serif"};var n=i[8]?parseInt(i[8],10):12;return{italic:i[2]&&i[2].toLowerCase()=="italic",variant:i[4],bold:i[6]&&/bold|700/i.test(i[6]),fontSize:n,lineHeight:i[12]?i[12]=="normal"?n:parseInt(i[12],10):null,fontFamily:i[14].split(/\s*,\s*/g).map(Ve)}}function We(t){function e(e){if(t.bold)e+="|bold";if(t.italic)e+="|italic";return e.toLowerCase()}var i=t.fontFamily;var n,r;if(i instanceof Array)for(var a=0;a<i.length;++a){n=e(i[a]);r=H[n];if(r)break}else r=H[i.toLowerCase()];while(typeof r=="function")r=r();if(!r)r="Times-Roman";return r}var H={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function e(e,t){e=e.toLowerCase();H[e]=function(){return H[t]};H[e+"|bold"]=function(){return H[t+"|bold"]};H[e+"|italic"]=function(){return H[t+"|italic"]};H[e+"|bold|italic"]=function(){return H[t+"|bold|italic"]}}function je(e,t){if(arguments.length==1){for(var i in e)if(me(e,i))je(i,e[i])}else{e=e.toLowerCase();H[e]=t;switch(e){case"dejavu sans":H["sans-serif"]=t;break;case"dejavu sans|bold":H["sans-serif|bold"]=t;break;case"dejavu sans|italic":H["sans-serif|italic"]=t;break;case"dejavu sans|bold|italic":H["sans-serif|bold|italic"]=t;break;case"dejavu serif":H["serif"]=t;break;case"dejavu serif|bold":H["serif|bold"]=t;break;case"dejavu serif|italic":H["serif|italic"]=t;break;case"dejavu serif|bold|italic":H["serif|bold|italic"]=t;break;case"dejavu mono":H["monospace"]=t;break;case"dejavu mono|bold":H["monospace|bold"]=t;break;case"dejavu mono|italic":H["monospace|italic"]=t;break;case"dejavu mono|bold|italic":H["monospace|bold|italic"]=t;break}}}function qe(e,t){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5];var l=t[0],d=t[1],u=t[2],c=t[3],f=t[4],p=t[5];return[i*l+n*u,i*d+n*c,r*l+a*u,r*d+a*c,o*l+s*u+f,o*d+s*c+p]}function Ge(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0}e("Times New Roman","serif"),e("Courier New","monospace"),e("Arial","sans-serif"),e("Helvetica","sans-serif"),e("Verdana","sans-serif"),e("Tahoma","sans-serif"),e("Georgia","sans-serif"),e("Monaco","monospace"),e("Andale Mono","monospace");var Ke={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7},$e=300,Ye=Ke,Qe={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},Xe={butt:0,round:1,square:2},Je={miter:0,round:1,bevel:2};function Ze(t,i){var n=[],r={},a=t.options;function u(e,t,i){if(!i)i=a;if(i.pdf&&i.pdf[e]!=null)return i.pdf[e];return t}var o=u("multiPage");var s=u("imgDPI",$e);ce();t.traverse(function(e){it({Image:function(e){var t=e.src();var i=e.bbox().size;if(s){var n=r[t];i={width:Math.ceil(i.width*s/72),height:Math.ceil(i.height*s/72)};if(n){i.width=Math.max(n.width,i.width);i.height=Math.max(n.height,i.height)}}r[t]=i},Text:function(e){var t=Ue(e.options.font);var i=We(t);if(n.indexOf(i)<0)n.push(i)}},e)});function e(){if(--l>0)return;var d=new w({producer:u("producer"),title:u("title"),author:u("author"),subject:u("subject"),keywords:u("keywords"),creator:u("creator"),date:u("date"),autoPrint:u("autoPrint")});function e(e){var t=e.options;var i=bt(e);var n=i.bbox;e=i.root;var r=u("paperSize",u("paperSize","auto"),t),a=false;if(r=="auto")if(n){var o=n.getSize();r=[o.width,o.height];a=true;var s=n.getOrigin();i=new p.Group;i.transform(new c.Matrix(1,0,0,1,-s.x,-s.y));i.append(e);e=i}else r="A4";var l;l=d.addPage({paperSize:r,margin:u("margin",u("margin"),t),addMargin:a,landscape:u("landscape",u("landscape",false),t)});nt(e,l,d)}if(o)t.children.forEach(e);else e(t);i(d.render(),d)}var l=2;b(n,e);k(r,e,{jpegQuality:u("jpegQuality",.92),keepPNG:u("keepPNG",false)})}function P(e,t){Ze(e,function(e){t("data:application/pdf;base64,"+e.base64())})}function et(e,t){Ze(e,function(e){t(new window.Blob([e.get()],{type:"application/pdf"}))})}function tt(e,t,i,n){if(window.Blob&&!N.safari)et(e,function(e){kendo.saveAs({dataURI:e,fileName:t});if(n)n(e)});else P(e,function(e){kendo.saveAs({dataURI:e,fileName:t,proxyURL:i});if(n)n(e)})}function it(e,t){var i=e[t.nodeType];if(i)return i.call.apply(i,arguments);return t}function nt(e,t,i){if(e.options._pdfDebug)t.comment("BEGIN: "+e.options._pdfDebug);var n=e.transform();var r=e.opacity();t.save();if(r!=null&&r<1)t.setOpacity(r);rt(e,t,i);at(e,t,i);if(n){var a=n.matrix();t.transform(a.a,a.b,a.c,a.d,a.e,a.f)}ot(e,t,i);it({Path:ut,MultiPath:ct,Circle:ft,Arc:pt,Text:ht,Image:gt,Group:mt,Rect:vt},e,t,i);t.restore();if(e.options._pdfDebug)t.comment("END: "+e.options._pdfDebug)}function rt(e,t){var i=e.stroke&&e.stroke();if(!i)return;var n=i.color;if(n){n=_t(n);if(n==null)return;t.setStrokeColor(n.r,n.g,n.b);if(n.a!=1)t.setStrokeOpacity(n.a)}var r=i.width;if(r!=null){if(r===0)return;t.setLineWidth(r)}var a=i.dashType;if(a)t.setDashPattern(Qe[a],0);var o=i.lineCap;if(o)t.setLineCap(Xe[o]);var s=i.lineJoin;if(s)t.setLineJoin(Je[s]);var l=i.opacity;if(l!=null)t.setStrokeOpacity(l)}function at(e,t){var i=e.fill&&e.fill();if(!i)return;if(i instanceof p.Gradient)return;var n=i.color;if(n){n=_t(n);if(n==null)return;t.setFillColor(n.r,n.g,n.b);if(n.a!=1)t.setFillOpacity(n.a)}var r=i.opacity;if(r!=null)t.setFillOpacity(r)}function ot(e,t,i){var n=e.clip();if(n){dt(n,t,i);t.clip()}}function O(e){return e&&(e instanceof p.Gradient||e.color&&!/^(none|transparent)$/i.test(e.color)&&(e.width==null||e.width>0)&&(e.opacity==null||e.opacity>0))}function st(e,t,i,n){var r=e.fill();if(r instanceof p.Gradient){if(n)t.clipStroke();else t.clip();var a=r instanceof p.RadialGradient;var o,s;if(a){o={x:r.center().x,y:r.center().y,r:0};s={x:r.center().x,y:r.center().y,r:r.radius()}}else{o={x:r.start().x,y:r.start().y};s={x:r.end().x,y:r.end().y}}var l=r.stops.elements().map(function(e){var t=e.offset();if(/%$/.test(t))t=parseFloat(t)/100;else t=parseFloat(t);var i=_t(e.color());i.a*=e.opacity();return{offset:t,color:i}});l.unshift(l[0]);l.push(l[l.length-1]);var d={userSpace:r.userSpace(),type:a?"radial":"linear",start:o,end:s,stops:l};var u=e.rawBBox();var c=u.topLeft(),f=u.getSize();u={left:c.x,top:c.y,width:f.width,height:f.height};t.gradient(d,u);return true}}function M(e,t,i){if(O(e.fill())&&O(e.stroke())){if(!st(e,t,i,true))t.fillStroke()}else if(O(e.fill())){if(!st(e,t,i,false))t.fill()}else if(O(e.stroke()))t.stroke();else t.nop()}function lt(e,t){var i=e.segments;if(i.length==4&&e.options.closed){var n=[];for(var r=0;r<i.length;++r){if(i[r].controlIn())return false;n[r]=i[r].anchor()}var a=n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x||n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y;if(a){t.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y);return true}}}function dt(e,t,i){var n=e.segments;if(n.length===0)return;if(!lt(e,t,i)){for(var r,a=0;a<n.length;++a){var o=n[a];var s=o.anchor();if(!r)t.moveTo(s.x,s.y);else{var l=r.controlOut();var d=o.controlIn();if(l&&d)t.bezier(l.x,l.y,d.x,d.y,s.x,s.y);else t.lineTo(s.x,s.y)}r=o}if(e.options.closed)t.close()}}function ut(e,t,i){dt(e,t,i);M(e,t,i)}function ct(e,t,i){var n=e.paths;for(var r=0;r<n.length;++r)dt(n[r],t,i);M(e,t,i)}function ft(e,t,i){var n=e.geometry();t.circle(n.center.x,n.center.y,n.radius);M(e,t,i)}function pt(e,t,i){var n=e.geometry().curvePoints();t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;)t.bezier(n[r].x,n[r++].y,n[r].x,n[r++].y,n[r].x,n[r++].y);M(e,t,i)}function ht(e,t){var i=Ue(e.options.font);var n=e._position;var r;if(e.fill()&&e.stroke())r=Ye.fillAndStroke;else if(e.fill())r=Ye.fill;else if(e.stroke())r=Ye.stroke;t.transform(1,0,0,-1,n.x,n.y+i.fontSize);t.beginText();t.setFont(We(i),i.fontSize);t.setTextRenderingMode(r);t.showText(e.content(),e._pdfRect?e._pdfRect.width():null);t.endText()}function mt(e,t,i){if(e._pdfLink)t.addLink(e._pdfLink.url,e._pdfLink);var n=e.children;for(var r=0;r<n.length;++r)nt(n[r],t,i)}function gt(e,t){var i=e.src();if(!i)return;var n=e.rect();var r=n.getOrigin();var a=n.getSize();t.transform(a.width,0,0,-a.height,r.x,r.y+a.height);t.drawImage(i)}function vt(e,t,i){var n=e.geometry();var r=n.cornerRadius;var a=r[0];var o=r[1];if(a===0&&o===0){t.rect(n.origin.x,n.origin.y,n.size.width,n.size.height);M(e,t,i)}else ut(p.Path.fromRect(n,e.options),t,i)}function _t(e){var t=kendo.parseColor(e,true);return t?t.toRGB():null}function bt(i){var a=false;var o=c.Matrix.unit();var n=null;var t;do{t=false;i=u(i)}while(i&&t);return{root:i,bbox:n};function r(e){t=true;return e}function s(e){return e.visible()&&e.opacity()>0&&(O(e.fill())||O(e.stroke()))}function l(e){var t=[];for(var i=0;i<e.length;++i){var n=u(e[i]);if(n!=null)t.push(n)}return t}function e(e,t){var i=a;var n=o;if(e.transform())o=o.multiplyCopy(e.transform().matrix());var r=e.clip();if(r){r=r.bbox();if(r){r=r.bbox(o);a=a?c.Rect.intersect(a,r):r}}try{return t()}finally{a=i;o=n}}function d(e){if(a==null)return false;var t=e.rawBBox().bbox(o);if(a&&t)t=c.Rect.intersect(t,a);return t}function u(t){return e(t,function(){if(!(t instanceof p.Group||t instanceof p.MultiPath)){var e=d(t);if(!e)return r(null);n=n?c.Rect.union(n,e):e}return it({Path:function(e){if(e.segments.length===0||!s(e))return r(null);return e},MultiPath:function(e){if(!s(e))return r(null);var t=new p.MultiPath(e.options);t.paths=l(e.paths);if(t.paths.length===0)return r(null);return t},Circle:function(e){if(!s(e))return r(null);return e},Arc:function(e){if(!s(e))return r(null);return e},Text:function(e){if(!/\S/.test(e.content())||!s(e))return r(null);return e},Image:function(e){if(!(e.visible()&&e.opacity()>0))return r(null);return e},Group:function(e){if(!(e.visible()&&e.opacity()>0))return r(null);var t=new p.Group(e.options);t.children=l(e.children);t._pdfLink=e._pdfLink;if(e!==i&&t.children.length===0&&!e._pdfLink)return r(null);return t},Rect:function(e){if(!s(e))return r(null);return e}},t)})}}function kt(e,t){var i=o.createPromise();for(var n in t){if(n=="margin"&&e.options.pdf&&e.options.pdf._ignoreMargin)continue;e.options.set("pdf."+n,t[n])}P(e,i.resolve);return i}function wt(e,t){var i=o.createPromise();for(var n in t){if(n=="margin"&&e.options.pdf&&e.options.pdf._ignoreMargin)continue;e.options.set("pdf."+n,t[n])}if(window.Blob&&!N.safari)et(e,i.resolve);else P(e,i.resolve);return i}kendo.deepExtend(kendo.pdf,{Document:w,BinaryStream:S,defineFont:je,parseFontDef:Ue,getFontURL:We,loadFonts:b,loadImages:k,getPaperOptions:le,clearImageCache:ce,TEXT_RENDERING_MODE:Ke,exportPDF:kt,exportPDFToBlob:wt,saveAs:tt,toDataURL:P,toBlob:et,render:Ze}),kendo.drawing.exportPDF=kendo.pdf.exportPDF,kendo.drawing.pdf=kendo.pdf})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("pdf/mixins.min",["./core.min"],function(){var a=window.kendo.jQuery,e=void 0;return kendo.PDFMixin={extend:function(e){e.events.push("pdfExport");e.options.pdf=this.options;e.saveAsPDF=this.saveAsPDF;e._drawPDF=this._drawPDF;e._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:false,landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+kendo.version,date:null},saveAsPDF:function(){var t=new a.Deferred;var e=t.promise();var i={promise:e};if(this.trigger("pdfExport",i))return;var n=this.options.pdf;n.multiPage=n.multiPage||n.allPages;this._drawPDF(t).then(function(e){return kendo.drawing.exportPDF(e,n)}).done(function(e){kendo.saveAs({dataURI:e,fileName:n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy,proxyTarget:n.proxyTarget});t.resolve()}).fail(function(e){t.reject(e)});return e},_drawPDF:function(i){var n=new a.Deferred;kendo.drawing.drawDOM(this.wrapper).done(function(e){var t={page:e,pageNumber:1,progress:1,totalPages:1};i.notify(t);n.resolve(t.page)}).fail(function(e){n.reject(e)});return n},_drawPDFShadow:function(e,t){e=e||{};var i=this.wrapper;var n=a("<div class='k-pdf-export-shadow'>");if(e.width)n.css({width:e.width,overflow:"visible"});i.before(n);n.append(e.content||i.clone(true,true));var r=a.Deferred();setTimeout(function(){var e=kendo.drawing.drawDOM(n,t);e.always(function(){n.remove()}).then(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)}).progress(function(){r.progress.apply(r,arguments)})},15);return r.promise()}},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.pdf.min",["kendo.core.min","kendo.drawing.min","./pdf/core.min","./pdf/mixins.min"],function(){var e={id:"pdf",name:"PDF export",description:"PDF Generation framework",mixin:true,category:"framework",depends:["core","drawing"]}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.textbox.min",["kendo.core.min","kendo.floatinglabel.min"],function(){var e={id:"textbox",name:"TextBox",category:"web",description:"The TextBox widget enables you to style and provide a floating label functionality to input elements",depends:["core","floatinglabel"]},o=window.kendo.jQuery,n=void 0,s=window.kendo,r=s.ui.Widget,t=s.ui,l=o.isPlainObject,d=".kendoTextBox",a="change",u="disabled",c="readonly",f="k-input-inner",i="k-focus",p="k-label k-input-label",h="k-disabled",m="k-no-click",g="aria-disabled",v=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);t=o.extend(true,{},t);i.options.value=t.value||i.element.val();i.options.readonly=t.readonly!==n?t.readonly:Boolean(i.element.attr("readonly"));i.options.enable=t.enable!==n?t.enable:!Boolean(i.element.attr("disabled"));i.options.placeholder=t.placeholder||i.element.attr("placeholder");i.value(i.options.value);i._wrapper();i._label();i._editable({readonly:i.options.readonly,disable:!i.options.enable});i.element.addClass(f).attr("placeholder",i.options.placeholder).attr("autocomplete","off");s.notify(i);i._applyCssClasses()},events:[a],options:{name:"TextBox",value:"",readonly:false,enable:true,placeholder:"",label:null,rounded:"medium",size:"medium",fillMode:"solid"},value:function(e){var t=this;if(e===n)return t._value;t._value=e;t.element.val(e)},readonly:function(e){var t=this;this._editable({readonly:e===n?true:e,disable:false});if(t.floatingLabel)t.floatingLabel.readonly(e===n?true:e)},enable:function(e){var t=this;this._editable({readonly:false,disable:!(e=e===n?true:e)});if(t.floatingLabel)t.floatingLabel.enable(e=e===n?true:e)},focus:function(){var e=this;e.element[0].focus()},destroy:function(){var e=this;if(e.floatingLabel)e.floatingLabel.destroy();e.element.off(d);e.element[0].style.width="";e.element.removeClass(f);r.fn.destroy.call(e)},setOptions:function(e){this.destroy();if(this._inputLabel){this._inputLabel.remove();this._inputLabel=null}if(this._floatingLabelContainer){this.floatingLabel.destroy();this.floatingLabel=null;this.element.unwrap();this.element.unwrap();this._floatingLabelContainer=null}else this.element.unwrap();s.deepExtend(this.options,e);this.init(this.element,this.options)},_editable:function(e){var t=this;var i=t.element;var n=t.wrapper;var r=e.disable;var a=e.readonly;i.off(d);if(!a&&!r){i.prop(u,false).prop(c,false).attr(g,false);n.removeClass(h).removeClass(m);i.on("focusin"+d,t._focusin.bind(t));i.on("focusout"+d,t._focusout.bind(t));i.on("change"+d,t._change.bind(t))}else{i.attr(u,r).attr(c,a).attr(g,r);n.toggleClass(h,r).toggleClass(m,a)}},_label:function(){var e=this;var t=e.element;var i=e.options;var n=t.attr("id");var r;var a;if(i.label!==null){r=l(i.label)?i.label.floating:false;a=l(i.label)?i.label.content:i.label;if(r){e._floatingLabelContainer=e.wrapper.wrap("<span></span>").parent();e.floatingLabel=new s.ui.FloatingLabel(e._floatingLabelContainer,{widget:e})}if(s.isFunction(a))a=a.call(e);if(!a)a="";if(!n){n=i.name+"_"+s.guid();t.attr("id",n)}e._inputLabel=o("<label class='"+p+"' for='"+n+"'>"+a+"</label>'").insertBefore(e.wrapper)}},_focusin:function(){var e=this;e.wrapper.addClass(i)},_focusout:function(){var e=this;e.wrapper.removeClass(i)},_change:function(e){var t=this;var i=t.element.val();t._value=i;t.trigger(a,{value:i,originalEvent:e})},_wrapper:function(){var e=this;var t=e.element;var i=t[0];var n;n=t.wrap("<span class='k-input k-textbox'></span>").parent();n[0].style.cssText=i.style.cssText;i.style.width="100%";e.wrapper=n.addClass(i.className).removeClass("input-validation-error")}});return s.cssProperties.registerPrefix("TextBox","k-input-"),s.cssProperties.registerValues("TextBox",[{prop:"rounded",values:s.cssProperties.roundedValues.concat([["full","full"]])}]),t.plugin(v),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dialog.min",["kendo.core.min","kendo.popup.min","kendo.textbox.min"],function(){var z={id:"dialog",name:"Dialog",category:"web",description:"The dialog widget is a modal popup that brings information to the user.",depends:["core","popup","textbox"]},d=window.kendo.jQuery,r=void 0,s=window.kendo,o=s.ui.Widget,R=s.ui.Popup.TabKeyTrap,i=s.template,a=s.keys,N=s.isFunction,u="kendoWindow",L=".k-dialog",n=".k-window",l=".k-dialog-close",B="k-window-content k-dialog-content",c=".k-window-content",f="k-scroll",p="k-dialog-titleless",h=".k-dialog-title",m=".k-dialog-titlebar",g=".k-dialog-buttongroup",v=".k-button",V="k-alert",U="k-confirm",W="k-prompt",j=".k-input-inner",q=".k-overlay",_=":visible",b="zIndex",k="body",e="initOpen",w="touchstart",y="touchmove",x="open",C="close",t="show",S="hide",T={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"},I="hidden",D="overflow",E="original-overflow-rule",A="tap-y",G={okText:"OK",cancel:"Cancel",promptInput:"Input"},F=Math.ceil,H,K=":not(link,meta,script,style)";function P(e){return typeof e!="undefined"}function $(e,t,i){return Math.max(Math.min(parseInt(e,10),i===Infinity?i:parseInt(i,10)),parseInt(t,10))}function Y(e){return e.keyCode==a.ENTER||e.keyCode==a.SPACEBAR}var O=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._init(i.element,i.options);s.notify(i)},_init:function(e,t){var i=this,n;i._centerCallback=i._center.bind(i);i.appendTo=d(k);if(!P(t.visible)||t.visible===null)t.visible=e.is(_);if(i.wrapperTemplate===r)i.wrapperTemplate=H.wrapper;i._createDialog();n=i.wrapper=e.closest(L);if(t._defaultFocus===r)i._defaultFocus=e[0];i._tabindex(e);i._dimensions();this._tabKeyTrap=new R(n);if(!i.options.visible)i.wrapper.hide();else i._triggerOpen()},setOptions:function(e){var t=this;var i=t.options.size;e=d.extend(t.options,e);o.fn.setOptions.call(t,e);if(e.title!==r)t.title(e.title);if(e.content){s.destroy(t.element.children());t.element.html(e.content)}if(e.actions){t.wrapper.children(g).remove();t._createActionbar(t.wrapper)}t.wrapper.show();t._closable(t.wrapper);t.wrapper.removeClass(T[i]);t._dimensions();if(!e.visible)t.wrapper.hide();else t._triggerOpen();if(typeof e.modal!=="undefined"){var n=t.options.visible!==false;t._enableDocumentScrolling();t._overlay(e.modal&&n)}},_dimensions:function(){var e=this,t=e.wrapper,i=e.options,n=i.width,r=i.height,a=i.size,o=["minWidth","minHeight","maxWidth","maxHeight"];for(var s=0;s<o.length;s++){var l=i[o[s]];if(l&&l!=Infinity)t.css(o[s],l)}this._setElementMaxHeight();if(n)if(n.toString().indexOf("%")>0)t.width(n);else t.outerWidth($(n,i.minWidth,i.maxWidth));if(r){if(r.toString().indexOf("%")>0)t.height(r);else t.outerHeight($(r,i.minHeight,i.maxHeight));this._setElementHeight()}if(a&&T[a])t.addClass(T[a])},_setElementMaxHeight:function(){var e=this,t=e.element,i=e.options.maxHeight,n;if(i!=Infinity){n=parseFloat(i,10)-e._uiHeight();if(n>0)t.css({maxHeight:F(n)+"px"})}},_setElementHeight:function(){var e=this,t=e.element,i=e.wrapper.outerHeight(true),n=parseFloat(i,10)-e._uiHeight();if(n<0)n=0;t.css({height:F(n)+"px"});this._applyScrollClassName(t)},_applyScrollClassName:function(e){var t=e.get(0).scrollHeight>e.outerHeight();if(t)e.addClass(f);else e.removeClass(f)},_uiHeight:function(){var e=this,t=e.wrapper,i=t.children(g),n=i[0]&&i[0].offsetHeight||0,r=t.children(m),a=r[0]&&r[0].offsetHeight||0;return n+a},_overlay:function(e){var t=this.appendTo.children(q),i=this.wrapper;if(!t.length)t=d(H.overlay);t.insertBefore(i[0]).toggle(e).css(b,parseInt(i.css(b),10)-1);if(e)this._waiAriaOverlay();else this._removeWaiAriaOverlay();if(this.options.modal.preventScroll)this._stopDocumentScrolling();return t},_waiAriaOverlay:function(){var e=this.wrapper;this._overlayedNodes=e.prevAll(K).add(e.nextAll(K)).each(function(){var e=d(this);e.data("ariaHidden",e.attr("aria-hidden"));e.attr("aria-hidden","true")})},_removeWaiAriaOverlay:function(){return this._overlayedNodes&&this._overlayedNodes.each(function(){var e=d(this);var t=e.data("ariaHidden");if(t)e.attr("aria-hidden",t);else e.removeAttr("aria-hidden")})},_closeClick:function(e){e.preventDefault();this.close(false)},_closeKeyHandler:function(e){if(Y(e)||e.keyCode==a.ESC)this.close(false)},_keydown:function(e){var t=this,i=t.options,n=e.keyCode;if(n==a.ESC&&!t._closing&&i.closable)t.close(false)},_createDialog:function(){var e=this,t=e.element,i=e.options,n=s.support.isRtl(t),r=d(H.titlebar(i)),a=(t.id||s.guid())+"_title",o=d(e.wrapperTemplate(i));o.toggleClass("k-rtl",n);t.addClass(B);e.appendTo.append(o);if(i.title!==false){o.append(r);r.attr("id",a);o.attr("aria-labelledby",a)}else o.addClass(p);e._closable(o);o.append(t);if(i.content){s.destroy(t.children());t.html(i.content)}if(i.actions.length)e._createActionbar(o)},_closable:function(e){var t=this;var i=t.options;var n=e.children(m);var r=n.find(".k-window-actions");var a=r.length?r.find(".k-dialog-close"):e.find(".k-dialog-close");a.remove();if(i.closable!==false){if(i.title!==false&&r.length)r.append(H.close(i));else e.prepend(H.close(i));e.autoApplyNS(u);t.element.autoApplyNS(u);e.find(l).on("click",t._closeClick.bind(t)).on("keydown",t._closeKeyHandler.bind(t));t.element.on("keydown",t._keydown.bind(t))}},_createActionbar:function(e){var t=this.options.buttonLayout==="stretched";var i=t?"stretch":"end";var n=d(H.actionbar({buttonLayout:i}));this._addButtons(n);e.append(n)},_addButtons:function(e){var t=this,i=t._actionClick.bind(t),n=t._actionKeyHandler.bind(t),r=t.options.actions,a=r.length,o,s;for(var l=0;l<a;l++){o=r[l];s=t._mergeTextWithOptions(o);d(H.action(o)).autoApplyNS(u).html(s).appendTo(e).addClass(o.cssClass).data("action",o.action).on("click",i).on("keydown",n)}},_mergeTextWithOptions:function(e){var t=e.text;return t?i(t)(this.options):""},_tabindex:function(e){var t=this;var i=t.wrapper;var n=i.find(l);var r=i.find(g+" "+v);o.fn._tabindex.call(this,e);var a=e.attr("tabindex");n.attr("tabIndex",a);r.attr("tabIndex",a)},_actionClick:function(e){if(this.wrapper.is(_))this._runActionBtn(e.currentTarget)},_actionKeyHandler:function(e){if(Y(e)){e.preventDefault();this._runActionBtn(e.currentTarget)}else if(e.keyCode==a.ESC)this.close(false)},_runActionBtn:function(e){var t=this;if(t._closing)return;var i=d(e).data("action"),n=N(i)&&i({sender:t})===false;if(!n)t.close(false)},_triggerOpen:function(){var e=this;var t=e.options;var i=e.wrapper;e.toFront();e._triggerInitOpen();e.trigger(x);if(t.modal){e._overlay(i.is(_)).css({opacity:.5});e._focusDialog()}},open:function(){var e=this,t=e.wrapper,i=this._animationOptions(x),n=e.options,r,a;this._triggerInitOpen();if(!e.trigger(x)){if(e._closing)t.kendoStop(true,true);e._closing=false;e.toFront();n.visible=true;if(n.modal){a=!!e._modals().length;r=e._overlay(a);r.kendoStop(true,true);if(i.duration&&s.effects.Fade&&!a){var o=s.fx(r).fadeIn();o.duration(i.duration||0);o.endValue(.5);o.play()}else r.css("opacity",.5);r.show()}t.show().kendoStop().kendoAnimate({effects:i.effects,duration:i.duration,complete:e._openAnimationEnd.bind(e)});t.show()}return e},_animationOptions:function(e){var t=this.options.animation;var i={open:{effects:{}},close:{hide:true,effects:{}}};return t&&t[e]||i[e]},_openAnimationEnd:function(){if(this.options.modal)this._focusDialog();this.trigger(t)},_triggerInitOpen:function(){if(!P(this._initOpenTriggered)){this._initOpenTriggered=true;this.trigger(e)}},toFront:function(){var e=this,t=e.wrapper,r=+t.css(b),i=r;e.center();d(n).each(function(e,t){var i=d(t),n=i.css(b);if(!isNaN(n))r=Math.max(+n,r)});if(!t[0].style.zIndex||i<r)t.css(b,r+2);e.element.find("> .k-overlay").remove();t=null;return e},close:function(e){if(!arguments.length)e=true;this._close(e);this._stopCenterOnResize();return this},_close:function(e){var t=this,i=t.wrapper,n=t.options,r=this._animationOptions("open"),a=this._animationOptions("close");if(i.is(_)&&!t.trigger(C,{userTriggered:!e})){if(t._closing)return;t._closing=true;n.visible=false;this._removeOverlay();i.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:a.reverse===true,duration:a.duration,complete:this._closeAnimationEnd.bind(this)})}return t},center:function(){this._center();this._centerOnResize()},_center:function(){var e=this,t=e.wrapper,i=d(window),n=0,r=0,a=r+Math.max(0,(i.width()-t.width())/2),o=n+Math.max(0,(i.height()-t.height()-parseInt(t.css("paddingTop"),10))/2);t.css({left:a,top:o});return e},_centerOnResize:function(){if(this._trackResize)return;s.onResize(this._centerCallback);this._trackResize=true},_stopCenterOnResize:function(){s.unbindResize(this._centerCallback);this._trackResize=false},_removeOverlay:function(){var e=this._modals();var t=this.options;var i=t.modal&&!e.length;if(i){this._overlay(false).remove();if(t.modal.preventScroll)this._enableDocumentScrolling()}else if(e.length){this._object(e.last())._overlay(true);if(t.modal.preventScroll)this._stopDocumentScrolling()}},_stopDocumentScrolling:function(){var e=this;var t=d("body");e._storeOverflowRule(t);t.css(D,I);var i=d("html");var n=i[0];e._storeOverflowRule(i);i.css(D,I);if(s.support.mobileOS.ios){n.addEventListener(w,e._touchStart,{passive:false});n.addEventListener(y,e._touchMove,{passive:false})}},_touchStart:function(e){d(this).data(A,e.changedTouches[0].pageY)},_touchMove:function(e){var t=e.target;var i=d(e.target);var n=e.changedTouches[0].pageY-d(this).data(A)>0;var r=i.is(c)&&(n&&i.scrollTop()===0)||!n&&i.scrollTop()===t.scrollHeight-t.clientHeight;if(!i.is(c)||r)e.preventDefault()},_enableDocumentScrolling:function(){var e=this;var t=d(document.body);var i=d("html");var n=i[0];e._restoreOverflowRule(t);e._restoreOverflowRule(i);if(s.support.mobileOS.ios){i.removeData(A);n.removeEventListener(w,e._touchStart,{passive:false});n.removeEventListener(y,e._touchMove,{passive:false})}},_storeOverflowRule:function(e){if(this._isOverflowStored(e))return;var t=e.get(0).style.overflow;if(typeof t==="string")e.data(E,t)},_isOverflowStored:function(e){return typeof e.data(E)==="string"},_restoreOverflowRule:function(e){var t=e.data(E);if(t!==null&&t!==r){e.css(D,t);e.removeData(E)}else e.css(D,"")},_closeAnimationEnd:function(){var e=this,t=e._previousFocus;e._closing=false;e.wrapper.hide().css("opacity","");e.trigger(S);if(e.options.modal){var i=e._object(e._modals().last());if(i)i.toFront();else if(t){e._previousFocus=null;setTimeout(function(){t.focus()})}}},_modals:function(){var t=this;var e=d(n).filter(function(){var e=t._object(d(this));return e&&e.options&&e.options.modal&&e.options.visible&&e.options.appendTo===t.options.appendTo&&!e.containment&&d(e.element).is(_)}).sort(function(e,t){return+d(e).css("zIndex")-+d(t).css("zIndex")});t=null;return e},_object:function(e){var t=e.children(c);var i=s.widgetInstance(t);if(i)return i;return r},destroy:function(){var e=this;e._destroy();o.fn.destroy.call(e);s.destroy(e.wrapper);e.wrapper.remove();e.wrapper=e.element=d()},_destroy:function(){var e=this;var t="."+u;e.wrapper.off(t);e.element.off(t);e.wrapper.find(l+","+g+" > "+v).off(t);e._stopCenterOnResize()},title:function(e){var t=this,i=t.wrapper,n=t.options,r=i.children(m),a=r.children(h),o=s.htmlEncode(e);if(!arguments.length)return a.html();if(e===false){r.remove();i.addClass(p)}else{if(!r.length){r=d(H.titlebar(n)).prependTo(i);a=r.children(h);i.removeClass(p)}a.html(o)}t.options.title=o;return t},content:function(e,i){var t=this,n=t.wrapper.children(c);if(!P(e))return n.html();this.angular("cleanup",function(){return{elements:n.children()}});s.destroy(n.children());n.html(e);this.angular("compile",function(){var e=[];for(var t=n.length;--t>=0;)e.push({dataItem:i});return{elements:n.children(),data:e}});t.options.content=e;return t},_focusDialog:function(){var e=this._object(this._modals().first());this._previousFocus=e&&e._previousFocus?e._previousFocus:document.activeElement;if(this._defaultFocus)this._focus(this._defaultFocus);this._tabKeyTrap.trap()},_focus:function(e){if(e)e.focus()},events:[e,x,C,t,S],options:{title:"",buttonLayout:"stretched",actions:[],modal:true,size:"auto",width:null,height:null,minWidth:0,minHeight:0,maxWidth:Infinity,maxHeight:Infinity,content:null,visible:null,appendTo:k,closable:true}}),Q=O.extend({options:{name:"Dialog",messages:{close:"Close"}}}),M=(s.ui.plugin(Q),O.extend({_init:function(e,t){var i=this;i.wrapperTemplate=H.alertWrapper;t._defaultFocus=null;i._ensureContentId(e);O.fn._init.call(i,e,t);i.bind(S,i.destroy.bind(i));i._ariaDescribedBy();i._initFocus()},_ensureContentId:function(e){var t=d(e);if(!t.attr("id"))t.attr("id",s.guid()+"_k-popup")},_ariaDescribedBy:function(){this.wrapper.attr("aria-describedby",this.element.attr("id"))},_initFocus:function(){var e=this.options;this._defaultFocus=this._chooseEntryFocus();if(this._defaultFocus&&e.visible&&e.modal)this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(g+" > "+v)[0]},options:{title:window.location.host,closable:false,messages:G}})),X=M.extend({_init:function(e,t){var i=this;M.fn._init.call(i,e,t);i.wrapper.addClass(V)},options:{name:"Alert",modal:true,actions:[{text:"#: messages.okText #"}]}}),J=(s.ui.plugin(X),function(e){return d(H.alert).kendoAlert({content:e}).data("kendoAlert").open()}),Z=M.extend({_init:function(e,t){var i=this;M.fn._init.call(i,e,t);i.wrapper.addClass(U);i.result=d.Deferred()},options:{name:"Confirm",modal:true,actions:[{text:"#: messages.okText #",primary:true,action:function(e){e.sender.result.resolve()}},{text:"#: messages.cancel #",action:function(e){e.sender.result.reject()}}]}}),ee=(s.ui.plugin(Z),function(e){var t=d(H.confirm).kendoConfirm({content:e}).data("kendoConfirm").open();return t.result}),te=M.extend({_init:function(e,t){var i=this;M.fn._init.call(i,e,t);i.wrapper.addClass(W);i._createPrompt();i.result=d.Deferred()},_createPrompt:function(){var e=this.options.value,t=d(H.promptInputContainer(this.options)).insertAfter(this.element);this.input=new s.ui.TextBox(t.find("input"));if(e)this.input.value(e);this._defaultFocus=this._chooseEntryFocus();this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(j)[0]},options:{name:"Prompt",modal:true,value:"",actions:[{text:"#: messages.okText #",primary:true,action:function(e){var t=e.sender,i=t.input.value();t.result.resolve(i)}},{text:"#: messages.cancel #",action:function(e){var t=e.sender,i=t.input.value();e.sender.result.reject(i)}}]}}),ie=(s.ui.plugin(te),function(e,t){var i=d(H.prompt).kendoPrompt({content:e,value:t}).data("kendoPrompt").open();return i.result});return H={wrapper:i("<div class='k-widget k-window k-dialog' role='dialog'></div>"),action:i("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid # if (data.primary) { # k-button-solid-primary # } else { # k-button-solid-base # } #'></button>"),titlebar:i("<div class='k-window-titlebar k-dialog-titlebar k-hstack'>"+"<span class='k-window-title k-dialog-title'>#: title #</span>"+"<div class='k-window-actions k-dialog-actions k-hstack'></div>"+"</div>"),close:i("<a role='button' href='\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'>"+"<span class='k-button-icon k-icon k-i-close'></span></a>"),actionbar:i("<div class='k-dialog-buttongroup k-actions k-hstack k-justify-content-#: buttonLayout #'></div>"),overlay:"<div class='k-overlay'></div>",alertWrapper:i("<div class='k-widget k-window k-dialog' role='alertdialog'></div>"),alert:"<div></div>",confirm:"<div></div>",prompt:"<div></div>",promptInputContainer:i("<div class='k-prompt-container'><input type='text' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>")},s.alert=J,s.confirm=ee,s.prompt=ie,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.switch.min",["kendo.core.min"],function(){var e={id:"switch",name:"Switch",category:"web",description:"The Switch widget is used to display two exclusive choices.",depends:["core"]},l=window.kendo.jQuery,a=void 0,d=window.kendo,t=d.ui,i=".kendoSwitch",n=t.Widget,r=d.support,o="change",s={widget:"k-switch",track:"k-switch-track",thumbWrapper:"k-switch-thumb-wrap",thumb:"k-switch-thumb",checked:"k-switch-on",checkedLabel:"k-switch-label-on",unchecked:"k-switch-off",uncheckedLabel:"k-switch-label-off",disabled:"k-disabled",readonly:"k-readonly",active:"k-active"},u="disabled",c="aria-disabled",f="readonly",p="aria-readonly",h="aria-checked",m="aria-hidden",g="checked",v=r.click+i,_=r.pointers?"pointerup":"touchend",b="keydown"+i,k="_label",w=".",y=d.template('<span class="#=styles.widget#" role="switch"></span>'),x=d.template("<span class='#=styles.track#'>"+"<span class='#=styles.checkedLabel#'>#=checked#</span>"+"<span class='#=styles.uncheckedLabel#'>#=unchecked#</span>"+"</span>"),C=d.template("<span class='#=styles.thumbWrapper#'>"+"<span class='#=styles.thumb#'></span>"+"</span>"),S=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i._wrapper();i._initSettings();i._aria();i._attachEvents();d.notify(i,d.ui)},_wrapper:function(){var e=this,t=e.options,i=e.element[0],n=l(y({styles:s}));i.type="checkbox";e.wrapper=e.element.wrap(n).parent();e.wrapper[0].style.cssText=e.element[0].style.cssText;e.element.hide();e.wrapper.append(l(x({styles:s,checked:t.messages.checked,unchecked:t.messages.unchecked}))).append(l(C({styles:s}))).addClass(i.className).removeClass("input-validation-error");e.options.rounded=e.options.trackRounded;e._applyCssClasses();e._applyRoundedClasses()},_applyRoundedClasses:function(e){var t=this,i=t.options,n=d.cssProperties.getValidClass({widget:i.name,propName:"rounded",value:i.trackRounded}),r=d.cssProperties.getValidClass({widget:i.name,propName:"rounded",value:i.thumbRounded});e=e||"addClass";t.wrapper.find(w+s.track)[e](n);t.wrapper.find(w+s.thumb)[e](r)},_attachEvents:function(){var e=this;e.wrapper.on(v,e._click.bind(e)).on(_,e._touchEnd.bind(e)).on(b,e._keydown.bind(e))},setOptions:function(e){var t=this,i=e.messages,n,r;t._clearCssClasses(e);t._applyRoundedClasses("removeClass");t.options=l.extend(t.options,e);if(i&&i.checked!==a){n=t.wrapper.find(w+s.checkedLabel);n.text(i.checked)}if(i&&i.unchecked!==a){r=t.wrapper.find(w+s.uncheckedLabel);r.text(i.unchecked)}if(e.width)t.wrapper.css({width:e.width});if(e.enabled!==a)t.enable(e.enabled);if(e.readonly!==a)t.readonly(e.readonly);t.check(e.checked);t.options.rounded=t.options.trackRounded;t._applyCssClasses();t._applyRoundedClasses()},_initSettings:function(){var e=this,t=e.element[0],i=e.options;if(i.enabled)e._tabindex();if(i.width)e.wrapper.css({width:i.width});if(i.checked===null)i.checked=t.checked;e.check(i.checked);i.enabled=i.enabled&&!e.element.attr(u);e.enable(i.enabled);i.readonly=i.readonly||!!e.element.attr(f);e.readonly(i.readonly)},_aria:function(){var e=this,t=e.element,i=e.wrapper,n=t.attr("id"),r=l('label[for="'+n+'"]'),a=t.attr("aria-label"),o=t.attr("aria-labelledby");if(a)i.attr("aria-label",a);else if(o)i.attr("aria-labelledby",o);else if(r.length){var s=r.attr("id");if(!s){s=(n||d.guid())+k;r.attr("id",s)}i.attr("aria-labelledby",s)}},events:[o],options:{name:"Switch",messages:{checked:"On",unchecked:"Off"},width:null,checked:null,enabled:true,readonly:false,size:"medium",rounded:"full",trackRounded:"full",thumbRounded:"full"},check:function(e){var t=this,i=t.element[0];if(e===a)return i.checked;if(i.checked!==e)t.options.checked=i.checked=e;t.wrapper.attr(h,e).toggleClass(s.checked,e).toggleClass(s.unchecked,!e).find("[aria-hidden='true']").removeAttr(m);if(e){t.element.attr(g,g);t.wrapper.find(w+s.uncheckedLabel).attr(m,true)}else{t.element.prop(g,false);t.wrapper.find(w+s.checkedLabel).attr(m,true)}},value:function(e){if(typeof e==="string")e=e==="true";else if(e===null)e=false;return this.check.apply(this,[e])},destroy:function(){n.fn.destroy.call(this);this.wrapper.off(i)},toggle:function(){var e=this;e.check(!e.element[0].checked)},enable:function(e){var t=this.element,i=this.wrapper;if(typeof e=="undefined")e=true;this.options.enabled=e;if(e){t.prop(u,false);i.removeAttr(c)}else{t.attr(u,u);i.attr(c,true)}i.toggleClass(s.disabled,!e)},readonly:function(e){var t=this,i=t.element,n=t.wrapper;if(typeof e=="undefined")e=true;t.options.readonly=e;if(e){i.attr(f,true);n.attr(p,true)}else{i.prop(f,false);n.removeAttr(p)}n.toggleClass(s.readonly,e)},_check:function(){var e=this,t=e.element[0].checked=!e.element[0].checked;e.wrapper.trigger("focus");if(!e.options.enabled||e.options.readonly||e.trigger(o,{checked:t})){e.element[0].checked=!t;return}e.check(t)},_keydown:function(e){if(e.keyCode===d.keys.SPACEBAR){this._check();e.preventDefault()}},_isTouch:function(e){return/touch/.test(e.type)||e.originalEvent&&/touch/.test(e.originalEvent.pointerType)},_click:function(e){if(!this._isTouch(e)&&e.which===1)this._check()},_touchEnd:function(e){if(this._isTouch(e)){this._check();e.preventDefault()}}});return d.cssProperties.registerPrefix("Switch","k-switch-"),d.cssProperties.registerValues("Switch",[{prop:"rounded",values:d.cssProperties.roundedValues.concat([["full","full"]])}]),t.plugin(S),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.form.min",["kendo.editable.min"],function(){var e={id:"form",name:"Form",category:"web",description:"The Form widget.",depends:["editable"],features:[{id:"form-dropdowns",name:"DropDowns",description:"Support for DropDown editors",depends:["autocomplete","combobox","multiselect","dropdowntree","multicolumncombobox"]},{id:"form-datepickers",name:"DatePickers",description:"Support for DatePicker editors",depends:["dateinput","datepicker","datetimepicker","timepicker"]},{id:"form-inputs",name:"Inputs",description:"Support for Input editors",depends:["numerictextbox","maskedtextbox","switch","rating","slider","colorpicker","radiogroup","checkboxgroup","textbox","textarea","checkbox"]},{id:"form-editor",name:"Editor",description:"Support for Editor editor",depends:["editor"]}]},l=window.kendo.jQuery,r=void 0,u=window.kendo,d=u.ui,i=".kendoForm",n=d.Widget,c=l.extend,a="validate",o="validateField",s="validateInput",f="change",p="click"+i,h="submit",m="clear",g="max-width",v="set",_="equalSet",b="group",k="aria-describedby",w="data-stop",t="data-role",y="editable",x="form",C=".",S="[data-role='radiogroup']",T="[data-role='checkboxgroup']",I={form:"k-widget k-form",horizontal:"k-form-horizontal",vertical:"",field:"k-form-field",fieldsContainer:"k-form-fields-container",fieldWrap:"k-form-field-wrap",fieldError:"k-form-field-error",fieldHint:"k-form-hint",fieldset:"k-form-fieldset",layout:"k-form-layout",legend:"k-form-legend",label:"k-label k-form-label",emptyLabel:"k-form-label k-label-empty",optional:"k-label-optional",buttonsContainer:"k-form-buttons",buttonsEnd:"k-buttons-end",submit:"k-form-submit",clear:"k-form-clear",invalid:"k-invalid",hidden:"k-hidden"},D={horizontal:"horizontal",vertical:"vertical"},E=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i.options=u.deepExtend({},i.options,t);if(t&&t.formData)i.options.formData=t.formData;i._wrapper();i._setFields();i._setModel();i._renderContainers();i._renderButtons();i._editable();i._renderBoolLabels();i._renderFieldsHints();i._setEvents()},events:[o,a,f,h,m],options:{name:"Form",orientation:D.vertical,validatable:{validateOnBlur:true,validationSummary:false,errorTemplate:null},buttonsTemplate:null,messages:{submit:"Submit",clear:"Clear",optional:"(Optional)"},layout:"",grid:{},formData:{},items:[],formatLabel:null,focusFirst:false},_noLabelfieldTemplate:"<div class='#:styles.field# #if (colSpan) { # k-colspan-#:colSpan# # } # #if (hidden) { ##:styles.hidden## } #'>"+"<span class='#:styles.emptyLabel#'></span>"+"<div class='k-form-field-wrap' data-container-for='#:field#'></div>"+"</div>",_fieldTemplate:"<div class='#:styles.field# #if (colSpan) { # k-colspan-#:colSpan# # } # #if (hidden) { ##:styles.hidden## } #'>"+"# if (label && !hidden) { # "+"<label class='#:styles.label#' for='#:id#' id='#:id#-form-label'>"+"# if (typeof label.encoded != 'undefined' && label.encoded === false) {#"+"#= label.text || label #"+"# } else { #"+"#: label.text || label #"+"# } #"+"# if (label.optional) { # <span class='#:styles.optional#'>#:optional#</span>  #}#"+"</label>"+"# } #"+"<div class='k-form-field-wrap' data-container-for='#:field#'></div>"+"</div>",_boolLabelTemplate:"<label class='k-checkbox-label' for='#:id#' id='#:id#-form-label'>"+"# if (typeof label.encoded != 'undefined' && label.encoded === false) {#"+"#= label.text || label #"+"# } else { #"+"#: label.text || label #"+"# } #"+"# if (label.optional) { # <span class='#:styles.optional#'>#:optional#</span>  #}#"+"</label>",_groupTemplate:"<fieldset class='#:styles.fieldset# #if (colSpan) { #  k-colspan-#:colSpan# # }#'>"+"<legend class='#:styles.legend#'>#:label.text || label #</legend>"+"</fieldset>",_buttonsTemplate:"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary #:styles.submit#' type='submit'><span class='k-button-text'>#:messages.submit#</span></button>"+"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base #:styles.clear#'><span class='k-button-text'>#:messages.clear#</span></button>",_errorTemplate:"<span class='k-form-error' id='#=field#-form-error'><div>#=message#</div></span>",_hintTemplate:"<div class='k-form-hint' id='#=id#-form-hint'><span>#=message#</span></div>",_wrapper:function(){var e=this,t=e.options,i=E.styles,n=t.width,r=t.height;e.wrapper=e.element.addClass(i.form).addClass(i[t.orientation]);if(r)e.wrapper.height(r);if(n)e.wrapper.css(g,n);e.layoutWrapper=e._setupLayoutContainer(e.wrapper,{grid:t.grid,layout:t.layout})},_flattenFields:function(e){var t=[].concat(e),i=t.shift(),n=[],r=[].push;while(i){if(i.items)r.apply(t,i.items);else r.call(n,i);i=t.shift()}return n},_defaultLabel:function(e){var t=this,i=t.options.formatLabel;if(!e.length)return;if(u.isFunction(i))return i(e);return e.split(/(.*[a-z])(?=[A-Z])/).join(" ").trim()+":"},_formatLabel:function(e,t){var i=this,n=l.isPlainObject(t)?t.text:t;if(n!==r)return t;return i._defaultLabel(e)},_defaultFields:function(){var e=this,t=e.options,i=Object.keys(t.formData||{}),n=t.items||{},r=[],a;if(n.length)return n;for(var o=0;o<i.length;o+=1){a=i[o];r.push({field:a,id:a})}return r},_setFields:function(){var e=this,t=e._flattenFields(e._defaultFields()),i=e.options.formData||{},n,r,a,o,s;e._fields=[];for(var l in t){n=t[l];r=i[n.field];a=typeof n.editor==="string"?n.editor:u.type(r?u.parseDate(r.toString())||r:r);o=u.isFunction(n.editor)?n.editor:d.Editable.fn.options.editors[a]?"":n.editor;if(!e._isHidden(n.editor))if(n.label)s={"aria-labelledby":n.id||n.field+"-form-label"};else if(!n.attributes||!n.attributes["aria-label"])s={"aria-label":n.name||n.field};n=c(true,{label:n.label||n.name||n.field,optionalText:e.options.messages.optional},n,{id:n.id||n.field,name:n.name||n.field,type:a,editor:o,attributes:s,isHidden:e._isHidden(n.editor)||e._isAntiForgeryToken(n.name||n.field)});e._fields[l]=n}},_setModel:function(){var e=this,t=e.options,i=t.formData||{};if(t.formData instanceof u.data.ObservableObject){e._model=i;return}var n=u.data.Model.define({fields:e._fields});e._model=new n(i)},_editable:function(){var e=this,t=e.options,i=e.options.validatable;e._addEditableMvvmAttributes();e.editable=e.wrapper.kendoEditable({model:e._model,fields:e._fields||[],validateOnBlur:i.validateOnBlur,validationSummary:i.validationSummary,errorTemplate:i.errorTemplate||e._errorTemplate,clearContainer:false,skipFocus:!t.focusFirst,target:e}).getKendoEditable();e.validator=e.editable.validatable;e._removeEditableMvvmAttributes()},_addEditableMvvmAttributes:function(){this.wrapper.attr(t,y)},_removeEditableMvvmAttributes:function(){this.wrapper.attr(w,true).attr(t,x)},_getItemTemplate:function(e){var t=this,i;if(e===b)i=t._groupTemplate;else i=t._fieldTemplate;return i},_isHidden:function(e){return typeof e==="string"&&e==="hidden"},_isAntiForgeryToken:function(e){return e===d.Editable.antiForgeryTokenName},_renderField:function(e){var t=this,i=E.styles,n=t.options.orientation===D.horizontal,r=t._model.fields&&t._model.fields[e.field]&&t._model.fields[e.field].type,a=r&&r==="boolean",o,s;if(a&&n)o=t._noLabelfieldTemplate;else o=t._fieldTemplate;s=u.template(o)({styles:i,id:e.id||e.field||"",field:e.field||"",label:a?null:t._formatLabel(e.field,e.label),colSpan:e.colSpan||"",optional:t.options.messages.optional,hidden:t._isHidden(e.editor)||t._isAntiForgeryToken(e.field)});return s},_toggleFieldErrorState:function(e,t){var i=e.closest(C+I.field);if(i.length)i.toggleClass(I.fieldError,t)},_renderBoolLabels:function(){var e=this,t=E.styles,i=e._fields,n,r;for(var a=0;a<i.length;a+=1){n=i[a];r=e.wrapper.find("[name='"+n.name+"']:not([type='hidden'])");if(!r||!n.label||n.isHidden||n.type!=="boolean")continue;r.after(u.template(e._boolLabelTemplate)({styles:t,id:n.id||n.field||"",optional:e.options.messages.optional,label:e._formatLabel(n.field,n.label)}))}},_renderFieldsHints:function(){var e=this,t=e._fields,i,n,r,a,o;for(var s=0;s<t.length;s+=1){i=t[s];r=e.wrapper.find("[name='"+i.name+"']");if(!r||!i.hint||i.isHidden)continue;o=l(u.template(e._hintTemplate)({message:i.hint||"",id:i.id}));e._associateHintContainer(r,o.attr("id"));n=u.widgetInstance(r);if(n){a=n.element.next("label[for='"+n.element.attr("id")+"']");r=a.length?a:n.wrapper}if(e.validator._errorsByName(i.name).length){o.toggleClass(I.hidden);u.removeAttribute(r,k,o.attr("id"))}o.insertAfter(r)}},_associateHintContainer:function(e,t){var i=u.getWidgetFocusableElement(e);if(!i||!t)return;u.toggleAttribute(i,k,t)},_toggleHint:function(e,t){var i=this,n=e.closest(C+I.field),r;if(n.length){r=n.find(C+I.fieldHint);if(r.length){r.toggleClass(I.hidden,t);i._associateHintContainer(e,r.attr("id"))}}},_renderGroup:function(e){var t=this,i=e.type,n,r,a;a=r=l(u.template(t._getItemTemplate(i))({styles:I,label:e.label||"",colSpan:e.colSpan}));a=t._setupLayoutContainer(r,{grid:e.grid,layout:e.layout})||r;for(var o=0;o<e.items.length;o+=1){n=e.items[o];a.append(t._renderField(n))}return r},_renderContainers:function(){var e=this,t=e._defaultFields(),i=e.options.layout==="grid",n=i?e.layoutWrapper:e.wrapper,r,a,o;for(var s=0;s<t.length;s+=1){r=t[s];a=r.type;if(a===b)o=e._renderGroup(r);else o=e._renderField(r);n.append(o)}},_renderButtons:function(){var e=this,t=e.wrapper,i=e.options,n=i.messages,r=E.styles,a=i.orientation===D.horizontal,o=t.find(C+r.buttonsContainer),s;if(!o.length)o=l("<div />").addClass(r.buttonsContainer).addClass(a?r.buttonsEnd:"");s=i.buttonsTemplate!==null?i.buttonsTemplate:e._buttonsTemplate;o.append(u.template(s)({styles:r,messages:n}));e.element.append(o)},_setupLayoutContainer:function(e,t){var i=t.layout,n=t.grid,r=[],a;if(typeof i==="string"&&i!==""){a=l("<div></div>").appendTo(e).addClass(I.layout);r.push("k-d-"+i)}if(i==="grid"&&typeof n==="object"){if(typeof n.cols==="number")r.push("k-grid-cols-"+n.cols);else if(typeof n.cols==="string")a.css("grid-template-columns",n.cols);if(typeof n.gutter==="number"||typeof n.gutter==="string")a.css("grid-gap",n.gutter)}if(a)a.addClass(r.join(" "));return a},_setEvents:function(){var e=this,t=e.validator;t.bind(s,e._validateField.bind(e)).bind(a,e._validate.bind(e));e.wrapper.on(h+i,e._submit.bind(e)).on(m+i,e._clear.bind(e)).on(p+i,C+I.clear,e._clear.bind(e));if(!e._changeHandler)e._changeHandler=e._change.bind(e);e._model.bind(f,e._changeHandler)},_validateField:function(e){var t=this,i={model:t._model.toJSON(),valid:e.valid,field:e.field,error:e.error,input:e.input};t._toggleFieldErrorState(i.input,!i.valid);t._toggleHint(i.input,!i.valid);if(t.trigger(o,i))e.preventDefault()},_validate:function(e){var t=this,i={model:t._model.toJSON(),valid:e.valid,errors:e.errors};t.trigger(a,i)},_change:function(e){var t=this,i=e.field,n={field:i,value:t._model[i]};t.trigger(f,n)},_submit:function(e){var t=this,i=t._model.toJSON();if(t.trigger(h,{model:i}))e.preventDefault()},_clear:function(e){var t=this;e.preventDefault();t.clear();t.trigger(m)},validate:function(){var e=this,t=e.validator;if(!t)return;return t.validate()},clear:function(){var e=this,t=e._fields,i=e._model,n=e.editable,r=e.validator.options.validateOnBlur;e.validator.reset();if(r)i.unbind(v).unbind(_);for(var a=0;a<t.length;a+=1){var o=t[a].field;var s=e.wrapper.find("[name='"+o+"']");var l=u.widgetInstance(s);var d=s.is("input[type=hidden]");if(!s.is(T)&&!s.is(S)&&!d)s.val("");if(!l&&s.hasClass("k-hidden"))l=u.widgetInstance(s.closest(".k-signature"));if(l)if(l instanceof u.ui.Upload)l.clearAllFiles();else l.value(null);e._toggleHint(s,false);if(typeof i[o]==="boolean"){s.val("false");i.set(o,false)}else if(!d)i.set(o,null)}e.wrapper.find(C+I.fieldError).removeClass(I.fieldError);if(r)i.bind(v,n._validateProxy).bind(_,n._validateProxy)},setOptions:function(e){var t=this;t.destroy();t.wrapper.removeClass(I.horizontal).removeAttr(w).empty();t.init(t.element,e)},destroy:function(){var e=this;e.wrapper.off(i);if(e._model){e._model.unbind(f,e._changeHandler);e._changeHandler=null}n.fn.destroy.call(e.editable);n.fn.destroy.call(e);if(e.editable){e.editable.destroy();e.editable=null}}});return d.plugin(E),c(true,E,{styles:I}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.filtercell.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.ooxml.min","kendo.excel.min","kendo.pane.min","kendo.progressbar.min","kendo.pdf.min","kendo.dialog.min","kendo.pane.min","kendo.switch.min","kendo.html.button.min","kendo.textbox.min","kendo.form.min"],function(){var e={id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data","columnsorter","sortable","html.button"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window","textbox","form"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-filtercell",name:"Row filter",description:"Support for grid header filtering",depends:["filtercell"]},{id:"grid-paging",name:"Paging",description:"Support for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"grid-mobile",name:"Grid adaptive rendering",description:"Support for adaptive rendering",depends:["dialog","pane","switch"]},{id:"grid-excel-export",name:"Excel export",description:"Export grid data as Excel spreadsheet",depends:["excel"]},{id:"grid-pdf-export",name:"PDF export",description:"Export grid data as PDF",depends:["pdf","drawing","progressbar"]}]},r,A=window.kendo.jQuery,S=void 0,F=window.kendo,x=F.ui,y=F.data.DataSource,a=F.data.ObservableObject,o=F.support.tbodyInnerHtml,c=F._activeElement,s=x.Widget,H=F._outerWidth,b=F._outerHeight,f=F.keys,P=A.isPlainObject,T=A.extend,q=A.map,O=A.grep,G=Array.isArray,M=A.inArray,K=Array.prototype.push,$=F.isFunction,Y=A.isEmptyObject,Q=A.contains,h=Math,I=".",X="progress",J="error",Z="k-hierarchy-cell",m=":not(.k-group-cell):not(["+F.attr("virtual")+"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-collapse,.k-icon.k-i-expand))):visible",n="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",g="tr:not(.k-footer-template):visible",C=":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible",d="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",ee="col:not(.k-group-col, .k-hierarchy-col)",te="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",t=".k-grid.k-widget",_=".kendoGrid",ie="k-grid-content-locked",ne="k-group-cell",re="edit",ae="beforeEdit",oe="save",se="remove",le="detailInit",de="filterMenuInit",ue="columnMenuInit",ce="filterMenuOpen",fe="columnMenuOpen",pe="cellClose",p="change",he="columnHide",me="columnShow",i="saveChanges",ge="dataBound",ve="detailExpand",_e="detailCollapse",be="itemchange",ke="page",we="paging",ye="scroll",xe="sync",Ce="loadStart",Se="loadEnd",Te="k-focus",Ie=":kendoFocusable",De="k-selected",Ee="k-checkbox",Ae="input[data-role='checkbox']."+Ee,Fe="k-grid-norecords",He="k-link",Pe="k-icon",Oe="k-sort-order",Me="k-sorted",ze="k-header-column-menu",Re="k-grid-filter",Ne="k-grid-content-sticky",Le="k-grid-header-sticky",Be="k-grid-footer-sticky",Ve="k-grid-no-left-border",Ue="resize",We="columnResize",je="columnReorder",qe="columnLock",Ge="columnUnlock",Ke="columnStick",$e="columnUnstick",Ye="rowReorder",Qe="navigate",v="click",Xe="mousedown",Je="height",Ze="tabIndex",et="function",D="string",tt="bottom",it="container-for",nt="field",rt="input",at="incell",ot="inline",st="uid",lt=1,dt="colSpan",ut="overflow",ct="hidden",ft="sort",pt="group-sort",ht="Are you sure you want to delete this record?",mt="No records available.",gt="Delete",vt="Cancel",_t="Collapse",bt="Expand",kt="aria-label",wt=/(\}|\#)/gi,yt=/#/gi,xt="[\\x20\\t\\r\\n\\f]",Ct=new RegExp("(\\s*left\\s*:\\s*\\d*px;?)*","ig"),St=new RegExp("(\\s*right\\s*:\\s*\\d*px;?)*","ig"),Tt=new RegExp("(^|"+xt+")"+"(k-group-cell|k-hierarchy-cell)"+"("+xt+"|$)"),It=new RegExp("(^|"+xt+")"+"(k-filter-row)"+"("+xt+"|$)"),Dt='<button type="button" class="#=className#" #=attr#>#=text#</button>',Et='<input tabindex="-1" class="k-select-checkbox '+Ee+' k-checkbox-md k-rounded-md" data-role="checkbox" aria-label="Select row" aria-checked="false" type="checkbox">',At='<input tabindex="-1" class="k-select-checkbox '+Ee+' k-checkbox-md k-rounded-md" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox">',Ft='<span class="k-icon k-i-reorder"></span>',Ht='<span class="k-cell-inner"><span class="k-link"><span class="k-column-title">#=text#</span></span></span>',k=false,z=F.support.browser,Pt=z.msie&&z.version===11,Ot=/Mac OS/.test(navigator.userAgent),Mt={content:"k-content",widget:"k-widget",scrollContainer:"k-scroll-container",headerCellInner:"k-cell-inner"};if(x.Pager)r=x.Pager.extend({init:function(e,t){x.Pager.fn.init.call(this,e,T(true,{},t));this.dataSource.options.useRanges=true;this.dataSource._omitPrefetch=true},options:{name:"GroupsPager"},totalPages:function(){var e=this;return Math.ceil((e._collapsedTotal()||0)/(e.pageSize()||1))},_collapsedTotal:function(){var e=this.dataSource;return e?e.groupsTotal(true)||0:0}});var zt=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i._refreshHandler=i.refresh.bind(i);i.setDataSource(t.dataSource);i.wrap()},setDataSource:function(e){var t=this;if(t.dataSource)t.dataSource.unbind(p,t._refreshHandler);t.dataSource=e;t.dataSource.bind(p,t._refreshHandler);t.dataSource.options.useRanges=true;t.dataSource.options.virtual=true},options:{name:"VirtualScrollable",itemHeight:A.noop,prefetch:true,maxScrollHeight:25e4},events:[we,ke,ye,Ce,Se],destroy:function(){var e=this;s.fn.destroy.call(e);e.dataSource.unbind(p,e._refreshHandler);e.wrapper.add(e.verticalScrollbar).off(_);clearTimeout(e._timeout);if(e._scrollingTimeout)clearTimeout(e._scrollingTimeout);if(e.drag){e.drag.destroy();e.drag=null}e.wrapper=e.element=e.verticalScrollbar=null;e._refreshHandler=null},wrap:function(){var t=this,e=F.support.scrollbar()+1,i=t.element,n;i.css({width:"auto",overflow:"hidden"}).css(k?"padding-left":"padding-right",e);t.content=i.children().first();n=t.wrapper=t.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().on("DOMMouseScroll"+_+" mousewheel"+_,t._wheelScroll.bind(t));t._wrapper();if(F.support.kineticScrollNeeded||F.support.touch){t.wrapper.css("touch-action","none");t.drag=new F.UserEvents(t.wrapper,{global:true,allowSelection:true,start:function(e){e.sender.capture()},move:function(e){t.verticalScrollbar.scrollTop(t.verticalScrollbar.scrollTop()-e.y.delta);F.scrollLeft(n,F.scrollLeft(n)-e.x.delta);e.preventDefault()}})}t.verticalScrollbar=A('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:e}).appendTo(i).on("scroll"+_,t._scroll.bind(t))},_wrapper:function(){var e=this;if(Pt){e.wrapper.css({"overflow-y":ye});e.element.css(k?"padding-left":"padding-right",0)}},_wheelScroll:function(e){if(e.ctrlKey)return;var t=this.verticalScrollbar,i=t.scrollTop(),n=F.wheelDeltaY(e);if(n&&!(n>0&&i===0)&&!(n<0&&i+t[0].clientHeight==t[0].scrollHeight)){e.preventDefault();this.verticalScrollbar.scrollTop(i+-n)}},_scroll:function(e){var t=this,i=!t.options.prefetch,n=e.currentTarget.scrollTop,r=t.dataSource,a=t.itemHeight,o=r.skip()||0,s=t._rangeStart||o,l=t.element.innerHeight(),d=!!(t._scrollbarTop&&t._scrollbarTop>n),u=h.max(h.floor(n/a),0),c=d?h.ceil(l/a):h.floor(l/a),f=h.max(u+c,0);if(t._preventScroll){t._preventScroll=false;return}t._prevScrollTop=t._scrollTop;t._scrollTop=n-s*a;t._scrollbarTop=n;t._scrolling=i;if(!t._fetch(u,f,d))t.wrapper[0].scrollTop=t._scrollTop;t.trigger(ye);if(i){if(t._scrollingTimeout)clearTimeout(t._scrollingTimeout);t._scrollingTimeout=setTimeout(function(){t._scrolling=false;t._page(t._rangeStart,t.dataSource.take())},100)}},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var e=this.verticalScrollbar;this._scrollTo(e[0].scrollHeight-e.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var e=this;var t=this.wrapper;var i=t.scrollTop();if(t[0].scrollWidth>t[0].clientWidth){if(!e._wrapperScrolled&&i||e._isScrolledToBottom()){t.scrollTop(i+F.support.scrollbar());e._scrollTop=t.scrollTop();e._wrapperScrolled=true}}else if(e._wrapperScrolled){if(!e._isWrapperScrolledToBottom()){t.scrollTop(i-F.support.scrollbar());e._scrollTop=t.scrollTop()}e._wrapperScrolled=false}},_scrollTo:function(e){var t=this;var i=t.verticalScrollbar;if(i.scrollTop()!==e)t._preventScroll=true;t.wrapper.scrollTop(e);t._scrollTop=t.wrapper.scrollTop();i.scrollTop(e);t._scrollbarTop=i.scrollTop()},_isScrolledToTop:function(){return this.verticalScrollbar.scrollTop()===0},_isScrolledToBottom:function(){var e=this.verticalScrollbar;var t=e.scrollTop();return t>0&&t>=parseInt(e[0].scrollHeight-e.height(),10)},_isWrapperScrolledToBottom:function(){var e=this.wrapper;return e.scrollTop()>=parseInt(e[0].scrollHeight-e.height(),10)},itemIndex:function(e){var t=this._rangeStart||this.dataSource.skip()||0;return t+e},position:function(e){var t=this._rangeStart||this.dataSource.skip()||0;var i=this.dataSource.pageSize();var n;if(e>t)n=e-t;else n=t-e-1;return n>i?i:n},scrollIntoView:function(e){var t=this.wrapper[0];var i=t.clientHeight;var n=!this._isScrolledToBottom()?this._scrollTop||t.scrollTop:t.scrollTop;var r=e[0].offsetTop;var a=e[0].offsetHeight;if(n>r)this.verticalScrollbar[0].scrollTop-=i/2;else if(r+a>=n+i)this.verticalScrollbar[0].scrollTop+=i/2},_fetch:function(e,t,i){var n=this,r=n.dataSource,a=n.itemHeight,o=r.take(),s=n._rangeStart||r.skip()||0,l=h.floor(e/o)*o,d=false,u=.33;var c=n.verticalScrollbar;var f=z.webkit?1:0;var p=r._isGroupPaged()?r.groupsTotal(true):r.total();if(e<s){d=true;s=h.max(0,t-o);n._scrollTop=c.scrollTop()-s*a;n._page(s,o)}else if(t>=s+o&&!i){d=true;s=h.min(e,p-o);if(c.scrollTop()>=c[0].scrollHeight-c[0].offsetHeight-f)n._scrollTop=n.wrapper[0].scrollHeight-n.wrapper[0].offsetHeight;else if(n.dataSource._isGroupPaged()&&e>=p-o)n._scrollTop=n.wrapper[0].scrollHeight-n.wrapper[0].offsetHeight-(n._scrollTop-n._prevScrollTop);else n._scrollTop=a;n._page(s,o)}else if(!n._fetching&&n.options.prefetch){if(e<l+o-o*u&&e>o)r.prefetch(l-o,o,A.noop);if(t>l+o*u)r.prefetch(l+o,o,A.noop)}return d},fetching:function(){return this._fetching},_page:function(e,t,i){var n=this,r=!n.options.prefetch,a=n.dataSource,o=a._isGroupPaged();i=$(i)?i:A.noop;if(n.trigger(we,{skip:e,take:t}))return;clearTimeout(n._timeout);n._fetching=true;n._rangeStart=e;if(o&&a._groupRangeExists(e,e+t)||!o&&a.inRange(e,t)){n.trigger(Ce);a.range(e,t,function(){n.trigger(Se);i();n.trigger(ke)},"page")}else{if(!r)n.trigger(Ce);n._timeout=setTimeout(function(){if(!n._scrolling){if(r)n.trigger(Ce);a.range(e,t,function(){n.trigger(Se);i();n.trigger(ke)})}},100)}},repaintScrollbar:function(e){var t=this,i="",n=t.options.maxScrollHeight,r=t.dataSource,a=!F.support.kineticScrollNeeded?F.support.scrollbar():0,o=t.wrapper[0],s,l,d;var u=t._isScrolledToBottom();d=t.itemHeight=t.options.itemHeight()||0;var c=o.scrollWidth>o.offsetWidth?a:0;s=(r._isGroupPaged()?r.groupsTotal(true):r.total())*d+c;for(l=0;l<h.floor(s/n);l++)i+='<div style="width:1px;height:'+n+'px"></div>';if(s%n)i+='<div style="width:1px;height:'+s%n+'px"></div>';t.verticalScrollbar.html(i);if(u&&!t._isScrolledToBottom()&&!t.dataSource._isGroupPaged())t.scrollToBottom();if(typeof t._scrollTop!=="undefined"&&!!e){o.scrollTop=t._scrollTop;t._scrollWrapperOnColumnResize()}},refresh:function(e){var t=this,i=t.dataSource,n=t._rangeStart;var r=(e||{}).action;var a=t._isScrolledToBottom()||!r||r!==be&&r!==se&&r!==xe;t.trigger(Se);clearTimeout(t._timeout);t.repaintScrollbar(a);if(t.drag)t.drag.cancel();if(typeof n!=="undefined"&&!t._fetching){if(!r||r!==xe&&r!==be&&r!=="expandGroup")t._rangeStart=i.skip();if(i.page()===1&&(!r||r!==xe&&r!==be&&r!=="expandGroup"&&r!=="collapseGroup"))t.verticalScrollbar[0].scrollTop=0}t._fetching=false}});function Rt(e,t){return"["+F.attr(e)+"="+t+"]"}function Nt(e){return new Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function Lt(e){var t,i=" ";if(e){if(typeof e===D)return e;for(t in e)if(e[t]!=="")i+=t+'="'+e[t]+'"'}return i}var l={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-grid-update",iconClass:"k-icon k-i-check",themeColor:"primary"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"},search:{text:"Search...",className:"k-grid-search"}};function Bt(e,t){A("th, th .k-grid-filter, th .k-link",e).add(document.body).css("cursor",t)}function Vt(e,t,i,n,r){var a=t;t=A();r=r||1;for(var o=0;o<r;o++)t=t.add(e.eq(a+o));if(typeof i=="number")t[n?"insertBefore":"insertAfter"](e.eq(i));else t.appendTo(i)}function w(e,t,i){return A(e).add(t).find(i)}function Ut(e,t,i){var n,r,a,o;i=!G(i)?[i]:i;for(n=0,r=i.length;n<r;n++){a=i[n];if(P(a)&&a.click){o=a.name||a.text;t.on(v+_,".k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},a.click.bind(e))}}}function Wt(e,n,r,a,o){return q(e,function(e){e=typeof e===D?{field:e}:e;var t;e.parentIds=o;if(!R(e)||r){e.attributes=zi(e.attributes);e.footerAttributes=zi(e.footerAttributes);e.headerAttributes=zi(e.headerAttributes);t=true}var i=F.guid();if(a&&!e.locked)e.locked=a;e.headerAttributes=T({headers:o},e.headerAttributes);if(!e.headerAttributes.id){e.headerAttributes=T({id:i},e.headerAttributes);e.uid=i}else e.uid=i=e.headerAttributes.id;if(e.columns)e.columns=Wt(e.columns,n,t,e.locked,o?o+" "+i:i);return T({encoded:n,hidden:t,locked:a},e)})}function jt(e,t){var i=[];qt(e,t,i);return i[i.length-1]}function qt(e,t,i){i=i||[];for(var n=0;n<t.length;n++)if(e===t[n])return true;else if(t[n].columns){var r=i.length;i.push(t[n]);if(!qt(e,t[n].columns,i))i.splice(r,i.length-r);else return true}return false}function Gt(e,t){Kt(e,t,t)}function Kt(e,t,i){var n=i?Ni:zi;e.hidden=!t;e.attributes=n(e.attributes);e.footerAttributes=n(e.footerAttributes);e.headerAttributes=n(e.headerAttributes)}function $t(e,t){Yt(e);var i=e._hideByMedia;Kt(e,t,i?e.matchesMedia:t)}function Yt(e){e.matchesMedia=Qt(e)}function Qt(e){return e&&(ei(e.media)||!ei(e.media)&&F.matchesMedia(e.media))}function Xt(){return this.style.display!=="none"}function Jt(e){return A(e)[0].style.display!=="none"}function R(e){return E([e]).length>0}function E(e){return O(e,function(e){var t=!e.hidden&&e.matchesMedia!==false;if(t&&e.columns)t=E(e.columns).length>0;return t})}function Zt(e){var t=[];var i;for(var n=0;n<e.length;n++){i=e[n];if(!ei(i.media)){if(!ei(i.minScreenWidth))throw new Error("Using 'media' and 'minScreenWidth' options at the same time is not supported.");t.push(i)}if(i.columns)t=t.concat(Zt(i.columns))}return t}function ei(e){return typeof e==="undefined"}function ti(e){return A(e).map(function(){return this.toArray()})}function ii(e,t,i){var n=oi(L(t));var r=oi(B(t));var a=e.rowSpan;if(i)if(n>r)e.rowSpan=a-(n-r)||1;else e.rowSpan=a+(r-n);else if(n>r)e.rowSpan=a+(n-r);else e.rowSpan=a-(r-n)||1}function ni(e,t){for(var i=0;i<e.length;i++)if(e[i].field==t)return e[i]}function ri(e,t,i,n,r,a,o,s){var l=oi(e);var d=oi([t]);if(l>d){var u=new Array(o+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>');var c=a.children(":not(.k-filter-row)");A(new Array(l-d+1).join("<tr>"+u+"</tr>")).insertAfter(c.last())}_i(a,l-d);si(i,n,r,a,s)}function ai(e,t,i){i=i||0;var n;var r;var a=t;t=U(t);var o={};var s=e.find(">tr:not(.k-filter-row)");var l=function(){var e=A(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")};for(var d=0,u=t.length;d<u;d++){n=li(t[d],a);if(!o[n.row])o[n.row]=s.eq(n.row).find(".k-header").filter(l);r=o[n.row].eq(n.cell);r.attr(F.attr("index"),i+d)}return t.length}function oi(e){var t=1;var i=0;for(var n=0;n<e.length;n++)if(e[n].columns){var r=oi(e[n].columns);if(r>i)i=r}return t+i}function si(e,t,i,n,r){var a=ci(e[0],t);var o=i.find(">tr:not(.k-filter-row)").eq(a.row).children("th.k-header");var s=A();var l=a.cell;var d;for(d=0;d<e.length;d++)s=s.add(o.eq(l+d));n.find(">tr:not(.k-filter-row)").eq(a.row)[r](s);var u=[];for(d=0;d<e.length;d++)if(e[d].columns)u=u.concat(e[d].columns);if(u.length)si(u,t,i,n,r)}function li(e,t,i,n){var r;var a;i=i||0;n=n||{};n[i]=n[i]||0;for(a=0;a<t.length;a++){if(t[a]==e){r={cell:n[i],row:i};break}else if(t[a].columns){r=li(e,t[a].columns,i+1,n);if(r)break}n[i]++}return r}function di(e,t,i,n){var r;var a=!!i.locked;var o;do{r=e[t];t+=n?1:-1;o=!!r.locked}while(r&&t>-1&&t<e.length&&r!=i&&!r.columns&&o===a);return r}function ui(e,t,i,n,r){if(t.columns){t=t.columns;return t[n?0:t.length-1]}else{var a=jt(t,e);var o;if(a)o=a.columns;else o=e;var s=M(t,o);if(s===0&&n)s++;else if(s==o.length-1&&!n||!i.locked&&!t.columns&&!n)s--;else if(s>0||s===0&&!n)s++;var l=M(i,o);t=di(o,s,i,l>s);var d=M(t,r);if(t.columns&&(!d||d===o.length-1))return null;if(t&&t!=i&&t.columns)return ui(e,t,i,n,r)}return null}function ci(e,t,i,n){var r;var a;i=i||0;n=n||{};n[i]=n[i]||0;for(a=0;a<t.length;a++){if(t[a]==e){r={cell:n[i],row:i};break}else if(t[a].columns){r=ci(e,t[a].columns,i+1,n);if(r)break}if(!t[a].hidden)n[i]++}return r}function fi(e){var t=N(L(e));return t.concat(N(B(e)))}function pi(e,t,i,n){var r=e[i];var a=e[n];var o=jt(r,t);t=o?o.columns:t;return M(a,t)}function N(e){var t=[];var i=[];for(var n=0;n<e.length;n++){t.push(e[n]);if(e[n].columns)i=i.concat(e[n].columns)}if(i.length)t=t.concat(N(i));return t}function hi(e){var t=0;var i;for(var n=0;n<e.length;n++){i=e[n];if(i.columns)t+=hi(i.columns);else if(i.hidden)t++}return t}function mi(e){var t=0;for(var i=0,n=e.length;i<n;i++)if(!e[i].hidden)t+=parseInt(e[i].width,10);return t}function gi(e){var t,i=0;for(var n=0,r=e.length;n<r;n++){t=e[n].style.width;if(t&&t.indexOf("%")==-1)i+=parseInt(t,10)}return i}function vi(e,t){var i=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var n;for(var r=0;r<i.length;r++){n=i[r].rowSpan;if(n>1)i[r].rowSpan=n-t||1}}function _i(e,t){var i=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var n=0;n<i.length;n++)i[n].rowSpan+=t}function bi(e){var t=e.find("tr:not(.k-filter-row)");var i=t.filter(function(){return!A(this).children().length}).remove().length;var n=t.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var r=0;r<n.length;r++)if(n[r].rowSpan>1)n[r].rowSpan-=i;return t.length-i}function ki(e,t,i,n,r){var a,o,s,l=[];for(a=0,s=e.length;a<s;a++){o=i[n]||[];o.push(t.eq(r+a));i[n]=o;if(e[a].columns)l=l.concat(e[a].columns)}if(l.length)ki(l,t,i,n+1,r+e.length)}function wi(e,t,i){e.css({left:t,right:i})}function yi(e,t,i){e[t]=e[t]||{};e[t][i]=e[t][i]||""}function xi(e,t,i,n){yi(e,t,i);if(e[t][i]!=="")e[t][i]+=" "+n;else e[t][i]=n}function u(e,t,i,n){yi(e,t,i);e[t][i]=e[t][i].replace(n,"")}function L(e){return O(e,function(e){return e.locked})}function B(e){return O(e,function(e){return!e.locked})}function Ci(e){return O(e,function(e){return e.sticky&&!e.locked})}function Si(e){return O(e,function(e){return e.sticky&&!e.locked&&R(e)})}function Ti(e){return O(e,function(e){return!e.locked&&R(e)})}function Ii(e){return O(e,function(e){return e.locked&&R(e)})}function V(e){var t=[];for(var i=0;i<e.length;i++){if(e[i].hidden)continue;if(e[i].columns)t=t.concat(V(e[i].columns));else t.push(e[i])}return t}function Di(e){var t=[];for(var i=0;i<e.length;i++){if(e[i].hidden)continue;if(e[i].columns)t=t.concat(V(e[i].columns));else t.push({field:e[i].field,width:e[i].width,values:e[i].values})}return t}function Ei(e){var t=[];for(var i=0;i<e.length;i++)if(e[i].columns)t=t.concat(e[i].columns);return t}function Ai(e){var t=Ei(e);t=t.filter(function(e){return!e.hidden});return t}function U(e){var t=[];for(var i=0;i<e.length;i++){if(!e[i].columns){t.push(e[i]);continue}t=t.concat(U(e[i].columns))}return t}function Fi(e){var t=[];e=U(e);for(var i=0;i<e.length;i++)if(typeof e[i]==="string")t.push(e[i]);else if(e[i].field)t.push(e[i].field);return t}function Hi(e){return{field:e.field,title:e.title,format:e.format,editor:e.editor,values:e.values,editorOptions:T(true,{format:e.format},e.editorOptions),label:e.title||e.field||""}}function W(e){var t=e.find(">tr:not(.k-filter-row)");var i=function(){var e=A(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")};var n=A();if(t.length>1)n=t.find("th").filter(i).filter(function(){return this.rowSpan>1});n=n.add(t.last().find("th").filter(i));var r=F.attr("index");n.sort(function(e,t){e=A(e);t=A(t);var i=e.attr(r);var n=t.attr(r);if(i===S)i=A(e).index();if(n===S)n=A(t).index();i=parseInt(i,10);n=parseInt(n,10);return i>n?1:i<n?-1:0});return n}function Pi(e){var t=e.closest("table");var i=A().add(e);var n=e.closest("tr");var r=t.find("tr:not(.k-filter-row)");var a=r.index(n);if(a>0){var o=r.eq(a-1);var s=o.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!A(this).attr("rowspan")});var l=0;var d=n.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(e);var u=e.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(var c=0;c<u.length;c++)l+=u[c].colSpan||1;d+=Math.max(l-1,0);l=0;for(c=0;c<s.length;c++){var f=s.eq(c);if(f.attr("data-colspan"))l+=f[0].getAttribute("data-colspan");else l+=1;if(d>=c&&d<l){i=Pi(f).add(i);break}}}return i}function Oi(e){var t=e.closest("thead");var i=A().add(e);var n=e.closest("tr");var r=t.find("tr:not(.k-filter-row)");var a=r.index(n)+e[0].rowSpan;var o=F.attr("colspan");if(a<=r.length-1){var s=n.next();var l=e.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var d;l=l.filter(function(){return!this.rowSpan||this.rowSpan===1});var u=0;for(d=0;d<l.length;d++)u+=parseInt(l.eq(d).attr(o),10)||1;var c=s.find("th:not(.k-group-cell,.k-hierarchy-cell)");var f=parseInt(e.attr(o),10)||1;d=0;while(d<f){s=c.eq(d+u);i=i.add(Oi(s));var p=parseInt(s.attr(o),10);if(p>1)f-=p-1;d++}}return i}function Mi(e,t,i,n){var r,a=e;if(n)e.empty();if(o)e[0].innerHTML=i;else{r=document.createElement("div");r.innerHTML="<table><tbody>"+i+"</tbody></table>";e=r.firstChild.firstChild;t[0].replaceChild(e,a[0]);e=A(e)}return e}function zi(e){e=e||{};var t=e.style;if(!t)t="display:none";else{t=t.replace(/display:[^;]*/i,"display:none");if(!t.match(/display:/i))t=t.replace(/(.*)?/i,"display:none;$1")}return T({},e,{style:t})}function Ri(e){e=e||{};var t=e.style||"";return t.indexOf("display:none")!==-1}function Ni(e){e=e||{};var t=e.style;if(t)e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"");return e}function Li(e,t,i,n){var r=e.find(">colgroup"),a,o=q(t,function(e){a=e.width;if(a&&parseInt(a,10)!==0)return F.format('<col style="width:{0}"/>',typeof a===D?a:a+"px");return"<col />"});if(i||r.find(".k-hierarchy-col").length)o.splice(0,0,'<col class="k-hierarchy-col" />');if(r.length)r.remove();r=A(new Array(n+1).join('<col class="k-group-col">')+o.join(""));if(!r.is("colgroup"))r=A("<colgroup/>").append(r);e.prepend(r)}function Bi(e,t){var i=0;var n,r;var a=e.find("th:not(.k-group-cell)");for(n=0,r=t.length;n<r;n++)if(t[n].locked){a.eq(n).insertBefore(a.eq(i));a=e.find("th:not(.k-group-cell)");i++}}function Vi(e){var t={},i,n,r;for(n=0,r=e.length;n<r;n++){i=e[n];t[i.value]=i.text}return t}function Ui(e,t,i,n){var r=i&&i.length&&P(i[0])&&"value"in i[0],a=r?Vi(i)[e]:e;a=a!=null?a:"";return t?F.format(t,a):n===false?a:F.htmlEncode(a)}function Wi(e,t,i){var n=0,r,a=e[n];while(a){r=i?true:a.style.display!=="none";if(r&&!Tt.test(a.className)&&--t<0){a.style.display=i?"":"none";break}a=e[++n]}}function ji(e,t){var i=0,n=e.length,r,a;for(;i<n;i+=1){a=e.eq(i);if(a.is(".k-grouping-row,.k-detail-row")){r=a.children(":not(.k-group-cell):first,.k-detail-cell").last();r.attr("colspan",parseInt(r.attr("colspan"),10)-1)}else{if(a.hasClass("k-grid-edit-row")&&(r=a.children(".k-edit-container")[0])){r=A(r);r.attr("colspan",parseInt(r.attr("colspan"),10)-1);r.find("col").eq(t).remove();a=r.find("tr").first()}Wi(a[0].cells,t,false)}}}function qi(e){var t=[];var i;for(var n=0;n<e.length;n++){i=e[n];if(!("field"in i&&"value"in i&&"items"in i))break;t.push(i);if(i.hasSubgroups)t=t.concat(qi(i.items))}return t}function Gi(e){var t=[];var i;for(var n=0;n<e.length;n++){i=e[n];if(!("field"in i&&"value"in i&&"items"in i))break;if(i.hasSubgroups)t=t.concat(Gi(i.items));t.push(i.aggregates)}return t}function Ki(e,t){var i=0,n=e.length,r,a,o;for(;i<n;i+=1){a=e.eq(i);if(a.is(".k-grouping-row,.k-detail-row")){r=a.children(":not(.k-group-cell):first,.k-detail-cell").last();r.attr("colspan",parseInt(r.attr("colspan"),10)+1)}else{if(a.hasClass("k-grid-edit-row")&&(r=a.children(".k-edit-container")[0])){r=A(r);r.attr("colspan",parseInt(r.attr("colspan"),10)+1);Li(r.find(">form>table"),E(o),false,0);a=r.find("tr").first()}Wi(a[0].cells,t,true)}}}function $i(e,t,i){i=i||1;var n,r,a;for(r=0,a=e.length;r<a;r++){n=e.eq(r).children().last();n.attr("colspan",parseInt(n.attr("colspan"),10)+i);n=t.eq(r).children().last();n.attr("colspan",parseInt(n.attr("colspan"),10)-i)}}function Yi(e){var t,i,n=0;var r=e.find(">colgroup>col");for(t=0,i=r.length;t<i;t+=1)n+=parseInt(r[t].style.width,10);return n}var Qi=F.ui.DataBoundWidget.extend({init:function(e,t,i){var n=this;t=G(t)?{dataSource:t}:t;s.fn.init.call(n,e,t);if(i)n._events=i;k=F.support.isRtl(e);n._element();n._ariaId();n._columns(A.extend(true,[],n.options.columns));if(n._foreignKeyPromises)A.when.apply(null,n._foreignKeyPromises).then(function(){n._foreignKeyPromises=null;n._continueInit()});else n._continueInit()},_continueInit:function(){var e=this;e._dataSource();e._stickyColumns();e._tbody();e._thead();e._groupable();e._toolbar();e._pageable();e._setContentHeight();e._templates();e._navigatable();e._selectable();e._clipboard();e._details();e._editable();e._attachCustomCommandsEvent();e._adaptiveColumns();e._minScreenSupport();if(e.options.autoBind)e.dataSource.fetch();else{e._group=e._groups()>0;e._footer()}if(e.lockedContent){e.wrapper.addClass("k-grid-lockedcolumns");e._resizeHandler=function(){e.resize()};A(window).on("resize"+_,e._resizeHandler)}F.notify(e)},events:[p,"dataBinding","cancel",ge,ve,_e,le,de,ce,ue,fe,re,ae,oe,se,i,pe,We,je,me,he,qe,Ge,Ke,$e,Ye,Qe,"page","sort","filter","group","groupExpand","groupCollapse","kendoKeydown"],setDataSource:function(e){var t=this;var i=t.options.scrollable;var n;t.options.dataSource=e;t._dataSource();t._pageable();t._thead();if(i)if(i.virtual){n=t.content.find(">.k-virtual-scrollable-wrap");F.scrollLeft(n,sn(n,k))}else{n=t.tbody;F.scrollLeft(t.content,sn(n,k))}if(t.options.groupable)t._groupable();if(t.virtualScrollable)t.virtualScrollable.setDataSource(t.options.dataSource);if(t.options.navigatable)t._navigatable();if(t.options.selectable)t._selectable();if(t.options.autoBind)t.dataSource.fetch();else t._footer()},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,persistSelection:false,editable:false,encodeTitles:false,groupable:false,rowTemplate:"",altRowTemplate:"",search:false,noRecords:false,dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",loaderType:"loadingPanel",messages:{editable:{cancelDelete:vt,confirmation:ht,confirmDelete:gt},commands:{create:l.create.text,cancel:l.cancel.text,save:l.save.text,destroy:l.destroy.text,edit:l.edit.text,update:l.update.text,canceledit:l.canceledit.text,excel:l.excel.text,pdf:l.pdf.text,search:l.search.text},noRecords:mt,expandCollapseColumnHeader:"",groupHeader:"Press ctrl + space to group",ungroupHeader:"Press ctrl + space to ungroup",itemsSelected:"items selected",dragHandleLabel:"Drag row",toolbarLabel:"grid toolbar",groupingHeaderLabel:"grid grouping header",filterCellTitle:"filter cell"},width:null},destroy:function(){var e=this,t;e._angularItems("cleanup");e._destroyColumnAttachments();s.fn.destroy.call(e);if(this._navigatableTables){this._navigatableTables.off(_);this._navigatableTables=null;this._headertables=null}if(e._resizeHandler)A(window).off("resize"+_,e._resizeHandler);if(e.pager&&e.pager.element)e.pager.destroy();if(e.timer)clearTimeout(e.timer);if(e._progressTimeOut)clearTimeout(e._progressTimeOut);if(e._collapseGroupsTimeOut)clearTimeout(e._collapseGroupsTimeOut);if(e._endlessFetchTimeOut)clearTimeout(e._endlessFetchTimeOut);e.pager=null;e._destroyGroupable();if(e.options.reorderable===true||e.options.reorderable&&e.options.reorderable.columns)e.wrapper.data("kendoReorderable").destroy();if(e._hasReorderableRows())e.tbody.data("kendoReorderable").destroy();if(e.selectable&&e.selectable.element){e.selectable.destroy();e.clearArea();e._selectedIds=null;if(e.copyHandler){e.wrapper.off("keydown",e.copyHandler);e.unbind(e.copyHandler)}if(e.updateClipBoardState){e.unbind(e.updateClipBoardState);e.updateClipBoardState=null}if(e.clearAreaHandler)e.wrapper.off("keyup",e.clearAreaHandler)}e.selectable=null;if(e.resizable){e.resizable.destroy();if(e._resizeUserEvents){if(e._resizeHandleDocumentClickHandler)A(document).off("click",e._resizeHandleDocumentClickHandler);e._resizeUserEvents.destroy();e._resizeUserEvents=null}e.resizable=null}e._destroyVirtualScrollable();if(e.editableUserEvents){e.editableUserEvents.destroy();e.editableUserEvents=null}if(e._lockedContentUserEvents){e._lockedContentUserEvents.destroy();e._lockedContentUserEvents=null}e._destroyEditable();if(e.dataSource){e.dataSource.unbind(p,e._refreshHandler).unbind(X,e._progressHandler).unbind(J,e._errorHandler).unbind(ft,e._clearSortClasses);e._refreshHandler=e._progressHandler=e._errorHandler=e._sortHandler=null}t=e.element.add(e.wrapper).add(e.table).add(e.thead).add(e.wrapper.find(">.k-grid-toolbar"));if(e.content)t=t.add(e.content).add(e.content.find(">.k-virtual-scrollable-wrap"));if(e.lockedHeader)e._removeLockedContainers();if(e.pane)e.pane.destroy();if(e._isMobile){e.wrapper.off("transitionend"+_);e.wrapper.off("contextmenu"+_)}if(e.minScreenResizeHandler)A(window).off("resize",e.minScreenResizeHandler);e._detachColumnMediaResizeHandler();if(e._draggableInstance&&e._draggableInstance.element)e._draggableInstance.destroy();e._draggableInstance=null;if(e._draggableRowsInstance&&e._draggableRowsInstance.element)e._draggableRowsInstance.destroy();e._draggableRowsInstance=null;t.off(_);F.destroy(e.wrapper);e.rowTemplate=e.altRowTemplate=e.lockedRowTemplate=e.lockedAltRowTemplate=e.detailTemplate=e.footerTemplate=e.groupFooterTemplate=e.lockedGroupFooterTemplate=e.noRecordsTemplate=null;e.scrollables=e.thead=e.tbody=e.element=e.table=e.content=e.footer=e.wrapper=e.lockedTable=e.lockedContent=e.lockedHeader=e.lockedFooter=e._groupableClickHandler=e._groupRows=e._setContentWidthHandler=null},getOptions:function(){var e=this.options;e.dataSource=null;var t=T(true,{},this.options);t.columns=F.deepExtend([],this.columns);var i=this.dataSource;var n=i.options.data&&i._data;i.options.data=null;t.dataSource=A.extend(true,{},i.options);i.options.data=n;t.dataSource.data=n;t.dataSource.page=i.page();t.dataSource.filter=A.extend(true,{},i.filter());t.dataSource.pageSize=i.pageSize();t.dataSource.sort=i.sort();t.dataSource.group=i.group();t.dataSource.aggregate=i.aggregate();if(t.dataSource.transport)t.dataSource.transport.dataSource=null;if(t.pageable&&t.pageable.pageSize)t.pageable.pageSize=i.pageSize();t.$angular=S;return t},setOptions:function(e){var t=this.getOptions();F.deepExtend(t,e);if(!e.dataSource)t.dataSource=this.dataSource;else if(e.dataSource.filter)t.dataSource.filter=e.dataSource.filter;var i=this.wrapper;var n=this._events;var r=this.element;this.destroy();this.options=null;if(this._isMobile){var a=i.closest(F.roleSelector("pane")).parent();a.after(i);a.remove();i.removeClass("k-grid-mobile")}if(i[0]!==r[0]){i.before(r);i.remove()}r.empty();this.init(r,t,n);this._setEvents(t)},items:function(){if(this.lockedContent)return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")));else return this._items(this.tbody)},_items:function(e,t){return e.children().filter(function(){var e=A(this);return(t?!e.hasClass("k-detail-row"):!e.hasClass("k-grouping-row"))&&!e.hasClass("k-detail-row")&&!e.hasClass("k-group-footer")})},dataItems:function(){var e=F.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var t=e.length,i=new Array(2*t);for(var n=t;--n>=0;)i[n]=i[n+t]=e[n];e=i}return e},_destroyColumnAttachments:function(){var e=this;e.resizeHandle=null;if(!e.thead)return;this.angular("cleanup",function(){return{elements:e.thead.get()}});e.thead.add(e.lockedHeader).find("th").each(function(){var e=A(this),t=e.data("kendoFilterMenu"),i=e.data("kendoColumnSorter"),n=e.data("kendoColumnMenu");if(t)t.destroy();if(i)i.destroy();if(n)n.destroy()})},_attachCustomCommandsEvent:function(){var e=this,t=U(e.columns||[]),i,n,r;for(n=0,r=t.length;n<r;n++){i=t[n].command;if(i)Ut(e,e.wrapper,i)}},_aria:function(){var e=this.wrapper,t=this._hasDetails()?"treegrid":"grid",i=this.table,n=e.find(".k-grid-toolbar"),r=e.find(".k-grouping-header"),a=i.attr("id"),o=i.attr("tabindex"),s,l,d,u,c=this.thead.find("tr").length+this.wrapper.find(".k-grid-footer-wrap table tr").length,f=this._trailingColumns(),p=this.virtualScroll,h=this.options.pageable,m;i.attr({role:t,tabindex:o>=0?o:0});i.find("tbody, thead, tfoot").attr("role","rowgroup");i.find("tr").attr("role","row");i.find("th").attr("role","columnheader");i.find("td").attr("role","gridcell");if(h&&this.dataSource.totalPages()>1||p&&p.rows){if(this.dataSource.group().length>0)m=-1;else if(this._hasDetails())m=c+this.dataSource.total()*2;else m=c+this.dataSource.total();i.attr("aria-rowcount",m)}else if(this._hasDetails()){if(this.dataSource.group().length>0)m=-1;else m=c+this.dataSource.total()*2;i.attr("aria-rowcount",m)}if(m&&m>0)this._ariaRowIndex();if(p&&p.columns||!i.attr("aria-colcount")&&(i.find("td:hidden").length>0||e.find(".k-grid-content-locked td:hidden").length>0)){i.attr("aria-colcount",f+U(this.columns).length);this._ariaColumnIndex()}if(!a){a=F.guid();i.attr("id",a)}if(this.pager)this.pager.element.attr("aria-controls",a);n.attr({role:"toolbar","aria-label":this.options.messages.toolbarLabel,"aria-controls":a});r.attr({role:"toolbar","aria-label":this.options.messages.groupingHeaderLabel,"aria-controls":a});l=this._ariaHeaderFooter("header","thead","th, td","columnheader");d=this._ariaHeaderFooter("footer","tfoot","td","gridcell");if(e.find(".k-grid-content-locked").length>0)this._ariaLockedContent();if(!!l||!!d){s=this.tbody.attr("id")||F.guid();u=[l,s,d].join(" ");this.tbody.attr("id",s);i.attr("aria-owns",u)}},_ariaColumnIndex:function(){var e=this._trailingColumns(),t=this.tbody.find(">tr").last().find("> td[data-virtual]"),i=this.thead.find(">tr").not(".k-filter-row"),n=this.wrapper.find(".k-grid-header-locked thead > tr").not(".k-filter-row"),a=Number.MAX_VALUE,o=0,s=0,r=0,l=0,d,u,c,f,p,h=function(e,t){var i=t.getAttribute("data-index"),n=Number(i),r=A(t).closest(".k-grid-header-locked");if(r.length===0&&n<a)a=n;if(r.length>0&&s<n)s=n;if(r.length===0&&o<n)o=n;if(i!==null){t.setAttribute("aria-colindex",Number(n)+1);d=Number(n)+1+t.getAttribute("colspan")}else{t.setAttribute("aria-colindex",d+1);d=d+t.getAttribute("colspan")}};if(t.length===2){r=Number(t[0].getAttribute("colspan"));l=Number(t[1].getAttribute("colspan"))}else if(t.length===1&&t.prev().length===0)r=Number(t[0].getAttribute("colspan"));else if(t.length===1&&t.prev().length===1)l=Number(t[0].getAttribute("colspan"));for(u=0;u<n.length;u++){d=0;n.eq(u).find("th").each(h)}for(u=0;u<i.length;u++){d=0;i.eq(u).find("th").each(h)}for(u=0;u<=s;u++){f=u+e;c=this.wrapper.find(".k-grid-content-locked tbody > tr > td:nth-child("+(u+1)+")");c.attr("aria-colindex",f+1)}for(u=r;u<=o-a-l;u++){if(r===0)p=u+1;else p=u-r+2;f=a+u+e;c=this.tbody.find("> tr > td:nth-child("+p+")");c.attr("aria-colindex",f+1)}},_ariaHeaderFooter:function(e,t,i,n){var r=this,a=r.wrapper,o=a.find(".k-grid-"+e+" .k-grid-"+e+"-wrap table"),s=a.find(".k-grid-"+e+" .k-grid-"+e+"-locked table"),l="",d;if(o.length>0){d=o.find(t+", tbody");l=d.attr("id")||F.guid();o.attr("role","none");o.find("tr").attr("role","row");o.find(i).attr("role",n);d.attr({role:"rowgroup",id:l})}if(s.length>0)r._ariaLocked(e,t,i,n);s.find("td").attr("role","gridcell");o.find("td").attr("role","gridcell");return l},_ariaId:function(){var e=this.element.attr("id")||"aria";if(e)this._cellId=e+"_active_cell"},_ariaLocked:function(n,e,r,t){var a=this,i=a.wrapper,o=i.find(".k-grid-"+n+" .k-grid-"+n+"-wrap table"),s=i.find(".k-grid-"+n+" .k-grid-"+n+"-locked table"),l=o.find("tr"),d=s.find("tr");s.attr("role","none");s.find(e+", tbody").attr("role","none");d.attr("role","none");s.find(r).attr("role",t);l.each(function(e,t){var i=[];i=a._cellsIds(d.eq(e).find(r),"locked_"+n,e);i=i.concat(a._cellsIds(A(t).find(r),n,e));t.setAttribute("aria-owns",i.join(" "))})},_ariaLockedContent:function(){var n=this,e=n.table,t=e.find("tr"),i=n.wrapper.find(".k-grid-content-locked table"),r=i.find("tr");i.attr("role","none");i.find("tbody").attr("role","none");r.attr("role","none");i.find("td").attr("role","gridcell");t.each(function(e,t){var i=[];i=n._cellsIds(r.eq(e).find("td"),"locked_datacell",e);i=i.concat(n._cellsIds(A(t).find("td"),"datacell",e));t.setAttribute("aria-owns",i.join(" "))})},_ariaAddHiddenColIndex:function(){var e=this.virtualScroll||{},t=this.columns,i=this.table,n=U(t).length;if(!e.columns&&!i.attr("aria-colcount")){this._ariaColumnIndex();i.attr("aria-colcount",n)}},_ariaRemoveHiddenColIndex:function(){var e=this.virtualScroll||{},t=this.columns,i=U(t).length;if(!e.columns&&i===V(this.columns).length){this.wrapper.find("td, th").removeAttr("aria-colindex");this.table.removeAttr("aria-colcount")}},_ariaRowIndex:function(){var e=this.thead.find(">tr"),t=e.length,i=this.tbody.find(">tr"),n=this.wrapper.find(".k-grid-footer-wrap tfoot > tr"),r=this.dataSource.total(),a=this.dataSource.skip()||0,o=1,s=false,l,d;if(this._hasDetails()){r=r*2;a=a*2}for(l=0;l<t;l++)e.eq(l).attr("aria-rowindex",o+l);o=t+a;for(l=0;l<i.length;l++){d=i.eq(l);if(this._hasDetails()&&d.hasClass("k-master-row")){if(s)o=o+2;else o=o+1;s=true}else{o=o+1;s=false}d.attr("aria-rowindex",o)}o=t+r+1;for(l=0;l<n.length;l++)n.eq(l).attr("aria-rowindex",o+l)},_cellsIds:function(e,n,r){var a=[];e.each(function(e,t){var i=t.getAttribute("id")||n+"_"+r+"_"+e;t.setAttribute("id",i);a.push(i)});return a},_trailingColumns:function(){return this.dataSource.group().length+(this._hasDetails()?1:0)},_element:function(){var e=this,t=e.element;if(!t.is("table")){if(e.options.scrollable)t=e.element.find("> .k-grid-content > table");else t=e.element.children("table");if(!t.length)t=A("<table />").appendTo(e.element)}e.table=t;e._wrapper()},_createResizeHandle:function(e,t){var i=this;var n=i.options.columnResizeHandleWidth;var r=i.options.scrollable;var a=i.resizeHandle;var o=n*3/2;var s=0;var l;var d;var u;var c;var f;var p;var h;var m;var g;var v;if(a&&i.lockedContent&&a.data("th")[0]!==t[0]){a.off(_).remove();a=null}if(!a){a=i.resizeHandle=A('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');e.append(a)}m=F.scrollLeft(e);if(k&&(z.mozilla||z.webkit&&z.version>=85))m=m*-1;h=parseFloat(e.css("borderLeftWidth"));g=t.offset().left+m-parseFloat(t.css("marginLeft"))-(e.offset().left+h);if(!k)g+=t[0].offsetWidth;else if(r){s=g<=m?o:0;l=t.closest(".k-grid-header-wrap, .k-grid-header-locked");p=l[0].scrollWidth-l[0].offsetWidth;f=parseFloat(l.css("marginLeft"));d=z.msie?2*F.scrollLeft(l)+h-f-s:0;u=-s;c=z.mozilla?h-f-s:0;g-=u+c+d}v=t.offset().top-parseFloat(t.css("marginTop"))-(e.offset().top+parseFloat(e.css("borderTopWidth")));a.css({top:v,left:g-o,height:b(t),width:n*3-s}).data("th",t).show();a.off("dblclick"+_).on("dblclick"+_,function(){i._autoFitLeafColumn(parseInt(t.attr(F.attr("index")),10))})},_positionColumnResizeHandle:function(){var n=this,e=n.lockedHeader?n.lockedHeader.find("thead").first():A();n.thead.add(e).on("mousemove"+_,"tr:not(.k-filter-row) > th",function(e){var t=typeof e.buttons!=="undefined"?e.buttons:e.which||e.button;var i=A(this);if(i.hasClass("k-group-cell")||i.hasClass("k-hierarchy-cell"))return;if(typeof t!=="undefined"&&t!==0)return;if(i[0].hasAttribute(F.attr(dt)))return;n._createResizeHandle(i.closest("div"),i)})},_resizeHandleDocumentClick:function(e){if(A(e.target).closest(".k-column-active").length)return;A(document).off(e);this._resetResizeHandleHeader();this._hideResizeHandle()},_resetResizeHandleHeader:function(){var e;if(!this.resizeHandle)return;e=A(this.resizeHandle).data("th");if(e){e.find(I+He).find(I+Pe).show();e.find(I+Oe).show();e.find(I+ze).show();e.find(I+Re).show()}},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(_).remove();this.resizeHandle=null}else this.resizeHandle.hide()}},_positionColumnResizeHandleTouch:function(){var i=this,e=i.lockedHeader?i.lockedHeader.find("thead").first():A();i._resizeUserEvents=new F.UserEvents(e.add(i.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,minHold:500,hold:function(e){var t=A(e.target);e.preventDefault();if(i.resizeHandle){i.resizeHandle.data("th").removeClass("k-column-active");i._resetResizeHandleHeader()}t.addClass("k-column-active");t.find(I+He).find(I+Pe).hide();t.find(I+Oe).hide();t.find(I+ze).hide();t.find(I+Re).hide();i._createResizeHandle(t.closest("div"),t);if(!i._resizeHandleDocumentClickHandler)i._resizeHandleDocumentClickHandler=i._resizeHandleDocumentClick.bind(i);A(document).on("click",i._resizeHandleDocumentClickHandler)}})},resizeColumn:function(e,t){var i=this;var n=!!e.locked;var r=!!e.hidden;var a=this.options;var o=!F.support.mobileOS?F.support.scrollbar():0;var s=n?M(e,Ii(V(i.columns))):M(e,Ti(V(i.columns)));var l=n?i.lockedTable:i.table;var d=i.footer||A();var u=n?i.lockedHeader.find("table"):i.thead.closest("table");var c=e.minResizableWidth||10;var f=n?H(l.find("tbody")):H(i.tbody);var p;if(r){e.width=t>c?t:c;return}if(i.footer&&i.lockedContent)d=n?i.footer.children(".k-grid-footer-locked"):i.footer.children(".k-grid-footer-wrap");if(a.scrollable)p=u.find("col:not(.k-group-col,.k-hierarchy-col)").eq(s).add(l.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(s)).add(d.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(s));else p=l.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(s);if(a.scrollable){var h=false;var m=i.wrapper.width()-o;var g=t=t>c?t:c;if(n&&f-t+g>m){g=t+(m-f-o*2);if(g<0)g=t;h=true}if(g>10&&g>=c){p.css("width",g);if(f){if(h)g=m-o*2;else g=f+(t-e.width);l.add(u).add(d).css("width",g);if(!n)i._footerWidth=g}}i._scrollVirtualWrapperOnColumnResize()}else if(t>10&&t>=c)p.css("width",t);e.width=t;i._applyLockedContainersWidth();i._syncLockedContentHeight();i._syncLockedHeaderHeight();i._updateStickyColumns()},_resizable:function(){var d=this,u=d.options,e,c,f,p,h,o=this._isMobile,m=!F.support.mobileOS?F.support.scrollbar():0,g,v,_;if(u.resizable){e=u.scrollable?d.wrapper.find(".k-grid-header-wrap").first():d.wrapper;if(o)d._positionColumnResizeHandleTouch(e);else d._positionColumnResizeHandle(e);if(d.resizable)d.resizable.destroy();d.resizable=new x.Resizable(e.add(d.lockedHeader),{handle:(!!u.scrollable?"":">")+".k-resize-handle",hint:function(e){return A('<div class="k-grid-resize-indicator" />').css({height:b(e.data("th"))+d.tbody.attr("clientHeight")})},start:function(e){_=A(e.currentTarget).data("th");if(o)d._hideResizeHandle();var t=_.closest("table"),i=A.inArray(_[0],W(_.closest("thead")).filter(":visible"));g=t.parent().hasClass("k-grid-header-locked");var n=g?d.lockedTable:d.table,r=d.footer||A();if(d.footer&&d.lockedContent)r=g?d.footer.children(".k-grid-footer-locked"):d.footer.children(".k-grid-footer-wrap");Bt(d.wrapper,"col-resize");if(u.scrollable)v=t.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(i).add(n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(i)).add(r.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(i));else v=n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(i);var a=A.map(d.columns,function(e){return!e.hidden&&(g&&e.locked||!g&&!e.locked)?e:null});c=e.x.location;f=H(_);p=U(a)[i].minResizableWidth||10;h=g?H(n.children("tbody")):H(d.tbody);if(z.webkit)d.wrapper.addClass("k-grid-column-resizing")},resize:function(e){var t=k?-1:1,i=f+e.x.location*t-c*t;if(u.scrollable){var n;if(g&&d.lockedFooter)n=d.lockedFooter.children("table");else if(d.footer)n=d.footer.find(">.k-grid-footer-wrap>table");if(!n||!n[0])n=A();var r=_.closest("table");var a=g?d.lockedTable:d.table;var o=false;var s=d.wrapper.width()-m;var l=i;if(g&&h-f+l>s){l=f+(s-h-m*2);if(l<0)l=i;o=true}if(l>10&&l>=p){v.css("width",l);if(h){if(o)l=s-m*2;else l=h+e.x.location*t-c*t;a.add(r).add(n).css("width",l);if(!g)d._footerWidth=l}}d._scrollVirtualWrapperOnColumnResize()}else if(i>10&&i>=p)v.css("width",i)},resizeend:function(){var e=H(_),t,i;Bt(d.wrapper,"");if(z.webkit)d.wrapper.removeClass("k-grid-column-resizing");if(f!=e){i=d.lockedHeader?d.lockedHeader.find("thead").first().find("tr").first().add(d.thead.find("tr").first()):_.parent();var n=_.attr(F.attr("index"));if(!n)n=i.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(_);t=U(d.columns)[n];t.width=e;d.trigger(We,{column:t,oldWidth:f,newWidth:e});d._applyLockedContainersWidth();d._syncLockedContentHeight();d._syncLockedHeaderHeight();d._updateStickyColumns()}d._resetResizeHandleHeader();d._hideResizeHandle();_=null}})}},_draggable:function(){var t=this,e=t.options.reorderable;if(e===true||e&&e.columns){if(t._draggableInstance)t._draggableInstance.destroy();var i=t.wrapper.children(".k-grid-header");t._draggableInstance=t.wrapper.kendoDraggable({group:F.guid(),autoScroll:true,filter:t.content?".k-grid-header:first "+te:"table:first>.k-grid-header "+te,dragstart:function(){i.children(".k-grid-header-wrap").off("scroll"+_+"scrolling").on("scroll"+_+"scrolling",function(e){if(t.virtualScrollable)F.scrollLeft(t.content.find(">.k-virtual-scrollable-wrap"),this.scrollLeft);else F.scrollLeft(t.scrollables.not(e.currentTarget),this.scrollLeft)})},dragend:function(){t._resetResizeHandleHeader();i.children(".k-grid-header-wrap").off("scroll"+_+"scrolling")},drag:function(){t._hideResizeHandle()},hint:function(e){var t=e.attr(F.attr("title"));if(t)t=F.htmlEncode(t);return A('<div class="k-reorder-clue k-drag-clue" />').html(t||e.attr(F.attr("field"))||e.text()).prepend('<span class="k-icon k-drag-status k-i-cancel"></span>')}}).data("kendoDraggable")}},_reorderable:function(){var r=this,e=r.options.reorderable;if(e===true||e&&e.columns){if(r.wrapper.data("kendoReorderable"))r.wrapper.data("kendoReorderable").destroy();r.wrapper.kendoReorderable({draggable:r._draggableInstance,dropFilter:te,dragOverContainers:function(e,t){var i=fi(r.columns);return i[e].lockable!==false&&pi(i,r.columns,e,t)>-1},inSameContainer:function(e){return A(e.source).parent()[0]===A(e.target).parent()[0]&&pi(fi(r.columns),r.columns,e.sourceIndex,e.targetIndex)>-1},change:function(e){var t=fi(r.columns);var i=t[e.oldIndex];var n=pi(t,r.columns,e.oldIndex,e.newIndex);r.trigger(je,{newIndex:n,oldIndex:M(i,t),column:i});r.reorderColumn(n,i,e.position==="before")}})}},_reorderHeader:function(e,t,i,n){var r=this;var a=li(e[0],r.columns);var o=li(t,r.columns);var s;var l;var d=[];for(var u=0;u<e.length;u++)if(e[u].columns)d=d.concat(e[u].columns);if(n)l=w(n,n,"tr:eq("+a.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");else l=w(r.lockedHeader,r.thead,"tr:eq("+a.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var c=L(e).length;var f=L([t]).length;if(d.length){if(c>0&&f===0){s="prepend";ri(e,t,d,r.columns,r.lockedHeader.find("thead"),r.thead,this._groups(),s)}else if(c===0&&f>0){s=o.cell===0&&e[0].columns&&!t.columns&&!r._group?"prepend":"append";ri(e,t,d,B(r.columns),r.thead,r.lockedHeader.find("thead"),this._groups(),s)}if(t.columns||a.cell-o.cell>1||o.cell-a.cell>1){t=ui(r.columns,t,e[0],i,r.columns);if(t)if(c>0&&f===0)r._reorderHeader(d,t,i,r.thead);else if(c===0&&f>0)r._reorderHeader(d,t,i,r.lockedHead);else r._reorderHeader(d,t,i)}}else if(c!==f)ii(l[a.cell],r.columns,c);Vt(l,a.cell,o.cell,i,e.length)},_reorderContent:function(e,t,i){var n=this;var r=A();var a=e[0];var o=E(e);var s=M(a,U(n.columns));var l=M(t,U(n.columns));var d=M(o[0],V(n.columns));var u=M(t,V(n.columns));var c=L(n.columns).length;var f=!!t.locked;var p=n.footer||n.wrapper.find(".k-grid-footer");var h,m,g;h=m=u;if(t.hidden){var v=f?L(n.columns):B(n.columns);if(E(v).length>0){h=m=u=this._findClosestVisibleColumnIndex(v,l);g=E(v.slice(l)).length>0}else if(f){u=n.lockedTable.find("colgroup");h=n.lockedHeader.find("colgroup");m=A(n.lockedFooter).find(">table>colgroup")}else{u=n.tbody.prev();h=n.thead.prev();m=p.find(".k-grid-footer-wrap").find(">table>colgroup")}}if(n._hasFilterRow())Vt(n.wrapper.find(".k-filter-row td:not(.k-group-cell,.k-hierarchy-cell)"),s,l,i,e.length);if(d>=0)Vt(w(n.lockedHeader,n.thead.prev(),ee),d,h,g?g:i,o.length);if(n.options.scrollable)if(d>=0&&!n._hasVirtualColumns())Vt(w(n.lockedTable,n.tbody.prev(),ee),d,u,g?g:i,o.length);if(p&&p.length){if(d>=0)Vt(w(n.lockedFooter,p.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),d,m,g?g:i,o.length);Vt(p.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),s,l,i,e.length)}var _=n.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(n.lockedTable){if(c>l){if(c<=s)$i(n.lockedTable.find(">tbody>tr.k-grouping-row"),n.table.find(">tbody>tr.k-grouping-row"),e.length)}else if(c>s)$i(n.table.find(">tbody>tr.k-grouping-row"),n.lockedTable.find(">tbody>tr.k-grouping-row"),e.length);r=n.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var b=0,k=_.length;b<k;b+=1)Vt(w(r[b],_[b],">td:not(.k-group-cell,.k-hierarchy-cell)"),s,l,i,e.length)},_findClosestVisibleColumnIndex:function(e,t){var i=E(e.slice(t)).length>0?e.slice(t):e.slice(0,t+1).reverse(),n=E(i)[0];return M(n,E(this.columns))},_autoFitLeafColumn:function(e){this.autoFitColumn(U(this.columns)[e])},_hasReorderableRows:function(){return this._hasDragHandleColumn||this.options.reorderable&&this.options.reorderable.rows},_draggableRows:function(){var n=this,r=n._checkBoxSelection||n.options.selectable&&!F.ui.Selectable.parseOptions(n.options.selectable).cell;if(n._draggableRowsInstance)n._draggableRowsInstance.destroy();n._draggableRowsInstance=n.tbody.kendoDraggable({group:"row-draggable",autoScroll:true,filter:(r?" > .k-selected":" > "+d)+(n._hasDragHandleColumn?" > .k-drag-cell":""),hint:function(e){var i=A('<div class="k-reorder-clue k-drag-clue"><span class="k-icon k-drag-status k-i-cancel"></span></div>');if(r&&n.select().length>1)i.append("<span>"+n.select().length+" "+n.options.messages.itemsSelected+"</span>");else{var t=e.closest(d).clone();t.find("td.k-command-cell").remove();t.find("td").each(function(e,t){i.append("<span>"+t.innerText+"&nbsp;</span>")})}return i}}).data("kendoDraggable")},_reorderableRows:function(){var r=this,a=r._checkBoxSelection||r.options.selectable&&!F.ui.Selectable.parseOptions(r.options.selectable).cell;if(r.tbody.data("kendoReorderable"))r.tbody.data("kendoReorderable").destroy();r.tbody.kendoReorderable({smartPosition:false,draggable:r._draggableRowsInstance,dragOverContainers:function(e,t){var i=true,n=A(d,r.content).eq(t);if(a)i=!n.is(".k-selected");return i},inSameContainer:function(e){if(a)return!A(e.target).is(".k-selected");return true},dropFilter:"> "+d,allowIcon:"k-i-insert-middle",orientation:"vertical",reorderDropCue:A('<div class="k-drop-hint k-drop-hint-h"><div class="k-drop-hint-start"></div><div class="k-drop-hint-line"></div></div>'),positionDropCue:function(e,t){var i=F.getOffset(t.children(m).eq(0)).left;e.css({transform:"translate(0,-50%)",left:i})},externalDraggable:function(e){var t=e.draggable;if(t)return t},change:function(e){r._triggerRowRorder(e)}})},_triggerRowRorder:function(e){var t=this,i={newIndex:e.position==="after"?e.newIndex+1:e.newIndex,oldIndex:e.oldIndex},n=e.element,r=t._checkBoxSelection||t.options.selectable&&!F.ui.Selectable.parseOptions(t.options.selectable).cell;if(r&&t.select().length>1)i=T(i,{rows:t.select()});else i=T(i,{row:n});if(!t.trigger(Ye,i))t.reorderRows(r?t.select():n,i.newIndex)},reorderRows:function(e,t){var i=this,n=i.dataSource,r=i.tbody.children(d).length,a=i.dataItem(i.tbody.children(d).eq(t)),o=e.toArray().map(function(e){return i.dataItem(e)});if(!a){a=i.dataItem(i.tbody.children(d).eq(r-1));t=n.indexOf(a)+1}else t=n.indexOf(a);if(t>=0){i._rowDropping=true;n.pushMove(t,o);i._rowDropping=false}},autoFitColumns:function(e){var t=this;e=e||t.columns;for(var i=0;i<e.length;i++){var n=e[i];if(n.columns)t.autoFitColumns(n.columns);else t.autoFitColumn(n)}},autoFitColumn:function(t){var e=this,i=e.options,n=e.columns,r,a,o,s,l,d=e.lockedHeader?W(e.lockedHeader.find(">table>thead")).filter(Xt).length:0,u,c,f,p,h="col:not(.k-group-col):not(.k-hierarchy-col)",m="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)",g,v;if(typeof t=="number")t=n[t];else if(P(t))t=O(N(n),function(e){return e===t})[0];else t=O(N(n),function(e){return e.field===t})[0];if(!t||!R(t))return;s=U(n);c=t.minResizableWidth;r=M(t,s);l=t.locked;if(l)o=e.lockedHeader.children("table");else o=e.thead.parent();a=o.find("[data-index='"+r+"']");g=a.find("a.k-header-column-menu, a.k-grid-filter");var _=l?e.lockedTable:e.table,b=e.footer||A();if(e.footer&&e.lockedContent)b=l?e.footer.children(".k-grid-footer-locked"):e.footer.children(".k-grid-footer-wrap");var k=b.find("table").first();if(e.lockedHeader&&!l)r-=d;for(var w=0;w<s.length;w++)if(s[w]===t)break;else if(s[w].hidden)r--;if(i.scrollable){u=o.find(h).eq(r).add(_.children("colgroup").find(h).eq(r)).add(k.find("colgroup").find(h).eq(r));if(!l){f=_.parent();p=F.scrollLeft(f)}}else u=_.children("colgroup").find(h).eq(r);var y=o.add(_).add(k);if(z.safari)a.css("white-space","initial");var x=H(a);u.width("");y.css("table-layout","fixed");u.width("auto");y.addClass("k-autofitting");y.css("table-layout","");v=g.length?H(g)+H(a):H(a);var C=Math.ceil(Math.max(v,H(_.find("tr:not(.k-grouping-row)").eq(0).children(m).eq(r)),H(k.find("tr").eq(0).children(m).eq(r))))+1;if(c&&c>C)C=c;u.width(C);t.width=C;if(z.safari)a.css("white-space","");if(i.scrollable){var S=o.find("col"),T,I=0;for(var D=0,E=S.length;D<E;D+=1){T=S[D].style.width;if(T&&T.indexOf("%")==-1)I+=parseInt(T,10);else if(S.eq(D).hasClass("k-group-col"))I+=parseInt(S.eq(D).width(),10);else{I=0;break}}if(I)y.each(function(){this.style.width=I+"px"})}y.removeClass("k-autofitting");if(p)F.scrollLeft(f,p);e.trigger(We,{column:t,oldWidth:x,newWidth:C});e._applyLockedContainersWidth();e._syncLockedContentHeight();e._syncLockedHeaderHeight();e._updateStickyColumns()},reorderColumn:function(e,t,i){var n=this,r=jt(t,n.columns),a=r?r.columns:n.columns,o=M(t,a),s=a[e],l=n.virtualScroll||{},d,u=!!s.locked,c=L(n.columns).length,f=O(U(n.columns),function(e){return e.groupHeaderColumnTemplate});if(o===e)return;if(!t.locked&&u&&B(n.columns).length==1)return;if(t.locked&&!u&&c==1)return;n._hideResizeHandle();if(i===S)i=e<o;var p=[t];n._reorderHeader(p,s,i);if(n.lockedHeader){bi(n.thead);bi(n.lockedHeader)}if(s.columns){s=U(s.columns);s=s[i?0:s.length-1]}if(t.columns)p=U(t.columns);n._reorderContent(p,s,i);d=!!t.locked;d=d!=u;t.locked=u;a.splice(i?e:e+1,0,t);a.splice(o<e?o:o+1,1);n._updateLockedCols();n._updateCols();n._templates();n._updateColumnCellIndex();n._updateColumnSorters();if(f.length>0)n._renderGroupRows();n._updateTablesWidth();n._applyLockedContainersWidth();n._syncLockedHeaderHeight();n._syncLockedContentHeight();n._updateFirstColumnClass();n._updateStickyColumns();if(l.columns)n.refresh();if(!d)return;if(u)n.trigger(qe,{column:t});else n.trigger(Ge,{column:t})},_updateColumnCellIndex:function(){var e;var t=0;if(this.lockedHeader){e=this.lockedHeader.find("thead");t=ai(e,L(this.columns))}ai(this.thead,B(this.columns),t)},lockColumn:function(t){var e=this.columns;if(typeof t=="number")t=e[t];else t=O(e,function(e){return e.field===t})[0];if(!t||t.locked||t.hidden)return;if(t.sticky)this.unstickColumn(e.indexOf(t));var i=L(e).length-1;this.reorderColumn(i,t,false)},unlockColumn:function(t){var e=this.columns;if(typeof t=="number")t=e[t];else t=O(e,function(e){return e.field===t})[0];if(!t||!t.locked||t.hidden)return;var i=L(e).length;this.reorderColumn(i,t,true)},stickColumn:function(t){var e=this.columns;if(typeof t=="number")t=e[t];else t=O(e,function(e){return e.field===t})[0];if(!t||t.sticky||t.hidden)return;if(t.locked){this.unlockColumn(e.indexOf(t));if(t.locked)return}t.sticky=true;this._updateStickyColumns()},unstickColumn:function(t){var e=this.columns;if(typeof t=="number")t=e[t];else t=O(e,function(e){return e.field===t})[0];if(!t||!t.sticky||t.locked||t.hidden)return;this._removeStickyAttributes([t]);this._removeStickyStyles(Ci(e));t.sticky=false;this._updateStickyColumns();if(this._anyStickyColumns()===0){this._templates();if(this._hasFilterRow())this._updateStickyFilterCells()}},cellIndex:function(e){var t=0;if(this.lockedTable&&!A.contains(this.lockedTable[0],e[0]))t=U(L(this.columns)).length;return A(e).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(e)+t},_modelForContainer:function(e){e=A(e);if(!e.is("tr")&&this._editMode()!=="popup")e=e.closest("tr");var t=e.attr(F.attr("uid"))||e.find(".k-popup-edit-form").attr(F.attr("uid"));return this.dataSource.getByUid(t)},_calculateColumnIndex:function(e){var t=this.cellIndex(e);var i=0;if(this._hasVirtualColumns()){i=parseInt(A(e).closest("tr").find("td").first().attr("colspan"),10);i=i>1?i-1:0}return t+i},_editable:function(){var n=this,e=n.options.editable,i=function(){var e=c(),t=n._editContainer;if(t&&t[0]&&!A.contains(t[0],e)&&t[0]!==e&&!A(e).closest(".k-animation-container").length)if(n.editable.end())n.closeCell();else n._scrollVirtualWrapper()};if(e){this.wrapper.addClass("k-editable");var t=n._editMode();if(t==="incell"){n.table.add(n.lockedTable).on("mousedown"+_,g+">"+C,function(e){var t=A(e.target);if(n._editMode()==="incell"&&t.hasClass("k-checkbox")&&t.prev().attr(F.attr("bind")))e.preventDefault()});if(e.update!==false){if(Ot)n.wrapper.on(v+_,".k-edit-cell > input[type='checkbox']",function(e){A(e.target).trigger("focus")}).on(v+_,".k-edit-cell",function(e){if(!A(e.target).is("input"))A(e.currentTarget).find("input[type='checkbox']").trigger("focus")}).on(Xe+_,"tr:not(.k-grouping-row) > td",function(e){var t=n._editContainer;if(t&&t[0]&&(A.contains(t[0],e.target)||t[0]===e.target))n._mousedownOnEditCell=true;else n._mousedownOnEditCell=false});n.editableUserEvents=new F.UserEvents(n.wrapper,{filter:"tr:not(.k-grouping-row) > td",allowSelection:true,tap:function(e){var t=A(e.target),i=n.lockedTable&&t.closest("table")[0]===n.lockedTable[0];n._mousedownOnEditCell=false;if(t.hasClass("k-hierarchy-cell")||t.hasClass("k-detail-cell")||t.hasClass("k-group-cell")||t.hasClass("k-edit-cell")||t.has(".k-grid-delete").length||t.closest("tbody")[0]!==n.tbody[0]&&!i||A(e.target).is(":input"))return;if(n.editable)if(n.editable.end()){A(c()).trigger("blur");n.closeCell();n.editCell(t)}else n._scrollVirtualWrapper();else n.editCell(t)}});n.wrapper.on("focusin"+_,function(){if(!A.contains(this,c())){clearTimeout(n.timer);n.timer=null}}).on("focusout"+_,function(e){var t=true;if(Ot&&n._mousedownOnEditCell||n._virtualColScroll)t=false;n._mousedownOnEditCell=false;if(t)n.timer=setTimeout(function(){i(e)},1)})}}else if(e.update!==false){n.wrapper.on(v+_,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit",function(e){var t=A(this);if(!n._belongsToGrid(t))return;e.preventDefault();n.editRow(t.closest("tr"))});if(n._isVirtualInlineEditable())n.wrapper.on("focusout"+_,"tr:not(.k-grouping-row) > td",function(){if(n.editable&&!n.editable.end())n._scrollVirtualWrapper()})}if(e.destroy!==false)n.wrapper.on(v+_,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(e){var t=A(this);if(!n._belongsToGrid(t))return;e.preventDefault();e.stopPropagation();n.removeRow(t.closest("tr"))});else n.wrapper.on(v+_,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(e){if(!n._belongsToGrid(A(this)))return;e.stopPropagation();if(!n._confirmation())e.preventDefault()})}},editCell:function(t){t=A(t);var i=this,e=U(i.columns)[i._calculateColumnIndex(t)],n=i._modelForContainer(t);i.closeCell();if(n&&rn(e,n)&&!e.command){if(i.trigger(ae,{model:n}))return;i._attachModelChange(n);i._editContainer=t;if(i._shouldClearEditableState)i._clearEditableState();i.editable=t.addClass("k-edit-cell").kendoEditable({fields:Hi(e),model:n,target:i,change:function(e){if(i.trigger(oe,{values:e.values,container:t,model:n}))e.preventDefault()},skipFocus:(i._isVirtualIncellEditable()||i._hasVirtualColumns())&&i._editableState?true:false}).data("kendoEditable");var r=t.parent().addClass("k-grid-edit-row");if(i.lockedContent){Ji(r[0],i._relatedRow(r).addClass("k-grid-edit-row")[0]);i._syncLockedScroll()}i.trigger(re,{container:t,model:n})}},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent();var i=e[0].offsetWidth>t[0].clientWidth?F.support.scrollbar():0;this.lockedContent.height(t[0].offsetHeight-i)},_syncLockedScroll:function(){this.lockedContent[0].scrollTop=this.content[0].scrollTop;if(this.virtualScrollable)this.lockedContent[0].scrollTop=this.wrapper.find(".k-virtual-scrollable-wrap")[0].scrollTop},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller)this._adjustLockedHorizontalScrollBar();this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var e=this.lockedHeader.children("table");var t=this.thead.parent();this._adjustRowsHeight(e,t);Xi(e,t)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length)this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var i=this;var e=function(){if(i.editable){var e=i.editView?i.editView.element:i._editContainer;var t=i._editContainer.data("kendoWindow");if(e){e.off(v+_,".k-grid-cancel",i._editCancelClickHandler);e.off(v+_,".k-grid-update",i._editUpdateClickHandler)}i._detachModelChange();i.editable.destroy();i.editable=null;if(t)t.destroy();i._editContainer=null;i._destroyEditView();i._editableIsClosing=null}};if(i.editable)if(i._editMode()==="popup"&&!i._isMobile)if(i._editableIsClosing)i._editContainer.data("kendoWindow").bind("deactivate",e);else{i._editableIsClosing=true;i._editContainer.data("kendoWindow").bind("deactivate",e).close()}else e();if(i._confirmDialog){i._confirmDialog.close();i._confirmDialog.destroy();i._confirmDialog=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})};e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,i=e._modelForContainer(t);if(i)i.unbind(p,e._modelChangeHandler)},closeCell:function(e){var t=this,i=t._editContainer,n,r,a;if(!i)return;a=t._modelForContainer(i);if(e&&t.trigger("cancel",{container:i,model:a}))return;t.trigger(pe,{type:e?"cancel":"save",model:a,container:i});i.removeClass("k-edit-cell");n=U(t.columns)[t._calculateColumnIndex(i)];r=i.parent().removeClass("k-grid-edit-row");if(t.lockedContent)t._relatedRow(r).removeClass("k-grid-edit-row");t._destroyEditable();t._displayCell(i,n,a);if(t._shouldClearEditableState)t._clearEditableState();t.trigger("itemChange",{item:r,data:a,ns:x});if(t.lockedContent)Ji(r.css("height","")[0],t._relatedRow(r).css("height","")[0])},_displayCell:function(e,t,i){var n=this,r={storage:{},count:0},a=T({},F.Template,n.options.templateSettings),o=F.template(n._cellTmpl(t,r),a);if(r.count>0)o=o.bind(r.storage);e.empty().html(o(i));n.angular("compile",function(){return{elements:e,data:[{dataItem:i}]}})},removeRow:function(e){if(!this._confirmation(e))return;this._removeRow(e)},_removeRow:function(e){var t=this,i,n,r,a,o=t._editMode();if(o!=="incell")t.cancelRow();e=A(e);if(t.lockedContent)e=e.add(t._relatedRow(e));e=e.hide();if(t.dataSource._isGroupPaged())t._removeGroupIfEmpty(e);i=t._modelForContainer(e);if(i&&!t.trigger(se,{row:e,model:i})){a=t.dataSource.options.schema;if(t._selectedIds&&a&&a.model){n=$(t.dataSource.options.schema.model)?t.dataSource.options.schema.model.fn.idField:t.dataSource.options.schema.model.id;r=i[n];delete t._selectedIds[r]}t.dataSource.remove(i);if(o==="inline"||o==="popup")t.dataSource.sync()}else if(o==="incell")t._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;if(t!==true)if(typeof t=="string")e=t;else e=t.mode||e;return e},editRow:function(e){var i;var n=this;if(e instanceof a)i=e;else{e=A(e);i=n._modelForContainer(e)}var t=n._editMode();var r;n.cancelRow();if(i){e=n.tbody.children("["+F.attr("uid")+"="+i.uid+"]");n._attachModelChange(i);if(t==="popup")n._createPopupEditor(i);else if(t==="inline")n._createInlineEditor(e,i);else if(t==="incell")A(e).children(m).each(function(){var e=A(this);var t=U(n.columns)[n._calculateColumnIndex(e)];i=n._modelForContainer(e);if(i&&(!i.editable||i.editable(t.field))&&t.field&&!t.selectable){n.editCell(e);return false}});r=n.editView?n.editView.element:n._editContainer;if(r){if(!this._editCancelClickHandler)this._editCancelClickHandler=this._editCancelClick.bind(this);r.on(v+_,".k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler)this._editUpdateClickHandler=this._editUpdateClick.bind(this);r.on(v+_,".k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(e){e.preventDefault();e.stopPropagation();this.saveRow()},_editCancelClick:function(e){var t=this;var i=t.options.navigatable;var n=t.editable.options.model;var r=t.editView?t.editView.element:t._editContainer;e.preventDefault();e.stopPropagation();if(t.trigger("cancel",{container:r,model:n}))return;var a=t.items().index(A(t.current()).parent());t.cancelRow();if(i){t._setCurrent(t.items().eq(a).children().filter(C).first());j(t.table,true)}},_editFields:function(e,t){var i=[];var n;for(var r=0;r<e.length;r++){n=e[r];if(n.selectable||n.command)continue;if(rn(n,t))i.push(Hi(n))}return i},_createPopupEditor:function(i){var n=this;var e="<div "+F.attr("uid")+'="'+i.uid+'" class="k-popup-edit-form"><'+(n._isMobile?'ul class="k-edit-form-container k-listgroup k-listgroup-flush">':'div class="k-edit-form-container">');var t;var r;var a;var o;var s;var l;var d;var u;var c;var f;var p=U(n.columns);var h;var m=F.guid();var g=n.options.editable;var v=g.template;var _=P(g)?g.window:{};var b=T({},F.Template,n.options.templateSettings);var k;var w;var y;if(n.trigger(ae,{model:i}))return;_=_||{};if(v){if(typeof v===D)v=F.unescape(v);e+=F.template(v,b)(i);for(a=0,o=p.length;a<o;a++){t=p[a];if(t.command){f=Zi(t.command,"edit");if(f)r=f}}}else for(a=0,o=p.length;a<o;a++){t=p[a];if(t.selectable)continue;if(!t.command){if(n._isMobile){e+='<li class="k-item k-listgroup-item">';if(rn(t,i)){e+='<label class="k-label k-listgroup-form-row">';e+='<span class="k-item-title k-listgroup-form-field-label">'+(t.title&&(n.options.encodeTitles?vn(t.title,true):t.title)||t.field||"")+"</span>";e+='<div class="k-listgroup-form-field-wrapper" id="'+t.field+"_"+m+'" '+F.attr("container-for")+'="'+t.field+'"></div>';e+="</label>"}else{k={storage:{},count:0};s=F.template(n._cellTmpl(t,k),b);if(k.count>0)s=s.bind(k.storage);e+='<label class="k-label k-listgroup-form-row k-no-click">';e+='<span class="k-item-title k-listgroup-form-field-label">'+(t.title&&(n.options.encodeTitles?vn(t.title,true):t.title)||t.field||"")+"</span>";e+='<span class="k-no-editor k-listgroup-form-field-wrapper">'+s(i)+"</span>";e+="</label>"}e+="</li>"}}else if(t.command){f=Zi(t.command,"edit");if(f)r=f}}if(r)if(P(r)){if(P(r.text)){l=r.text.update;d=r.text.cancel}if(P(r.iconClass)){u=r.iconClass.update;c=r.iconClass.cancel}if(r.attr)h=r.attr}if(!n._isMobile){y='<div class="k-edit-buttons k-actions-end">';y+=n._createButton({name:"update",text:l,attr:h,iconClass:u})+n._createButton({name:"canceledit",text:d,attr:h,iconClass:c});y+="</div>";e+=v?y+"</div>":"</div>";w=n._editContainer=A(e).appendTo(n.wrapper).eq(0).kendoWindow(T({modal:true,resizable:false,draggable:true,title:n.options.messages.commands.edit||"Edit",visible:false,close:function(e){if(e.userTriggered){e.sender.element.trigger("focus");if(n.trigger("cancel",{container:w,model:i})){e.preventDefault();return}var t=n.items().index(A(n.current()).parent());n._editableIsClosing=true;n.cancelRow();if(n.options.navigatable){n._setCurrent(n.items().eq(t).children().filter(C).first());j(n.table,true)}}}},_))}else{e+="</ul></div>";n.editView=n.pane.append("<div data-"+F.ns+'role="view" class="k-grid-edit-form">'+"<div data-"+F.ns+'role="header" class="k-header">'+'<a href="\\#" class="k-header-cancel k-link k-grid-cancel" title="#=messages.cancel#" '+'aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+(n.options.messages.commands.edit||"Edit")+'<a href="\\#" class="k-header-done k-link k-grid-update" title="#=messages.done#" '+'aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a>'+"</div>"+"<div data-"+F.ns+'role="content" class="'+Mt.content+'">'+e+"</div>"+"</div>");w=n._editContainer=n.editView.element.find(".k-popup-edit-form")}if(!v&&!n._isMobile){n.editable=new x.Form(n._editContainer.find(".k-edit-form-container"),{items:n._editFields(p,i),buttonsTemplate:"",formData:i}).editable;n._editContainer.append(y)}else n.editable=n._editContainer.kendoEditable({fields:n._isMobile?n._editFields(p,i):null,model:i,clearContainer:false,target:n}).data("kendoEditable");n._openPopUpEditor();n.trigger(re,{container:w,model:i})},_openPopUpEditor:function(){var e=this;var t=e._editContainer?e._editContainer.data("kendoWindow"):null;var i=(e.options.editable||{}).window||{};if(!this._isMobile){if(t){if(!i.position)t.center();t.open()}}else this.pane.navigate(this.editView,this._editAnimation)},_createInlineEditor:function(e,a){var o=this;var s;var l;var d;var u=[];if(o.trigger(ae,{model:a}))return;if(o.lockedContent)e=e.add(o._relatedRow(e));e.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){l=A(this);s=U(o.columns)[o._calculateColumnIndex(l)];if(!s.command&&rn(s,a)){u.push(Hi(s));l.attr(F.attr("container-for"),s.field);l.empty()}else if(s.command){d=Zi(s.command,"edit");if(d){l.empty();var e,t,i,n,r;if(P(d)){if(P(d.text)){e=d.text.update;t=d.text.cancel}if(P(d.iconClass)){i=d.iconClass.update;n=d.iconClass.cancel}if(d.attr)r=d.attr}A(o._createButton({name:"update",text:e,attr:r,iconClass:i})+o._createButton({name:"canceledit",text:t,attr:r,iconClass:n})).appendTo(l)}}});o._editContainer=e;o._editContainer.addClass("k-grid-edit-row");if(o._shouldClearEditableState)o._clearEditableState();o.editable=new F.ui.Editable(o._editContainer,{target:o,fields:u,model:a,skipFocus:o._isVirtualInlineEditable()&&o._editableState&&(o._editableState.field?true:false)||o._hasVirtualColumns(),clearContainer:false});if(e.length>1){Ji(e[0],e[1]);o._applyLockedContainersWidth()}o.trigger(re,{container:e,model:a})},cancelRow:function(e){var t=this,i=t._editContainer,n;if(i){n=t._modelForContainer(i);if(!n||e&&t.trigger("cancel",{container:i,model:n}))return;t._destroyEditable();t.dataSource.cancelChanges(n);t._clearEditableState();if(t._editMode()!=="popup")t._displayRow(i);else t._displayRow(t.tbody.find("["+F.attr("uid")+"="+n.uid+"]"))}},saveRow:function(){var e=this;var t=this._editContainer;var i=this._modelForContainer(t);var n=A.Deferred();var r;if(!t||!this.editable)return n.resolve().promise();r=e.editable&&e.editable.end();if(!r||this.trigger(oe,{container:t,model:i})){if(!r)e._scrollVirtualWrapper();return n.reject().promise()}e._clearEditableState();return this.dataSource.sync()},_displayRow:function(e){var t=this,i=t._modelForContainer(e),n,r,a,o=e.hasClass("k-selected"),s=e.hasClass("k-alt");if(i){if(t.lockedContent){n=A((s?t.lockedAltRowTemplate:t.lockedRowTemplate)(i));t._relatedRow(e.last()).replaceWith(n)}t.angular("cleanup",function(){return{elements:e.get()}});r=A((s?t.altRowTemplate:t.rowTemplate)(i));if(!e.is(":visible"))r.hide();e.replaceWith(r);t.trigger("itemChange",{item:r,data:i,ns:x});if(n&&n.length)t.trigger("itemChange",{item:n,data:i,ns:x});var l=r;var d=[{dataItem:i}];if(n&&n.length){l=r.add(n);d.push({dataItem:i})}t.angular("compile",function(){return{elements:l.get(),data:d}});if(o&&(t.options.selectable||t._checkBoxSelection))t.select(r.add(n));if(n)Ji(r[0],n[0]);a=r.next();if(a.hasClass("k-detail-row")&&a.is(":visible"))r.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse")}},_showMessage:function(e,t){var i=this;if(!i._isMobile)return window.confirm(e.title);var n=i._confirmDialog=new F.ui.Confirm(A("<div />").appendTo(document.body),{modal:{preventScroll:true},closable:false,title:false,content:e.title,messages:{okText:e.confirmDelete,cancel:e.cancelDelete},open:function(){if(i.content){i.content.data(ut,i.content.css(ut));i.content.css(ut,ct)}},close:function(){if(i.content)i.content.css(ut,i.content.data(ut))}});n.result.done(function(){i._removeRow(t)}).fail(function(){var e=i._confirmDialog;if(e){e.close();e.destroy()}});return false},_confirmation:function(e){var t=this,i=t.options.editable,n=i===true||typeof i===D?t.options.messages.editable.confirmation:i.confirmation;if(P(i)&&typeof i.mode===D&&typeof n!==et&&typeof n!==D&&n!==false)n=t.options.messages.editable.confirmation;if(n!==false&&n!=null){if(typeof n===et)n=n(t._modelForContainer(e));return t._showMessage({confirmDelete:i.confirmDelete||t.options.messages.editable.confirmDelete,cancelDelete:i.cancelDelete||t.options.messages.editable.cancelDelete,title:n===true?t.options.messages.editable.confirmation:n},e)}return true},cancelChanges:function(){var e=this;e.dataSource.cancelChanges();if(e._isVirtualEditable())e._virtualPageToTop(function(){e.virtualScrollable.scrollToTop()})},saveChanges:function(){var e=this;var t=e.editable&&e.editable.end();if((t||!e.editable)&&!e.trigger(i))e.dataSource.sync();else if(!t)e._scrollVirtualWrapper()},addRow:function(){var e=this,t,i=e.dataSource,n=e._editMode(),r=e.options.editable.createAt||"",a=i.pageSize(),o=i.view()||[];var s=r.toLowerCase()===tt;var l;var d=e._isVirtualEditable();if(e.editable&&e.editable.end()||!e.editable){if(n!="incell")e.cancelRow();t=i.indexOf(o[0]);if(s){t+=o.length;if(a&&!i.options.serverPaging&&a<=o.length)t-=1}if(t<0)if(i.page()>i.totalPages())t=(i.page()-1)*a;else t=0;if(e.options.navigatable&&n=="incell")e._removeCurrent();if(d)e._virtualAddRow();else{l=i.insert(t,{});e._editModel(l)}}else e._scrollVirtualWrapper()},_editModel:function(e){var t=this;var i=t.options.editable.createAt||"";var n=t._editMode();if(e){var r=e.uid,a=t.lockedContent?t.lockedTable:t.table,o=a.find("tr["+F.attr("uid")+"="+r+"]"),s=o.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(t._firstEditableColumnIndex(o));if(n==="inline"&&o.length)t.editRow(o);else if(n==="popup")t.editRow(e);else if(s.length)t.editCell(s);if(i.toLowerCase()=="bottom"&&t.lockedContent)t.lockedContent[0].scrollTop=t.content[0].scrollTop=t.table[0].offsetHeight}},_virtualAddRow:function(){var e=this;var t=(e.options.editable.createAt||"").toLowerCase()===tt;e._clearEditableState();if(t)e._virtualAddRowAtBottom();else e._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var e=this;var t=e.dataSource;var i=e.virtualScrollable;var n;if(t.page()===1){n=t.insert(0,{});e._editModel(n);i.scrollToTop()}else e._virtualPageToTop(function(){n=t.insert(0,{});e._editModel(n);i.scrollToTop()})},_virtualAddRowAtBottom:function(){var e=this;var t=e.dataSource;var i=e.virtualScrollable;var n=t.total();var r;if(t.at(n-1)instanceof a){r=t.insert(n,{});e._virtualPageToBottom(function(){e._editModel(r);i.scrollToBottom()})}else e._virtualPageToBottom(function(){r=t.insert(n,{});e._editModel(r);i.scrollToBottom()})},_virtualPageToTop:function(e){var t=this;t._virtualPage(0,t.dataSource.take(),function(){e()})},_virtualPageToBottom:function(e){var t=this;var i=t.dataSource;var n=i.take();var r=i.total();var a=r>n?r-n:0;t._virtualPage(a,n,function(){e()})},_virtualPage:function(e,t,i){var n=this;if(n._isVirtualEditable()){n.virtualScrollable._preventScroll=true;n.virtualScrollable._page(e,t,i)}},_firstEditableColumnIndex:function(e){var t=this,i,n=U(t.columns),r,a,o=t._modelForContainer(e);for(r=0,a=n.length;r<a;r++){i=n[r];if(o&&(!o.editable||o.editable(i.field))&&!i.command&&i.field&&i.hidden!==true)return r}return-1},_toolbar:function(){var o=this,e=o.wrapper,t=o.options.toolbar,i=o.options.editable,n;if(t){n=o.wrapper.find(".k-grid-toolbar");if(!n.length){if(!$(t)){t=typeof t===D?t:o._toolbarTmpl(t).replace(yt,"\\#");t=F.template(t).bind(o)}n=A('<div class="k-toolbar k-grid-toolbar" />').html(t({})).prependTo(e);o.angular("compile",function(){return{elements:n.get()}})}if(i&&i.create!==false)n.on(v+_,".k-grid-add",function(e){e.preventDefault();o.addRow()}).on(v+_,".k-grid-cancel-changes",function(e){e.preventDefault();o.cancelChanges()}).on(v+_,".k-grid-save-changes",function(e){e.preventDefault();o.saveChanges()});n.on(v+_,".k-grid-excel",function(e){e.preventDefault();o.saveAsExcel()});n.on(v+_,".k-grid-pdf",function(e){e.preventDefault();var t=o.saveAsPDF();if(t)t.done(function(){o._pdfInitialized=false})});n.on(rt+_,".k-grid-search input",function(e){var a=e.currentTarget;clearTimeout(o._searchTimeOut);o._searchTimeOut=setTimeout(function(){o._searchTimeOut=null;var e=o.options;var t=e.search?e.search.fields:null;var i={filters:[],logic:"or"};var n=a.value;if(!t)t=Fi(e.columns);if(o.dataSource.options.endless){o.dataSource.options.endless=null;o._endlessPageSize=o.dataSource.options.pageSize}if(n)for(var r=0;r<t.length;r++)o._pushExpression(i.filters,t[r],n);else i={};o.dataSource.filter(i)},300)})}},_pushExpression:function(e,t,i){var n=this,r=n.dataSource.options.serverFiltering,a={string:"contains",number:"gte",date:"gte",enums:"eq",boolean:"eq"},o=t.name||t,s=t.operator,l=n.dataSource.reader.model&&n.dataSource.reader.model.fields,d=l&&l[o],u=d&&d.parse,c={field:o,operator:s||a.string,value:i};if((s||r)&&d&&F.isFunction(u)&&u(i)!==null)T(c,{operator:s||a[d.type],value:u(i)});if(r&&d&&F.isFunction(u)&&u(i)===null)return;e.push(c)},_toolbarTmpl:function(e){var t=this,i,n,r="",a,o="",s=t.options.messages.commands;if(G(e))for(i=0,n=e.length;i<n;i++){a=typeof e[i]==="string"?e[i].toLowerCase():(e[i].name||"").toLowerCase();if(a==="search"){if(typeof e[i]!=="string")o=e[i].text;o=o||s.search;r+="<span class='k-spacer'></span>";r+="<span class='k-searchbox k-input k-input-md k-rounded-md k-input-solid k-grid-search'>";r+="<span class='k-input-icon k-icon k-i-search'></span>";r+="<input autocomplete='off' placeholder='"+o+"' title='"+o+"' aria-label='"+o+"' class='k-input-inner' />";r+="</span>"}else r+=t._createButton(e[i])}return r},_createButton:function(e){var t,i=e.template||Dt,n=typeof e===D?e:e.name||e.text,r=l[n]?l[n].className:"k-grid-"+(n||"").replace(/\s/g,""),a={className:r,text:n,attr:"",iconClass:""},o=this.options.messages.commands,s;if(!n&&!(P(e)&&e.template))throw new Error("Custom commands should have name specified");if(P(e)){e=T(true,{},e);if(e.className&&M(a.className,e.className.split(" "))<0)e.className+=" "+a.className;else if(e.className===S)e.className=a.className;if(e.className.indexOf("k-primary")>-1){e.className=e.className.replace("k-primary","");e.themeColor="primary"}if(n==="edit"){e=T(true,{},e);e.text=P(e.text)?e.text.edit:e.text;e.iconClass=P(e.iconClass)?e.iconClass.edit:e.iconClass}if(e.attr){if(P(e.attr))e.attr=Lt(e.attr);if(typeof e.attr===D){s=e.attr.match(/class="(.+?)"/);if(s&&M(s[1],e.className.split(" "))<0)e.className+=" "+s[1]}}a=T(true,a,l[n],{text:o[n]},e)}else a=T(true,a,l[n],{text:o[n]});t=F.template(i)(a);if(!e.template)return F.html.renderButton(A(t),a);else return t},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var r=this;if(r._groupableClickHandler)r.table.add(r.lockedTable).off(v+_,r._groupableClickHandler);else r._groupableClickHandler=function(e){var t=A(this),i=t.closest("tr");var n=r._groupRows?r._groupRows[r.wrapper.find(".k-grouping-row").index(i)]:{};if(t.hasClass("k-i-collapse")){if(!r.trigger("groupCollapse",{group:n,element:i}))r.collapseGroup(i)}else if(!r.trigger("groupExpand",{group:n,element:i}))r.expandGroup(i);e.preventDefault();e.stopPropagation()};if(r._isLocked())r.lockedTable.on(v+_,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",r._groupableClickHandler);else r.table.on(v+_,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",r._groupableClickHandler);r._attachGroupable()},_attachGroupable:function(){var t=this,e=t.wrapper,i=t.options.groupable,n=te+"["+F.attr("field")+"]",r=t.content?".k-grid-header:first "+n:"table:first>.k-grid-header "+n;if(i&&i.enabled!==false){if(!e.has("div.k-grouping-header")[0])A("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(e);if(t.groupable)t._destroyGroupable();if(z.chrome){e.find("div.k-grouping-header").css("touch-action","none");e.find(r).css("touch-action","none")}t.groupable=new x.Groupable(e,T({},i,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:r,filter:r,allowDrag:t.options.reorderable,removeGroup:function(e){t._showUngroupedColumn(e)},change:function(e){if(t.trigger("group",{groups:e.groups}))e.preventDefault();else{t._clearEditableState();t._hideGroupedColumns(e.groups);if(t.dataSource.options.endless)t._resetEndless()}}}));t._addGroupableOptionsToHeader()}},_showUngroupedColumn:function(e){var t=U(this.columns);var i;for(i=0;i<t.length;i++)if(t[i].uid==e.colID&&t[i].hideOnGroup)this.showColumn(t[i])},_hideGroupedColumns:function(e){if(!e)return;var t=U(this.columns);var i=[];var n;for(n=0;n<e.length;n++)if(e[n].colID)i.push(e[n].colID);for(n=0;n<t.length;n++)if(i.indexOf(t[n].uid)>=0&&t[n].hideOnGroup)this.hideColumn(t[n])},_resetEndless:function(){var e=this;e.dataSource.options.endless=null;e._endlessPageSize=e.dataSource.options.pageSize;e.dataSource._skip=0;e.dataSource._pageSize=e.dataSource._take=e._endlessPageSize;e.dataSource._page=1},_addGroupableOptionsToHeader:function(){var e=this;var t=N(e.columns);var i={};var n="";var r=e._headerCells();var a="";var o;var s;var l;for(l=0;l<t.length;l++){n=t[l].field;i[t[l].field]=t[l]}for(l=0;l<r.length;l++){o=r.eq(l);a=o.attr(F.attr(nt));s=i[a];if(s&&s.groupable&&s.groupable.sort)o.data(pt,s.groupable.sort)}},_destroyGroupable:function(){var e=this;if(e.groupable&&e.groupable.element)e.groupable.element.kendoGroupable("destroy");e.groupable=null;e._removeGroupableOptionsFromHeader()},_removeGroupableOptionsFromHeader:function(){var e=this;var t=e._headerCells();for(var i=0;i<t.length;i++)t.eq(i).removeData(pt)},_continuousItems:function(e,t){if(!this.lockedContent)return;var i=this;var n=i.table.add(i.lockedTable);var r=A(e,n[0]);var a=A(e,n[1]);var o=t?L(i.columns).length:1;var s=t?i.columns.length-o:1;var l=[];for(var d=0;d<r.length;d+=o){K.apply(l,r.slice(d,d+o));K.apply(l,a.splice(0,s))}return l},_selectable:function(){var o=this,s,l,e=[],d=o._isLocked(),t=o.options.selectable;if(t){if(o.selectable)o.selectable.destroy();o._selectedIds={};t=F.ui.Selectable.parseOptions(t);s=t.multiple;l=t.cell;if(o._hasDetails())e[e.length]=".k-detail-row";if(o.options.groupable||o._hasFooters()||o._groups())e[e.length]=".k-grouping-row,.k-group-footer";e=e.join(",");if(e!=="")e=":not("+e+")";var u=o.table;if(d)u=u.add(o.lockedTable);var i=">"+(l?n:"tbody>tr"+e);o.selectable=new F.ui.Selectable(u,{filter:i,aria:true,multiple:s,dragToSelect:o.options.selectable&&o.options.selectable.dragToSelect,change:function(e){var t;if(!l)o._persistSelectedRows();if(o._checkBoxSelection){t=o.selectable.value();o._uncheckCheckBoxes();o._checkRows(t);if(t.length&&t.length===o.items().length)o._toggleHeaderCheckState(true);else o._toggleHeaderCheckState(false)}if(e.event)o.trigger(p)},useAllItems:d&&s&&l,relatedTarget:function(e){if(l||!d)return;var t;var i=A();for(var n=0,r=e.length;n<r;n++){t=o._relatedRow(e[n]);if(M(t[0],e)<0)i=i.add(t)}return i},continuousItems:function(){return o._continuousItems(i,l)},ignoreOverlapped:o.options.selectable&&o.options.selectable.ignoreOverlapped,addIdToRanges:true});if(o.options.navigatable)u.on("keydown"+_,function(e){var t=o.current();var i=e.target;var n={event:e};var r;var a;if(!t)return;if(e.keyCode===f.SPACEBAR&&!e.shiftKey&&A.inArray(i,u)>-1&&!t.is(".k-edit-cell,.k-header")&&t.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){e.preventDefault();e.stopPropagation();t=l?t:t.parent();r=!t.hasClass(De)||o.selectable.value().length>1;if(d&&!l)t=t.add(o._relatedRow(t));if(s){if(!e.ctrlKey)o.selectable.clear();else if(t.hasClass(De)){o._deselectCheckRows(t);return}}else o.selectable.clear();if(!l)o.selectable._lastActive=t;o.selectable.value(t);if(r)o.trigger(p)}else if(!l&&(A(i).is("td")||A(i).is("table")&&M(i,this._navigatableTables))&&(e.shiftKey&&e.keyCode==f.LEFT||e.shiftKey&&e.keyCode==f.RIGHT||e.shiftKey&&e.keyCode==f.UP||e.shiftKey&&e.keyCode==f.DOWN||e.keyCode===f.SPACEBAR&&e.shiftKey)){e.preventDefault();e.stopPropagation();t=t.parent();a=o.selectable.value();if(d)t=t.add(o._relatedRow(t));if(s){if(!o.selectable._lastActive)o.selectable._lastActive=t;o.selectable.selectRange(o.selectable._firstSelectee(),t);if(!en(a,o.selectable.value()))o.trigger(p,n)}else if(!t.hasClass("k-selected")){o.selectable.clear();o.selectable.value(t);o.trigger(p)}}})}},_clipboard:function(){var e=this.options;var t=e.selectable;if(t&&e.allowCopy){var i=this;if(!e.navigatable){i.table.attr("tabindex",0);i.table.add(i.lockedTable).on("mousedown"+_+" keydown"+_,".k-detail-cell",function(e){if(e.target!==e.currentTarget)e.stopImmediatePropagation()}).on("mousedown"+_,g+">"+C,on.bind(i))}i.copyHandler=i.copySelection.bind(i);i.updateClipBoardState=function(){if(i.areaClipBoard)i.areaClipBoard.val(i.getTSV()).trigger("focus").select()};i.bind("change",i.updateClipBoardState);i.wrapper.on("keydown",i.copyHandler);i.clearAreaHandler=i.clearArea.bind(i);i.wrapper.on("keyup",i.clearAreaHandler)}},copySelectionToClipboard:function(e){this._createAreaClipBoard();this.areaClipBoard.val(this.getTSV(e)).trigger("focus").select();document.execCommand("copy")},copySelection:function(e){if(e instanceof jQuery.Event&&!(e.ctrlKey||e.metaKey)||A(e.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text)return;this._createAreaClipBoard();this.areaClipBoard.val(this.getTSV()).trigger("focus").select()},_createAreaClipBoard:function(){if(!this.areaClipBoard)this.areaClipBoard=A("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)},getTSV:function(e){var o=this;var t=o.select();var i="\t";var n=o.options.allowCopy;var s=true;var l=o._isLocked()&&L(o.columns).length;if(A.isPlainObject(n)&&n.delimeter)i=n.delimeter;var r="";if(t.length){if(t.eq(0).is("tr"))t=t.find("td:not(.k-group-cell)");if(s)t.filter(":visible");var d=[];var u=this.columns.length;var c=o._isLocked()&&L(o.columns).length;var f=true;var p=[];var h;var a=V(this.columns);A.each(t,function(e,t){t=A(t);h=o._getCellField(t,l);var i=t.closest("tr");var n=i.index();var r=t.index();if(s)r-=t.prevAll(":hidden").length;if(c&&f)f=A.contains(o.lockedTable[0],t[0]);if(o._groups()&&f)r-=o._groups();r=f?r:r+c;if(h)p[r]=h;if(u>r)u=r;var a=t.text();if(!d[n])d[n]=[];d[n][r]=a});var m=d.length;d=A.each(d,function(e,t){if(t){d[e]=t.slice(u);if(m>e)m=e}});if(e&&p.length){d.splice(m,0,p.map(function(e){return _n(e,a)}));var g=d.findIndex(function(e){return e!==S});d[g]=d[g].slice(u)}A.each(d.slice(m),function(e,t){if(t)r+=t.join(i)+"\r\n";else r+="\r\n"})}return r},clearArea:function(e){if(this.areaClipBoard&&e&&e.target===this.areaClipBoard[0])j(this.table,true);if(this.areaClipBoard){this.areaClipBoard.remove();this.areaClipBoard=null}},_adaptiveColumns:function(){var e=this;if(e._anyColumnHasMediaQuery()){e._setColumnsMediaVisibility(e.columns);e._attachColumnMediaResizeHandler()}},_anyColumnHasMediaQuery:function(){return this._columnsWithMediaQuery().length},_columnsWithMediaQuery:function(){return Zt(this.columns)},_attachColumnMediaResizeHandler:function(){var e=this;e._detachColumnMediaResizeHandler();e._columnMediaResizeHandler=e._onColumnMediaResize.bind(e);A(window).on(Ue+_,e._columnMediaResizeHandler)},_detachColumnMediaResizeHandler:function(){var e=this;if(e._columnMediaResizeHandler)A(window).off(Ue+_,e._columnMediaResizeHandler)},_onColumnMediaResize:function(){var e=this;e._setColumnsMediaVisibility(e.columns);e._setContentMediaWidth()},_setColumnsMediaVisibility:function(e){var t=e||[];for(var i=0;i<t.length;i++)this._setColumnMediaVisibility(t[i])},_setColumnMediaVisibility:function(e){var t=this;if(ei(e.media))t._setColumnsMediaVisibility(e.columns);else if(Qt(e)){t._showColumnByMedia(e);if(!e.hidden)t._setColumnsMediaVisibility(e.columns)}else t._hideColumnByMedia(e)},_showColumnByMedia:function(e){if(!e.hidden)this.showColumn(e);Yt(e)},_hideColumnByMedia:function(e){var t=e.hidden;if(!t){e._hideByMedia=true;this.hideColumn(e);e._hideByMedia=false;e.hidden=t}Yt(e)},_setContentMediaWidth:function(){var e=this;var t=e.options;var i=e._isLocked();var n;if(t.scrollable&&t.resizable){if(i&&e.lockedFooter)n=e.lockedFooter.children("table");else if(e.footer)n=e.footer.find(">.k-grid-footer-wrap>table");if(!n||!n[0])n=A();var r=i?e.wrapper.find(".k-grid-header-locked").find("table"):e.wrapper.find(".k-grid-header").find("table");var a=i?e.lockedTable:e.table;var o=r.find("th");var s=r.find("colgroup");var l=o.length;var d=o.filter(Xt).length;var u=o.length-d;var c=0;if(r[0].style.width!==""&&parseFloat(r[0].style.width)!==c){var f=r.css("width");for(var p=0;p<l;p++)if(Jt(o[p])){var h;var m=Math.max(p,p-u);var g=s.children()[m];var v=g?g.style.width:"";if(v!=="")h=parseFloat(v);else{r.css("width","auto");h=H(o.eq(p));r.css("width",f)}c+=h}a.css("width",c-1);r.css("width",c);n.css("width",c);e._updateStickyColumns()}}},_minScreenSupport:function(){var e=this.hideMinScreenCols();if(e){this.minScreenResizeHandler=this.hideMinScreenCols.bind(this);A(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var e=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t)},_iterateMinScreenCols:function(e,t){var i=false;for(var n=0;n<e.length;n++){var r=e[n];var a=r.minScreenWidth;if(a!==S&&a!==null){i=true;if(a>t)this.hideColumn(r);else this.showColumn(r)}if(!r.hidden&&r.columns)i=this._iterateMinScreenCols(r.columns,t)||i}return i},_stickyColumns:function(){var e=this;if(e._anyStickyColumns())e._setStickyColumns(false)},_updateStickyColumns:function(){var e=this;var t=O(U(e.columns),function(e){return e.groupHeaderColumnTemplate});if(e._anyStickyColumns()){e._setStickyColumns(true);e._templates();if(t.length>0)e._renderGroupRows();if(e._hasFilterRow())e._updateStickyFilterCells()}},_updateStickyFilterCells:function(){var e=this;var t=e.thead.find(".k-filter-row").find("td:not(.k-group-cell,.k-hierarchy-cell)");if(t.length)t.each(function(){var e=A(this);var t=e.data("column");var i=e.attr("style")||"";if(t.sticky){e.attr("style",i+t.stickyStyle);e.addClass(Le)}else{i=i.replace(Ct,"");i=i.replace(St,"");e.attr("style",i);e.removeClass(Le)}})},_anyStickyColumns:function(){var e=this;return Ci(e.columns).length},_setStickyColumns:function(e){var t=this;var i=Ci(t.columns);var n=Si(t.columns);var r=t._calculateStickyWidths(n);t._removeStickyAttributes(i);t._setStickyClassAttributes(i);t._setStickyStyleAttributes(n,r,e);if(e)t._setStickyStyles(n,r)},_calculateStickyWidths:function(e,t,i){var n=this;var r;var a;var o;var s;var l;var d=k?"right":"left";var u=k?"left":"right";var c={left:new Array(e.length).fill(t?t:0),right:new Array(e.length).fill(i?i:0)};for(r=0;r<e.length-1;r++){a=e[r];o=n._sumColumnWidth(a);s=o+c[d][r];c[d][r+1]=s}for(r=e.length-1;r>0;r--){a=e[r];o=n._sumColumnWidth(a);l=o+c[u][r];c[u][r-1]=l}return c},_setStickyClassAttributes:function(e,t){var i=this;var n;var r;for(n=0;n<e.length;n++){r=e[n];if(r.columns){if(!t&&n)t=n;i._setStickyClassAttributes(Ei([r]),t)}if(t)xi(r,"headerAttributes","class",Ve);xi(r,"attributes","class",Ne);xi(r,"headerAttributes","class",Le);xi(r,"footerAttributes","class",Be)}},_setStickyStyleAttributes:function(e,t,i){var n=this;var r;var a;var o;var s;var l;var d;var u;for(r=0;r<e.length;r++){a=e[r];o=t.left[r];s=t.right[r];l="left: "+o+"px; right: "+s+"px;";if(a.columns){d=Ai([a]);u=n._calculateStickyWidths(d,o,s);n._setStickyStyleAttributes(d,u,i);if(i)n._setStickyStyles(d,u)}xi(a,"attributes","style",l);xi(a,"headerAttributes","style",l);xi(a,"footerAttributes","style",l);a.stickyStyle=l}},_removeStickyAttributes:function(e){var t=this;var i;var n=new RegExp("(\\s*"+Ne+")*","ig");var r=new RegExp("(\\s*"+Le+")*","ig");var a=new RegExp("(\\s*"+Be+")*","ig");var o=new RegExp("(\\s*"+Ve+")*","ig");var s;for(i=0;i<e.length;i++){s=e[i];if(s.columns)t._removeStickyAttributes(Ei([s]));u(s,"attributes","class",n);u(s,"attributes","style",Ct);u(s,"attributes","style",St);u(s,"headerAttributes","class",r);u(s,"headerAttributes","class",o);u(s,"headerAttributes","style",Ct);u(s,"headerAttributes","style",St);u(s,"footerAttributes","class",a);u(s,"footerAttributes","style",Ct);u(s,"footerAttributes","style",St)}},_setStickyStyles:function(e,t){var i=this;var n;var r;var a=U(B(i.columns));var o=i.tbody.children(":not(.k-detail-row)");var s;var l;var d;var u;var c;var f;var p;var h;var m;for(n=0;n<e.length;n++){l=e[n];u=t.left[n];c=t.right[n];d=a.indexOf(l);f=i._getColumnHeader(l);f.addClass(Le);if(l.headerAttributes["class"]&&l.headerAttributes["class"].indexOf(Ve)!==-1)f.addClass(Ve);wi(f,u,c);if(l.columns)continue;if(i.footer){p=i.footer.find(".k-grid-footer-wrap tr.k-footer-template").children().filter(":not(.k-group-cell,.k-hierarchy-cell)").eq(d);p.addClass(Be);wi(p,u,c)}for(r=0;r<o.length;r++){s=A(o[r]);if(s.hasClass("k-grouping-row")){h=s.find("."+l.groupHeaderColumnTemplateClass);h.addClass(Ne);wi(h,u,c)}else{m=s.children().filter(":not(.k-group-cell,.k-hierarchy-cell)").eq(d);m.addClass(Ne);wi(m,u,c)}}}},_removeStickyStyles:function(e){var t=this;var i;var n;var r=U(B(t.columns));var a=t.tbody.children(":not(.k-detail-row)");var o;var s;var l;var d;var u;var c;var f;for(i=0;i<e.length;i++){s=e[i];l=r.indexOf(s);d=t._getColumnHeader(s);d.removeClass(Le);d.removeClass(Ve);wi(d,"","");if(s.columns){t._removeStickyStyles(s.columns);continue}if(s.footerTemplate&&t.footer){u=t.footer.find(".k-grid-footer-wrap tr.k-footer-template").children().filter(":not(.k-group-cell,.k-hierarchy-cell)").eq(l);u.removeClass(Be);wi(u,"","")}for(n=0;n<a.length;n++){o=A(a[n]);if(o.hasClass("k-grouping-row")){c=o.find("."+s.groupHeaderColumnTemplateClass);c.removeClass(Ne);wi(c,"","")}else{f=o.children().filter(":not(.k-group-cell,.k-hierarchy-cell)").eq(l);f.removeClass(Ne);wi(f,"","")}}}},_getColumnHeader:function(e){var t=this;var i=A("#"+e.headerAttributes.id).length?A("#"+e.headerAttributes.id):A("#"+t._cellId);return i},_sumColumnWidth:function(e){var t=this;var i=0;if(e.columns)i=t._sumCurrentWidths(U([e]));else i=t._sumCurrentWidths([e]);return i},_sumCurrentWidths:function(e){var t=this;var i=0;var n=0;var r;var a;var o;var s=e.length;for(o=0;o<s;o++){r=e[o];a=t._getColumnHeader(r);if(!r.hidden&&Qt(r)){n=a.is(":visible")?a.outerWidth():r.width;i+=n?parseInt(n,10):0}}return i},_belongsToGrid:function(e){return this.wrapper[0]===e.closest(t)[0]},getSelectedData:function(){var e=this;var t=e.selectable.selectedRanges();var i=Object.keys(t);var n=e.selectable.selectedSingleItems();var r=[];var a=V(e.columns);for(var o=0;o<i.length;o++)r=r.concat(e._mapSelectionToData(t[i[o]],a));if(n.length)r=r.concat(e._mapSelectionToData(n,a));return r},exportSelectedToExcel:function(e){if(!F.excel||!F.ooxml)throw new Error("The excel export functionality depends on both kendo.excel.js and kendo.ooxml.js scripts, please make sure they are included.");var t=this;var i=this.options.excel||{};var n=V(t.columns);var r=new F.excel.ExcelExporter({});var a=function(){return{autoWidth:true}};var o={sheets:[{columns:Array.apply(0,Array(n.length)).map(a),rows:[],freezePane:{},filter:false}]};var s=t.selectable.selectedRanges();var l=Object.keys(s);var d=t.selectable.selectedSingleItems();var u;var c=[];var f=t._isLocked()&&L(t.columns).length;var p=bn.bind(t);for(u=0;u<l.length;u++)c=c.concat(t._mapSelectionToData(s[l[u]],n,kn));if(c.length)t._addRangeSelectionRows(o,r,c,e);c=d.length?t._mapSelectionToData(d,n,kn):[];if(c.length){if(f)c=c.sort(p);t._addSingleSelectionRows(o,r,c,e)}if(o.sheets[0].rows.length){var h=new F.ooxml.Workbook(o);if(!h.options)h.options={};h.options.skipCustomHeight=true;h.toDataURLAsync().then(function(e){F.saveAs({dataURI:e,fileName:o.fileName||i.fileName,proxyURL:i.proxyURL,forceProxy:i.forceProxy})})}},_addSingleSelectionRows:function(e,t,i,n){var r=0;var a=Di(this.columns);var o;for(r=0;r<i.length;r++){o=i[r];t.data=[o];this._setExporterColumns(t,a,o);this._createExportRows(e,t,n)}},_addRangeSelectionRows:function(e,t,i,n){var r=Di(this.columns);t.data=i;this._setExporterColumns(t,r,i[0]);this._createExportRows(e,t,n)},_createExportRows:function(e,t,i){e.sheets[0].rows=e.sheets[0].rows.concat(i?t._rows():t._dataRows(t.data,0))},_setExporterColumns:function(e,t,i){e.columns=e.options.columns=A.map(t.filter(function(e){return Object.keys(i).indexOf(e.field)>=0}),e._prepareColumn)},_mapSelectionToData:function(e,t,i){var n=this;var r=e[0][0].nodeName;var a=r==="TR";var o;var s={};var l;var d;var u;var c=function(e){var t={};if(!e.field||i&&!i(e))return;t[e.field]=o[e.field];return t};var f=n._isLocked()&&L(n.columns).length;var p;for(var h=0;h<e.length;h++){l=e[h];o=n.dataItem(a?l:l.parent());if(a)s[o.uid]=A.extend.apply(null,t.map(c));else{u=n._getCellField(l,f);if(!u)continue;d=s[o.uid];if(!d)d=s[o.uid]={};p=ni(t,u);if(!p||i&&!i(p))continue;d[u]=o[u]}}return Object.keys(s).map(function(e){s[e].uid=e;return s[e]})},_getCellField:function(e,t){var i=this;var n=t&&A.contains(i.lockedTable[0],e[0]);var r=F.attr("field");var a=F.attr("index");if(t)return i.element.find(".k-grid-header-"+(n?"locked":"wrap")+" th["+a+"='"+e.index()+"']").attr(r);else return i.thead.find("th["+a+"='"+e.index()+"']").attr(r)},_relatedRow:function(e){var t=this.lockedTable;e=A(e);if(!t)return e;var i=e.closest(this.table.add(this.lockedTable));var n=i.find(">tbody>tr").index(e);i=i[0]===this.table[0]?t:this.table;return i.find(">tbody>tr").eq(n)},_relatedCell:function(e){var t=this.lockedTable;e=A(e);if(!t)return e;var i=e.closest(this.table.add(this.lockedTable));var n=i.find(">tbody>tr>td").index(e);i=i[0]===this.table[0]?t:this.table;return i.find(">tbody>tr>td").index(n)},clearSelection:function(){var e=this;if(e.selectable&&!e._checkBoxSelection)e.selectable.clear();if(e._checkBoxSelection){e._deselectCheckRows(e.select());return}if(e.options.persistSelection)e._persistSelectedRows();else e._selectedIds={}},select:function(e){var t=this,i=t.selectable,n=F.ui.Selectable.parseOptions(this.options.selectable),r=n.cell;e=t.table.add(t.lockedTable).find(e);if(e.length){if(i&&!i.options.multiple){i.clear();e=e.first()}if(t._isLocked())e=e.add(e.map(function(){if(r)return t._relatedCell(this);else return t._relatedRow(this)}));if(i&&!t._checkBoxSelection)i.value(e);else{t._checkRows(e);if(t.select().length===t.items().length)t._toggleHeaderCheckState(true)}if(!r)t._persistSelectedRows();return}return i?i.value():t.items().filter("."+De)},_toggleHeaderCheckState:function(e){var t=this;if(e)t.thead.add(t.lockedHeader).find("tr "+Ae).prop("checked",true).attr("aria-checked",true).attr("aria-label","Deselect all rows");else t.thead.add(t.lockedHeader).find("tr "+Ae).prop("checked",false).attr("aria-checked",false).attr("aria-label","Select all rows")},_uncheckCheckBoxes:function(){var e=this;var t=e.table.add(e.lockedTable);t.find("tbody "+Ae).attr("aria-checked",false).prop("checked",false).attr("aria-label","Select row")},_deselectCheckRows:function(e){var t=this,i=F.attr("range-selected");e=t.table.add(t.lockedTable).find(e);if(t._isLocked())e=e.add(e.map(function(){return t._relatedRow(this)}));e.each(function(){A(this).removeClass(De).removeAttr(i).find(Ae).attr("aria-checked",false).prop("checked",false).attr("aria-label","Select row")});t._toggleHeaderCheckState(false);t._persistSelectedRows();t.trigger(p)},_checkRows:function(e){e.each(function(){A(this).addClass(De).find(Ae).prop("checked",true).attr("aria-label","Deselect row").attr("aria-checked",true)})},_persistSelectedRows:function(){var e=this,t,i,n=e.items(),r=e.dataSource.options,a=r.schema,o,s={};if(!a||!a.model||!e._data)return;o=$(a.model)?a.model.fn.idField:a.model.id;if(!o)return;if(!F.ui.Selectable.parseOptions(e.options.selectable).multiple&&!e._checkBoxSelection)e._selectedIds={};e.select().each(function(){i=e.dataItem(this);s[i[o]]=true});for(var l=0;l<n.length;l++){i=e.dataItem(n[l]);t=i[o];if(s[t])e._selectedIds[t]=true;else delete e._selectedIds[t]}},selectedKeyNames:function(){var e=this,t=[];for(var i in e._selectedIds)t.push(i);t.sort();return t},_updateCurrentAttr:function(e,t){var i=A(e).data("headerId");var n;var r;A(e).removeClass(Te);this.table.removeAttr("aria-activedescendant");if(i){i=i.replace(this._cellId,"");A(e).attr("id",i)}else A(e).removeAttr("id");n=t.attr("id");if(n!=this._cellId)t.data("headerId",n);if(!!n)r=n;else t.attr("id",this._cellId);t.addClass(Te);this.table.attr("aria-activedescendant",r||this._cellId);this._current=t},_scrollCurrent:function(){var e=this._current;var t=this.options.scrollable;if(!e||!t)return;var i=e.parent();var n=i.closest("table").parent();var r=n.is(".k-grid-content-locked,.k-grid-header-locked");var a=n.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap");var o=A(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0];if(a)if(this.virtualScroll){var s=Math.max(M(i[0],this._items(i.parent())),0);if(this.virtualScroll.rows){this._rowVirtualIndex=this.virtualScrollable.itemIndex(s);this.virtualScrollable.scrollIntoView(i)}else{this._rowVirtualIndex=s;this._scrollTo(this._relatedRow(i)[0],o)}}else this._scrollTo(this._relatedRow(i)[0],o);if(this.lockedContent)this.lockedContent[0].scrollTop=o.scrollTop;if(!r)this._scrollTo(e[0],o)},current:function(e){return this._setCurrent(e,true)},_setCurrent:function(e,t,i){var n=this._current;e=A(e);if(n&&e&&n.length&&e.length&&n.closest(".k-filter-row").length>0&&e.closest(".k-filter-row").length===0)this._filterFocusable().attr("tabindex",-1);if(e.length)if(!n||n[0]!==e[0]){var r=e.parent();var a=r.children(m);var o=parseInt(r.children().first().attr("colspan"),10);if(this._hasVirtualColumns())this._virtualCellIndex=(o>1?o:0)+a.index(e);this._updateCurrentAttr(n,e);if(!i)this._scrollCurrent();if(!t)this.trigger(Qe,{element:e})}if(e&&e.length)this._lastCellIndex=e.parent().children(m).index(e);this._updateSelctCheckbox(n,e);return this._current},_removeCurrent:function(){if(this._current){this._current.removeClass(Te);this._current=null}},_updateSelctCheckbox:function(e,t){var i;if(t&&t.length){i=t.find(".k-select-checkbox");if(i.length>0)i.focus();else if(e&&e.find(".k-select-checkbox").length>0)j(this.table,true)}},_scrollTo:function(e,t){var i=e.tagName.toLowerCase();var n=i==="td"||i==="th";var r=A(e).closest("table")[0];var a=e[n?"offsetWidth":"offsetHeight"];var o=t[n?"scrollLeft":"scrollTop"];var s=t[n?"clientWidth":"clientHeight"];var l=A(e).css("position")==="relative"&&k&&n?Math.abs(r.offsetLeft-e.offsetLeft):e[n?"offsetLeft":"offsetTop"];var d=l+a;var u=0;var c=0;var f=0;if(k&&n)if(z.msie||z.edge)c=r.offsetLeft;else if(z.mozilla||z.webkit&&z.version>85)f=r.offsetLeft-F.support.scrollbar();o=Math.abs(o+c-f);if(o>l)u=l;else if(d>o+s)if(a<=s)u=d-s;else u=l;else u=o;u=Math.abs(u+c)+f;t[n?"scrollLeft":"scrollTop"]=u},_navigatable:function(){var e=this;if(!e.options.navigatable)return;var t=e.table.add(e.lockedTable);var i=e.thead.parent().add(A(">table",e.lockedHeader));var n=t;if(e.options.scrollable)n=n.add(i);this._navigatableTables=n;this._headertables=i;n.off("mousedown"+_+" focus"+_+" focusout"+_+" keydown"+_);i.find("a.k-link").attr("tabIndex",-1);t.on("keydown"+_,".k-detail-cell",function(e){if(e.target!==e.currentTarget)e.stopImmediatePropagation()});n.on(F.support.touch?"touchstart"+_:"mousedown"+_,g+">"+C,on.bind(e)).on("focus"+_,e._tableFocus.bind(e)).on("focusout"+_,e._tableBlur.bind(e)).on("keydown"+_,e,e._tableKeyDown.bind(e));e._filterFocusable().on("focus",e._filterFocus.bind(e))},_filterFocus:function(e){var t=e.target.closest("th");this._filterFocusable().attr("tabindex",0);this._setCurrent(t);A(t).removeClass(Te)},_tableFocus:function(){var e=this.current();var t=this.lockedTable?this.lockedTable:this.table;if(e&&e.is(":visible"))e.addClass(Te);else if(this._virtualColScroll)this._setCurrent(t.find(g).first().children(C).first(),true,true);else this._setCurrent(t.find(g).first().children(C).first());this.table.attr(Ze,0)},_tableBlur:function(){var e=this.current();if(e)e.removeClass(Te)},_findCellIndex:function(e,t,i){var n;var r;if(i)for(r=t;r>=0;r--){n=r;if(!e[r].hidden)break}else for(r=t;r<e.length;r++){n=r;if(!e[r].hidden)break}return n},_scrollToColumn:function(e,t){if(this._virtualCellIndex===S)return false;var i=this;var n=i._virtualCellIndex;var r=U(B(i.columns));var a=0;if(e==(k?f.LEFT:f.RIGHT)&&n!==r.length-1)n=i._findCellIndex(r,n+1);else if(e==(k?f.RIGHT:f.LEFT)&&n)n=i._findCellIndex(r,n-1,true);else if(e==f.HOME)n=i._findCellIndex(r,0);else if(e==f.END)n=i._findCellIndex(r,r.length-1,true);for(var o=0;o<n;o++)a+=r[o].width;i._virtualCellIndex=n;if(t){t.preventDefault();t.stopPropagation()}F.scrollLeft(i.content,a);return true},_tableKeyDown:function(e){var t=this.current();var i=this.virtualScroll||{};var n=this.virtualScrollable&&this.virtualScrollable.fetching();var r=A(e.target);var a=!e.isDefaultPrevented()&&!r.is(":button,a,:input:not(.k-select-checkbox),a>.k-icon");if(e.altKey&&e.keyCode==f.DOWN){this.current().find(".k-grid-filter, .k-header-column-menu").click();e.stopImmediatePropagation();return}if(n){e.preventDefault();return}if(i.columns&&(!t||!document.body.contains(t[0]))&&this._scrollToColumn(e.keyCode,e))return;if(!t)t=A(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(g).first().children(C).first();if(!t.length)return;var o=false;if(a&&e.keyCode==f.UP)o=this._moveUp(t,e.shiftKey,e.ctrlKey);if(a&&e.keyCode==f.DOWN)o=this._moveDown(t,e.shiftKey,e.ctrlKey);if(a&&e.keyCode==(k?f.LEFT:f.RIGHT))o=this._moveRight(t,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget);if(a&&e.keyCode==(k?f.RIGHT:f.LEFT))o=this._moveLeft(t,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget);if(a&&e.keyCode==f.PAGEDOWN)o=this._handlePageDown();if(a&&e.keyCode==f.PAGEUP)o=this._handlePageUp();if(a&&e.keyCode==f.HOME)o=this._handleHome(t,e.ctrlKey);if(a&&e.keyCode==f.END)o=this._handleEnd(t,e.ctrlKey);if(a&&e.keyCode==f.SPACEBAR)o=this._handleSpaceKey(t,e.ctrlKey);if(e.keyCode==f.ENTER||e.keyCode==f.F2)o=this._handleEnterKey(t,e.currentTarget,r);if(e.keyCode==f.ESC)o=this._handleEscKey(t,e.currentTarget);if(e.keyCode==f.TAB)o=this._handleTabKey(t,e.currentTarget,e.shiftKey,r);if(o){e.preventDefault();e.stopPropagation()}},_moveLeft:function(e,t,i,n,r){var a,o;var s=e.parent();var l=s.parent();if(t)if(s.hasClass("k-grouping-row"))this.collapseGroup(s);else this.collapseRow(s);else if(n&&e.is(".k-header")&&this.options.reorderable)this._moveColumn(e,true);else{o=l.find(g).index(s);a=this._prevHorizontalCell(l,e,o);if(!a[0])if(i)if(this.lockedTable){a=this._relatedRow(s);if(A.contains(this.lockedTable[0],s[0]))a=a.prevAll(d).first();a=a.children(m).last()}else a=this._tabNext(e,r,true);else{l=this._horizontalContainer(l);a=this._prevHorizontalCell(l,e,o);if(a[0]!==e[0])j(this.table,true)}this._setCurrent(a)}return true},_moveRight:function(e,t,i,n,r){var a,o;var s=e.parent();var l=s.parent();if(t)if(s.hasClass("k-grouping-row"))this.expandGroup(s);else this.expandRow(s);else if(n&&e.is(".k-header")&&this.options.reorderable)this._moveColumn(e,false);else{o=l.find(g).index(s);a=this._nextHorizontalCell(l,e,o);if(!a[0])if(i)if(this.lockedTable){a=this._relatedRow(s);if(A.contains(this.table[0],s[0]))a=a.nextAll(d).first();a=a.children(m).first()}else a=this._tabNext(e,r,false);else{l=this._horizontalContainer(l,true);a=this._nextHorizontalCell(l,e,o);if(a[0]!==e[0])j(this.table,true)}this._setCurrent(a)}return true},_moveUp:function(e,t,i){var n=e.parent().parent();var r,a,o,s;if(t){r=e.parent();r=r.prevAll(d).first();r=e.parent().is(d)?r.children().eq(e.index()):r.children(m).last()}else if(i&&e.parent().is(d)&&this._hasReorderableRows()){a=e.index();r=e.parent();r=r.prevAll(d).first();o=this.tbody.children(d).index(r);s=this.tbody.children(d).index(e.parent());if(o>=0&&!this.trigger(Ye,{oldIndex:s,newIndex:o,row:e.parent()})){this.reorderRows(e.parent(),o);r=this.tbody.children(d).eq(o).children().eq(a)}}else{r=this._prevVerticalCell(n,e);if(!r[0]){this._lastCellIndex=0;n=this._verticalContainer(n,true);r=this._prevVerticalCell(n,e);if(r[0])j(this.table,true)}}var l=this._lastCellIndex||0;this._setCurrent(r);this._lastCellIndex=l;return true},_moveDown:function(e,t,i){var n=e.parent().parent();var r,a,o,s;if(t){r=e.parent();r=r.nextAll(d).first();r=e.parent().is(d)?r.children().eq(e.index()):r.children(m).first()}else if(i&&e.parent().is(d)&&this._hasReorderableRows()){a=e.index();r=e.parent();r=r.nextAll(d).first();o=this.tbody.children(d).index(r);s=this.tbody.children(d).index(e.parent());if(o>=0&&!this.trigger(Ye,{oldIndex:s,newIndex:o,row:e.parent()})){this.reorderRows(e.parent(),o+1);r=this.tbody.children(d).eq(o).children().eq(a)}}else{r=this._nextVerticalCell(n,e);if(!r[0]){this._lastCellIndex=0;n=this._verticalContainer(n);r=this._nextVerticalCell(n,e);if(r[0])j(this.table,true)}}var l=this._lastCellIndex||0;this._setCurrent(r);this._lastCellIndex=l;return true},_moveColumn:function(e,t){var i=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible");var n=E(fi(this.columns));var r=i.index(A(e));var a=t?-1:1;var o=n[r];var s=pi(n,this.columns,r,r+a);if(s>=0){this.reorderColumn(s,o,t);this.trigger(je,{newIndex:s,oldIndex:r,column:o})}},_handleHome:function(e,t){var i=e.parent();var n=i.parent();var r=this.lockedTable&&this.lockedTable.children("tbody")[0]===n[0];var a=n[0]===this.tbody[0];var o;if(this._hasVirtualColumns()){this._scrollToColumn(F.keys.HOME);return true}if(t)if(this.lockedTable)o=this.lockedTable.find(d).first().children(C).first();else o=this.table.find(d).first().children(C).first();else if(a||r){if(a&&this.lockedTable)i=this._relatedRow(i);o=i.children(m).first()}if(o&&o.length){this._setCurrent(o);return true}},_handleEnd:function(e,t){var i=e.parent();var n=i.parent();var r=this.lockedTable&&this.lockedTable.children("tbody")[0]===n[0];var a=n[0]===this.tbody[0];var o;if(this._hasVirtualColumns()){this._scrollToColumn(F.keys.END);return true}if(t)o=this.table.find(d).last().children(C).last();else if(a||r){if(!a&&this.lockedTable)i=this._relatedRow(i);o=i.children(m).last()}if(o&&o.length){this._setCurrent(o);return true}},_handlePageDown:function(){if(!this.options.pageable)return false;this.dataSource.page(this.dataSource.page()+1);return true},_handlePageUp:function(){if(!this.options.pageable)return false;this.dataSource.page(this.dataSource.page()-1);return true},_handleTabKey:function(e,t,i,n){var r=this.options.editable&&this._editMode()=="incell";var a,o;if(!r||e.is("th")||(this.options.scrollable?this._headertables.filter(t).length:this.thead.filter(n).length)){if(e.parent().hasClass("k-filter-row")){o=this._filterFocusable();if(!i&&o[o.length-1]===document.activeElement){o.first().trigger("focus");return true}else if(i&&o[0]===document.activeElement){o.last().trigger("focus");return true}}return false}a=A(c()).closest(".k-edit-cell");if(a[0]&&a[0]!==e[0])e=a;a=this._tabNext(e,t,i);if(a[0]===e[0])return false;if(a.length){this._handleEditing(e,a,a.closest("table"));return true}return false},_handleEscKey:function(e){var t=c();var i=this._editMode()=="incell";if(!un(e)){if(e.has(t).length){j(this.table,true);return true}if(e.parent().hasClass("k-filter-row")){this._filterFocusable().attr("tabindex",-1);j(this.table,true);return true}return false}if(i)this.closeCell(true);else{var n=A(e).parent().index();if(t)t.blur();this.cancelRow(true);if(n>=0)this._setCurrent(this.items().eq(n).children(C).first())}j(this.table,true);return true},_toggleCurrent:function(e,t,i){var n=e.parent();if(e.is(".k-command-cell"))return false;if(n.is(".k-grouping-row")){n.find(".k-icon").first().click();return true}if(!t&&i){n.find(".k-icon").first().click();return true}return false},_handleSpaceKey:function(e,t){var i=this;if(!t||!i.groupable||!e.hasClass("k-header"))return;var n=i.groupable.descriptors();var r=e.attr(F.attr("field"));var a=i.groupable.aggregates();var o;if(i.groupable._canDrag(e)){n.push({field:r,dir:"asc",aggregates:a||[]});o=i.options.messages.ungroupHeader}else{n=A.grep(n,function(e){return e.field!==r});o=i.options.messages.groupHeader}e.attr("title",o);i.dataSource.group(n);return true},_handleEnterKey:function(e,t,i){var n=this.options.editable&&this.options.editable.update!==false;var r=i.closest("td");var a=this._hasDetails();var o,s;if(!i.is("table")&&!A.contains(e[0],i[0]))e=r;if(e.is("th")){o=e.find(".k-link");if(e.has(A(c())).length>0)return false;else if(o.length)o.click();else if(e.parent().hasClass("k-filter-row")){s=this._filterFocusable();s.attr("tabindex",0);e.find(":kendoFocusable").first().focus()}else e.find(Ae).trigger("focus");return true}if(this._toggleCurrent(e,n,a))return true;var l=e.find(":kendoFocusable").first();if(l[0]&&!e.hasClass("k-edit-cell")&&e.hasClass("k-focus")){l.trigger("focus");return true}if(n&&!i.is(":button,.k-button,textarea")){if(!r[0])r=e;this._handleEditing(r,false,t);return true}return false},_nextHorizontalCell:function(e,t,i){var n=t.nextAll(m);if(!n.length){var r=e.find(g);var a=r.index(t.parent());if(a==-1){if(t.hasClass("k-header")){var o=[];ki([L(this.columns)[0]],Oi(r.eq(0).children(":visible").first()),o,0,0);if(o[i])return o[i][0];return t}if(t.parent().hasClass("k-filter-row"))return r.last().children(m).first();return r.eq(i).children(m).first()}}return n.first()},_prevHorizontalCell:function(e,t,i){var n=t.prevAll(m);if(!n.length){var r=e.find(g);var a=r.index(t.parent());if(a==-1){if(t.hasClass("k-header")){var o=[];var s=L(this.columns);ki([s[s.length-1]],Oi(r.eq(0).children().last()),o,0,0);if(o[i])return o[i][0];return t}if(t.parent().hasClass("k-filter-row"))return r.last().children(m).last();return r.eq(i).children(m).last()}}return n.first()},_currentDataIndex:function(e,t){var i=t.attr("data-index");if(!i)return S;var n=L(this.columns).length;if(n&&!e.closest("div").hasClass("k-grid-content-locked")[0])return i-n;return i},_prevVerticalCell:function(e,t){var i;var n=t.parent();var r=e.children(g);var a=r.index(n);var o=this._currentDataIndex(e,t);if(o||t.hasClass("k-header")){i=Pi(t);return i.eq(i.length-2)}o=Math.max(n.children(m).index(t),this._lastCellIndex||0);if(n.hasClass("k-filter-row"))return W(e).filter(Xt).eq(o);if(a==-1){if(this._hasVirtualColumns())o=this._virtualCellIndex;n=e.find("tr.k-filter-row:visible");if(!n[0]){if((this._hasDetails()||t.parent().find(".k-hierarchy-cell").length)&&o)o--;return W(e).filter(Xt).eq(o)}}else n=a===0?A():r.eq(a-1);i=n.children(m);if(i.length>o)return i.eq(o);return i.eq(0)},_nextVerticalCell:function(e,t){var i;var n=t.parent();var r=e.children(g);var a=r.index(n);var o=this._currentDataIndex(e,t);var s=this.virtualScroll||{};var l;if(a!=-1&&o===S&&t.hasClass("k-header"))return Oi(t).eq(1);o=o?parseInt(o,10):n.children(m).index(t);o=Math.max(o,this._lastCellIndex||0);if(a==-1){n=r.eq(0);if(s.columns){l=parseInt(n.children().first().attr("colspan"),10);o=this._virtualCellIndex-(l>1?l:0)}if(this._hasDetails()||n.find(".k-hierarchy-cell").length)o++}else n=r.eq(a+t[0].rowSpan);var d=o;if(this._currentDataIndex(e,t)!==S){var u=n.children(":not(.k-group-cell):not(.k-hierarchy-cell)");var c=u.filter(":hidden");for(var f=0,p=c.length;f<p;f++)if(u.index(c[f])<o)d--}o=d;i=n.children(m);if(i.length>o)return i.eq(o);return i.eq(0)},_verticalContainer:function(e,t){var i=e.parent();var n=this._navigatableTables.length;var r=Math.floor(n/2);var a=M(i[0],this._navigatableTables);if(t)r*=-1;a+=r;if(a>=0||a<n)i=this._navigatableTables.eq(a);return i.find(t?">thead":">tbody")},_filterFocusable:function(){return this.wrapper.find(".k-filter-row").find(".k-dropdownlist, .k-input .k-input-inner:visible, input[type='radio']:visible, input[type='checkbox']:visible")},_horizontalContainer:function(e,t){var i=this._navigatableTables.length;if(i<=2)return e;var n=e.parent();var r=M(n[0],this._navigatableTables);r+=t?1:-1;if(t&&(r==2||r==i))return e;if(!t&&(r==1||r<0))return e;return this._navigatableTables.eq(r).find("thead, tbody")},_tabNext:function(e,t,i){var n=true;var r=i?e.prevAll(m).first():e.nextAll(":visible").first();if(!r.length){r=e.parent();if(this.lockedTable){n=i&&t==this.lockedTable[0]||!i&&t==this.table[0];r=this._relatedRow(r)}if(n){if(this._hasVirtualColumns())return e;r=r[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible").first()}if(i)r=r.children(m).last();else r=r.children(m).first()}return r},_handleEditing:function(e,t,i){var n=this,r=A(c()),a=n._editMode(),o=z.msie,s=n._editContainer,l,d=n.options.editable&&n.options.editable.update!==false,u;i=A(i);if(a=="incell")u=e.hasClass("k-edit-cell");else u=e.parent().hasClass("k-grid-edit-row");if(n.editable){if(A.contains(s[0],r[0])){r.trigger("blur");if(o)r.trigger("blur")}if(!n.editable){j(n.table);return}if(n.editable.end())if(a=="incell")n.closeCell();else{n.saveRow();u=true}else{if(a=="incell")n._setCurrent(s);else n._setCurrent(s.children().filter(m).first());l=s.find(":kendoFocusable").first()[0];if(l)l.focus();return}}if(t)n._setCurrent(t);j(n.table,true);if(!d)return;if(!u&&!t||t)if(a===at){if(!A(n.current()).hasClass(Z))n.editCell(n.current())}else n.editRow(n.current().parent())},_wrapper:function(){var e=this,t=e.table,i=e.options.height,n=e.options.width,r=e.element;if(!r.is("div"))r=r.wrap("<div/>").parent();e.wrapper=r.addClass("k-grid k-widget k-grid-display-block");if(i){e.wrapper.css(Je,i);t.css(Je,"auto")}if(n)e.wrapper.css("width",n);e._initMobile()},_initMobile:function(){var e=this.options;var t=this;this._isMobile=e.mobile===true&&F.support.mobileOS||e.mobile==="phone"||e.mobile==="tablet";if(this._isMobile){var i=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+F.ns+'stretch="true" data-'+F.ns+'role="view" '+"data-"+F.ns+'init-widgets="false"></div>').parent();this.pane=this._createPane(i);this.view=this.pane.view();if(e.height)this.pane.element.parent().css(Je,e.height);else this.pane.element.parent().css(Je,this.wrapper[0].style.height);this._editAnimation="slide";t.wrapper.on("transitionend"+_,function(e){e.stopPropagation()});t.wrapper.on("contextmenu"+_,"th a",function(e){e.preventDefault();return false});this.view.bind("showStart",function(){if(t._isLocked()){t._updateTablesWidth();t._applyLockedContainersWidth();t._syncLockedContentHeight();t._syncLockedHeaderHeight();t._syncLockedFooterHeight()}})}},_createPane:function(e){var t=F.Pane.wrap(e,{viewEngine:{viewOptions:{renderOnInit:true,wrap:false,wrapInSections:true,detachOnHide:false,detachOnDestroy:false}}});return t},_tbody:function(){var e=this,t=e.table,i;i=t.find(">tbody");if(!i.length)i=A("<tbody/>").appendTo(t);e.tbody=i},_scrollable:function(){var i=this,e,t,n=i.options,r=n.scrollable,a=r!==true&&r.virtual,o=a?ln(r.virtual):null,s=!F.support.kineticScrollNeeded||o&&o.rows?F.support.scrollbar():0,l;if(r){e=i.wrapper.children(".k-grid-header");if(!e[0])e=A('<div class="k-grid-header" />').insertBefore(i.table);e.css(k?"padding-left":"padding-right",r.virtual?s+1:s);t=A('<table role="none"/>');t.width(i.table[0].style.width);t.append(i.thead);e.empty().append(A('<div class="k-grid-header-wrap k-auto-scrollable" />').append(t));i.content=i.table.parent();i.virtualScroll=o;if(i.content.is(".k-virtual-scrollable-wrap, "+I+Mt.scrollContainer))i.content=i.content.parent();if(!i.content.is(".k-grid-content, .k-virtual-scrollable-wrap"))i.content=i.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent();if(o&&o.rows&&!i.virtualScrollable)i._createVirtualScrollable();if(o&&o.columns)i.table.css({width:mi(V(Ti(i.columns)))});l=e.children(".k-grid-header-wrap");i.scrollables=l.add(i.content);var d=i.wrapper.find(".k-grid-footer");if(d.length)i.scrollables=i.scrollables.add(d.children(".k-grid-footer-wrap"));l.off("scroll"+_).on("scroll"+_,function(e){if(i._scrollLeft!==this.scrollLeft)F.scrollLeft(i.scrollables.not(e.currentTarget),this.scrollLeft)});if(o&&o.rows)i.content.find(">.k-virtual-scrollable-wrap").off("scroll"+_).on("scroll"+_,function(){var e=this.scrollLeft!=i._scrollLeft;i._scrollLeft=this.scrollLeft;F.scrollLeft(i.scrollables,this.scrollLeft);if(i.lockedContent)i.lockedContent[0].scrollTop=this.scrollTop;if(o.columns&&e)i.refresh()});else{var u=r.endless;var c=i.dataSource.options.pageSize;if(u)i._endlessPageSize=c;i.content.off("scroll"+_).on("scroll"+_,function(e){var t=this.scrollLeft!=i._scrollLeft;i._scrollLeft=this.scrollLeft;F.scrollLeft(i.scrollables.not(e.currentTarget),i._scrollLeft);if(i.lockedContent&&e.currentTarget==i.content[0])i.lockedContent[0].scrollTop=this.scrollTop;if(u)if(this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!i._endlessFetchInProgress&&i._endlessPageSize<i.dataSource.total()){i._skipRerenderItemsCount=i._endlessPageSize;i._endlessPageSize=i._endlessPageSize+c;i.dataSource.options.endless=true;i._endlessFetchInProgress=true;i.dataSource.pageSize(i._endlessPageSize)}if(o&&o.columns&&t){i._virtualColScroll=true;i._cacheEditableState();i.refresh();i._restoreEditableState();i._virtualColScroll=false}});var f=i.content.data("kendoTouchScroller");if(f)f.destroy();f=F.touchScroller(i.content);if(f&&f.movable){i.touchScroller=f;f.movable.bind("change",function(e){F.scrollLeft(i.scrollables,-e.sender.x);if(i.lockedContent)i.lockedContent.scrollTop(-e.sender.y)});i.one(ge,function(e){e.sender.wrapper.addClass("k-grid-backface")})}}}},_createVirtualScrollable:function(){var e=this;if(e.virtualScrollable)e.virtualScrollable.destroy();e.virtualScrollable=new zt(e.content,{dataSource:e.dataSource,itemHeight:function(){return e._averageRowHeight()},page:function(){e._restoreEditableState()},scroll:function(){e._focusEditable()},loadStart:function(){e._progress(true)},loadEnd:function(){e._progress(false)}});e.virtualScrollable.bind(we,e._onVirtualPaging.bind(e))},_onVirtualPaging:function(){var e=this;e._cacheEditableState();if(e._isVirtualIncellEditable()){e._shouldClearEditableState=false;e.closeCell();e._shouldClearEditableState=true}},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&this._editMode()===ot},_isVirtualIncellEditable:function(){return this.virtualScrollable&&this._editMode()===at},_isVirtualPopupEditable:function(){return this.virtualScrollable&&this._editMode()==="popup"},_hasVirtualColumns:function(){return(this.virtualScroll||{}).columns?true:false},_scrollVirtualWrapper:function(){var e=this;var t=e.virtualScrollable;if(e._isVirtualInlineEditable()||e._isVirtualIncellEditable())if(t._isScrolledToBottom())t._scrollWrapperToBottom();else if(t._isScrolledToTop())t._scrollWrapperToTop()},_scrollVirtualWrapperOnColumnResize:function(){var e=this.virtualScrollable;if(e)e._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var e=this;var t=e._editableState||{};var i=t.model;var n=e.dataSource;var r=e._isVirtualInlineEditable();var a=e._isVirtualIncellEditable();var o=e._hasVirtualColumns();var s;var l;if((r||a||o)&&i&&n._getByUid(i.uid,n.view()))if(e._editMode()===ot){e._shouldClearEditableState=false;e.editRow(i);if(!o)e._focusEditable()}else if(e._editMode()===at){s=e.tbody.children(Rt(st,i.uid));l=A(s).children(Rt(nt,t.field));if(l[0]){e._shouldClearEditableState=false;e.editCell(l);if(!o)e._focusEditable()}}e._shouldClearEditableState=true},_focusEditable:function(){var e=this;var t=(e._editableState||{}).field;var i=e._editContainer;if(i&&i.length&&!Q(i[0],c())&&e._canFocusEditable())if(e._isVirtualInlineEditable()||e._hasVirtualColumns())i.find(Rt(it,t)).find(Ie).eq(0).trigger("focus");else if(e._isVirtualIncellEditable()||e._hasVirtualColumns())i.find(Ie).eq(0).trigger("focus")},_canFocusEditable:function(){var e=this;var t=(e._isVirtualIncellEditable()||e._isVirtualInlineEditable()||e._hasVirtualColumns())&&(dn((e.virtualScrollable||{}).wrapper,e._editContainer)||dn(e.content,e._editContainer));return t},_cacheEditableState:function(){var e=this;var t=e._editContainer;var i=t?e._modelForContainer(t):null;var n=e._isVirtualInlineEditable();var r=e._isVirtualIncellEditable();var a=e._hasVirtualColumns();var o;var s;if((n||r||a)&&i){e._clearEditableState();o=A(c());if(t&&o[0]&&Q(t[0],o[0])){o.change();s=F.widgetInstance(o,F.ui);if(s&&$(s.value)&&o.is(rt)){s.value(o.val());s.trigger(p)}}if(e._editMode()===ot)e._editableState={model:i,field:o.closest("["+F.attr(it)+"]").attr(F.attr(it))};else if(e._editMode()===at)e._editableState={model:i,field:t.attr(F.attr(nt))}}},_clearSortClasses:function(){var e=this,t=e.content||e.table,i=e.lockedContent;if(t)t.find(ee).removeClass(Me);if(i)i.find(ee).removeClass(Me)},_clearEditableState:function(){var e=this;if(e.virtualScrollable||e.virtualScroll&&e._hasVirtualColumns())e._editableState=null},_destroyVirtualScrollable:function(){var e=this;e._clearEditableState();if(e.virtualScrollable&&e.virtualScrollable.element)e.virtualScrollable.destroy();e.virtualScrollable=null},_renderNoRecordsContent:function(){var e=this;if(e.options.noRecords){var t=e.table.parent().children("."+Fe);if(t.length){e.angular("cleanup",function(){return{elements:t.get()}});t.remove()}if(!e.dataSource||!e.dataSource.view().length){t=A(e.noRecordsTemplate({})).insertAfter(e.table);e.angular("compile",function(){return{elements:t.get(),data:[{}]}})}}},_setContentWidth:function(e){var t=this,i="k-grid-content-expander",n='<div class="'+i+'"></div>',r=t.resizable,a;if(t.options.scrollable&&t.wrapper.is(":visible")){a=t.table.parent().children("."+i);t._setContentWidthHandler=t._setContentWidth.bind(t);if(!t.dataSource||!t.dataSource.view().length){if(!a[0]){a=A(n).appendTo(t.table.parent());if(r)r.bind("resize",t._setContentWidthHandler)}if(t.thead){a.width(t.thead.width());if(!isNaN(parseFloat(e,10)))F.scrollLeft(t.content,e)}}else if(a[0]){a.remove();if(r)r.unbind("resize",t._setContentWidthHandler)}t._applyLockedContainersWidth();t._syncLockedContentHeight();if(t.lockedHeader&&t.table[0].clientWidth===0)t.table[0].style.width="1px"}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e=this.thead.parent(),t=e.parent(),i=this.wrapper[0].clientWidth,n=this._groups(),r=F.support.scrollbar(),a=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),o=e.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),s=gi(a),l=gi(o),d;if(n>0)s+=H(this.lockedHeader.find(".k-group-cell").first())*n;if(s>=i)s=i-3*r;this.lockedHeader.add(this.lockedContent).width(s);t[0].style.width=t.parent().width()-s-2+"px";e.add(this.table).width(l);if(this.virtualScrollable&&!Pt)i-=r;this.content[0].style.width=i-s-1+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(s);d=this.footer.find(".k-grid-footer-wrap");d[0].style.width=t[0].clientWidth+"px";d.children().first().width(l)}}},_setContentHeight:function(){var e=this,t=e.options,i,n=e.wrapper.children(".k-grid-header"),r=F.support.scrollbar();var a=(t.scrollable||{}).height;if(t.scrollable&&e.wrapper.is(":visible")){if(a&&e.content[0].style.height==="")e.content[0].style.height=a;i=e.wrapper.innerHeight();i-=b(n);if(e.pager&&e.pager.element.is(":visible"))i-=b(e.pager.element);if(t.groupable)i-=b(e.wrapper.children(".k-grouping-header"));if(t.toolbar)i-=b(e.wrapper.children(".k-grid-toolbar"));if(e.footerTemplate)i-=b(e.wrapper.children(".k-grid-footer"));var o=function(e){var t,i;if(e[0].style.height)return true;else t=e.height();e.height("auto");i=e.height();if(t!=i){e.height("");return true}e.height("");return false};if(o(e.wrapper))if(i>r*2){if(e.lockedContent){r=e.table[0].offsetWidth>e.table.parent()[0].clientWidth?r:0;e.lockedContent.height(i-r)}e.content.height(i)}else e.content.height(r*2+1)}},_averageRowHeight:function(){var e=this,t=e._items(e.tbody,true).length,i=e._rowHeight;if(t===0)return i;if(!e._rowHeight){e._rowHeight=i=b(e.table)/t;e._sum=i;e._measures=1}var n=b(e.table)/t;if(i!==n){e._measures++;e._sum+=n;e._rowHeight=e._sum/e._measures}return i},_dataSource:function(){var e=this,t=e.options,i,n=t.dataSource;n=G(n)?{data:n}:n;if(P(n)){T(n,{table:e.table,fields:e.columns});i=t.pageable;if(P(i)&&i.pageSize!==S)n.pageSize=i.pageSize}if(e.dataSource&&e._refreshHandler)e.dataSource.unbind(p,e._refreshHandler).unbind(X,e._progressHandler).unbind(J,e._errorHandler).unbind(ft,e._sortHandler);else{e._refreshHandler=e.refresh.bind(e);e._progressHandler=e._requestStart.bind(e);e._errorHandler=e._error.bind(e);e._sortHandler=e._clearSortClasses.bind(e)}e.dataSource=y.create(n).bind(p,e._refreshHandler).bind(X,e._progressHandler).bind(J,e._errorHandler).bind(ft,e._sortHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(e){var t=this,i=t.tbody,n=e.model,r=t.tbody.find("tr["+F.attr("uid")+"="+n.uid+"]"),a,o,s,l=r.hasClass("k-alt"),d,u=t._items(i).index(r),c=t.lockedContent,f,p,h,m,g;if(c)a=t._relatedRow(r);if(r.add(a).children(".k-edit-cell").length&&!t.options.rowTemplate)r.add(a).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){o=A(this);s=U(t.columns)[t._calculateColumnIndex(o)];if(s.field===e.field)if(!o.hasClass("k-edit-cell"))t._displayCell(o,s,n);else o.addClass("k-dirty-cell")});else if(!r.hasClass("k-grid-edit-row")){p=A().add(r);if(c){d=(l?t.lockedAltRowTemplate:t.lockedRowTemplate)(n);p=p.add(a);a.replaceWith(d)}t.angular("cleanup",function(){return{elements:p.get()}});d=(l?t.altRowTemplate:t.rowTemplate)(n);r.replaceWith(d);d=t._items(i).eq(u);var v=[{dataItem:n}];if(c){r=r.add(a);a=t._relatedRow(d)[0];Ji(d[0],a);d=d.add(a);v.push({dataItem:n})}t.angular("compile",function(){return{elements:d.get(),data:v}});f=t.options.selectable;if((f||t._checkBoxSelection)&&r.hasClass("k-selected"))t.select(d);m=p.children(":not(.k-group-cell,.k-hierarchy-cell)");h=d.children(":not(.k-group-cell,.k-hierarchy-cell)");for(u=0,g=t.columns.length;u<g;u++){s=t.columns[u];o=h.eq(u);if(f&&m.eq(u).hasClass("k-selected"))o.addClass("k-selected")}t.trigger("itemChange",{item:d,data:n,ns:x})}},_pageable:function(){var t=this,e,i=t.options.pageable,n=t.options.navigatable;if(i){e=t.wrapper.children("div.k-grid-pager");if(!e.length)e=A('<div class="k-pager-wrap k-grid-pager"/>');if(i.position==="top")e.prependTo(t.wrapper).addClass("k-grid-pager-top");else e.appendTo(t.wrapper);if(t.pager)t.pager.destroy();if(typeof i==="object"&&i instanceof F.ui.Pager)t.pager=i;else if(t.dataSource._groupPaging)t.pager=new r(e,T({},i,{dataSource:t.dataSource,navigatable:n}));else t.pager=new F.ui.Pager(e,T({},i,{dataSource:t.dataSource,navigatable:n}));t.pager.bind("pageChange",function(e){if(t.trigger("page",{page:e.index}))e.preventDefault()});t._togglePagerVisibility()}},_footer:function(){var e=this,t=e.dataSource.aggregates(),i="",n=e.footerTemplate,r=e.options,a,o=e.footer||e.wrapper.find(".k-grid-footer");if(n){i=A(e._wrapFooter(n(t)));if(o.length){var s=i;e.angular("cleanup",function(){return{elements:o.get()}});o.replaceWith(s);o=e.footer=s}else if(r.scrollable)o=e.footer=r.pageable&&r.pageable.position!=="top"?i.insertBefore(e.wrapper.children("div.k-grid-pager")):i.appendTo(e.wrapper);else o=e.footer=i.insertAfter(e.tbody);e.angular("compile",function(){return{elements:o.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:q(e.columns,function(e){return{column:e,aggregate:t[e.field]}})}})}else if(o&&!e.footer)e.footer=o;if(o.length){if(r.scrollable){a=o.attr("tabindex",-1).children(".k-grid-footer-wrap");e.scrollables=A(e.scrollables.filter(function(){return!A(this).is(".k-grid-footer-wrap")}).toArray()).add(a)}if(e._footerWidth)o.find("table").css("width",e._footerWidth);if(a){var l=F.scrollLeft(e.content);if(r.scrollable!==true&&e.virtualScroll&&e.virtualScroll.rows)l=F.scrollLeft(e.wrapper.find(".k-virtual-scrollable-wrap"));F.scrollLeft(a,l)}}if(e.lockedContent){e._appendLockedColumnFooter();e._applyLockedContainersWidth();e._syncLockedFooterHeight()}},_wrapFooter:function(e){var t=this,i="",n=!F.support.mobileOS?F.support.scrollbar():0;if(t.options.scrollable){i=A('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table><tfoot>'+e+"</tfoot></table></div></div>");t._appendCols(i.find("table"));i.css(k?"padding-left":"padding-right",n);return i}return'<tfoot class="k-grid-footer">'+e+"</tfoot>"},_columnMenu:function(){var t=this,e,i=U(t.columns),n,r=t.options,a=r.columnMenu,o,s,l,d,u=O(t.columns,function(e){return e.columns!==S}).length>0,c=O(t.columns,function(e){return e.lockable!==false}).length>0,f=O(t.columns,function(e){return e.stickable===true}).length>0,p=this._isMobile,h=function(e){t.trigger(ue,{field:e.field,container:e.container})},m=function(e){t.trigger(fe,{field:e.field,container:e.container})},g=function(){j(t.table,true)},v=function(e){t.trigger(Ke,{column:e.column})},_=function(e){t.trigger($e,{column:e.column})},b=function(e){if(t.trigger("sort",{sort:e.sort}))e.preventDefault();else{t._clearEditableState();if(t.dataSource.options.endless)t._resetEndless()}},k=function(e){if(t.trigger("filter",{filter:e.filter,field:e.field}))e.preventDefault();else{t._clearEditableState();if(t.dataSource.options.endless)t._resetEndless()}},w=r.$angular;if(a){if(typeof a=="boolean")a={};t._setColumnsMediaVisibility(i);d=W(t.thead);for(var y=0,x=d.length;y<x;y++){n=i[y];var C=d.eq(y);if(n.columnMenu!==false&&!n.command&&(n.field||C.attr("data-"+F.ns+"field"))){e=C.data("kendoColumnMenu");if(e)e.destroy();s=n.sortable!==false&&a.sortable!==false&&r.sortable!==false?T({},r.sortable,{compare:(n.sortable||{}).compare}):false;l=r.filterable&&n.filterable!==false&&a.filterable!==false?T({pane:t.pane},r.filterable,n.filterable):false;if(n.filterable&&n.filterable.dataSource){l.forceUnique=false;l.checkSource=n.filterable.dataSource}if(l)l.format=n.format;o={dataSource:t.dataSource,values:n.values,columns:a.columns,sortable:s,filterable:l,messages:a.messages,owner:t,closeCallback:g,init:h,open:m,stick:v,unstick:_,pane:t.pane,sort:b,filtering:k,filter:p?":not(.k-column-active)":"",hasLockableColumns:L(i).length>0&&c&&!u,hasStickableColumns:f&&!u,encodeTitles:t.options.encodeTitles,componentType:a.componentType,appendTo:I+Mt.headerCellInner};if(w)o.$angular=w;C.kendoColumnMenu(o)}}}},_headerCells:function(){return A(this.thead).find("th").filter(function(){var e=A(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")})},_hasFilterMenu:function(){var e=this.options.filterable;if(e&&typeof e.mode==D&&e.mode.indexOf("menu")==-1)return false;return e},_filterable:function(){var t=this,e=U(t.columns),i,n,r,a=function(e){t.trigger(de,{field:e.field,container:e.container})},o=function(){j(t.table,true)},s=function(e){if(t.trigger("filter",{filter:e.filter,field:e.field}))e.preventDefault();else{t._clearEditableState();if(t.dataSource.options.endless)t._resetEndless()}},l=function(e){t.trigger(ce,{field:e.field,container:e.container})},d=t._hasFilterMenu();if(d&&!t.options.columnMenu){n=W(t.thead);for(var u=0,c=n.length;u<c;u++){r=n.eq(u);if(e[u].filterable!==false&&!e[u].command&&(e[u].field||r.attr("data-"+F.ns+"field"))){i=r.data("kendoFilterMenu");if(i)i.destroy();i=r.data("kendoFilterMultiCheck");if(i)i.destroy();var f=e[u].filterable;var p=T({},d,f,{dataSource:t.dataSource,values:e[u].values,format:e[u].format,closeCallback:o,title:e[u].title||e[u].field,init:a,open:l,pane:t.pane,change:s,appendTo:I+Mt.headerCellInner});if(f&&f.messages)p.messages=T(true,{},d.messages,f.messages);if(f&&f.dataSource){p.forceUnique=false;p.checkSource=f.dataSource}if(f&&f.multi)r.kendoFilterMultiCheck(p);else r.kendoFilterMenu(p)}}}},_filterRow:function(){var t=this;if(!t._hasFilterRow())return;var e;var i=t.options.$angular;var n=U(t.columns),r=t.options.filterable,a=t.thead.find(".k-filter-row"),o=function(e){if(t.trigger("filter",{filter:e.filter,field:e.field}))e.preventDefault();else{t._clearEditableState();if(t.dataSource.options.endless)t._resetEndless()}};this._updateHeader(this.dataSource.group().length);for(var s=0;s<n.length;s++){var l,d=n[s],u=t.options.filterable.operators,c=false,f=A("<td title='"+t.options.messages.filterCellTitle+"'/>"),p=d.field;if(d.hidden)f.hide();a.append(f);if(p&&d.filterable!==false){var h=d.filterable&&d.filterable.cell||{};l=t.options.dataSource;if(l instanceof y)l=t.options.dataSource.options;var m=T(true,{},r.messages);if(d.filterable)T(true,m,d.filterable.messages);if(h.enabled===false){f.html("&nbsp;");continue}if(h.dataSource){l=h.dataSource;c=true}if(d.filterable&&d.filterable.operators)u=d.filterable.operators;e={column:d,dataSource:t.dataSource,suggestDataSource:l,customDataSource:c,field:p,messages:m,values:d.values,template:h.template,delay:h.delay,inputWidth:h.inputWidth,suggestionOperator:h.suggestionOperator,minLength:h.minLength,dataTextField:h.dataTextField,operator:h.operator,operators:u,showOperators:h.showOperators,change:o};if(i)e.$angular=i;A("<span/>").attr(F.attr("field"),p).appendTo(f).kendoFilterCell(e)}else f.html("&nbsp;");f.data("column",d)}this._filterFocusable().attr("tabindex",-1)},_sortable:function(){var t=this,e=U(t.columns),i,n,r,a=t.options.sortable,o=function(e){if(t.trigger("sort",{sort:e.sort}))e.preventDefault();else t._clearEditableState()};if(a){var s=W(t.thead);for(var l=0,d=s.length;l<d;l++){i=e[l];if(i.sortable!==false&&!i.command&&i.field){r=s.eq(l);n=r.data("kendoColumnSorter");if(n)n.destroy();r.attr("data-"+F.ns+"field",i.field).kendoColumnSorter(T({},a,i.sortable,{dataSource:t.dataSource,aria:true,filter:":not(.k-column-active)",change:o}))}}s=null}},_columns:function(e){var t=this,i=t.table,n,u=i.find("col"),r,a=t.element.find("thead tr"),o=t.options.dataSource,s;e=e.length?e:q(i.find("th:not(.k-group-cell):not(.k-hierarchy-cell)"),function(e,t){e=A(e);var i=e.attr(F.attr("sortable")),n=e.attr(F.attr("filterable")),r=e.attr(F.attr("type")),a=e.attr(F.attr("groupable")),o=e.attr(F.attr("field")),s=e.attr(F.attr("title")),l=e.attr(F.attr("column-menu")),d=e.attr(F.attr("menu"));if(!o)o=e.text().replace(/\s|[^A-z0-9]/g,"");return{field:o,type:r,title:s,sortable:i!=="false",filterable:n!=="false",groupable:a!=="false",menu:d!=="false",columnMenu:l!=="false",template:e.attr(F.attr("template")),width:u.eq(t).css("width")}});n=!(t.table.find("tbody tr").length>0&&(!o||!o.transport));if(t.options.scrollable){var l=e;r=L(e);e=B(e);if(r.length>0&&e.length===0)throw new Error("There should be at least one non locked column");Bi(t.element.find("tr:has(th)").first(),l);e=r.concat(e)}if(a.length&&e.length)t._updateColumnIDs(e,a.first());t.columns=Wt(e,n);if(A.grep(U(t.columns),function(e){return e.selectable}).length){t._selectedIds={};t._checkBoxSelection=true;t.wrapper.on(v+_,"tbody > tr "+Ae,t._checkboxClick.bind(t));t.wrapper.on(v+_,"thead > tr "+Ae,t._headerCheckboxClick.bind(t))}s=A.grep(U(t.columns),function(e){return e.draggable});if(s.length){t._hasDragHandleColumn=true;for(var d=0;d<s.length;d++)s[d].headerAttributes=A.extend({"aria-label":t.options.messages.dragHandleLabel},s[d].headerAttributes)}t._foreignKeyBindings(t.columns)},_foreignKeyBindings:function(e){var t=this;var i=e.length;var n;for(var r=0;r<i;r++){n=e[r];if(n.dataSource)t._fetchForeignKeyValues(n)}},_fetchForeignKeyValues:function(t){var e=this;var i=A.Deferred();e._hasBoundForeignKey=true;t.dataSource=y.create(t.dataSource);if(!e._foreignKeyPromises)e._foreignKeyPromises=[];e._foreignKeyPromises.push(i);t.dataSource.fetch().then(function(){var e=t.dataSource.data();t.values=e.map(function(e){return{value:e[t.dataValueField],text:e[t.dataTextField]}});i.resolve()})},_updateColumnIDs:function(e,t){if(!e.length)return;var i=t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)");var n;for(var r=0;r<e.length;r++){n=i.eq(r).attr("id");if(n)e[r].headerAttributes=T(e[r].headerAttributes,{id:n})}this._updateColumnIDs(Ei(e),t.next())},_headerCheckboxClick:function(e){var t=this,i=A(e.target),n=i.prop("checked");if(!t._belongsToGrid(i))return;if(n)t.select(t.items());else t.clearSelection()},_checkboxClick:function(e){var t=this,i=A(e.target).closest("tr"),n=!i.hasClass(De);if(!t._belongsToGrid(i))return;if(n){t.select(i);t.trigger(p)}else t._deselectCheckRows(i)},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t,i,n){var r=this,a=T({},F.Template,r.options.templateSettings),o=a.paramName,s,l=t.length,d,u={storage:{},count:0},c,f,p=r._hasDetails(),h=[],m=r._groups();var g=F.attr("field");var v;var _="";var b;if(!e){e="<tr";if(i)h.push("k-alt");h.push("k-master-row");if(h.length)e+=' class="'+h.join(" ")+'"';if(l)e+=" "+F.attr("uid")+'="#='+F.expr("uid",a.paramName)+'#"';e+=">";if(m>0&&!n)e+=Nt(m);if(p)e+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+kt+'="'+bt+'" tabindex="-1"></a></td>';for(s=0;s<l;s++){c=t[s];d=c.template;f=typeof d;v=c.field;if(r._editMode()===at&&v){c.attributes=c.attributes||{};if(r.virtualScroll)c.attributes[g]=v;_=r._dirtyCellTemplate(v,o);c.attributes["class"]=c.attributes["class"]||"";if(c.attributes["class"].indexOf(_)<0)c.attributes["class"]+=_}if(c.colSpan&&c.colSpan>0&&Ri(c.attributes))c.attributes=Ni(c.attributes);else if(!c.colSpan&&c.hidden)c.attributes=zi(c.attributes);if(c.command){c.attributes=c.attributes||{};b=c.attributes["class"];if(typeof b!=="undefined"){if(b.indexOf("k-command-cell")<0)c.attributes["class"]+=" k-command-cell"}else c.attributes["class"]="k-command-cell"}if(c.draggable){c.attributes=c.attributes||{};if(typeof c.attributes["class"]!=="undefined")c.attributes["class"]+=" k-drag-cell k-touch-action-none";else c.attributes["class"]="k-drag-cell k-touch-action-none";if(typeof c.attributes["aria-label"]==="undefined")c.attributes["aria-label"]=r.options.messages.dragHandleLabel;if(typeof c.attributes.style!=="undefined")c.attributes.style+=" cursor: move;";else c.attributes.style="cursor: move;"}e+="<td"+Lt(c.attributes);if(c.colSpan){if(c.colSpan>1)e+=" "+F.attr("virtual");e+=" colSpan='"+c.colSpan+"'"}e+=">";e+=r._cellTmpl(c,u);e+="</td>"}e+="</tr>"}e=F.template(e,a);if(u.count>0)return e.bind(u.storage);return e},_dirtyCellTemplate:function(e,t){var i;if(e&&t){i=e.charAt(0)==="["?F.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']";return"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i+" ? ' k-dirty-cell' : '' #"}return""},_headerCellText:function(e){var t=this,i=T({},F.Template,t.options.templateSettings),n=e.headerTemplate,r=typeof n,a=e.title&&(t.options.encodeTitles?vn(e.title):e.title)||e.field||"";if(r===et)a=F.template(n,i)({});else if(r===D)a=n;return a},_cellTmpl:function(e,t){var i=this,n=T({},F.Template,i.options.templateSettings),r=e.template,a=n.paramName,o=e.field,s="",l,d,u=e.format,c=typeof r,f=e.values;if(e.command){if(G(e.command)){for(l=0,d=e.command.length;l<d;l++)if(e.command[l].visible)s+=F.format("#= {0}(data)? '{1}':'' #",e.command[l].visible,i._createButton(e.command[l]).replace(yt,"\\#").replace(/'/gi,"\\'"));else s+=i._createButton(e.command[l]).replace(yt,"\\#");return s}return i._createButton(e.command).replace(yt,"\\#")}if(e.selectable)return Et;if(e.draggable)return Ft;s+=i._dirtyIndicatorTemplate(o,a);if(c===et){t.storage["tmpl"+t.count]=r;s+="#=this.tmpl"+t.count+"("+a+")#";t.count++}else if(c===D)s+=r;else if(f&&f.length&&P(f[0])&&"value"in f[0]&&o){s+="#var v ="+F.stringify(Vi(f)).replace(yt,"\\#")+"#";s+="#var f = v[";if(!n.useWithBlock)s+=a+".";s+=o+"]#";s+="${f != null ? f : ''}"}else{s+=e.encoded?"#:":"#=";if(u)s+='kendo.format("'+u.replace(wt,"\\$1")+'",';if(o){o=F.expr(o,a);s+=o+"==null?'':"+o}else s+="''";if(u)s+=")";s+="#"}return s},_dirtyIndicatorTemplate:function(e,t){var i;if(e&&t){i=e.charAt(0)==="["?F.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']";return"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i+" ? '<span class=\"k-dirty\"></span>' : '' #"}return""},_virtualCols:function(e){var t=this;var i=A.map(e,function(e){return e.hidden?0:parseInt(e.width,10)});var n=t.virtualScrollable?F.scrollLeft(t.content.find(">.k-virtual-scrollable-wrap")):F.scrollLeft(t.content);var r=H(t.content);var a=mi(e);var o=[];var s=0;var l=0;var d=0;var u=0;var c=0;var f;for(u=0;u<e.length;u++){f=u<i.length-1?i[u+1]:0;if(c+i[u]+2*f<n){if(i[u])d++;c+=i[u]}else{s=1+d;break}}d=0;c=0;for(var p=e.length-1;p>=0;p--)if(c+3*i[p]<a-r-n){if(i[p])d++;c+=i[p]}else{l=1+d;for(var h=u;h<=p;h++){if(e[h].locked)continue;o.push(e[h]);if(e[h].colSpan)delete e[h].colSpan}o[0].colSpan=s;o[o.length-1].colSpan=l;break}if(o[0].hidden)o[0].colSpan--;t.virtualCols=o;return o},_templates:function(){var e=this,t=e.options,i=e.dataSource,n=i.group(),r=e.footer||e.wrapper.find(".k-grid-footer"),a=i.aggregate(),o=U(e.columns),s=U(L(e.columns)),l=t.scrollable?U(B(e.columns)):o,d=(e.virtualScroll||{}).columns?e._virtualCols(l):l,u=O(E(s),function(e,t){return e.groupHeaderColumnTemplate&&t!==0}),c=O(E(d),function(e){return e.groupHeaderColumnTemplate});if(t.scrollable&&s.length){if(t.rowTemplate||t.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");e.rowTemplate=e._tmpl(t.rowTemplate,d,false,true);e.altRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,d,true,true);e.lockedRowTemplate=e._tmpl(t.rowTemplate,s);e.lockedAltRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,s,true)}else{e.rowTemplate=e._tmpl(t.rowTemplate,d);e.altRowTemplate=e._tmpl(t.altRowTemplate||t.rowTemplate,d,true)}if(e._hasDetails())e.detailTemplate=e._detailTmpl(t.detailTemplate||"");if(e._group&&!Y(a)||!Y(a)&&!r.length||O(o,function(e){return e.footerTemplate}).length)e.footerTemplate=e._footerTmpl(o,a,"footerTemplate","k-footer-template");if(n&&O(o,function(e){return e.groupFooterTemplate}).length){a=A.map(n,function(e){return e.aggregates});e.groupFooterTemplate=e._footerTmpl(d,a,"groupFooterTemplate","k-group-footer",s.length);if(t.scrollable&&s.length)e.lockedGroupFooterTemplate=e._footerTmpl(s,a,"groupFooterTemplate","k-group-footer")}if(n&&(u.length||c.length)){a=A.map(n,function(e){return e.aggregates});e.groupHeaderColumnTemplate=e._groupHeaderTmpl(E(d),a,"groupHeaderColumnTemplate","k-grouping-row",s.length,c);if(t.scrollable&&s.length)e.lockedGroupHeaderColumnTemplate=e._groupHeaderTmpl(E(s),a,"groupHeaderColumnTemplate","k-grouping-row",0,u)}else{e.groupHeaderColumnTemplate=null;e.lockedGroupHeaderColumnTemplate=null}if(e.options.noRecords)e.noRecordsTemplate=e._noRecordsTmpl()},_noRecordsTmpl:function(){var e='<div class="{0}">{1}</div>';var t='<div class="k-grid-norecords-template"{1}>{0}</div>';var i=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"";var n={storage:{},count:0};var r=A.extend({},F.Template,this.options.templateSettings);var a=r.paramName;var o;var s="";var l;var d;if(this.options.noRecords.template)o=this.options.noRecords.template;else o=F.format(t,this.options.messages.noRecords,i);l=typeof o;if(l==="function"){n.storage["tmpl"+n.count]=o;s+="#=this.tmpl"+n.count+"("+a+")#";n.count++}else if(l==="string")s+=o;d=F.template(F.format(e,Fe,s),r);if(n.count>0)d=d.bind(n.storage);return d},_footerTmpl:function(e,t,i,n,r){var a=this,o=T({},F.Template,a.options.templateSettings),s=o.paramName,l="",d,u,c,f,p={},h=0,m={},g=a._groups(),v=a.dataSource._emptyAggregates(t),_;l+='<tr class="'+n+'">';if(g>0&&!r)l+=Nt(g);if(a._hasDetails())l+='<td class="k-hierarchy-cell">&nbsp;</td>';for(d=0,u=e.length;d<u;d++){_=e[d];c=_[i];f=typeof c;l+="<td"+Lt(_.footerAttributes)+">";if(c){if(f!==et){m=v[_.field]?T({},o,{paramName:s+"['"+_.field+"']"}):{};c=F.template(c,m)}p["tmpl"+h]=c;l+="#=this.tmpl"+h+"("+s+")#";h++}else l+="&nbsp;";l+="</td>"}l+="</tr>";l=F.template(l,o);if(h>0)return l.bind(p);return l},_groupHeaderTmpl:function(e,t,i,n,r,a){var o=this,s=T({},F.Template,o.options.templateSettings),l=s.paramName,d="",u,c,f,p,h={},m=0,g={},v=o.dataSource._emptyAggregates(t),_,b=a.length?M(a[0],e):-1,k;d+='<tr class="'+n+'">';if(!r)d+="# for (var i = 0; i < data.groupCells; i++) { #"+'<td class="k-group-cell">'+"&nbsp;"+"</td>"+"# } #";if(o._hasDetails())d+='<td class="k-hierarchy-cell">&nbsp;</td>';if(b<0){d+=!r?fn(e.length):"";return}if(b<lt&&a.length<=1&&!r){d+=!r?fn(e.length):"";return F.template(d,s)}if(b<lt){b=!r?1:0;d+=!r?fn(b):""}else d+=!r?fn(b):pn(b);for(u=b,c=e.length;u<c;u++){_=e[u];f=_[i];p=typeof f;if(_.sticky){k=_.groupHeaderColumnTemplateClass||"";if(!k)k=_.groupHeaderColumnTemplateClass="group-header-column-template-"+F.guid();d+="<td class='"+Ne+" "+k+"' style='"+(_.stickyStyle||"")+"'>"}else d+="<td>";if(f){if(p!==et){g=v[_.field]?T({},s,{paramName:l+"['"+_.field+"']"}):{};f=F.template(f,g)}h["tmpl"+m]=f;d+="#=this.tmpl"+m+"("+l+")#";m++}else d+="&nbsp;";d+="</td>"}d+="</tr>";d=F.template(d,s);if(m>0)return d.bind(h);return d},_detailTmpl:function(e){var t=this,i="",n=T({},F.Template,t.options.templateSettings),r=n.paramName,a={},o=0,s=t._groups(),l=E(U(t.columns)).length,d=typeof e;i+='<tr role="row" class="k-detail-row">';if(s>0)i+=Nt(s);i+='<td role="gridcell" class="k-hierarchy-cell"></td><td role="gridcell" class="k-detail-cell"'+(l?' colspan="'+l+'"':"")+">";if(d===et){a["tmpl"+o]=e;i+="#=this.tmpl"+o+"("+r+")#";o++}else i+=e;i+="</td></tr>";i=F.template(i,n);if(o>0)return i.bind(a);return i},_hasDetails:function(){var e=this;return e.options.detailTemplate!==null||(e._events[le]||[]).length},_hasFilterRow:function(){var e=this.options.filterable;var t=e&&typeof e.mode==D&&e.mode.indexOf("row")!=-1;var i=this.columns;var n=A.grep(i,function(e){return e.filterable===false});if(i.length&&n.length==i.length)t=false;return t},_details:function(){var i=this;if(i.options.scrollable&&i._hasDetails()&&L(i.columns).length)throw new Error("Having both detail template and locked columns is not supported");i.table.on(v+_,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(e){var t=A(this);i._toggleDetails(t);e.preventDefault();return false})},_toggleDetails:function(e,t){var i=this,n=e.closest("td.k-hierarchy-cell"),r=e.hasClass("k-i-expand"),a=e.closest("tr.k-master-row"),o=a.attr("aria-rowindex"),s,l=i.detailTemplate,d,u=i._hasDetails(),c=r?_t:bt,f=r?true:false;e.toggleClass("k-i-expand",!r).toggleClass("k-i-collapse",r).attr(kt,c);n.attr("aria-expanded",f);s=a.next();if(u&&!s.hasClass("k-detail-row")){d=i.dataItem(a);s=A(l(d)).addClass(a.hasClass("k-alt")?"k-alt":"").insertAfter(a);if(o||o===0)s.attr("aria-rowindex",Number(o)+1);i.angular("compile",function(){return{elements:s.get(),data:[{dataItem:d}]}});i.trigger(le,{masterRow:a,detailRow:s,data:d,detailCell:s.find(".k-detail-cell")})}i.trigger(r?ve:_e,{masterRow:a,detailRow:s});if(t)gn(s,r);else s.toggle(r)},dataItem:function(e){e=A(e)[0];if(!e)return null;var t=this.tbody.children(),i=/k-grouping-row|k-detail-row|k-group-footer/,n=e.sectionRowIndex,r,a;a=n;for(r=0;r<n;r++)if(i.test(t[r].className))a--;return this._data[a]},expandRow:function(e,t){var i=A(e).find("> td .k-i-expand");if(i.length)this._toggleDetails(i,t)},collapseRow:function(e,t){var i=A(e).find("> td .k-i-collapse");if(i.length)this._toggleDetails(i,t)},_createHeaderCells:function(e,t){var i=this,n,r,a,o="",s,l,d=i.options.columnMenu,u=i.options.sortable,c=i._hasFilterMenu(),f=i.options.messages,p=U(i.columns),h=i.dataSource.group(),m;for(n=0,s=e.length;n<s;n++){r=e[n].column||e[n];a=i._headerCellText(r);l=r.title;m="";var g=M(r,p);if(r.selectable){o+="<th scope='col'"+Lt(r.headerAttributes);if(t&&!e[n].colSpan)o+=" rowspan='"+t+"'";if(g>-1)o+=F.attr("index")+"='"+g+"'";a=r.headerTemplate?a:F.template(At)({});o+=">"+a+"</th>"}else if(r.draggable){o+="<th class='k-header k-drag-cell' scope='col'"+Lt(r.headerAttributes);if(t&&!e[n].colSpan)o+=" rowspan='"+t+"'";if(g>-1)o+=F.attr("index")+"='"+g+"'";a=r.headerTemplate?a:"";o+=">"+a+"</th>"}else if(r.command){o+="<th scope='col'"+Lt(r.headerAttributes);if(t&&!e[n].colSpan)o+=" rowspan='"+t+"'";if(g>-1)o+=F.attr("index")+"='"+g+"'";o+=">"+a+"</th>"}else{if(r.field)m=F.attr("field")+"='"+r.field+"' ";o+="<th scope='col' "+m;if(d&&r.field&&r.menu!==false)o+=" aria-haspopup='menu'";else if(c&&r.filterable!==false&&!r.command)o+=" aria-haspopup='dialog'";if(t&&!e[n].colSpan)o+=" rowspan='"+t+"'";if(e[n].colSpan>1){o+='colspan="'+(e[n].colSpan-hi(r.columns))+'" ';o+=F.attr("colspan")+"='"+e[n].colSpan+"'"}else if(e[n].colSpan===1)o+=F.attr("colspan")+"='"+e[n].colSpan+"'";if(l){l=l&&(i.options.encodeTitles?vn(l,true):l);o+=F.attr("title")+'="'+l+'" '}if(r.groupable!==S)o+=F.attr("groupable")+"='"+r.groupable+"' ";if(tn(i,r)){o+="title='";o+=nn(h,r.field)?f.ungroupHeader:f.groupHeader;o+="' "}if(r.aggregates&&r.aggregates.length)o+=F.attr("aggregates")+"='"+r.aggregates+"'";if(g>-1)o+=F.attr("index")+"='"+g+"'";o+=Lt(r.headerAttributes);if(u)a=F.template(Ht)({text:a});o+=">"+a+"</th>"}}return o},_appendLockedColumnContent:function(){var e=this.columns,t,i=this.table.find("colgroup"),n=i.find(ee),r,a=A(),o=0,s,l,d,u=0;for(t=0,r=e.length;t<r;t++)if(e[t].locked)if(R(e[t])){l=1;if(e[t].columns)l=U(e[t].columns).length-hi(e[t].columns);l=l||1;for(d=0;d<l;d++)a=a.add(n.eq(t+u+d-o));u+=l-1}else o++;s=A('<div class="k-grid-content-locked"><table><colgroup></colgroup><tbody></tbody></table></div>');i.detach();s.find("colgroup").append(a);i.insertBefore(this.table.find("tbody"));this.lockedContent=s.insertBefore(this.content);this.lockedTable=s.children("table")},_appendLockedColumnFooter:function(){var e=this;var t=e.footer;var i=t.find(".k-footer-template>td");var n=t.find(".k-grid-footer-wrap>table>colgroup>col");var r=A('<div class="k-grid-footer-locked"><table><colgroup></colgroup><tfoot><tr class="k-footer-template"></tr></tfoot></table></div>');var a,o;var s=e._groups();var l=A(),d=A();l=l.add(i.filter(".k-group-cell"));for(a=0,o=U(L(e.columns)).length;a<o;a++)l=l.add(i.eq(a+s));d=d.add(n.filter(".k-group-col"));for(a=0,o=E(U(Ii(e.columns))).length;a<o;a++)d=d.add(n.eq(a+s));l.appendTo(r.find("tr"));d.appendTo(r.find("colgroup"));e.lockedFooter=r.prependTo(t)},_appendLockedColumnHeader:function(e){var t=this,i=this.columns,n,r,a,o,s,l,d,u,c,f=[],p=0,h=A(),m=t._hasFilterRow(),g=0,v=A(),_,b=0,k=A();o=t.thead.prev().find(ee);u=t.thead.find("tr").first().find(".k-header:not(.k-group-cell,.k-hierarchy-cell)");c=t.thead.find(".k-filter-row").find("td:not(.k-group-cell,.k-hierarchy-cell)");var w=0;for(n=0,a=i.length;n<a;n++){if(i[n].locked){_=u.eq(n);b=U(i[n].columns||[]).length;if(R(i[n])){var y=null;if(i[n].columns)y=b-hi(i[n].columns);y=y||1;for(var x=0;x<y;x++)h=h.add(o.eq(n+w+x-p));w+=y-1}ki([i[n]],Oi(_),f,0,0);b=b||1;for(var C=0;C<b;C++)v=v.add(c.eq(g+C));g+=b}if(i[n].columns)p+=hi(i[n].columns);if(!R(i[n]))p++}if(f.length){r='<div class="k-grid-header-locked" style="width:1px"><table><colgroup></colgroup><thead>';r+=new Array(f.length+1).join("<tr></tr>");r+=(m?'<tr class="k-filter-row"></tr>':"")+"</thead></table></div>";d=A(r);o=d.find("colgroup");o.append(t.thead.prev().find("col.k-group-col").add(h));s=d.find("thead tr:not(.k-filter-row)");for(n=0,a=f.length;n<a;n++){k=ti(f[n]);s.eq(n).append(t.thead.find("tr").eq(n).find(".k-group-cell").add(k))}var S=bi(this.thead);if(f.length<S)vi(d,S-f.length);l=d.find(".k-filter-row");l.append(t.thead.find(".k-filter-row .k-group-cell").add(v));this.lockedHeader=d.prependTo(e);this.thead.find(".k-group-cell").remove();return true}return false},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);F.destroy(e);e.off(_).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var t=this,e=t.columns,i=t._hasDetails()&&e.length,n=t._hasFilterRow(),r,a="",o=t.table.find(">thead"),s=t.element.find("thead").first().length>0,l=t.options.messages.expandCollapseColumnHeader,d;if(!o.length)o=A("<thead role='rowgroup'/>").insertBefore(t.tbody);if(t.lockedHeader&&t.thead){d=t.thead.find("tr:has(th):not(.k-filter-row)").html("");d.remove();d=A();t._removeLockedContainers()}else if(s)d=t.element.find("thead").first().find("tr:has(th):not(.k-filter-row)");else d=t.element.find("tr:has(th)").first();if(!d.length){d=o.children().first();if(!d.length){var u=[{rowSpan:1,cells:[],index:0}];t._prepareColumns(u,e);for(r=0;r<u.length;r++){a+="<tr>";if(i)a+='<th class="k-hierarchy-cell" scope="col">'+l+"</th>";a+=t._createHeaderCells(u[r].cells,u[r].rowSpan);a+="</tr>"}d=A(a)}}else{for(r=0;r<e.length;r++){var c=M(e[r],U(e));var f=W(d.parent()).filter("th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(c);if(e[r].hidden&&c>=0)f[0].style.display="none"}t._updateHeadersAttr(Ei(e))}if(n){var p=A("<tr/>");p.addClass("k-filter-row");if(i||d.find(".k-hierarchy-cell").length)p.prepend('<td class="k-hierarchy-cell">&nbsp;</td>');var h=(t.thead||o).find(".k-filter-row");if(h.length){F.destroy(h);h.remove()}o.append(p)}if(!d.children().length){a="";if(i)a+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>';a+=t._createHeaderCells(e);d.html(a)}else if(i&&!d.find(".k-hierarchy-cell")[0])d.prepend('<th class="k-hierarchy-cell" scope="col">'+(l?l:"&nbsp;")+"</th>");d.find("th").addClass("k-header");if(!t.options.scrollable)o.addClass("k-grid-header");d.find("script").remove().end().prependTo(o);if(t.thead)t._destroyColumnAttachments();this.angular("cleanup",function(){return{elements:o.find("th"+C).get()}});this.angular("compile",function(){return{elements:o.find(te).get(),data:q(e,function(e){return{column:e}})}});t.thead=o;t._sortable();t._filterable();t._filterRow();t._scrollable();t._columnMenu();var m;var g=this.options.scrollable&&L(this.columns).length;if(g){m=t._appendLockedColumnHeader(t.thead.closest(".k-grid-header"));t._appendLockedColumnContent();t.lockedContent.on("DOMMouseScroll"+_+" mousewheel"+_,t._wheelScroll.bind(t));if(F.support.touch)t._lockedContentUserEvents=new F.UserEvents(t.lockedContent,{move:function(e){t.content.scrollTop(t.content.scrollTop()+-e.y.delta);e.preventDefault()}});t._updateLockedCols()}t._updateCols();t._updateColumnCellIndex();t._updateFirstColumnClass();t._resizable();t._draggable();t._reorderable();t._updateHeader(t._groups());t._updateStickyColumns();if(g){if(m)t._syncLockedHeaderHeight();t._applyLockedContainersWidth()}if(t.groupable)t._attachGroupable()},_retrieveFirstColumn:function(e,t){var i=A();if(t.length&&e[0]){var n=e[0];while(n.columns&&n.columns.length){n=n.columns[0];t=t.filter(":not(:first)")}i=i.add(t)}return i},_updateFirstColumnClass:function(){var e=this,t=e.columns||[],i=e._hasDetails()&&t.length;if(!i&&!e._groups()){var n=e.thead.find(">tr:not(.k-filter-row):not(:first)");t=B(t);var r=e._retrieveFirstColumn(t,n);if(e._isLocked()){n=e.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");t=L(e.columns);r=r.add(e._retrieveFirstColumn(t,n))}r.each(function(){var e=A(this).find("th");e.removeClass("k-first");e.eq(0).addClass("k-first")})}},_prepareColumns:function(e,t,i,n){var r=n||e[e.length-1];var a=e[r.index+1];var o=0;for(var s=0;s<t.length;s++){var l={column:t[s],colSpan:0};r.cells.push(l);if(t[s].columns&&t[s].columns.length){if(!a){a={rowSpan:0,cells:[],index:e.length};e.push(a)}l.colSpan=t[s].columns.length;this._prepareColumns(e,t[s].columns,l,a);o+=l.colSpan-1;r.rowSpan=e.length-r.index}}if(i)i.colSpan+=o},_wheelScroll:function(e){if(e.ctrlKey)return;var t=this.content;if(this.virtualScroll&&this.virtualScroll.rows)t=this.virtualScrollable.verticalScrollbar;var i=t.scrollTop(),n=F.wheelDeltaY(e);if(n){if(t[0].scrollHeight>t[0].clientHeight&&(t[0].scrollTop<t[0].scrollHeight-t[0].clientHeight&&n<0||t[0].scrollTop>0&&n>0))e.preventDefault();t.scrollTop(i+-n)}},_isLocked:function(){return this.lockedHeader!=null},_updateHeaderCols:function(){var e=this.thead.parent().add(this.table);if(this._isLocked())Li(e,V(Ti(this.columns)),this._hasDetails(),0);else Li(e,V(E(this.columns)),this._hasDetails(),0)},_updateColumnSorters:function(){var e=this;var t=W(e.thead);var i=U(e.columns);var n;var r;var a;if(!e.options.sortable)return;for(var o=0,s=t.length;o<s;o++){n=i[o];if(n.sortable!==false&&!n.command&&n.field){r=t.eq(o);a=r.data("kendoColumnSorter");if(a)a.refresh()}}},_updateHeadersAttr:function(e){if(!e.length)return;var t=this;for(var i=0;i<e.length;i++)if(e[i].headerAttributes){var n=t.element.find("[id='"+e[i].headerAttributes.id+"']");n.attr("headers",e[i].headerAttributes.headers)}t._updateHeadersAttr(Ei(e))},_updateCols:function(e){e=e||this.thead.parent().add(this.table);this._appendCols(e,this._isLocked())},_updateLockedCols:function(e){if(this._isLocked()){e=e||this.lockedHeader.find("table").add(this.lockedTable);Li(e,V(Ii(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(e,t){if(t)Li(e,V(Ti(this.columns)),this._hasDetails(),0);else Li(e,V(E(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t=this,i,n;e=e.toJSON();n=!(t.table.find("tbody tr").length>0&&(!t.dataSource||!t.dataSource.transport));for(i in e)t.columns.push({field:i,encoded:n,headerAttributes:{id:F.guid()}});t._thead();t._templates()}},_rowsHtml:function(e,t){var i=this,n="",r,a=t.rowTemplate,o=t.altRowTemplate,s;for(r=0,s=e.length;r<s;r++){if(i._skipRerenderItemsCount>0)i._skipRerenderItemsCount--;else if(r%2)n+=o(e[r]);else n+=a(e[r]);i._data.push(e[r])}return n},_groupData:function(e,t,i){var n=this,r=n._groupAggregatesDefaultObject||{},a=e.items,o=T({},r,e.aggregates),s=T({},{field:e.field,value:e.value,items:a,aggregates:o},e.aggregates[i?i.field:e.field]),l={};if(!t)for(var d in o)l[d]=T({},o[d],{group:{field:e.field,value:e.value,items:a}});return T({},l,s)},_removeGroupIfEmpty:function(e){var t=this,i,n,r=t.dataSource._group.length;for(var a=0;a<r;a++){e=e.prev();i=+e.attr("data-group-item-count");n=+e.attr("data-sub-group-count");if(i==1||n==1)e.hide()}},_groupRowHtml:function(e,t,i,n,r,a,o,s){var l=this,d="",u,c,f=l.lockedContent!=null,p=e.field,h=O(U(l.columns),function(e){return e.field==p})[0]||{},m=E(l.columns)[0],g=m?m.groupHeaderColumnTemplate:null,v=h.groupHeaderTemplate?h.groupHeaderTemplate:g,_=(h.title&&(l.options.encodeTitles?vn(h.title,true):h.title)||p)+": "+Ui(e.value,h.format,h.values,h.encoded),b=e.currentItems||e.items,k=l._groups(),w=r.groupFooterTemplate,y=r.groupHeaderColumnTemplate,x,C=l.dataSource._isGroupPaged(),S=C?l.dataSource._groupsState[e.uid]:true;if(l.options.editable&&e.items&&e.items[0]&&e.items[0].isNew&&e.items[0].isNew())S=true;if(r.groupFooterTemplate||r.groupHeaderColumnTemplate||h.groupHeaderTemplate)x=l._groupData(e,false,!h.groupHeaderTemplate&&E(l.columns)[0].groupHeaderColumnTemplate?E(l.columns)[0]:false);if(v&&!a)_=typeof v===et?v(x):F.template(v)(x);if(!l._skipRerenderItemsCount)if(!e.excludeHeader)d+=cn(y,n,t,k-i,x,i,_,S,e,C);else if(f)e.excludeHeader=s?false:true;else e.excludeHeader=false;else n(t,i,_,S,e.uid,C);if(S)if(e.hasSubgroups)for(u=0,c=b.length;u<c;u++)d+=l._groupRowHtml(b[u],a?t:t-1,i+1,n,r,a,o&&u===b.length-1,s);else d+=l._rowsHtml(b,r);if(w)if(o){if(!M(e.value,l._skippedGroups))l._skippedGroups.push(e.value)}else{if(l._skippedGroups.length&&l._skippedGroups[0]===e.value)l._skippedGroups.shift();if(!l._skipRerenderItemsCount)d+=w(x)}return d},collapseGroup:function(e){var t,i=this,n=e,r=this.options.groupable,a=r.showFooter,o=a?0:1,s,l=A(),d,u,c;e=A(e);t=e.find(".k-group-cell").length;if(this.dataSource._isGroupPaged()){var f=e.attr("data-group-uid");var p=i.dataSource._getGroupByUid(f);var h=i.dataSource._calculateGroupsTotal([p],true);var m;i.dataSource._groupsState[f]=false;m=i.dataSource._calculateGroupsTotal([p],true);i.dataSource._serverGroupsTotal-=h-m;i._progress(true);i.dataSource.range(i.dataSource._currentRangeStart,i.dataSource.take(),function(){i._progress(false)},"collapseGroup");return}if(this._isLocked())if(!e.closest("div").hasClass("k-grid-content-locked")){l=e.nextAll("tr");e=this.lockedTable.find(">tbody>tr").eq(e.index())}else l=this.tbody.children("tr").eq(e.index()).nextAll("tr");e.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse");e.find("td[aria-expanded='true']").first().attr("aria-expanded",false).find("a").attr(kt,bt);e=e.nextAll("tr");var g=[];for(d=0,u=e.length;d<u;d++){c=e.eq(d);s=c.find(".k-group-cell").length;if(c.hasClass("k-grouping-row"))o++;else if(c.hasClass("k-group-footer"))o--;if(s<=t||c.hasClass("k-group-footer")&&o<0)break;if(l.length)g.push(l[d]);g.push(c[0])}A(g).hide();if(this.options.scrollable.endless&&this.content){clearTimeout(i._collapseGroupsTimeOut);i._collapseGroupsTimeOut=setTimeout(function(){i.content.scroll();i._groupToCollapse=n})}},expandGroup:function(e){e=A(e);var t=this,i=t.options.groupable.showFooter,n,r,a,o=A(),s,l,d=[],u=1;n=e.find(".k-group-cell").length;if(this.dataSource._isGroupPaged()){var c=e.attr("data-group-uid");var f=t.dataSource._getGroupByUid(c);var p=t.dataSource._calculateGroupsTotal([f],true);var h;t.dataSource._groupsState[c]=true;if(f.items&&f.items.length){h=t.dataSource._calculateGroupsTotal([f],true);t.dataSource._serverGroupsTotal+=h-p}t._progress(true);t.dataSource.range(t.dataSource._currentRangeStart,t.dataSource.take(),function(){t._progress(false)},"expandGroup");return}if(this._isLocked())if(!e.closest("div").hasClass("k-grid-content-locked")){o=e.nextAll("tr");e=this.lockedTable.find(">tbody>tr").eq(e.index())}else o=this.tbody.children("tr").eq(e.index()).nextAll("tr");e.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand");e.find("td[aria-expanded='false']").first().attr("aria-expanded",true).find("a").attr(kt,_t);e=e.nextAll("tr");for(s=0,l=e.length;s<l;s++){r=e.eq(s);a=r.find(".k-group-cell").length;if(a<=n)break;if(a==n+1&&!r.hasClass("k-detail-row")){r.show();o.eq(s).show();if(r.hasClass("k-grouping-row")&&r.find(".k-icon").hasClass("k-i-collapse"))t.expandGroup(r);if(r.hasClass("k-master-row")&&r.find(".k-icon").hasClass("k-i-collapse")){r.next().show();o.eq(s+1).show()}}if(r.hasClass("k-grouping-row")){if(i)d.push(r.is(":visible"));u++}if(r.hasClass("k-group-footer")){if(i){var m=d.pop();r.toggle(m);o.eq(s).toggle(m)}if(u==1){r.show();o.eq(s).show()}else u--}}if(n===0&&t.options.scrollable.endless&&this._isLocked()||!t.options.scrollable.endless&&this._isLocked())t._syncLockedContentHeight()},_updateHeader:function(e){var t=this,i=t._isLocked()?t.lockedHeader.find("thead"):t.thead,n=i.find("tr.k-filter-row").find("td.k-group-cell").length,r=i.find("tr").first().find("th.k-group-cell").length,a=i.children("tr:not(:first)").filter(function(){return!A(this).children(":visible").length});if(e>r){A(new Array(e-r+1).join('<th class="k-group-cell k-header" scope="col">'+t.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(i.children("tr:not(.k-filter-row)"));if(t.element.is(":visible"))a.find("th.k-group-cell").hide()}else if(e<r)i.find("tr").each(function(){A(this).find("th.k-group-cell").eq(e).remove();A(this).find("th.k-group-cell").slice(e).remove()});if(e>n)A(new Array(e-n+1).join('<td class="k-group-cell k-header">&nbsp;</td>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(e,t){if(e&&t)if(e.hasSubgroups)e=this._firstDataItem(e.items[0],t);else e=e.items[0];return e},_updateTablesWidth:function(){var e=this,t;if(!e._isLocked())return;t=A(">.k-grid-footer>.k-grid-footer-wrap>table",e.wrapper).add(e.thead.parent()).add(e.table);e._footerWidth=Yi(t.eq(0));t.width(e._footerWidth);t=A(">.k-grid-footer>.k-grid-footer-locked>table",e.wrapper).add(e.lockedHeader.find(">table")).add(e.lockedTable);t.width(Yi(t.eq(0)))},hideColumn:function(t){var e=this,i,n,r,a,o,s,l=0,d,u,c=e.footer||e.wrapper.find(".k-grid-footer"),f=e.virtualScroll||{},p=e.columns,h=e.lockedHeader?W(e.lockedHeader.find(">table>thead")).filter(Xt).length:0,m,g=O(U(e.columns),function(e){return e.groupHeaderColumnTemplate});if(typeof t=="number")t=p[t];else if(P(t))t=O(N(p),function(e){return e===t})[0];else t=O(N(p),function(e){return e.field===t})[0];if(!t||!R(t))return;var v=e._columnVisibilitySetter(t);if(t.columns&&t.columns.length){s=ci(t,p);v(t,false);Wi(w(A(">table>thead",e.lockedHeader),e.thead,">tr:eq("+s.row+")>th"),s.cell,false);for(r=0;r<t.columns.length;r++)this.hideColumn(t.columns[r]);e._ariaAddHiddenColIndex();e.trigger(he,{column:t});return}m=M(t,E(U(p)));v(t,false);e._setParentsVisibility(t,false);e._templates();e._updateCols();e._updateLockedCols();var _=e.thead;d=m;if(e.lockedHeader&&h>m)_=e.lockedHeader.find(">table>thead");else d-=h;i=W(_).filter(Xt).eq(d);i[0].style.display="none";Wi(w(A(">table>thead",e.lockedHeader),e.thead,">tr.k-filter-row>td"),m,false);if(c[0]){e._updateCols(c.find(">.k-grid-footer-wrap>table"));e._updateLockedCols(c.find(">.k-grid-footer-locked>table"));Wi(c.find(".k-footer-template>td"),m,false)}if(f.columns&&!t.locked){e._updateContentWidth();e.trigger(he,{column:t});return}if(e.lockedTable&&h>m)ji(e.lockedTable.find(">tbody>tr"),m);else ji(e.tbody.children(),m-h);if(e.lockedTable){e._updateTablesWidth();e._applyLockedContainersWidth();e._syncLockedContentHeight();e._syncLockedHeaderHeight();e._syncLockedFooterHeight()}else{a=e.thead.prev().find("col");for(r=0,u=a.length;r<u;r+=1){o=a[r].style.width;if(a[r].className.indexOf("k-hierarchy-col")>-1){l+=H(a[r]);continue}if(a[r].className.indexOf("k-group-col")>-1){l+=H(a[r]);continue}if(o&&o.indexOf("%")==-1)l+=parseInt(o,10);else{l=0;break}}n=e.wrapper.find(">.k-grid-header table").first().add(e.wrapper.find(">.k-grid-footer table").first()).add(e.table);e._footerWidth=null;if(l){n.each(function(){this.style.width=l+"px"});e._footerWidth=l;e._setContentWidth()}}e._updateFirstColumnClass();e._updateStickyColumns();if(g.length>0)e._renderGroupRows();e._ariaAddHiddenColIndex();e.trigger(he,{column:t})},_setParentsVisibility:function(e,t){var i=this;var n=i.columns;var r;var a=[];var o;var s;var l;var d;var u=i._columnVisibilitySetter(e);var c=t?function(e){return E(e.columns).length&&e.hidden}:function(e){return!E(e.columns).length&&!e.hidden};if(qt(e,n,a)&&a.length)for(r=a.length-1;r>=0;r--){o=a[r];s=li(o,n);l=w(A(">table>thead",this.lockedHeader),this.thead,">tr:eq("+s.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(s.cell);if(c(o)){u(o,t);l[0].style.display=t?"":"none"}if(l.filter("["+F.attr("colspan")+"]").length){d=parseInt(l.attr(F.attr("colspan")),10);l[0].colSpan=d-hi(o.columns)||1}}},_updateContentWidth:function(){var e=this;var t=e.table.add(e.thead.parent());t.css({width:mi(V(Ti(e.columns)))});e.refresh()},showColumn:function(i){var e=this,t,n,r,a,o,s,l,d,u,c=e.columns,f=e.virtualScroll||{},p=e.footer||e.wrapper.find(".k-grid-footer"),h=e.lockedHeader?W(e.lockedHeader.find(">table>thead")).length:0,m,g,v,_=O(U(e.columns),function(e){return e.groupHeaderColumnTemplate});if(typeof i=="number"){m=i;i=c[i]}else if(P(i))A.each(N(c),function(e,t){if(t===i){i=t;m=e;return false}});else A.each(N(c),function(e,t){if(t.field===i){i=t;m=e;return false}});if(!i||R(i))return;var b=e._columnVisibilitySetter(i);if(i.columns&&i.columns.length){l=li(i,c);g=N(e.options.columns)[m];b(i,true);Wi(w(A(">table>thead",e.lockedHeader),e.thead,">tr:eq("+l.row+")>th"),l.cell,true);for(t=0;t<i.columns.length;t++)if(!g.columns[t].hidden)this.showColumn(i.columns[t]);e._ariaRemoveHiddenColIndex();e.trigger(me,{column:i});return}v=M(i,U(c));b(i,true);e._setParentsVisibility(i,true);e._templates();e._updateCols();e._updateLockedCols();var k=e.thead;s=v;if(e.lockedHeader&&h>v)k=e.lockedHeader.find(">table>thead");else s-=h;r=W(k).eq(s);r[0].style.display="";Wi(w(A(">table>thead",e.lockedHeader),e.thead,">tr.k-filter-row>td"),v,true);if(p[0]){e._updateCols(p.find(">.k-grid-footer-wrap>table"));e._updateLockedCols(p.find(">.k-grid-footer-locked>table"));Wi(p.find(".k-footer-template>td"),v,true)}if(f.columns&&!i.locked){e._updateContentWidth();e.trigger(me,{column:i});return}if(e.lockedTable&&h>v)Ki(e.lockedTable.find(">tbody>tr"),v);else Ki(e.tbody.children(),v-h);if(e.lockedTable){e._updateTablesWidth();e._applyLockedContainersWidth();e._syncLockedContentHeight();e._syncLockedHeaderHeight()}else{a=e.wrapper.find(">.k-grid-header table").first().add(e.wrapper.find(">.k-grid-footer table").first()).add(e.table);if(!i.width)a.width("");else{o=0;u=e.thead.prev().find("col");for(t=0,n=u.length;t<n;t+=1){d=u[t].style.width;if(u[t].className.indexOf("k-hierarchy-col")>-1){o+=H(u[t]);continue}if(u[t].className.indexOf("k-group-col")>-1){o+=H(u[t]);continue}if(d.indexOf("%")>-1){o=0;break}o+=parseInt(d,10)}e._footerWidth=null;if(o){a.each(function(){this.style.width=o+"px"});e._footerWidth=o;e._setContentWidth()}}}e._updateFirstColumnClass();e._updateStickyColumns();if(_.length>0)e._renderGroupRows();e._ariaRemoveHiddenColIndex();e.trigger(me,{column:i})},_columnVisibilitySetter:function(e){var t=e||{};if(ei(t.media))return Gt;else return $t},_buildSkeleton:function(){var e=this.virtualCols?this.virtualCols:V(this.columns);var t=this.dataSource.pageSize()||this.dataSource.total();var i="";var n;var r=(this.dataSource.group()||[]).length;var a=e.length+r;if(this._hasDetails())a++;if(this._hasVirtualColumns())n=parseInt(this.content.find("tr").first().find("td").first().attr("colspan"),10);for(var o=0;o<t;o++){i+="<tr>";for(var s=0;s<a;s++)if(n&&!s)i+="<td colspan='"+n+"'><span class='k-skeleton k-skeleton-text k-skeleton-pulse'></span></td>";else i+="<td><span class='k-skeleton k-skeleton-text k-skeleton-pulse'></span></td>";i+="</tr>"}return i},_progress:function(e){var t=this.element;var i=this.options.scrollable&&this.options.scrollable.endless;var n=this.options.loaderType;var r=this.options.scrollable&&this.options.scrollable.virtual;var a;if(r)t=this.content;else if(this._editContainer&&this._editMode()==="popup")t=this._editContainer;else if(this.lockedContent||i)t=this.wrapper;else if(this.element.is("table"))t=this.element.parent();else if(this.content&&this.content.length)t=this.content;if(n=="skeleton")if(e){a=this._buildSkeleton();t.find("tbody").empty().append(a)}else t.find(".k-skeleton").closest("tbody").empty();else if(i&&e)F.ui.progress(t,e,{height:this.content.height(),top:this.content[0].offsetTop,opacity:true});else F.ui.progress(t,e)},_resize:function(e,t){this._syncLockedContentHeight();this._syncLockedHeaderHeight();if(this.content){this._setContentWidth();this._setContentHeight()}if(this.lockedTable)this._syncLockedScroll();if(this.virtualScrollable&&(t||this._rowHeight)){if(t)this._rowHeight=null;this.virtualScrollable.repaintScrollbar()}if(this.pager&&this.pager.element)this.pager.resize(t);if(this._anyStickyColumns())this._updateStickyColumns(false)},_isActiveInTable:function(){var e=c();if(!e)return false;return this.table[0]===e||A.contains(this.table[0],e)||this._isLocked()&&(this.lockedTable[0]===e||A.contains(this.lockedTable[0],e))},refresh:function(e){var t=this,i=t.dataSource.view(),n=t.options.navigatable,r=t.virtualScroll||{},a,o=A(t.current()),s=false,l=(t.dataSource.group()||[]).length,d=l+V(E(t.columns)).length,u,c;if(e&&e.action==="itemchange"&&(t.editable||t.options.scrollable.endless))if(this._editMode()!="popup"||this._editMode()==="popup"&&!t._editableIsClosing)return;if(r.columns)t._templates();if(e&&e.action==="remove"&&t.editable&&t.editable.options.model&&M(t.editable.options.model,e.items)>-1)t.editable.options.model.unbind(p,t._modelChangeHandler);e=e||{};if(t.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items}))return;if(e.action===xe&&t._isVirtualEditable()){t._destroyEditable();t._clearEditableState()}t._angularItems("cleanup");if(!t._endlessFetchInProgress){if(n&&(t._isActiveInTable()||t._editContainer&&t._editContainer.data("kendoWindow"))){s=o.is("th");a=s?o.parent().children(":not(.k-group-cell)").index(o[0]):Math.max(t.cellIndex(o),0)}t._destroyEditable()}if(t.options.scrollable&&t.options.scrollable.endless&&!t._pdfInitialized){clearTimeout(t._progressTimeOut);t._progressTimeOut=setTimeout(function(){if(!t._endlessFetchInProgress)t._progress(false)},250)}else t._progress(false);t._hideResizeHandle();t._data=[];if(!t.columns.length){t._autoColumns(t._firstDataItem(i[0],l));d=l+t.columns.length}t._group=l>0||t._group;if(t._group){t._templates();t._updateCols();t._updateLockedCols();if(!t._virtualColScroll)t._updateHeader(l);t._group=l>0;t._groupRows=qi(i)}if(t.content)u=F.scrollLeft(t.content);c=t._skipRerenderItemsCount;t._renderContent(i,d,l);if(t.options.scrollable&&t.options.scrollable.endless&&this.lockedContent)t._skipRerenderItemsCount=c;t._renderLockedContent(i,d,l);if(!t._virtualColScroll){t._footer();t._renderNoRecordsContent();t._togglePagerVisibility();t._setContentHeight();t._setContentWidth(t.content&&u)}if(t.lockedTable)if(r.rows)t.content.find(">.k-virtual-scrollable-wrap").trigger("scroll");else if(t.touchScroller)t.touchScroller.movable.trigger("change");else{t.wrapper.one("scroll",function(e){e.stopPropagation()});t.content.trigger("scroll")}if(!t._endlessFetchInProgress&&!t._rowDropping)t._restoreCurrent(a,s);if(t.touchScroller)t.touchScroller.contentResized();if(t.selectable)t.selectable.resetTouchEvents();t._muteAngularRebind(function(){t._angularItems("compile")});if(t._checkBoxSelection)t._toggleHeaderCheckState(false);if(t.options.persistSelection&&(t.selectable&&!F.ui.Selectable.parseOptions(t.options.selectable).cell||t._checkBoxSelection)&&(t.items().length||t.dataSource._isGroupPaged()))t._restoreSelection();if(!t.options.persistSelection)t._selectedIds={};if(t._hasReorderableRows()){t._draggableRows();t._reorderableRows()}t._aria();t.trigger(ge)},_restoreCurrent:function(e,t){if(e===S||e<0)return;this._removeCurrent();if(t)this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(e));else{var i=0;var n=this.virtualScroll||{};if(this._rowVirtualIndex)if(n.rows)i=this.virtualScrollable.position(this._rowVirtualIndex);else i=this._rowVirtualIndex;else e=0;var r=A();var a;if(this.lockedTable)r=this.lockedTable.find(">tbody>tr").eq(i);r=r.add(this.tbody.children().eq(i));if(this._hasVirtualColumns()){a=parseInt(r.find("td").first().attr("colspan"),10);e=this._virtualCellIndex-(a>1?a-1:0)}var o=r.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(e);if(!o.length||e<0)return;if(this._hasVirtualColumns())this._setCurrent(o,true,true);else this._setCurrent(o)}if(this._current)j(this.table,true)},_restoreSelection:function(){var i=this,e=i.items(),t,n=$(i.dataSource.options.schema.model)?i.dataSource.options.schema.model.fn.idField:i.dataSource.options.schema.model.id;t=O(e,function(e){var t=i.dataItem(e)[n];if(i._selectedIds[t])return e});i.select(t)},_angularItems:function(e){F.ui.DataBoundWidget.fn._angularItems.call(this,e);if(e==="cleanup"&&(!this.dataSource||!this.dataSource.options.endless))this._cleanupDetailItems();this._angularGroupItems(e);this._angularGroupFooterItems(e)},_cleanupDetailItems:function(){var e=this;if(e._hasDetails()){e.angular("cleanup",function(){return{elements:e.tbody.children(".k-detail-row")}});e.tbody.find(".k-detail-cell").empty()}},_angularGroupItems:function(e){var t=this,i=t.tbody;if(t.lockedContent)i=t.lockedTable.find("tbody");if(t._group)t.angular(e,function(){return{elements:i.children(".k-grouping-row"),data:A.map(qi(t.dataSource.view()),function(e){return{dataItem:e}})}})},_angularGroupFooterItems:function(e){var t=this,i=t.tbody;if(t.lockedContent)i=t.element;if(t._group&&t.groupFooterTemplate)t.angular(e,function(){return{elements:i.find(".k-group-footer"),data:A.map(Gi(t.dataSource.view()),function(e){return{dataItem:e}})}})},_renderContent:function(e,t,i){var n=this,r,a,o="",s=n.lockedContent!=null,l=null,d,u,c=n.options.scrollable,f={rowTemplate:n.rowTemplate,altRowTemplate:n.altRowTemplate,groupFooterTemplate:n.groupFooterTemplate,groupHeaderColumnTemplate:n.groupHeaderColumnTemplate};if(c&&c.endless&&!n.dataSource.options.endless){n._skipRerenderItemsCount=0;if(n.content)n.content[0].scrollTop=0}l=n._skipRerenderItemsCount>0;t=s?t-V(Ii(n.columns)).length:t;if(i>0){t=s?t-i:t;if(n.detailTemplate)t++;if(n.groupFooterTemplate)n._groupAggregatesDefaultObject=n.dataSource.aggregates();if(n.options.scrollable.endless)u=n.dataSource.flatView().length;for(r=0,a=e.length;r<a;r++){if(!n._skippedGroups)n._skippedGroups=[];d=u&&r===e.length-1&&u!==n.dataSource.total();o+=n._groupRowHtml(e[r],t,0,s?mn:hn,f,s,d,false)}}else o+=n._rowsHtml(e,f);if(l){n.tbody.append(o);clearTimeout(n._endlessFetchTimeOut);n._endlessFetchTimeOut=setTimeout(function(){if(n._groupToCollapse){n.collapseGroup(n._groupToCollapse);n._groupToCollapse=null}});n._endlessFetchInProgress=null}else n.tbody=Mi(n.tbody,n.table,o,this.options.$angular)},_renderGroupRows:function(){var i=this,n=i._groupRows,e=i.wrapper.find(".k-grouping-row"),r=i._groups(),a,o=i.lockedContent!=null,s,l,d,u,c,f,p,h,m,g,v,_,b,k,w,y;e.each(function(e,t){b=A(t);m=b.closest("table").parent();g=m.is("."+ie);s=g?V(E(L(i.columns))):V(E(B(i.columns)));k=b.find("."+ne).length;if(o){a=g?hn:mn;l=g?s.length+r-k:s.length}else{a=hn;l=s.length+r-k}d=e>=n.length?n[e-n.length]:n[e];u=d.field;c=O(U(i.columns),function(e){return e.field==u})[0]||{};y=!c.groupHeaderTemplate&&E(i.columns)[0].groupHeaderColumnTemplate?E(i.columns)[0]:false;f=c.groupHeaderTemplate?c.groupHeaderTemplate:E(i.columns)[0].groupHeaderColumnTemplate;p=(c.title&&(i.options.encodeTitles?vn(c.title,true):c.title)||u)+": "+Ui(d.value,c.format,c.values,c.encoded);r=r;h=i._groupData(d,false,y);w=g?i.lockedGroupHeaderColumnTemplate:i.groupHeaderColumnTemplate;if(f)p=typeof f===et?f(h):F.template(f)(h);v=b.prev().length?b.prev():b.parent();_=A(w?w(T({},h,{groupCells:k,colspan:r-k,text:p})):a(l,k,p));if(v.is("tbody"))v.prepend(_);else v.after(_);b.remove()})},_renderLockedContent:function(e,t,i){var n="",r,a,o,s=null,l,d={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate,groupHeaderColumnTemplate:this.lockedGroupHeaderColumnTemplate};if(this.lockedContent){var u=this.lockedTable;s=this._skipRerenderItemsCount>0;if(i>0){t=t-E(U(B(this.columns))).length;if(this.options.scrollable.endless)l=this.dataSource.flatView().length;for(r=0,a=e.length;r<a;r++){o=l&&r===e.length-1&&l!==this.dataSource.total();n+=this._groupRowHtml(e[r],t,0,hn,d,false,o,true)}}else n=this._rowsHtml(e,d);if(s)u.children("tbody").append(n);else Mi(u.children("tbody"),u,n,this.options.$angular);this._syncLockedContentHeight()}},_togglePagerVisibility:function(){if(this.options.pageable.alwaysVisible===false)this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(e,t){var i=e[0].rows,n=i.length,r,a=t[0].rows,o=e.add(t),s=o.length,l=[];for(r=0;r<n;r++){if(!a[r])break;if(i[r].style.height)i[r].style.height=a[r].style.height=""}for(r=0;r<n;r++){if(!a[r])break;var d=i[r].offsetHeight;var u=a[r].offsetHeight;var c=0;if(d>u)c=d;else if(d<u)c=u;l.push(c)}for(r=0;r<s;r++)o[r].style.display="none";for(r=0;r<n;r++)if(l[r])i[r].style.height=a[r].style.height=l[r]+1+"px";for(r=0;r<s;r++)o[r].style.display=""}});if(F.ExcelMixin)F.ExcelMixin.extend(Qi.prototype);if(F.PDFMixin){F.PDFMixin.extend(Qi.prototype);Qi.prototype._drawPDF_autoPageBreak=function(t){var i=this;var n=new A.Deferred;var r=i.dataSource;var a=i.options.pdf.allPages;var o=i.wrapper.find('table[role$="grid"] > tbody').first();var s=A("<div>").css({position:"absolute",left:-1e4,top:-1e4});var l;i.toggleUnexportableColumns(i.columns);l=i.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(s);l.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"});l.find('table[role$="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"});l.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove();l.find(".k-grid-header, .k-grid-footer, .k-auto-scrollable").css({paddingRight:0});this._initPDFProgress(t);var d=l.find('table[role$="grid"] > tbody').first().empty();var e=r.page();function u(){if(a&&e!==S){r.one("change",c);r.page(e)}else{i.refresh();c()}}function c(){s.appendTo(document.body);var e=A.extend({},i.options.pdf,{_destructive:true,progress:function(e){t.notify({page:e.page,pageNumber:e.pageNum,progress:.5+e.pageNum/e.totalPages/2,totalPages:e.totalPages})}});F.drawing.drawDOM(l,e).always(function(){s.remove()}).then(function(e){n.resolve(e);i.toggleUnexportableColumns(i.columns,true)}).fail(function(e){n.reject(e)})}function f(){var e=r.page();var t=a?r.totalPages():1;d.append(o.children("tr:not(.k-detail-row)"));if(e<t)r.page(e+1);else{r.unbind("change",f);u()}}if(a){r.bind("change",f);r.page(1)}else f();return n.promise()};Qi.prototype.toggleUnexportableColumns=function(e,t){var i=e.length;var n;var r;var a;var o;for(var s=0;s<i;s++){n=e[s];r=n.exportable;if(!t){if(typeof n.exportable==="object")r=n.exportable.pdf;a=!n.hidden&&r!==false;o=n.hidden&&r===true;r=a||o;if(!r&&!n.hidden){n._toggledDuringExport=true;this.hideColumn(n)}else if(r&&n.hidden){n._toggledDuringExport=true;this.showColumn(n)}else if(r&&n.columns)this.toggleUnexportableColumns(n.columns)}else if(n._toggledDuringExport){n._toggledDuringExport=false;if(n.hidden)this.showColumn(n);else this.hideColumn(n)}else if(n.columns)this.toggleUnexportableColumns(n.columns,t)}};Qi.prototype._drawPDF=function(r){var a=this;if(a.options.pdf.paperSize&&a.options.pdf.paperSize!="auto")return a._drawPDF_autoPageBreak(r);var t=new A.Deferred;var o=a.dataSource;var s=a.options.pdf.allPages;this._initPDFProgress(r);var l=new F.drawing.Group;var e=o.page();function d(){if(s&&e!==S){o.unbind("change",i);o.one("change",function(){t.resolve(l)});o.page(e)}else t.resolve(l)}function i(){a.toggleUnexportableColumns(a.columns);a._drawPDFShadow({width:a.wrapper.width()},{avoidLinks:a.options.pdf.avoidLinks}).done(function(e){var t=o.page();var i=s?o.totalPages():1;var n={page:e,pageNumber:t,progress:t/i,totalPages:i};a.toggleUnexportableColumns(a.columns,true);r.notify(n);l.append(n.page);if(t<i)o.page(t+1);else d()}).fail(function(e){t.reject(e)})}if(s){o.bind("change",i);o.page(1)}else i();return t.promise()};Qi.prototype._initPDFProgress=function(e){var t=A("<div class='k-loading-pdf-mask'><div class='k-loading-color'></div></div>");t.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this._pdfInitialized=true;this.wrapper.append(t);var i=A("<div class='k-loading-pdf-progress'>").appendTo(t).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");e.progress(function(e){i.value(e.progress)}).always(function(){F.destroy(t);t.remove()})}}function Xi(e,t){e=e[0];t=t[0];if(e.rows.length!==t.rows.length){var i=e.offsetHeight;var n=t.offsetHeight;var r;var a;if(i>n){r=t.rows[t.rows.length-1];if(It.test(r.className))r=t.rows[t.rows.length-2];a=i-n}else{r=e.rows[e.rows.length-1];if(It.test(r.className))r=e.rows[e.rows.length-2];a=n-i}r.style.height=r.offsetHeight+a+"px"}}function Ji(e,t){var i;var n=e.offsetHeight;var r=t.offsetHeight;if(n>r)i=n+"px";else if(n<r)i=r+"px";if(i)e.style.height=t.style.height=i}function Zi(e,t){var i,n,r;if(typeof e===D&&e===t)return e;if(P(e)&&e.name===t)return e;if(G(e))for(i=0,n=e.length;i<n;i++){r=e[i];if(typeof r===D&&r===t||r.name===t)return r}return null}function en(e,t){if(e.length!==t.length)return false;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return false;return true}function j(e,t){if(!e||e.length===0)return;if(t===true){e=A(e);var i=F.scrollLeft(e.parent());F.focusElement(e);F.scrollLeft(e.parent(),i)}else A(e).one("focusin",function(e){e.preventDefault()}).trigger("focus")}function tn(e,t){return e.options.groupable&&(t.groupable||t.groupable===S)}function nn(e,t){return!!A.grep(e,function(e){return e.field===t}).length}function rn(e,t){if(!e.field||e.selectable)return false;if(t.editable&&!t.editable(e.field))return false;if(e.editable&&!e.editable(t))return false;return true}function an(e){return A(e).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist,.k-switch-thumb,.k-switch-track,.k-switch-label-off,.k-switch-label-on")}function on(e){var t=this,i=A(e.currentTarget),n=i.is("th"),r=this.table.add(this.lockedTable),a=this.thead.parent().add(A(">table",this.lockedHeader)),o=an(e.target),s=A(e.target).is(".k-checkbox"),l=A(e.target),d=i.closest("table")[0];if(o&&i.find(F.roleSelector("filtercell")).length){this._setCurrent(i);return}if(d!==r[0]&&d!==r[1]&&d!==a[0]&&d!==a[1])return;if(l.is("a.k-i-expand, a.k-i-collapse"))return;if(this.options.navigatable)this._setCurrent(i,false,s);if(n||!o)setTimeout(function(){var e=A(F._activeElement());if((e.hasClass("k-widget")||e.hasClass("k-dropdownlist"))&&!e.hasClass("k-grid-pager"))return;if(t.table&&(e.is(Ae)||!an(F._activeElement())||!A.contains(d,F._activeElement())))j(t.table[0],true)});if(n&&!F.support.touch)e.preventDefault()}function sn(e,t){if(!t)return 0;var i=0;if(F.support.browser.webkit)i=e.width();return i}function ln(e){var t;if(typeof e==="string"){t=e.toLowerCase();if(t==="true")return{rows:true};else return{rows:t.indexOf("rows")>-1,columns:t.indexOf("columns")>-1}}else if(e===true)return{rows:true}}function dn(e,t){var i;var n;if(!e)return false;t=A(t);if(t[0]&&Q(e[0],t[0])){i=t.offset().top-e.offset().top;n=t.outerHeight()/2;if((i>=0||h.abs(i)<=n)&&h.floor(i+n)<=e.height())return true}return false}function un(e){return e&&(e.hasClass("k-edit-cell")||e.parent().hasClass("k-grid-edit-row"))}function cn(e,t,i,n,r,a,o,s,l,d){var u;if(e)u=e(T({},r,{groupCells:a,colspan:n,text:o}));else u=t(i,a,o,s,l.uid,d);return u}function fn(e){return'<td colspan="#=data.colspan +'+e+'#">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="\\#" tabindex="-1" '+kt+'="'+_t+'"></a>#=data.text#'+"</p></td>"}function pn(e){return'<td colspan="'+e+'">'+'<p class="k-reset">&nbsp;</p></td>'}function hn(e,t,i,n,r,a){return"<tr "+(a?'data-group-uid="'+r+'"':"")+'class="k-grouping-row">'+Nt(t)+'<td colspan="'+e+'" aria-expanded="'+!!n+'">'+'<p class="k-reset">'+'<a class="k-icon '+(n?"k-i-collapse":"k-i-expand")+'" href="#" tabindex="-1" '+kt+'="'+(n?_t:bt)+'"></a>'+i+"</p></td></tr>"}function mn(e){return'<tr class="k-grouping-row">'+'<td colspan="'+e+'" aria-expanded="true">'+'<p class="k-reset">&nbsp;</p></td></tr>'}function gn(e,t){e=A(e)[0];if(t)e.style.display="";else e.style.display="none"}function vn(e,t){var i=/&/g,n=/</g,r=/"/g,a=/'/g,o=/>/g;return(""+e).replace(i,"&amp;").replace(n,"&lt;").replace(o,"&gt;").replace(r,function(e){if(t)return"\\"+e;return"&quot;"}).replace(a,"&#39;")}function _n(t,e){return e.filter(function(e){return e.field===t})[0].title||t}function bn(e,t){return this.dataSource.indexOf(this.dataSource.getByUid(e.uid))-this.dataSource.indexOf(this.dataSource.getByUid(t.uid))}function kn(e){return!(e.exportable===false||e.exportable&&e.exportable.excel===false)}return x.plugin(Qi),x.plugin(zt),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.slider.min",["kendo.draganddrop.min"],function(){var e={id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]},m=window.kendo.jQuery,f=void 0,g=window.kendo,r=g.ui.Widget,L=g.ui.Draggable,v=g._outerWidth,_=g._outerHeight,B=m.extend,l=g.format,n=g.parseFloat,V=Array.isArray,p=Math,U=g.support,t=U.pointers,W=U.msPointers,a="change",h="slide",o=".slider",s="touchstart"+o+" mousedown"+o,c=t?"pointerdown"+o:W?"MSPointerDown"+o:s,b="touchend"+o+" mouseup"+o,k=t?"pointerup":W?"MSPointerUp"+o:b,i="moveSelection",w="keydown"+o,y="click"+o,d="mouseover"+o,x="focus"+o,C="blur"+o,S=".k-draghandle",T=".k-slider-track",I=".k-tick",D="k-selected",E="k-focus",A="k-disabled",F="disabled",j="undefined",H="tabindex",q=g.getTouches,G="aria-valuetext",K="aria-valuenow",u=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);t=i.options;i._isHorizontal=t.orientation=="horizontal";i._isRtl=i._isHorizontal&&g.support.isRtl(e);i._position=i._isHorizontal?"left":"bottom";i._sizeFn=i._isHorizontal?"width":"height";i._outerSize=i._isHorizontal?v:_;t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}";if(t.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");i._createHtml();i._trackDiv=i.wrapper.find(T);i._maxSelection=i._trackDiv[i._sizeFn]();i._sliderItemsInit();i._reset();i._tabindex(i.wrapper.find(S));i[t.enabled?"enable":"disable"]();var n=g.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:P(-1*n*t.smallStep),40:P(-t.smallStep),39:P(+1*n*t.smallStep),38:P(+t.smallStep),35:J(t.max),36:J(t.min),33:P(+t.largeStep),34:P(-t.largeStep)};i._ariaLabel(i.wrapper.find(S));g.notify(i)},events:[a,h],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_distance:function(){return M(this.options.max-this.options.min)},_resize:function(){this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh();if(this.options.enabled)this.enable(true)},_sliderItemsInit:function(){var e=this,t=e.options;var i=(e._maxSelection-2)/((t.max-t.min)/t.smallStep);var n=e._calculateItemsWidth(p.floor(R(e._distance())/R(t.smallStep)));if(t.tickPlacement!="none"&&i>=2){m(this.element).parent().find(".k-slider-items").remove();e._trackDiv.before(Q(t,e._distance()));e._setItemsTitle()}e._calculateSteps(n);if(t.tickPlacement!="none"&&i>=2&&t.largeStep>=t.smallStep){e._setItemsLargeTick();e.wrapper.find(I).first().addClass("k-first");e.wrapper.find(I).last().addClass("k-last")}},getSize:function(){return g.dimensions(this.wrapper)},_setItemsTitle:function(){var e=this,t=e.options,i=e.wrapper.find(I),n=t.min,r=i.length;for(var a=0;a<=r;a+=1){m(i[a]).attr("title",l(t.tooltip.format,M(n)));n+=t.smallStep}},_setItemsLargeTick:function(){var e=this,t=e.options,i=e.wrapper.find(I),n=0,r,a;if(R(t.largeStep)%R(t.smallStep)===0||e._distance()/t.largeStep>=3){if(!e._isHorizontal&&!e._isRtl)i=m.makeArray(i).reverse();for(n=0;n<i.length;n++){r=m(i[n]);a=e._values[n];var o=M(R(a-this.options.min));if(o%R(t.smallStep)===0&&o%R(t.largeStep)===0){r.addClass("k-tick-large").html("<span class='k-label'>"+r.attr("title")+"</span>");if(n!==0&&n!==i.length-1)r.css("line-height",r[e._sizeFn]()+"px")}}}},_calculateItemsWidth:function(e){var t=this,i=t.options,n=parseFloat(t._trackDiv.css(t._sizeFn))+1,r=t._distance(),a=R(r)/R(i.smallStep),o=n/R(r),s,l,d;if(a-e>0)n-=R(r)%R(i.smallStep)*o;s=n/e;l=[];for(d=0;d<e-1;d++)l[d]=s;l[e-1]=l[e]=s/2;return t._roundWidths(l)},_roundWidths:function(e){var t=0,i=e.length,n;for(n=0;n<i;n++){t+=e[n]-p.floor(e[n]);e[n]=p.floor(e[n])}t=p.round(t);return this._addAdditionalSize(t,e)},_addAdditionalSize:function(e,t){if(e===0)return t;var i=parseFloat(t.length-1)/parseFloat(e==1?e:e-1),n;for(n=0;n<e;n++)t[parseInt(p.round(i*n),10)]+=1;return t},_calculateSteps:function(e){var t=this,i=t.options,n=i.min,r=0,a=t._distance(),o=p.ceil(R(a)/R(i.smallStep)),s=1,l;o+=R(a)/R(i.smallStep)%1===0?1:0;e.splice(0,0,e[o-2]*2);e.splice(o-1,1,e.pop()*2);t._pixelSteps=[r];t._values=[n];if(o===0)return;while(s<o){r+=(e[s-1]+e[s])/2;t._pixelSteps[s]=r;n+=i.smallStep;t._values[s]=M(n);s++}l=R(a)%R(i.smallStep)===0?o-1:o;t._pixelSteps[l]=t._maxSelection;t._values[l]=i.max;if(t._isRtl){t._pixelSteps.reverse();t._values.reverse()}},_getValueFromPosition:function(e,t){var i=this,n=i.options,r=p.max(n.smallStep*(i._maxSelection/i._distance()),0),a=0,o=r/2,s;if(i._isHorizontal){a=e-t.startPoint;if(i._isRtl)a=i._maxSelection-a}else a=t.startPoint-e;if(i._maxSelection-(parseInt(i._maxSelection%r,10)-3)/2<a)return n.max;for(s=0;s<i._pixelSteps.length;s++)if(p.abs(i._pixelSteps[s]-a)-1<=o)return M(i._values[s])},_getFormattedValue:function(e,t){var i=this,n="",r=i.options.tooltip,a,o,s;if(V(e)){o=e[0];s=e[1]}else if(t&&t.type){o=t.selectionStart;s=t.selectionEnd}if(t)a=t.tooltipTemplate;if(!a&&r.template)a=g.template(r.template);if(V(e)||t&&t.type)if(a)n=a({selectionStart:o,selectionEnd:s});else{o=l(r.format,o);s=l(r.format,s);n=o+" - "+s}else{if(t)t.val=e;if(a)n=a({value:e});else n=l(r.format,e)}return n},_getDraggableArea:function(){var e=this,t=g.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top}},_createHtml:function(){var e=this,t=e.element,i=e.options,n=t.find("input");if(n.length==2){n.eq(0).prop("value",O(i.selectionStart));n.eq(1).prop("value",O(i.selectionEnd))}else t.prop("value",O(i.value));e.wrapper=t.wrap($(i,t,e._isHorizontal)).hide().parents(".k-slider");if(i.showButtons)e.wrapper.find(".k-slider-track-wrap").after(Y(i,"increase",e._isHorizontal,e._isRtl)).before(Y(i,"decrease",e._isHorizontal,e._isRtl));t.before(X(i,t,e._isHorizontal))},_focus:function(e){var t=this,i=e.target,n=t.value(),r=t._drag;if(!r){if(i==t.wrapper.find(S).eq(0)[0]){r=t._firstHandleDrag;t._activeHandle=0}else{r=t._lastHandleDrag;t._activeHandle=1}n=n[t._activeHandle]}m(i).addClass(E+" "+D);if(r){t._activeHandleDrag=r;r.selectionStart=t.options.selectionStart;r.selectionEnd=t.options.selectionEnd;r._updateTooltip(n)}},_focusWithMouse:function(e){e=m(e);var t=this,i=e.is(S)?e.index():0;window.setTimeout(function(){t.wrapper.find(S)[i==2?1:0].focus()},1);t._setTooltipTimeout()},_blur:function(e){var t=this,i=t._activeHandleDrag;m(e.target).removeClass(E+" "+D);if(i){i._removeTooltip();delete t._activeHandleDrag;delete t._activeHandle}},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;if(e)e._removeTooltip()},300)},_clearTooltipTimeout:function(){var e=this;window.clearTimeout(this._tooltipTimeout);var t=e._drag||e._activeHandleDrag;if(t&&t.tooltipDiv)t.tooltipDiv.stop(true,false).css("opacity",1)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form");if(n[0])e._form=n.on("reset",e._formResetHandler.bind(e))},min:function(e){if(!e)return this.options.min;this.setOptions({min:e})},max:function(e){if(!e)return this.options.max;this.setOptions({max:e})},setOptions:function(e){r.fn.setOptions.call(this,e);this._sliderItemsInit();this._refresh()},destroy:function(){if(this._form)this._form.off("reset",this._formResetHandler);r.fn.destroy.call(this)}});function $(e,t,i){var n=i?" k-slider-horizontal":" k-slider-vertical",r=e.style?e.style:t.attr("style"),a=t.attr("class")?" "+t.attr("class"):"",o="";if(e.tickPlacement=="bottomRight")o=" k-slider-bottomright";else if(e.tickPlacement=="topLeft")o=" k-slider-topleft";r=r?" style='"+r+"'":"";return"<div class='k-widget k-slider"+n+a+"'"+r+">"+"<div class='k-slider-track-wrap"+o+"'></div></div>"}function Y(e,t,i){var n="";if(i)if(t==="increase")n="k-i-arrow-e";else n="k-i-arrow-w";else if(t=="increase")n="k-i-arrow-n";else n="k-i-arrow-s";return"<a role='button' class='k-button k-button-md k-rounded-full k-button-solid k-button-solid-base k-icon-button k-button-"+t+"' "+"title='"+e[t+"ButtonTitle"]+"' "+"aria-label='"+e[t+"ButtonTitle"]+"'>"+"<span class='k-button-icon k-icon "+n+"'></span></a>"}function Q(e,t){var i="<ul class='k-reset k-slider-items' role='presentation'>",n=p.floor(M(t/e.smallStep))+1,r;for(r=0;r<n;r++)i+="<li class='k-tick'></li>";i+="</ul>";return i}function X(e,t,i){var n=t.is("input")?1:2,r=n==2?e.leftDragHandleTitle:e.dragHandleTitle,a=e.value,o=e.selectionStart,s=e.selectionEnd,l,d,u;if(n===1){l=t.val();if(l!==null&&l!==f&&l!=="null")if(a===null||a===f)a=l}else{d=t.find("input").eq(0).val();u=t.find("input").eq(1).val();if(d!==null&&d!==f&&d!=="null")if(o===null||o===f)o=d;if(u!==null&&u!==f&&u!=="null")if(s===null||s===f)s=u}var c="<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div>"+"<span tabindex='0' class='k-draghandle' title='"+r+"' role='slider' "+(i===false?"aria-orientation='vertical' ":"")+"aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?o||e.min:a||e.min)+"'></span>"+(n>1?"<span tabindex='0' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' "+(i===false?"aria-orientation='vertical' ":"")+"aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(s||e.max)+"'></span>":"")+"</div>";return c}function P(t){return function(e){return e+t}}function J(e){return function(){return e}}function O(e){return(e+"").replace(".",g.cultures.current.numberFormat["."])}function Z(e){var t=e.toString();var i=0;t=t.split(".");if(t[1])i=t[1].length;i=i>10?10:i;return i}function M(e){var t,i;e=parseFloat(e,10);t=Z(e);i=p.pow(10,t||0);return p.round(e*i)/i}function z(e,t){var i=n(e.getAttribute(t));if(i===null)i=f;return i}function ee(e){return typeof e!==j}function R(e){return e*1e4}var N=u.extend({init:function(e,t){var i=this,n;e.type="text";t=B({},{value:z(e,"value"),min:z(e,"min"),max:z(e,"max"),smallStep:z(e,"step")},t);e=m(e);if(t&&t.enabled===f)t.enabled=!e.is("[disabled]");u.fn.init.call(i,e,t);t=i.options;if(!ee(t.value)||t.value===null){t.value=t.min;e.prop("value",O(t.min))}t.value=p.max(p.min(t.value,t.max),t.min);n=i.wrapper.find(S);i._selection=new N.Selection(n,i,t);i._drag=new N.Drag(n,"",i,t);i._refreshAriaAttr(t.value)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(e){var a=this,t=a.options,i,n;a.disable();if(e===false)return;a.wrapper.removeClass(A);a.wrapper.find("input").prop(F,false);i=function(e){var t=q(e)[0];if(!t)return;var i=a._isHorizontal?t.location.pageX:t.location.pageY,n=a._getDraggableArea(),r=m(e.target);if(r.hasClass("k-draghandle")){r.addClass(E+" "+D);return}a._update(a._getValueFromPosition(i,n));a._focusWithMouse(e.target);a._drag.dragstart(e);e.preventDefault()};a.wrapper.find(I+", "+T).on(c,i).end().on(c,function(){m(document.documentElement).one("selectstart",g.preventDefault)}).on(k,function(){a._drag._end()});a.wrapper.find(S).attr(H,0).on(b,function(){a._setTooltipTimeout()}).on(y,function(e){a._focusWithMouse(e.target);e.preventDefault()}).on(x,a._focus.bind(a)).on(C,a._blur.bind(a));n=function(e){var t=a._nextValueByIndex(a._valueIndex+e*1);a._setValueInRange(t);a._drag._updateTooltip(t)};if(t.showButtons){var r=function(e,t){this._clearTooltipTimeout();if(e.which===1||U.touch&&e.which===0){n(t);this.timeout=setTimeout(function(){this.timer=setInterval(function(){n(t)},60)}.bind(this),200)}}.bind(a);a.wrapper.find(".k-button").on(b,function(e){this._clearTimer();a._focusWithMouse(e.target)}.bind(a)).on(d,function(e){m(e.currentTarget).addClass("k-hover")}).on("mouseout"+o,function(e){m(e.currentTarget).removeClass("k-hover");this._clearTimer()}.bind(a)).on(s,function(e){var t=m(e.target).closest(".k-button").is(".k-button-increase")?1:-1;r(e,t)}).on("click",g.preventDefault)}a.wrapper.find(S).off(w,false).on(w,this._keydown.bind(a));t.enabled=true},disable:function(){var e=this;e.wrapper.addClass(A);m(e.element).prop(F,F);e.wrapper.find(".k-button").off(s).on(s,function(e){e.preventDefault();m(this).addClass("k-active")}).off(b).on(b,function(e){e.preventDefault();m(this).removeClass("k-active")}).off("mouseleave"+o).on("mouseleave"+o,g.preventDefault).off(d).on(d,g.preventDefault);e.wrapper.find(I+", "+T).off(c).off(k);e.wrapper.find(S).attr(H,-1).off(b).off(w).off(y).off(x).off(C);e.options.enabled=false},_update:function(e){var t=this,i=t.value()!=e;t.value(e);if(i)t.trigger(a,{value:t.options.value})},value:function(e){var t=this,i=t.options;e=M(e);if(isNaN(e))return i.value;if(e>=i.min&&e<=i.max)if(i.value!=e){t.element.prop("value",O(e));i.value=e;t._refreshAriaAttr(e);t._refresh()}},_refresh:function(){this.trigger(i,{value:this.options.value})},_refreshAriaAttr:function(e){var t=this,i=t._drag,n;if(i&&i._tooltipDiv)n=i._tooltipDiv.text();else n=t._getFormattedValue(e,null);this.wrapper.find(S).attr(K,e).attr(G,n)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(e){var t=this;if(e.keyCode in t._keyMap){t._clearTooltipTimeout();t._setValueInRange(t._keyMap[e.keyCode](t.options.value));t._drag._updateTooltip(t.value());e.preventDefault()}},_setValueInRange:function(e){var t=this,i=t.options;e=M(e);if(isNaN(e)){t._update(i.min);return}e=p.max(p.min(e,i.max),i.min);t._update(e)},_nextValueByIndex:function(e){var t=this._values.length;if(this._isRtl)e=t-1-e;return this._values[p.max(0,p.min(e,t-1))]},_formResetHandler:function(){var t=this,i=t.options.min;setTimeout(function(){var e=t.element[0].value;t.value(e===""||isNaN(e)?i:e)})},destroy:function(){var e=this;u.fn.destroy.call(e);e.wrapper.off(o).find(".k-button").off(o).end().find(S).off(o).end().find(I+", "+T).off(o).end();e._drag.draggable.destroy();e._drag._removeTooltip(true)}}),te=(N.Selection=function(o,s,l){function t(e){var t=e-l.min,i=s._valueIndex=p.ceil(M(t/l.smallStep)),n=parseInt(s._pixelSteps[i],10),r=s._trackDiv.find(".k-slider-selection"),a=s._isRtl?2:0;r[s._sizeFn](s._isRtl?s._maxSelection-n:n);o.css(s._position,n-a)}t(l.value);s.bind([h,i],function(e){t(parseFloat(e.value,10))});s.bind(a,function(e){t(parseFloat(e.sender.value(),10))})},N.Drag=function(e,t,i,n){var r=this;r.owner=i;r.options=n;r.element=e;r.type=t;r.draggable=new L(e,{distance:0,dragstart:r._dragstart.bind(r),drag:r.drag.bind(r),dragend:r.dragend.bind(r),dragcancel:r.dragcancel.bind(r)});e.click(false);e.on("dragstart",function(e){e.preventDefault()})},N.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this._dragstart(e);this.dragend()},_dragstart:function(e){var t=this,i=t.owner,n=t.options;if(!n.enabled){e.preventDefault();return}this.owner._activeDragHandle=this;i.element.off(d);i.wrapper.find("."+E).removeClass(E+" "+D);t.element.addClass(E+" "+D);m(document.documentElement).css("cursor","pointer");t.draggableArea=i._getDraggableArea();t.step=p.max(n.smallStep*(i._maxSelection/i._distance()),0);if(t.type){t.selectionStart=n.selectionStart;t.selectionEnd=n.selectionEnd;i._setZIndex(t.type)}else t.oldVal=t.val=n.value;t._removeTooltip(true);t._createTooltip()},_createTooltip:function(){var e=this,t=e.owner,i=e.options.tooltip,n="",r=m(window),a,o;if(!i.enabled)return;if(i.template)a=e.tooltipTemplate=g.template(i.template);m(".k-slider-tooltip").remove();e.tooltipDiv=m("<div class='k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body);n=t._getFormattedValue(e.val||t.value(),e);if(!e.type){o="k-callout-"+(t._isHorizontal?"s":"e");e.tooltipInnerDiv="<div class='k-callout "+o+"'>\x3c!-- --\x3e</div>";n+=e.tooltipInnerDiv}e.tooltipDiv.html(n);e._scrollOffset={top:r.scrollTop(),left:g.scrollLeft(r)};e.moveTooltip()},drag:function(e){var t=this,i=t.owner,n=e.x.location,r=e.y.location,a=t.draggableArea.startPoint,o=t.draggableArea.endPoint,s;e.preventDefault();if(i._isHorizontal)if(i._isRtl)t.val=t.constrainValue(n,a,o,n<o);else t.val=t.constrainValue(n,a,o,n>=o);else t.val=t.constrainValue(r,o,a,r<=o);if(t.oldVal!=t.val){t.oldVal=t.val;if(t.type){if(t.type=="firstHandle")if(t.val<t.selectionEnd)t.selectionStart=t.val;else t.selectionStart=t.selectionEnd=t.val;else if(t.val>t.selectionStart)t.selectionEnd=t.val;else t.selectionStart=t.selectionEnd=t.val;s={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}}else s={value:t.val};i.trigger(h,s)}t._updateTooltip(t.val)},_updateTooltip:function(e){var t=this,i=t.options,n=i.tooltip,r="";if(!n.enabled)return;if(!t.tooltipDiv)t._createTooltip();r=t.owner._getFormattedValue(M(e),t);if(!t.type)r+=t.tooltipInnerDiv;t.tooltipDiv.html(r);t.moveTooltip()},dragcancel:function(){this.owner._refresh();m(document.documentElement).css("cursor","");return this._end()},dragend:function(){var e=this,t=e.owner;m(document.documentElement).css("cursor","");if(e.type)t._update(e.selectionStart,e.selectionEnd);else{t._update(e.val);e.draggable.userEvents._disposeAll()}e.draggable.userEvents.cancel();return e._end()},_end:function(){var e=this,t=e.owner;t._focusWithMouse(e.element);t.element.on(d);return false},_removeTooltip:function(e){var t=this,i=t.owner;if(t.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled)if(e){t.tooltipDiv.remove();t.tooltipDiv=null}else t.tooltipDiv.fadeOut("slow",function(){m(this).remove();t.tooltipDiv=null})},moveTooltip:function(){var e=this,t=e.owner,i=0,n=0,r=e.element,a=g.getOffset(r),o=8,s=m(window),l=e.tooltipDiv.find(".k-callout"),d=v(e.tooltipDiv),u=_(e.tooltipDiv),c,f,p,h;if(e.type){c=t.wrapper.find(S);a=g.getOffset(c.eq(0));f=g.getOffset(c.eq(1));if(t._isHorizontal){i=f.top;n=a.left+(f.left-a.left)/2}else{i=a.top+(f.top-a.top)/2;n=f.left}h=v(c.eq(0))+2*o}else{i=a.top;n=a.left;h=v(r)+2*o}if(t._isHorizontal){n-=parseInt((d-t._outerSize(r))/2,10);i-=u+o+(l.length?l.height():0)}else{i-=parseInt((u-t._outerSize(r))/2,10);n-=d+o+(l.length?l.width():0)}if(t._isHorizontal){p=e._flip(i,u,h,_(s)+e._scrollOffset.top);i+=p;n+=e._fit(n,d,v(s)+e._scrollOffset.left)}else{p=e._flip(n,d,h,v(s)+e._scrollOffset.left);i+=e._fit(i,u,_(s)+e._scrollOffset.top);n+=p}if(p>0&&l){l.removeClass();l.addClass("k-callout k-callout-"+(t._isHorizontal?"n":"w"))}e.tooltipDiv.css({top:i,left:n})},_fit:function(e,t,i){var n=0;if(e+t>i)n=i-(e+t);if(e<0)n=-e;return n},_flip:function(e,t,i,n){var r=0;if(e+t>n)r+=-(i+t);if(e+r<0)r+=i+t;return r},constrainValue:function(e,t,i,n){var r=this,a=0;if(t<e&&e<i)a=r.owner._getValueFromPosition(e,r.draggableArea);else if(n)a=r.options.max;else a=r.options.min;return a}},g.ui.plugin(N),u.extend({init:function(e,t){var i=this,n=m(e).find("input"),r=n.eq(0)[0],a=n.eq(1)[0];r.type="text";a.type="text";if(t&&t.showButtons){if(window.console)window.console.warn("showbuttons option is not supported for the range slider, ignoring");t.showButtons=false}t=B({},{selectionStart:z(r,"value"),min:z(r,"min"),max:z(r,"max"),smallStep:z(r,"step")},{selectionEnd:z(a,"value"),min:z(a,"min"),max:z(a,"max"),smallStep:z(a,"step")},t);if(t&&t.enabled===f)t.enabled=!n.is("[disabled]");u.fn.init.call(i,e,t);t=i.options;if(!ee(t.selectionStart)||t.selectionStart===null){t.selectionStart=t.min;n.eq(0).prop("value",O(t.min))}if(!ee(t.selectionEnd)||t.selectionEnd===null){t.selectionEnd=t.max;n.eq(1).prop("value",O(t.max))}var o=i.wrapper.find(S);this._selection=new te.Selection(o,i,t);i._firstHandleDrag=new N.Drag(o.eq(0),"firstHandle",i,t);i._lastHandleDrag=new N.Drag(o.eq(1),"lastHandle",i,t);i._refreshAriaAttr(t.selectionStart,t.selectionEnd)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var d=this,u=d.options,t;d.disable();if(e===false)return;d.wrapper.removeClass(A);d.wrapper.find("input").prop(F,false);t=function(e){var t=q(e)[0];if(!t)return;var i=d._isHorizontal?t.location.pageX:t.location.pageY,n=d._getDraggableArea(),r=d._getValueFromPosition(i,n),a=m(e.target),o,s,l;if(a.hasClass("k-draghandle")){d.wrapper.find("."+E).removeClass(E+" "+D);a.addClass(E+" "+D);return}if(r<u.selectionStart){o=r;s=u.selectionEnd;l=d._firstHandleDrag}else if(r>d.selectionEnd){o=u.selectionStart;s=r;l=d._lastHandleDrag}else if(r-u.selectionStart<=u.selectionEnd-r){o=r;s=u.selectionEnd;l=d._firstHandleDrag}else{o=u.selectionStart;s=r;l=d._lastHandleDrag}l.dragstart(e);d._setValueInRange(o,s);d._focusWithMouse(l.element)};d.wrapper.find(I+", "+T).on(c,t).end().on(c,function(){m(document.documentElement).one("selectstart",g.preventDefault)}).on(k,function(){if(d._activeDragHandle)d._activeDragHandle._end()});d.wrapper.find(S).attr(H,0).on(b,function(){d._setTooltipTimeout()}).on(y,function(e){d._focusWithMouse(e.target);e.preventDefault()}).on(x,d._focus.bind(d)).on(C,d._blur.bind(d));d.wrapper.find(S).off(w,g.preventDefault).eq(0).on(w,function(e){this._keydown(e,"firstHandle")}.bind(d)).end().eq(1).on(w,function(e){this._keydown(e,"lastHandle")}.bind(d));d.options.enabled=true},disable:function(){var e=this;e.wrapper.addClass(A);e.wrapper.find("input").prop(F,F);e.wrapper.find(I+", "+T).off(c).off(k);e.wrapper.find(S).attr(H,-1).off(b).off(w).off(y).off(x).off(C);e.options.enabled=false},_keydown:function(e,t){var i=this,n=i.options.selectionStart,r=i.options.selectionEnd,a,o,s;if(e.keyCode in i._keyMap){i._clearTooltipTimeout();if(t=="firstHandle"){s=i._activeHandleDrag=i._firstHandleDrag;n=i._keyMap[e.keyCode](n);if(n>r)r=n}else{s=i._activeHandleDrag=i._lastHandleDrag;r=i._keyMap[e.keyCode](r);if(n>r)n=r}i._setValueInRange(M(n),M(r));a=Math.max(n,i.options.selectionStart);o=Math.min(r,i.options.selectionEnd);s.selectionEnd=Math.max(o,i.options.selectionStart);s.selectionStart=Math.min(a,i.options.selectionEnd);s._updateTooltip(i.value()[i._activeHandle]);e.preventDefault()}},_update:function(e,t){var i=this,n=i.value();var r=n[0]!=e||n[1]!=t;i.value([e,t]);if(r)i.trigger(a,{values:[e,t],value:[e,t]})},value:function(e){if(e&&e.length)return this._value(e[0],e[1]);else return this._value()},_value:function(e,t){var i=this,n=i.options,r=n.selectionStart,a=n.selectionEnd;if(isNaN(e)&&isNaN(t))return[r,a];else{e=M(e);t=M(t)}if(e>=n.min&&e<=n.max&&t>=n.min&&t<=n.max&&e<=t)if(r!=e||a!=t){i.element.find("input").eq(0).prop("value",O(e)).end().eq(1).prop("value",O(t));n.selectionStart=e;n.selectionEnd=t;i._refresh();i._refreshAriaAttr(e,t)}},values:function(e,t){if(V(e))return this._value(e[0],e[1]);else return this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(i,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]});if(t.selectionStart==t.max&&t.selectionEnd==t.max)e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var i=this,n=i.wrapper.find(S),r=i._activeHandleDrag,a;a=i._getFormattedValue([e,t],r);n.eq(0).attr(K,e);n.eq(1).attr(K,t);n.attr(G,a)},_setValueInRange:function(e,t){var i=this.options;e=p.max(p.min(e,i.max),i.min);t=p.max(p.min(t,i.max),i.min);if(e==i.max&&t==i.max)this._setZIndex("firstHandle");this._update(p.min(e,t),p.max(e,t))},_setZIndex:function(t){this.wrapper.find(S).each(function(e){m(this).css("z-index",t=="firstHandle"?1-e:e)})},_formResetHandler:function(){var n=this,r=n.options;setTimeout(function(){var e=n.element.find("input");var t=e[0].value;var i=e[1].value;n.values(t===""||isNaN(t)?r.min:t,i===""||isNaN(i)?r.max:i)})},destroy:function(){var e=this;u.fn.destroy.call(e);e.wrapper.off(o).find(I+", "+T).off(o).end().find(S).off(o);e._firstHandleDrag.draggable.destroy();e._lastHandleDrag.draggable.destroy()}}));return te.Selection=function(l,d,u){function t(e){e=e||[];var t=e[0]-u.min,i=e[1]-u.min,n=p.ceil(M(t/u.smallStep)),r=p.ceil(M(i/u.smallStep)),a=d._pixelSteps[n],o=d._pixelSteps[r],s=d._isRtl?2:0;l.eq(0).css(d._position,a-s).end().eq(1).css(d._position,o-s);c(a,o)}function c(e,t){var i,n,r=d._trackDiv.find(".k-slider-selection");i=p.abs(e-t);r[d._sizeFn](i);if(d._isRtl){n=p.max(e,t);r.css("right",d._maxSelection-n-1)}else{n=p.min(e,t);r.css(d._position,n-1)}}t(d.value());d.bind([a,h,i],function(e){t(e.values)})},g.ui.plugin(te),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorselector.min",["kendo.core.min"],function(){var e=window.kendo.jQuery,i=void 0,n=window.kendo,t=n.ui,r=t.Widget,a=n.parseColor,o=n.ui.Popup.TabKeyTrap,s=e.extend,l=".kendoColorTools",d="keydown"+l,u="k-disabled",c=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);e=i.element;t=i.options;if(e.is("input")){i._initialValue();i._preventDefaultLabelClick()}else i._value=a(t.value);i._tabIndex=e.attr("tabIndex")||0;if(t._standalone)i._triggerSelect=i._triggerChange},options:{name:"ColorSelector",ARIATemplate:'Current selected color is #=data || "none"#',value:null,_standalone:true},events:["change","select","forceSelect","cancel"],color:function(e){if(e!==i){this._value=a(e);if(this.element.is("input"))this._updateInput(this._value);this._updateUI(this._value)}return this._value},value:function(e){e=this.color(e);if(e)if(this.options.opacity)e=e.toCssRgba();else e=e.toCss();return e||null},enable:function(e){if(arguments.length===0)e=true;if(this.element.is("input"))this.element.attr("disabled",!e);this.wrapper.toggleClass(u,!e);this._onEnable(e)},_attachFocusEvents:function(){this.wrapper.on(d,this._navKeydown.bind(this)).on("focusout"+l,this._navFocusout.bind(this))},_initialValue:function(){var e=this.element,t=this.options,i=t.value||e.attr("value");if(i)this._value=a(i,true);this.element.val(i)},_innerTabindex:function(e){var t=this.wrapper;t.find(".k-draghandle, .k-button, .k-input-inner").attr("tabindex",e)},_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_navFocusout:function(){var e=this,t=e.wrapper[0];setTimeout(function(){if(!t.contains(document.activeElement))e._releaseInnerFocus()})},_navKeydown:function(e){var t=this.wrapper;if(e.keyCode===n.keys.ENTER&&t.attr("tabindex")){e.preventDefault();this._trapInnerFocus()}else if(e.keyCode===n.keys.ESC&&t.attr("tabindex")===i){this._releaseInnerFocus();this.wrapper.trigger("focus")}},_releaseInnerFocus:function(){this._tabKeyTrap.removeTrap();this.wrapper.attr("tabindex",this._tabIndex);this._innerTabindex(-1)},_select:function(e,t){var i=this._value;e=this.color(e);if(!t)if(e&&(!i||!e.equals(i))||e===null&&e!==i){this.element.trigger("change");this.trigger("change",{value:this.value()})}else if(!this._standalone)this.trigger("cancel")},_navigation:function(){var e=this.value();if(e&&e.indexOf("rgba")>-1)e=e.replace("rgba","RGBA");if(this.options._otOfPicker){this._innerTabindex(-1);this._attachFocusEvents();this._tabKeyTrap=new o(this.wrapper);this._ariaTemplate=n.template(this.options.ARIATemplate);this.wrapper.attr({"aria-label":this._ariaTemplate(e||""),tabindex:this._tabIndex})}else{this.wrapper.removeAttr("tabindex");this.wrapper.removeAttr("aria-label");this.wrapper.removeAttr("role");this.wrapper.removeAttr("aria-keyshortcuts")}},_trapInnerFocus:function(){this._innerTabindex(0);this.wrapper.removeAttr("tabindex");this.wrapper.find(".k-hsv-draghandle").trigger("focus");this._tabKeyTrap.trap()},_triggerSelect:function(e){f(this,"select",e)},_triggerChange:function(e){f(this,"change",e)},destroy:function(){if(this.element)this.element.off(l);if(this.wrapper){this.wrapper.off(d);this.wrapper.off(l).find("*").off(l);this.wrapper=null}r.fn.destroy.call(this)},_preventDefaultLabelClick:function(){var e=this.element,t=e.closest("label"),i=e.attr("id");if(i)t=t.add('label[for="'+i+'"]');t.on("click",function(e){e.preventDefault()})},_updateUI:e.noop,_updateInput:function(e){var t="",i;if(e){if(this._isInputTypeColor()||e.a==1)t=e.toCss();else t=e.toCssRgba();this.element.val(t)}if(this.options._otOfPicker){if(!this._ariaTemplate)this._ariaTemplate=n.template(this.options.ARIATemplate);i=this.value();if(i&&i.indexOf("rgba")>-1)i=i.replace("rgba","RGBA");this.wrapper.attr("aria-label",this._ariaTemplate(i||""))}},_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function f(e,t,i){i=a(i);if(i&&!i.equals(e.color())||i!==e.color()){if(t=="change"){e._value=i;e._updateInput(e._value)}if(i&&i.a!=1)i=i.toCssRgba();else if(i)i=i.toCss();e.trigger(t,{value:i})}}return s(t,{colorpicker:{ColorSelector:c}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/contrastToolUtils.min",["kendo.core.min"],function(){var e=window.kendo.jQuery,t=void 0,i=kendo.ui.colorpicker,f=e.extend,a=kendo.Color,p=kendo.parseColor,n=4.5,r=7,h=16;function o(e,t){var i=Math.max(e,t);var n=Math.min(e,t);return(i+.05)/(n+.05)}function m(e,t){return o(s(l(e,t)),s(l(t,{r:0,g:0,b:0,a:1})))}function s(e){var t=[e.r,e.g,e.b].map(function(e){e/=255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return t[0]*.2126+t[1]*.7152+t[2]*.0722}function l(e,t){var i=d(e.r,0,255);var n=d(e.g,0,255);var r=d(e.b,0,255);var a=d(e.a,0,1);var o=d(t.r,0,255);var s=d(t.g,0,255);var l=d(t.b,0,255);return{r:Math.round((1-a)*o+a*i),g:Math.round((1-a)*s+a*n),b:Math.round((1-a)*l+a*r)}}function d(e,t,i){if(!u(e)||isNaN(e))return t;return e<=t?t:e>=i?i:e}function u(e){return e!==null&&e!==t}function c(l,d,u){var c=function(e,t,i,n,r){var a=(i+n)/2;var o=f({},d,{s:t/l.width,v:1-a/l.height});var s=m(p(k(o)).toBytes(),p(u).toBytes());if(i+.5>n)if(s<e+1&&s>e-1)return a;else return null;if(r(s,e))return c(e,t,i,n-(n-i)/2,r);return c(e,t,i+(n-i)/2,n,r)};var o=function(e,t){return e>t};var s=function(e,t){return e<t};var e=function(e,t,i){var n=[];for(var r=0;r<=l.width;r+=l.width/t){var a=c(e,r,0,l.height,i?s:o);if(a!==null)n.push([r,a])}return n};var t=v(_(b));var i=g(e(n,h,false),t)+g(e(n,h,true),t)+g(e(r,h,false),t)+g(e(r,h,true),t);return'<svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;" >'+i+"</svg>"}function g(e,r){if(e.length===0)return"";var t=function(e,t,i,n){return i===0?kendo.format("M {0},{1}",t[0],t[1]):kendo.format("{0} {1}",e,r(t,i,n))};var i=e.reduce(t,"");return kendo.format('<path d="{0}" fill="none" stroke="white" stroke-width="1"/>',i)}function v(a){return function(e,t,i){var n=a(i[t-1],i[t-2],e);var r=a(e,i[t-1],i[t+1],true);return kendo.format("C {0},{1} {2},{3} {4},{5}",n[0],n[1],r[0],r[1],e[0],e[1])}}function _(f){return function(e,t,i,n){var r=t||e;var a=i||e;var o=.1;var s=f(r,a);var l=s.angle+(n?Math.PI:0);var d=s.length*o;var u=e[0]+Math.cos(l)*d;var c=e[1]+Math.sin(l)*d;return[u,c]}}function b(e,t){var i=t[0]-e[0];var n=t[1]-e[1];return{length:Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),angle:Math.atan2(n,i)}}function k(e){var t=d(e.h,0,359.9);var i=d(e.s,0,1);var n=d(e.v,0,1);var r=d(e.a,0,1);return a.fromHSV(t,i,n,r).toCssRgba()}return f(i,{contrastToolUtils:{getContrastFromTwoRGBAs:m,renderSvgCurveLine:c}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorgradient.min",["kendo.core.min","kendo.popup.min","./contrastToolUtils.min"],function(){var e={id:"colorgradient",name:"ColorGradient",category:"web",description:"ColorGradient allows selection of a color from an HSV canvas.",depends:["core","popup","textbox"]},o=window.kendo.jQuery,t=void 0,l=window.kendo,i=l.ui,n=l.Observable,d=l.parseColor,r=o.extend,u=l.Color,a=l.keys,s="background-color",c="#ffffff",f="#000000",p,h="keydown"+".kendoColorTools",m=i.colorpicker.ColorSelector,g=i.colorpicker.contrastToolUtils;function v(e){e.preventDefault()}function _(e,t){return function(){return e.apply(t,arguments)}}var b=n.extend({init:function(e,t){var i=this;i.element=e;i.options=t;i._viewModel=l.observable({switchMode:i.switchMode.bind(i),keydown:i.keydown.bind(i),mode:function(e){return e===this.get("format")},format:t.format,formats:t.formats,rgb:null,hex:function(){return this.get("rgb")!==null&&this.get("rgb").toCss({alpha:t.opacity})}});i._changeHandler=i.change.bind(i);i._viewModel.bind("change",i._changeHandler);i._render();i.element.on(h,i.keydown.bind(i));n.fn.init.call(i)},_template:l.template("# if (options.formats && options.formats.length > 1) { #"+'<div class="k-vstack">'+'<button class="k-colorgradient-toggle-mode" data-#:ns#role="button" data-#:ns#icon="arrows-kpi" data data-#:ns#bind="click: switchMode" data-#:ns#fill-mode="flat" data-#:ns#size="#: options.size #" title="#: options.messages.toggleFormat #">'+"</button>"+"</div>"+"# } #"+'# if (options.formats && options.formats.indexOf("hex") >= 0) { #'+'<div class="k-vstack k-flex-1" data-#:ns#bind="visible: mode(\'hex\')">'+'<input type="text" data-#:ns#bind="value: hex" data-#:ns#role="textbox" data-#:ns#size="#: options.size #" tabindex="#:options.tabindex#"  aria-label="#: options.messages.hex #"/>'+'<label class="k-colorgradient-input-label">HEX</label>'+"</div>"+"# } #"+'# if (options.formats && options.formats.indexOf("rgb") >= 0) { #'+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.r" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.red #" />'+'<label class="k-colorgradient-input-label">R</label>'+"</div>"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.g" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.green #" />'+'<label class="k-colorgradient-input-label">G</label>'+"</div>"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.b" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.blue #"/>'+'<label class="k-colorgradient-input-label">B</label>'+"</div>"+"#if(options.opacity){#"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.a" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#step="0.1" data-#:ns#max="1" data-#:ns#min="0" data-#:ns#decimals="1" data-#:ns#spinners="false" data-#:ns#format="n1"  aria-label="#: options.messages.alpha #" />'+'<label class="k-colorgradient-input-label">A</label>'+"</div>"+"# } #"+"# } #"),destroy:function(){var e=this;e._viewModel.unbind("change",e._changeHandler);l.unbind(e.element);l.destroy(e.element);e.element.off(h);delete e._viewModel;delete e._changeHandler},change:function(e){var t=this;if(e.field.indexOf("rgb")>=0){t._color=t._tryParseColor(t._viewModel.rgb.toCssRgba());t._viewModel.set("hex",t._color.toCss({alpha:t.options.opacity}))}else if(e.field==="hex"){t._color=t._tryParseColor(e.sender[e.field]);t._viewModel.set("rgb",t._color)}if(!t._preventChangeEvent)t.trigger("change",{value:t._color})},keydown:function(e){var t=this,i=o(e.target).data("kendoTextBox");if(e.keyCode===a.ENTER&&o(e.target).is("input")){if(i&&i._change)i._change();t.trigger("change",{value:t._color});t.trigger("select",{value:t._color})}},reset:function(){var e=this;e._preventChangeEvent=true;e._viewModel.set("rgb",d(f));delete e._preventChangeEvent},switchMode:function(){var e=this,t=e._viewModel,i=t.format,n=t.formats.indexOf(i)+1;n=n>=t.formats.length?0:n;e._preventChangeEvent=true;e._viewModel.set("format",t.formats[n]);delete e._preventChangeEvent},value:function(e){var t=this;t._color=e&&e.toBytes()||d(f);t._preventChangeEvent=true;t._viewModel.set("rgb",t._color);delete t._preventChangeEvent},_render:function(){var e=this;e.element.append(e._template({ns:l.ns,guid:l.guid(),options:e.options})).parent();l.bind(e.element,e._viewModel);e.element.attr("data-"+l.ns+"stop","stop")},_tryParseColor:function(t){var i=this;try{t=d(t)||i._color}catch(e){t=i._color}return t}}),k=m.extend({init:function(e,t){var i=this,n;m.fn.init.call(i,e,t);t=i.options=l.deepExtend({},i.options,t);if(t.messages.previewInput)t.messages.hex=t.messages.previewInput;t.messages=t.messages?o.extend(i.options.messages,t.messages):i.options.messages;e=i.element;i._wrapper();i._sliders();i._hsvArea();n=i._value;i._gradientInputs();i._updateUI(n);i._navigation()},options:{name:"ColorGradient",opacity:false,hsvDragARIATemplate:'Color well with two-dimensional slider for selecting saturation and value. Selected color is #=data || "none"#',input:true,format:"hex",formats:["rgb","hex"],contrastTool:false,size:"medium",messages:{contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red channel",green:"Green channel",blue:"Blue channel",alpha:"Alpha channel"},_otOfPicker:true},_template:l.template('<div class="k-colorgradient-canvas k-hstack">'+'<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div role="slider" aria-orientation="undefined" class="k-hsv-draghandle k-draghandle"></div></div>'+'<div class="k-hsv-controls k-hstack">'+'<input class="k-hue-slider k-colorgradient-slider" />'+"# if (opacity) { #"+'<input class="k-alpha-slider k-colorgradient-slider" />'+"# } #"+"</div>"+"</div>"+"# if (input) { #"+'<div class="k-colorgradient-inputs k-hstack">'+"</div>"+"# } #"+"# if (contrastTool) { #"+'<div class="k-colorgradient-color-contrast k-vbox">'+"</div>"+"# } #"),focus:function(){this._hsvHandle.focus()},setBackgroundColor:function(e){var t=this;if(t.options.contrastTool){t.options.contrastTool=o.isPlainObject(t.options.contrastTool)?r({},t.options.contrastTool,{backgroundColor:e}):{backgroundColor:e};t._updateColorContrast(t.color()||d(c))}},_getHSV:function(e,t,i,n){var r=this,a=r._hsvRect,o=a.width(),s=a.height(),l=this._hsvHandle.position();if(!o||!s)return r.color()?r.color().toHSV():d(f);if(e==null)e=r._hueSlider.value();if(t==null)t=l.left/o;if(i==null)i=1-l.top/s;if(n==null)n=r._opacitySlider?r._opacitySlider.value()/100:1;return u.fromHSV(e,t,i,n)},_gradientInputs:function(){var i=this,e=i.options;if(i._colorgradientInputs.length){i._colorInput=new b(i._colorgradientInputs,r({},e,{tabindex:0}));i._colorInput.bind("change",function(e){i._updateUI(e.value,true)});i._colorInput.bind("select",function(e){var t=d(e.value);i._select(t);i.trigger("forceSelect",{value:i.value()})})}},_hsvArea:function(){var d=this,e=d.wrapper,t=e.find(".k-hsv-rectangle"),i=t.find(".k-draghandle").attr("tabIndex",0).on(h,_(d._hsvKeydown,d)),n=this.value();if(n&&n.indexOf("rgba")>-1)n=n.replace("rgba","RGBA");if(!this._hsvDragAriaTemplate)this._hsvDragAriaTemplate=l.template(this.options.hsvDragARIATemplate);i.attr("aria-label",this._hsvDragAriaTemplate(n||""));function r(e,t){var i=this.offset,n=e-i.left,r=t-i.top,a=this.width,o=this.height,s,l;n=n<0?0:n>a?a:n;r=r<0?0:r>o?o:r;s=n/a;l=1-r/o;d._svChange(s,l)}d._hsvEvents=new l.UserEvents(t,{global:true,press:function(e){this.offset=l.getOffset(t);this.width=t.width();this.height=t.height();i.focus();r.call(this,e.x.location,e.y.location)},start:function(){t.addClass("k-dragging");i.focus()},move:function(e){e.preventDefault();r.call(this,e.x.location,e.y.location)},end:function(){t.removeClass("k-dragging")}});d._hsvRect=t;d._hsvHandle=i},_hsvKeydown:function(n){var r=this;function e(e,t){var i=r._getHSV();i[e]+=t*(n.shiftKey?.01:.05);if(i[e]<0)i[e]=0;if(i[e]>1)i[e]=1;r._updateUI(i);v(n)}function t(e){var t=r._getHSV();t.h+=e*(n.shiftKey?1:5);if(t.h<0)t.h=0;if(t.h>359)t.h=359;r._updateUI(t);v(n)}switch(n.keyCode){case a.LEFT:if(n.ctrlKey)t(-1);else e("s",-1);break;case a.RIGHT:if(n.ctrlKey)t(1);else e("s",1);break;case a.UP:e(n.ctrlKey&&r._opacitySlider?"a":"v",1);break;case a.DOWN:e(n.ctrlKey&&r._opacitySlider?"a":"v",-1);break;case a.ENTER:r._select(r._getHSV());break;case a.F2:r._colorInput.element.find("input").trigger("focus").select();break;case a.ESC:r._cancel();break}},_onEnable:function(e){var t=this.wrapper;this._hueSlider.enable(e);if(this._opacitySlider)this._opacitySlider.enable(e);t.find("input").attr("disabled",!e);if(this.options._standalone)if(e)t.removeAttr("aria-disabled");else t.attr("aria-disabled",true)},_reset:function(){var e=this;if(e._colorInput)e._colorInput.reset();e._resetHsv();e._resetColorContrast()},_resetColorContrast:function(){var e=this,t=e.options.contrastTool;if(e._contrastTool.length)e._updateColorContrast(t.backgroundColor?d(t.backgroundColor):d(c))},_resetHsv:function(){var e=this,t=d(f);e._updateHsv(t)},_sliders:function(){var t=this,e=t.wrapper,i=e.find(".k-hue-slider"),n=e.find(".k-alpha-slider");function r(e){t._updateUI(t._getHSV(e.value,null,null,null))}i.attr("aria-label","hue");t._hueSlider=i.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:false,orientation:"vertical",slide:r,change:r}).data("kendoSlider");function a(e){t._updateUI(t._getHSV(null,null,null,e.value/100))}n.attr("aria-label","opacity");t._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,orientation:"vertical",slide:a,change:a}).data("kendoSlider")},_svChange:function(e,t){var i=this._getHSV(null,e,t,null);this._updateUI(i)},_updateColorContrast:function(e){var t=this,i=t.options.contrastTool,n=i.backgroundColor?d(i.backgroundColor):d(c),r=g.getContrastFromTwoRGBAs(d(e.toCssRgba()),n),a=l.template('<div class="k-contrast-ratio">'+'<span class="k-contrast-ratio-text">#:messages.contrastRatio# #:kendo.toString(ratio, "n2")#</span>'+'<span class="k-contrast-validation k-text-success">'+"#if (ratio > 4.5) {#"+'<span class="k-icon k-i-check"></span>'+"#}#"+"#if (ratio > 7) {#"+'<span class="k-icon k-i-check"></span>'+"#}#"+"</span></div>"),o=l.template("<div>"+"<span>#:level#: #:limit# </span>"+"#if (ratio > limit) {#"+'<span class="k-contrast-validation k-text-success">#:messages.pass# <span class="k-icon k-i-check"></span></span>'+"#} else {#"+'<span class="k-contrast-validation k-text-error">#:messages.fail# <span class="k-icon k-i-close"></span></span>'+"#}#"+"</div>"),s="";s+=a({messages:t.options.messages,ratio:r});s+=o({messages:t.options.messages,ratio:r,limit:4.5,level:"AA"});s+=o({messages:t.options.messages,ratio:r,limit:7,level:"AAA"});t._contrastTool.find(".k-contrast-ratio, div").remove();t._contrastTool.append(s);t._updateContrastSvg(n)},_updateContrastSvg:function(e){var t=this,i=t._hsvRect,n="k-color-contrast-svg",r={width:i.width(),height:i.height()},a;if(!r.width||!r.height)return;a=o(g.renderSvgCurveLine(r,t._getHSV(),e)).addClass(n);i.find("."+n).remove();i.append(a)},_updateHsv:function(e){var t=this,i=t._hsvRect;e=e.toHSV();t._hsvHandle.css({left:e.s*i.width()+"px",top:(1-e.v)*i.height()+"px"});t._hueElements.css(s,u.fromHSV(e.h,1,1,1).toCss());t._hueSlider.value(e.h);if(t._opacitySlider){t._opacitySlider.wrapper.find(".k-slider-track").css("background","linear-gradient(to top, transparent, "+u.fromHSV(e.h,1,1,1).toCss());t._opacitySlider.value(100*e.a)}t._updateHsvAria(e.s,e.v)},_updateHsvAria:function(e,t){var i=this.value();if(i&&i.indexOf("rgba")>-1)i=i.replace("rgba","RGBA");this._hsvHandle.attr({"aria-label":this._hsvDragAriaTemplate(i||""),"aria-valuenow":Math.round(e*100),"aria-valuetext":"saturation: "+Math.round(e*100)+"%, value: "+Math.round(t*100)+"%"})},_updateUI:function(e,t){var i=this;if(!e){i._reset();return}if(!t&&i._colorInput)i._colorInput.value(e);i._triggerSelect(e);i._updateHsv(e);if(i._contrastTool.length)i._updateColorContrast(e)},_wrapper:function(){var e=this.options,t;if(this.element.is("input"))t=this.element.addClass("k-hidden").wrap("<div>").parent();else t=this.element;t.addClass("k-colorgradient").attr({role:"textbox","aria-keyshortcuts":"Enter"}).append(this._template(e));this._hueElements=o(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",t);this._colorgradientInputs=o(".k-colorgradient-inputs",t);this._contrastTool=o(".k-colorgradient-color-contrast",t);this.wrapper=t},destroy:function(){this._hsvEvents.destroy();this._hueSlider.destroy();if(this._opacitySlider)this._opacitySlider.destroy();if(this._colorInput)this._colorInput.destroy();this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=this._contrastTool=null;m.fn.destroy.call(this)}});return i.plugin(k),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorpalette.min",["kendo.core.min"],function(){var n=window.kendo.jQuery,e=void 0,r=window.kendo,t=r.ui,a=r.parseColor,s=r.keys,l=".",o="background-color",d="k-selected",u="k-focus",c="k-colorpalette-tile",i="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",f="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",p=".kendoColorTools",h="focus"+p,m="click"+p,g="keydown"+p,v="blur"+p,_=t.colorpicker.ColorSelector;function b(e){e.preventDefault()}function k(e,t){return function(){return e.apply(t,arguments)}}function w(e,t,i){e=Array.prototype.slice.call(e);var n=e.length;var r=e.indexOf(t);if(r<0)return i<0?e[n-1]:e[0];r+=i;if(r<0)r+=n;else r%=n;return e[r]}var y=_.extend({init:function(e,t){var i=this;_.fn.init.call(i,e,t);i._tabIndex=this.element.attr("tabindex")||0;i._wrapper();t=i.options;i._selectedID=(t.ariaId||r.guid())+"_selected";i._ariaTemplate=r.template(i.options.ARIATemplate);if(i._value){i._updateUI(i._value);i.wrapper.find(l+u).removeClass(u)}i.wrapper.attr("aria-label",i._ariaTemplate(i.value()||""));i._attachEvents()},focus:function(){if(this.wrapper&&!this.wrapper.is("[unselectable='on']"))this.wrapper.trigger("focus")},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_attachEvents:function(){var t=this;t.wrapper.on(m,l+c,function(e){t._select(e.currentTarget)}).on(g,k(t._keydown,t)).on(v,function(){t.wrapper.find(l+c).removeClass(u)}).on(h,k(t._focus,t))},_colors:function(){var e=this.options,t=e.palette||"basic";if(t=="websafe"){t=f;e.columns=18}else if(t=="basic")t=i;if(typeof t=="string")t=t.split(",");if(Array.isArray(t))t=n.map(t,function(e){return a(e)});return t},_current:function(e){this.wrapper.find(l+c).removeClass(u).removeAttr("id");n(e).addClass(u).attr("id",this._selectedID);this.wrapper.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_focus:function(){var e=this.wrapper,t=e.find("#"+this._selectedID);if(t.length===0)this._current(e.find(l+c).first())},_keydown:function(e){var t,i=this.wrapper,n=i.find(l+c),r=n.filter(l+u).get(0)||n.filter(l+d).get(0),a=e.keyCode,o;if(r)o=Array.prototype.indexOf.call(r.parentNode.children,r);if(a==s.LEFT)t=r?r.previousSibling:n[n.length-1];else if(a==s.RIGHT)t=r?r.nextSibling:n[0];else if(a==s.DOWN)t=r?r.parentNode.nextSibling?r.parentNode.nextSibling.children[o]:null:n[0];else if(a==s.UP)t=r?r.parentNode.previousSibling?r.parentNode.previousSibling.children[o]:null:n.get[n.length-1];else if(a==s.ENTER){b(e);if(r){this._select(r);this.trigger("forceSelect",{value:this.value()});return}}else if(a==s.ESC)this._cancel();if(t&&t.nodeType!==1)t=null;if(t){b(e);this._current(t)}},_onEnable:function(e){if(this.options._standalone)if(e){this.wrapper.attr("tabindex",this._tabIndex);this.wrapper.removeAttr("aria-disabled")}else{this.wrapper.removeAttr("tabindex");this.wrapper.attr("aria-disabled",true)}},_select:function(e){var t=this,i=t.wrapper.find(l+c);e=n(e);_.fn._select.call(t,e.css(o));i.removeClass(d).removeAttr("aria-selected");e.addClass(d).attr("aria-selected",true)},_template:r.template('<div class="k-colorpalette-table-wrap">'+'<table class="k-colorpalette-table k-palette" role="presentation"><tr role="row">'+"# for (var i = 0; i < colors.length; ++i) { #"+"# var selected = colors[i].equals(value); #"+'# if (i && i % columns == 0) { # </tr><tr role="row"> # } #'+'<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"'+'#= selected ? " aria-selected=true" : "" # '+'#=(id && i === 0) ? "id=\\""+id+"\\" " : "" # '+'class="k-colorpalette-tile#= selected ? " '+d+'" : "" #" '+'aria-label="#= colors[i].toCss() #"></td>'+"# } #"+"</tr></table></div>"),_tileSize:function(){var e=this.options.tileSize,t,i;if(e){if(/number|string/.test(typeof e))t=i=parseFloat(e);else if(typeof e=="object"){t=parseFloat(e.width);i=parseFloat(e.height)}else throw new Error("Unsupported value for the 'tileSize' argument");this.wrapper.find(l+c).css({width:t,height:i})}},_updateUI:function(t){var i=null,e=this.wrapper.find(l+c);this.wrapper.find(l+c).each(function(){var e=a(n(this).css(o));if(e&&e.equals(t)){i=this;return false}});this._current(i);e.removeClass(d);if(i){n(i).addClass(d);this.wrapper.attr("aria-label",this._ariaTemplate(this.value()||""))}},_wrapper:function(){var e=this.options,t=this._colors(),i;if(this.element.is("input"))i=this.element.addClass("k-hidden").wrap("<div>").parent();else i=this.element;i.addClass("k-colorpalette").attr("role","grid").append(n(this._template({colors:t,columns:e.columns,tileSize:e.tileSize,value:this._value,id:e.ariaId}))).attr("tabindex",this._tabIndex);this.wrapper=i;this._tileSize()}});return t.plugin(y),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/flatcolorpicker.min",["./colorgradient.min","./colorpalette.min","kendo.html.button.min"],function(){var o=window.kendo.jQuery,e=void 0,r=window.kendo,t=r.ui,n=r.html,s=r.Color,a=o.extend,l="background-color",i,d=".kendoColorTools",u="click"+d,c="keydown"+d,f=t.colorpicker.ColorSelector,p=r.keys,h="k-no-color",m="k-selected",g=".k-color-preview-mask",v="aria-pressed",_="aria-disabled",b={gradient:t.ColorGradient,palette:t.ColorPalette};function k(e,t){return function(){return e.apply(t,arguments)}}var w=f.extend({init:function(e,t){var i=this;if(t&&t.autoupdate===false)t._standalone=false;f.fn.init.call(i,e,t);t=i.options=r.deepExtend({},i.options,t);e=i.element;i._wrapper();var n=i.color();i._changeView(t.view);i._setViewSize();if(n){i._updateUI(n);i._previousColor.children(g).css(l,n.toDisplay());i._selectedColor.children(g).css(l,n.toDisplay())}else{i._selectedColor.addClass(h);i._previousColor.addClass(h)}i._attachEvents();i._navigation()},destroy:function(){var e=this;f.fn.destroy.call(this);if(e._view){e._view.destroy();e._viewsContainer.empty()}e.element.off(d);e._selectedColor=e._previousColor=e._viewsContainer=e._view=null},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,clearButton:false,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],palette:null,autoupdate:true,backgroundColor:null,columns:10,tileSize:24,messages:{apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},size:"medium",_otOfPicker:true},setBackgroundColor:function(e){var t=this;if(t._view&&t._view.setBackgroundColor)t._view.setBackgroundColor(e)},_attachEvents:function(){var i=this;i.wrapper.on(c,k(i._keydown,i)).on(u,".k-coloreditor-reset",function(){i._clearColor=true;i._updateUI(null);i._view.value(null)}).on(u,".k-coloreditor-apply",function(){if(i._clearColor)i._select(null);else i._select(i._view.color())}).on(u,".k-coloreditor-cancel",function(){delete i._clearColor;i._updateUI(i.color());i._cancel()}).on(u,".k-button[data-view]",function(e){var t=o(e.target).closest("[data-view]");if(t.is("."+m))return;i.wrapper.find(".k-button[data-view]").removeClass(m).attr(v,false);t.addClass(m).attr(v,true);i._changeView(t.data("view"))})},_select:function(e){var t=this;f.fn._select.call(t,e);t._updatePreviousColor(e)},_updatePreviousColor:function(e){var t=this;if(e){t._previousColor.removeClass(h);t._previousColor.children(g).css(l,e.toDisplay())}else{t._previousColor.addClass(h);t._previousColor.children(g).css(l,"")}},_changeView:function(e){var t=this,i=o.extend({},t.options),n=b[e],r,a;if(t._view&&t._view._colorInput)t.options.format=t._view._colorInput._viewModel.format;t.options.view=e;delete i.name;delete i.change;delete i.select;delete i.cancel;delete i._standalone;if(t._view){r=t._view.color();t._view.destroy();t._viewsContainer.empty()}if(r){r=r.toHSV();a=s.fromHSV(t._cachedHue||0,r.s,r.v,r.a);t._cachedHue=r.toHSV().h;r=r.equals(a)?a:r}i._otOfPicker=false;if(n){t._view=new b[e](o("<div></div>").appendTo(t._viewsContainer),i);t._view.value(r);t._view.bind("change",function(e){delete t._clearColor;t._updateUI(e.sender.color(),true)});t._view.bind("forceSelect",function(e){delete t._clearColor;t._select(e.sender.color())})}},_onEnable:function(e){var t=this;if(t._view)t._view._onEnable(e);if(t.options._standalone)if(e)t.wrapper.removeAttr(_);else t.wrapper.attr(_,true)},focus:function(){var e=this;if(e._view)e._view.focus()},_updateUI:function(e,t){var i=this;if(e&&e.toDisplay){i._selectedColor.removeClass(h);i._selectedColor.children(g).css(l,e.toDisplay())}else{i._selectedColor.addClass(h);i._selectedColor.children(g).css(l,"")}i._triggerSelect(e);if(i.options.autoupdate)i._updatePreviousColor(e);if(!t)i._view.value(e)},_setViewSize:function(){var e=this,t=e.wrapper[0],i=parseInt(e.options.tileSize.width||e.options.tileSize,10),n=parseInt(e.options.tileSize.width||e.options.tileSize,10),r=e.options.columns;t.style.setProperty("--kendo-color-preview-columns",r);t.style.setProperty("--kendo-color-preview-width",i+"px");t.style.setProperty("--kendo-color-preview-height",n+"px")},_keydown:function(e){if(e.keyCode==p.ESC)this._cancel()},_template:function(){var e=this,t=e.options,i=a({},t,{fillMode:"flat",themeColor:"base",rounded:"medium"});return r.template('<div class="k-coloreditor-header k-hstack">'+"# if (views && views.length > 1) { #"+'<div class="k-coloreditor-header-actions k-hstack">'+'<div role="group" class="k-button-group k-button-group-flat">'+n.renderButton('<button aria-pressed="false" data-view="gradient" title="#:messages.gradient#"></button>',a({icon:"color-canvas"},i))+n.renderButton('<button aria-pressed="false" data-view="palette" title="#:messages.palette#"></button>',a({icon:"palette"},i))+"</div>"+"</div>"+"# } #"+'<div class="k-spacer"></div>'+'<div class="k-coloreditor-header-actions k-hstack">'+"# if (clearButton) { #"+n.renderButton('<button class="k-coloreditor-reset" title="#:messages.clearColor#"></button>',a({icon:"reset-color"},i))+"# } #"+"# if (preview) { #"+'<div class="k-coloreditor-preview k-vstack">'+'<span class="k-coloreditor-preview-color k-color-preview">'+'<span class="k-color-preview-mask"></span>'+"</span>"+'<span class="k-coloreditor-current-color k-color-preview">'+'<span class="k-color-preview-mask"></span>'+"</span>"+"</div>"+"# } #"+"</div>"+"</div>"+'<div class="k-coloreditor-views k-vstack"></div>'+"# if (buttons) { #"+'<div class="k-coloreditor-footer k-actions k-hstack k-justify-content-end">'+n.renderButton('<button class="k-coloreditor-cancel" title="#:messages.cancel#">#: messages.cancel #</button>',a({},i,{fillMode:"solid"}))+n.renderButton('<button class="k-coloreditor-apply" title="#:messages.apply#">#: messages.apply #</button>',a({},i,{fillMode:"solid",themeColor:"primary"}))+"</div>"+"# } #")(t)},_wrapper:function(){var e=this.options,t;if(this.element.is("input"))t=this.element.addClass("k-hidden").wrap("<div>").parent();else t=this.element;t.addClass("k-flatcolorpicker k-coloreditor").attr({role:"textbox","aria-keyshortcuts":"Enter"}).append(this._template());this._selectedColor=o(".k-coloreditor-preview-color",t);this._previousColor=o(".k-coloreditor-current-color",t);this._viewsContainer=o(".k-coloreditor-views",t);t.find(".k-button[data-view="+e.view+"]").addClass(m).attr(v,true);this.wrapper=t}});return t.plugin(w),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.colorpicker.min",["kendo.core.min","kendo.color.min","kendo.popup.min","kendo.slider.min","kendo.userevents.min","kendo.button.min","kendo.binder.min","kendo.textbox.min","kendo.numerictextbox.min","kendo.html.button.min","./colorpicker/colorselector.min","./colorpicker/flatcolorpicker.min"],function(){var e={id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","color","popup","slider","userevents","button","binder","textbox","numerictextbox","html.button"]},s=window.kendo.jQuery,t=void 0,l=window.kendo,i=l.ui,d=i.Widget,u=l.Color,c=l.parseColor,n=l.keys,r="background-color",a={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},o=".kendoColorTools",f="click"+o,p="keydown"+o,h=i.colorpicker.ColorSelector,m=i.FlatColorPicker,g=d.extend({init:function(e,t){var i=this;if(t&&t.palette&&!t.view)t.view="palette";d.fn.init.call(i,e,t);t=i.options=l.deepExtend({},i.options,t);e=i.element;var n=e.attr("value")||e.val();if(n)n=c(n,true);else n=c(t.value,true);i._value=t.value=n;var r=l.html.renderButton('<button class="k-input-button" unselectable="on" aria-label="select" tabindex="-1"></button>',s.extend({},i.options,{icon:"arrow-s"}));var a=i._inputWrapper=i.wrapper=s(i._template(s.extend({},i.options,{_buttonHtml:r})));i._applyCssClasses();e.hide().after(a);if(e.is("input")){e.appendTo(a);i._preventDefaultLabelClick()}i._tabIndex=e.attr("tabIndex")||0;i.enable(!e.attr("disabled"));var o=e.attr("accesskey");if(o){e.attr("accesskey",null);a.attr("accesskey",o)}i.bind("activate",function(e){if(!e.isDefaultPrevented())i.toggle()});i._updateUI(n)},destroy:function(){this.wrapper.off(o).find("*").off(o);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;d.fn.destroy.call(this)},enable:function(e){var t=this,i=t.wrapper,n=i.find(".k-input-button");if(arguments.length===0)e=true;t.element.attr("disabled",!e);i.attr("aria-disabled",!e);n.off(o).on("mousedown"+o,v);i.addClass("k-disabled").removeAttr("tabIndex").add("*",i).off(o);if(e)i.removeClass("k-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+o,function(){i.addClass("k-hover")}).on("mouseleave"+o,function(){i.removeClass("k-hover")}).on("focus"+o,function(){i.addClass("k-focus")}).on("blur"+o,function(){i.removeClass("k-focus")}).on(p,_(t._keydown,t)).on(f,".k-input-button",_(t.toggle,t)).on(f,".k-input-inner",function(){t.trigger("activate")});else t.close()},_template:l.template('<span role="textbox" aria-haspopup="true" class="k-colorpicker k-picker k-icon-picker">'+'<span  class="k-input-inner">'+'<span class="k-value-icon k-color-preview #: toolIcon ? "k-icon-color-preview" : "" #">'+"# if (toolIcon) { #"+'<span class="k-color-preview-icon k-icon #= toolIcon #"></span>'+"# } #"+'<span class="k-color-preview-mask"></span>'+"</span>"+"</span >"+"#= _buttonHtml #"+"</span>"),options:{name:"ColorPicker",closeOnSelect:false,contrastTool:false,palette:null,columns:10,toolIcon:null,value:null,messages:a,opacity:false,buttons:true,preview:true,clearButton:false,input:true,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],backgroundColor:null,ARIATemplate:'Current selected color is #=data || "none"#',size:"medium",rounded:"medium",fillMode:"solid"},events:["activate","change","select","open","close"],open:function(){if(!this.element.prop("disabled"))this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=true;this._getPopup().close();delete e._closing},toggle:function(){if(!this.element.prop("disabled"))this._getPopup().toggle()},setBackgroundColor:function(e){var t=this,i=function(){t._selector.setBackgroundColor(e)};t.options.contrastTool.backgroundColor=e;if(t._selector&&(t._popup&&t._popup.visible()))t._selector.setBackgroundColor(e);else if(t._popup){t._popup.unbind("activate",i);t._popup.bind("activate",i)}},_noColorIcon:function(){return this.wrapper.find(".k-color-preview")},color:h.fn.color,value:h.fn.value,_select:h.fn._select,_triggerSelect:h.fn._triggerSelect,_isInputTypeColor:h.fn._isInputTypeColor,_preventDefaultLabelClick:function(){var t=this,e=t.element,i=e.closest("label"),n=e.attr("id");if(n)i=i.add('label[for="'+n+'"]');i.on("click",function(e){t.open();e.preventDefault()})},_updateUI:function(e,t){this._updateInput(e);this._triggerSelect(e);this.wrapper.find(".k-color-preview-mask").css(r,e?e.toDisplay():"");this._noColorIcon().toggleClass("k-no-color",!e);if(this._selector&&!t)this._selector.value(e)},_updateInput:function(e){var t="";if(e){if(this._isInputTypeColor()||e.a==1)t=e.toCss();else t=e.toCssRgba();this.element.val(t)}if(!this._ariaTemplate)this._ariaTemplate=l.template(this.options.ARIATemplate);this.wrapper.attr("aria-label",this._ariaTemplate(t))},_keydown:function(e){var t=e.keyCode;if(this._getPopup().visible()){if(t==n.ESC)this._selector._cancel();else this._selector._keydown(e);v(e)}else if(t==n.ENTER||t==n.DOWN){this.open();v(e)}},_getPopup:function(){var n=this,e=n._popup;if(!e){var t=n.options;var i;i=m;t.autoupdate=t.buttons!==true;delete t.select;delete t.change;delete t.cancel;t._otOfPicker=false;var r=l.guid();var a=s('<div id="'+r+'" class="k-colorpicker-popup"></div>').appendTo(document.body);var o=n._selector=new i(s("<div></div>").appendTo(a),t);n.wrapper.attr("aria-owns",r);n._popup=e=a.kendoPopup({anchor:n.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");o.bind({select:function(e){n._updateUI(c(e.value),true)},change:function(e){if(n.options.buttons)n._select(o.color());else n._updateUI(c(e.value),true);if(n.options.buttons||n._selector.options.view==="palette"&&n.options.closeOnSelect)n.close()},cancel:function(){n.close()}});e.bind({close:function(e){if(n.trigger("close")){e.preventDefault();return}n.wrapper.removeClass("k-focus");var t=o.color();if(!n.options.buttons)n._select(t);else n._select(n.color());t=n.color();if(t&&t.h)n._cachedHue=t.h;var i=event&&event instanceof MouseEvent&&s(event.target).parents(".k-colorpicker-popup").length===0;if(!i)setTimeout(function(){if(n.wrapper&&!n.wrapper.is("[unselectable='on']"))n.wrapper.trigger("focus")},0)},open:function(e){if(n.trigger("open"))e.preventDefault();else n.wrapper.addClass("k-focus")},activate:function(){var e,t=n.color();if(t){t=t.toHSV();e=u.fromHSV(n._cachedHue||0,t.s,t.v,t.a);t=t.equals(e)?e:t}o.value(t);o.focus();n.wrapper.addClass("k-focus")}})}return e}});function v(e){e.preventDefault()}function _(e,t){return function(){return e.apply(t,arguments)}}return i.plugin(g),l.cssProperties.registerPrefix("ColorPicker","k-picker-"),l.cssProperties.registerValues("ColorPicker",[{prop:"rounded",values:l.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.listview.min",["kendo.data.min","kendo.editable.min","kendo.selectable.min","kendo.pager.min"],function(){var t={id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]},{id:"listview-paging",name:"Paging",description:"Support for paging",depends:["pager"]}]},h=window.kendo.jQuery,l=void 0,v=window.kendo,a="change",R,r="cancel",_="dataBound",b="dataBinding",n=v.ui.Widget,m=v.keys,d="",o=".",s="> *:not(.k-loading-mask)",u="progress",c="error",g="k-focus",f="k-selected",k="k-edit-item",w="k-listview-pager",y="k-listview-item",x="aria-setsize",C="aria-posinset",S="role",p="aria-label",T="aria-multiselectable",I="aria-activedescendant",D="edit",E="remove",A="save",F="mousedown",H="click",P="touchstart",O=".kendoListView",M=v._activeElement,i=v.ui.progress,z=v.data.DataSource,e=v.ui.DataBoundWidget.extend({init:function(e,t){var i=this;t=Array.isArray(t)?{dataSource:t}:t;n.fn.init.call(i,e,t);t=i.options;i.wrapper=e=i.element;if(e[0].id)i._itemId=e[0].id+"_lv_active";else i._itemId=v.guid()+"_lv_active";i._element();i._layout();i._dataSource();i._setContentHeight();i._templates();i._navigatable();i._selectable();i._pageable();i._crudHandlers();i._scrollable();if(i.options.autoBind)i.dataSource.fetch();v.notify(i)},events:[a,r,b,_,D,E,A,"kendoKeydown"],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,pageable:false,height:null,template:d,altTemplate:d,editTemplate:d,contentTemplate:"<div data-content='true' />",contentElement:"div",bordered:true,borders:"",layout:"",flex:{direction:"row",wrap:"nowrap"},grid:{},scrollable:false},setOptions:function(e){n.fn.setOptions.call(this,e);this._layout();this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var e=this.options;this.template=v.template(e.template||d);this.altTemplate=v.template(e.altTemplate||e.template);this.editTemplate=v.template(e.editTemplate||d)},_item:function(e){return this.content.children()[e]()},items:function(){return this.content.children(":not(.k-loading-mask)")},dataItem:function(e){var t=v.attr("uid");var i=h(e).closest("["+t+"]").attr(t);return this.dataSource.getByUid(i)},setDataSource:function(e){this.options.dataSource=e;this._dataSource();if(this.options.autoBind)e.fetch();if(this.options.scrollable==="endless")this._bindScrollable()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(a,e._refreshHandler).unbind(u,e._progressHandler).unbind(c,e._errorHandler)},_dataSource:function(){var e=this,t=e.options.pageable,i=e.options.dataSource;if(h.isPlainObject(t)&&t.pageSize!==l)i.pageSize=t.pageSize;if(e.dataSource&&e._refreshHandler)e._unbindDataSource();else{e._refreshHandler=e.refresh.bind(e);e._progressHandler=e._progress.bind(e);e._errorHandler=e._error.bind(e)}e.dataSource=z.create(i).bind(a,e._refreshHandler).bind(u,e._progressHandler).bind(c,e._errorHandler)},_progress:function(e){var t=this.wrapper;if(e&&this.content.height())t=this.content;i(t,e,{opacity:true})},_error:function(){i(this.content,false)},_element:function(){var e=this.options;var t=e.height;this.element.addClass("k-widget k-listview");if(e.contentElement)this.content=h(document.createElement(e.contentElement)).appendTo(this.element);else this.content=this.element;if(t)this.element.css("height",t)},_layout:function(){var e=this;var t=e.options;var i=t.flex;var n=t.grid;var r=e.element;var a=["k-widget","k-listview"];var o=e.content;var s=["k-listview-content"];r.add(o).removeClass(function(e,t){if(t.indexOf("k-")>=0)return true});if(t.bordered===true)a.push("k-listview-bordered");if(typeof t.borders==="string"&&t.borders!==d)a.push("k-listview-borders-"+t.borders);if(typeof t.contentPadding==="string"&&t.contentPadding!==d)s.push("k-listview-content-padding-"+t.contentPadding);if(typeof t.layout==="string"&&t.layout!==d)s.push("k-d-"+t.layout);if(t.layout==="flex"&&typeof i==="object"){if(typeof i.direction==="string"&&i.direction!=="")s.push("k-flex-"+i.direction);if(typeof i.wrap==="string"&&i.wrap!=="")s.push("k-flex-"+i.wrap)}if(t.layout==="grid"&&typeof n==="object"){if(typeof n.cols==="number")o.css("grid-template-columns","repeat("+n.cols+", 1fr)");else if(typeof n.cols==="string")o.css("grid-template-columns",n.cols);if(typeof n.rows==="number")o.css("grid-template-rows","repeat("+n.rows+", "+(n.rowHeight!==l?n.rowHeight:"1fr")+")");else if(typeof n.rows==="string")o.css("grid-template-rows",n.rows);if(typeof n.gutter==="number")o.css("grid-gap",n.gutter);else if(typeof n.gutter==="string")o.css("grid-gap",n.gutter)}e.element.addClass(a.join(" "));e.content.addClass(s.join(" "))},_setContentHeight:function(){var e=this,t=e.options,i;if(t.scrollable&&e.wrapper.is(":visible")){i=e.wrapper.innerHeight();e.content.height(i)}},refresh:function(e){var t=this,i=t.dataSource.view(),n,r,a,o="",s,l,d=t.template,u=t.altTemplate,c=t.options,f=c.selectable||c.navigatable?"option":"listitem",p=M(),h=t._endlessFetchInProgress,m=h?t._skipRerenderItemsCount:0,g=t.options.scrollable;e=e||{};if(e.action==="itemchange"){if(!t._hasBindingTarget()&&!t.editable){n=e.items[0];a=t.items().filter("["+v.attr("uid")+"="+n.uid+"]");if(a.length>0){s=a.index();t.angular("cleanup",function(){return{elements:[a]}});a.replaceWith(d(n));a=t.items().eq(s);a.attr(v.attr("uid"),n.uid);t.angular("compile",function(){return{elements:[a],data:[{dataItem:n}]}});t.trigger("itemChange",{item:a,data:n})}}return}if(t.trigger(b,{action:e.action||"rebind",items:e.items,index:e.index}))return;t._angularItems("cleanup");if(!h)t._destroyEditable();for(s=m,l=i.length;s<l;s++)if(s%2)o+=u(i[s]);else o+=d(i[s]);if(h)t.content.append(o);else t.content.html(o);r=t.items().not(".k-loading-mask");t._ariaAttributes(i.length);for(s=m,l=i.length;s<l;s++){a=r.eq(s);a.addClass(y);a.attr(v.attr("uid"),i[s].uid).attr(S,f);if(t.options.selectable)a.attr("aria-selected","false");if(t.options.pageable){a.attr(x,t.dataSource.total());a.attr(C,t.dataSource.indexOf(t.dataItem(a))+1)}}if(t.content[0]===p&&t.options.navigatable)if(t._focusNext)t.current(t.current().next());else if(!g)t.current(r.eq(0));if(t.element.attr(I)&&t.element.find("#"+t.element.attr(I)).length===0)t.element.removeAttr(I);t._setContentHeight();t._angularItems("compile");t._progress(false);t._endlessFetchInProgress=null;t.trigger(_,{action:e.action||"rebind",items:e.items,index:e.index})},_ariaAttributes:function(e){var t=this.element,i=this.options,n=i.selectable;if(e===0){t.removeAttr(S);t.removeAttr(T);if(t.attr(p)){this._ariaLabelValue=t.attr(p);t.removeAttr(p)}}else{t.attr(S,n||i.navigatable?"listbox":"list");if(n&&v.ui.Selectable.parseOptions(n).multiple)t.attr(T,true);if(this._ariaLabelValue)t.attr(p,this._ariaLabelValue)}},_pageable:function(){var e=this,t=e.options.pageable,i=e.options.navigatable,n,r;if(!t)return;n=e.wrapper.find(o+w);if(!n.length)n=h("<div />").addClass(w);if(t.position==="top")n.addClass(v.format("{0}-{1}",w,t.position)).prependTo(e.wrapper);else n.appendTo(e.wrapper);if(e.pager)e.pager.destroy();if(typeof t==="object"&&t instanceof v.ui.Pager)e.pager=t;else{n=t.pagerId?h("#"+t.pagerId):n;r=h.extend({},t,{dataSource:e.dataSource,navigatable:i,pagerId:null});e.pager=new v.ui.Pager(n,r)}},_selectable:function(){var t=this,i,n,e=t.options.selectable,r=t.options.navigatable;if(e){i=v.ui.Selectable.parseOptions(e).multiple;t.selectable=new v.ui.Selectable(t.element,{aria:true,multiple:i,filter:t.options.contentElement?".k-listview-content "+s:s,change:function(){t.trigger(a)}});if(r)t.element.on("keydown"+O,function(e){if(!h(e.target).is(t.element))return;if(e.keyCode===m.SPACEBAR){n=t.current();if(e.target==e.currentTarget)e.preventDefault();if(i){if(!e.ctrlKey)t.selectable.clear();else if(n&&n.hasClass(f)){n.removeClass(f);t.trigger(a);return}}else t.selectable.clear();t.selectable.value(n);t.trigger(a)}})}},_scrollable:function(){var e=this;var t=e.options.scrollable;if(t){e.content.css({"overflow-y":"scroll",position:"relative","-webkit-overflow-scrolling":"touch"});if(t==="endless")e._bindScrollable()}},_bindScrollable:function(){var e=this;var t=e._endlessPageSize=e.dataSource.options.pageSize;e.content.off("scroll"+O).on("scroll"+O,function(){if(this.scrollTop+this.clientHeight-this.scrollHeight>=-15&&!e._endlessFetchInProgress&&e._endlessPageSize<e.dataSource.total()){e._skipRerenderItemsCount=e._endlessPageSize;e._endlessPageSize=e._skipRerenderItemsCount+t;e.dataSource.options.endless=true;e._endlessFetchInProgress=true;e.dataSource.pageSize(e._endlessPageSize)}})},current:function(e){var t=this,i=t.element,n=t._current,r=t._itemId;if(e===l)return n;if(n&&n[0]){if(n[0].id===r)n.removeAttr("id");n.removeClass(g);i.removeAttr(I)}if(e&&e[0]){r=e[0].id||r;t._scrollTo(e[0]);i.attr(I,r);e.addClass(g).attr("id",r)}t._current=e},_scrollTo:function(o){var e=this,t=e.content,s,l=false,d="scroll";if(t.css("overflow")==="auto"||t.css("overflow")===d||t.css("overflow-y")===d)s=t[0];else{s=window;l=true}var i=function(e,t){var i=l?h(o).offset()[e.toLowerCase()]:o["offset"+e],n=o["client"+t],r=h(s)[d+e](),a=h(s)[t.toLowerCase()]();if(i+n>r+a)h(s)[d+e](i+n-a);else if(i<r)h(s)[d+e](i)};i("Top","Height");i("Left","Width")},_navigatable:function(){var f=this,e=f.options.navigatable,t=f.element,p=f.content,i=function(e){f.current(h(e.currentTarget));if(!h(e.target).is(":button, a, :input, a > .k-icon, textarea"))v.focusElement(t)};if(e){f._tabindex();t.on("focus"+O,function(){var e=f._current;if(!e||!e.is(":visible"))e=f._item("first");f.current(e)}).on("focusout"+O,function(){if(f._current)f._current.removeClass(g)}).on("keydown"+O,f,function(e){var t=e.keyCode,i=f.current(),n=h(e.target),r=!n.is(":button, textarea, a, a > .t-icon, input"),a=n.is(":text, :password"),o=v.preventDefault,s=p.find("."+k),l=M(),d,u=f.options.scrollable;if(n.hasClass(w)||!r&&!a&&t!==m.ESC||a&&t!==m.ESC&&t!==m.ENTER)return;if(t===m.UP||t===m.LEFT){if(i&&i[0])i=i.prev();if(i&&i[0])f.current(i);else if(!u)f.current(f._item("last"));o(e)}if(t===m.DOWN||t===m.RIGHT){if(u)if(f.options.scrollable==="endless"&&!i.next().length){f.content[0].scrollTop=f.content[0].scrollHeight;f._focusNext=true}else{i=i.next();if(i&&i[0])f.current(i)}else{i=i.next();f.current(!i||!i[0]?f._item("first"):i)}o(e)}if(t===m.PAGEUP){f.current(null);f.dataSource.page(f.dataSource.page()-1);o(e)}if(t===m.PAGEDOWN){f.current(null);f.dataSource.page(f.dataSource.page()+1);o(e)}if(t===m.HOME){f.current(f._item("first"));o(e)}if(t===m.END){f.current(f._item("last"));o(e)}if(t===m.ENTER)if(s.length!==0&&(r||a)){d=f.items().index(s);if(l)l.blur();f.save();var c=function(){f.element.trigger("focus");f.current(f.items().eq(d))};f.one("dataBound",c)}else if(f.options.editTemplate!=="")f.edit(i);if(t===m.ESC){s=p.find("."+k);if(s.length===0)return;d=f.items().index(s);f.cancel();f.element.trigger("focus");f.current(f.items().eq(d))}});t.on(F+O+" "+P+O,f.options.contentElement?".k-listview-content "+s:s,i.bind(f))}},clearSelection:function(){var e=this;e.selectable.clear()},select:function(e){var t=this,i=t.selectable;e=h(e);if(e.length){if(!i.options.multiple){i.clear();e=e.first()}i.value(e);return}return i.value()},_destroyEditable:function(){var e=this;if(e.editable){e.editable.destroy();delete e.editable}},_modelFromElement:function(e){var t=e.attr(v.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var e=this,t=e.editable,i=e.options,n=i.selectable||i.navigatable?"option":"listitem",r,a,o,s=e.template;if(t){if(t.element.index()%2)s=e.altTemplate;e.angular("cleanup",function(){return{elements:[t.element]}});r=e._modelFromElement(t.element);e._destroyEditable();o=t.element.index();t.element.replaceWith(s(r));a=e.items().eq(o);a.addClass(y);a.attr(v.attr("uid"),r.uid);a.attr(S,n);if(e._hasBindingTarget())v.bind(a,r);e.angular("compile",function(){return{elements:[a],data:[{dataItem:r}]}})}return true},edit:function(e){var t=this,i=t._modelFromElement(e),n,r=i.uid,a;t.cancel();e=t.items().filter("["+v.attr("uid")+"="+r+"]");a=e.index();e.replaceWith(t.editTemplate(i));n=t.items().eq(a).addClass(k).attr(v.attr("uid"),i.uid);t.editable=n.kendoEditable({model:i,clearContainer:false,errorTemplate:false,target:t}).data("kendoEditable");t.trigger(D,{model:i,item:n})},save:function(){var e=this,t=e.editable,i;if(!t)return;var n=t.element;i=e._modelFromElement(n);if(t.end()&&!e.trigger(A,{model:i,item:n})){e._closeEditable();e.dataSource.sync()}},remove:function(e){var t=this,i=t.dataSource,n=t._modelFromElement(e);if(t.editable){i.cancelChanges(t._modelFromElement(t.editable.element));t._closeEditable()}if(!t.trigger(E,{model:n,item:e})){if(e.attr("id")===t.element.attr(I))t.element.removeAttr(I);e.hide();i.remove(n);i.sync()}},add:function(){var e=this,t,i=e.dataSource,n=i.indexOf((i.view()||[])[0]);if(n<0)n=0;e.cancel();t=i.insert(n,{});e.edit(e.element.find("[data-uid='"+t.uid+"']"))},cancel:function(){var e=this,t=e.dataSource;if(e.editable){var i=e.editable.element;var n=e._modelFromElement(i);if(!e.trigger(r,{model:n,container:i})){t.cancelChanges(n);e._closeEditable()}}},_crudHandlers:function(){var i=this,e=P+O,t=H+O;i.content.on(e+" "+t,".k-edit-button",function(e){e.preventDefault();var t=h(this).closest("["+v.attr("uid")+"]");setTimeout(function(){i.edit(t)})});i.content.on(e+" "+t,".k-delete-button",function(e){e.preventDefault();var t=h(this).closest("["+v.attr("uid")+"]");setTimeout(function(){i.remove(t)})});i.content.on(t,".k-update-button",function(e){i.save();e.preventDefault()});i.content.on(t,".k-cancel-button",function(e){i.cancel();e.preventDefault()})},destroy:function(){var e=this;n.fn.destroy.call(e);e._unbindDataSource();e._destroyEditable();e.element.off(O);e.content.off(O);e._endlessFetchInProgress=e._endlessPageSize=e._skipRerenderItemsCount=e._focusNext=null;if(e.pager)e.pager.destroy();v.destroy(e.element)}});return v.ui.plugin(e),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.upload.min",["kendo.core.min"],function(){var z={id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]},c=window.kendo.jQuery,R=void 0,f=window.kendo,a=f.ui.Widget,u=f.antiForgeryTokens,l=f.logToConsole,N=/\.([^\.]+)$/,o=".kendoUpload",s="select",p="upload",d="success",h="error",e="complete",m="cancel",n="clear",g="pause",v="resume",r="progress",_="remove",b="validationErrors",k="invalidMaxFileSize",w="invalidMinFileSize",i="invalidFileExtension",L=1e3,B=2e3,y="k-focus",x="tabindex",C={loading:"k-i-upload",warning:"k-i-warning",success:"k-i-check"},S=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.name=e.name;i.multiple=i.options.multiple;i.directory=i.options.directory;i.localization=i.options.localization;var n=i.element;i.wrapper=n.closest(".k-upload");if(i.wrapper.length===0)i.wrapper=i._wrapInput(n);i._activeInput(n);i.toggle(i.options.enabled);var r=i._ns=o+"-"+f.guid();n.closest("form").on("submit"+r,i._onParentFormSubmit.bind(i)).on("reset"+r,i._onParentFormReset.bind(i));i._initUploadModule();i._toggleDropZone();i.wrapper.on("click",".k-upload-action",i._onFileAction.bind(i)).on("click",".k-clear-selected",i._onClearSelected.bind(i)).on("click",".k-upload-selected",i._onUploadSelected.bind(i)).on("keydown",i._onKeyDown.bind(i)).on("focusout",i._focusout.bind(i));if(i.element.val())i._onInputChange({target:i.element})},events:[s,p,d,h,e,m,n,r,_,g,v],options:{name:"Upload",enabled:true,multiple:true,directory:false,showFileList:true,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:true,withCredentials:true,accept:"*/*; q=0.5, application/json",useArrayBuffer:false},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",uploadSuccess:"File(s) uploaded successfully.",uploadFail:"File(s) failed to upload.",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},_initUploadModule:function(){var e=this,t=e.options;if(t.async.saveUrl){e._module=e._supportsFormData()?new D(e):new I(e);e._async=true;var i=t.files;if(i.length>0)e._renderInitialFiles(i)}else e._module=new T(e)},setOptions:function(e){var t=this,i=t.element;c(t.options.dropZone).off(t._ns);a.fn.setOptions.call(t,e);t.multiple=t.options.multiple;t.directory=t.options.directory;i.attr("multiple",t._supportsMultiple()?t.multiple:false);if(t.directory){i.attr("webkitdirectory",t.directory);i.attr("directory",t.directory)}t.toggle(t.options.enabled);t._initUploadModule();t._toggleDropZone()},enable:function(e){e=typeof e==="undefined"?true:e;this.toggle(e)},disable:function(){this.toggle(false)},toggle:function(e){e=typeof e==="undefined"?e:!e;this.wrapper.toggleClass("k-disabled",e);this.element.prop("disabled",e)},focus:function(){this.element.trigger("focus")},destroy:function(){var e=this;var t=c(e.options.dropZone);c(document).add(c(".k-dropzone",e.wrapper)).add(e.wrapper.closest("form")).off(e._ns);if(t.length>0)t.off(e._ns);c(e.element).off(o);a.fn.destroy.call(e)},pause:function(e){this._module.onPause({target:c(e,this.wrapper)});var t=e.find(".k-i-pause-sm");t.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume);c(t).parent().attr("aria-label",this.localization.resume)},resume:function(e){this._module.onResume({target:c(e,this.wrapper)});var t=e.find(".k-i-play-sm");t.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause);c(t).parent().attr("aria-label",this.localization.pause)},upload:function(){var e=this;e._module.onSaveSelected()},getFiles:function(){var e=this;var t;var i=[];var n=e.wrapper.find(".k-file");for(var r=0;r<n.length;r++){t=c(n[r]).data("fileNames");if(t)for(var a=0;a<t.length;a++)i.push(t[a])}return i},clearAllFiles:function(){var i=this;var e=i.wrapper.find(".k-file");e.each(function(e,t){i._removeFileByDomElement(t,false)})},removeAllFiles:function(){var i=this;var e=i.wrapper.find(".k-file");e.each(function(e,t){i._removeFileByDomElement(t,true)})},removeFileByUid:function(e){this._removeFileByUid(e,true)},clearFileByUid:function(e){this._removeFileByUid(e,false)},_removeFileByUid:function(e,t){var i=this;var n;if(typeof e!=="string")return;n=c(".k-file["+f.attr("uid")+'="'+e+'"]',i.wrapper);if(n.length>0)i._removeFileByDomElement(n,t)},clearFile:function(e){this._removeFile(e,false)},removeFile:function(e){this._removeFile(e,true)},_removeFile:function(i,n){var r=this;var e=r.wrapper.find(".k-file");var a;if(typeof i==="function")e.each(function(e,t){a=c(t).data("fileNames");if(i(a))r._removeFileByDomElement(t,n)})},_removeFileByDomElement:function(e,t){var i=this;var n={target:c(e,i.wrapper)};var r;if(i.options.async.saveUrl){if(c(e).hasClass("k-file-progress"))i._module.onCancel(n);else i._module.onRemove(n,{},t);r=c(".k-file",i.wrapper);if(r.length===0)i._hideHeaderUploadstatus();else i._updateHeaderUploadStatus()}else i._module.onRemove(n,{},t)},_addInput:function(e){if(!e[0].nodeType)return;var t=this,i=e.clone().val("");i.insertAfter(t.element).data("kendo"+t.options.prefix+t.options.name,t);c(t.element).hide().attr(x,"-1").removeAttr("id").off(o);t._activeInput(i);t.element.trigger("focus")},_activeInput:function(e){var t=this,i=t.wrapper;t.element=e;if(t.directory){e.attr("webkitdirectory",t.directory);e.attr("directory",t.directory)}e.attr("multiple",t._supportsMultiple()?t.multiple:false).attr("autocomplete","off").on("click"+o,function(e){if(i.hasClass("k-disabled"))e.preventDefault()}).on("focus"+o,function(){c(this).parent().addClass(y)}).on("blur"+o,function(){c(this).parent().removeClass(y)}).on("change"+o,t._onInputChange.bind(t))},_adjustFocusState:function(e,t){e.removeClass(y);e.attr(x,-1);t.addClass(y);t.attr(x,0)},_arrowKeyNavigation:function(e,t,i){var n=this,r=f.keys,a;if(t===r.DOWN){e.preventDefault();e.stopPropagation();a=n.wrapper.find(".k-upload-files .k-file").first();if(i.length>0){if(i.hasClass("k-upload-action")){i.removeClass(y);i=i.closest(".k-file")}a=i.next()}n._adjustFocusState(i,a);if(!a||a.length===0)a=n.wrapper.find(".k-clear-selected")}else if(t===r.UP){e.preventDefault();e.stopPropagation();a=n.wrapper.find(".k-upload-files .k-file:last");if(i.length>0){if(i.hasClass("k-upload-action")){i.removeClass(y);i=i.closest(".k-file")}a=i.prev()}n._adjustFocusState(i,a)}else if(t===r.RIGHT){if(i.hasClass("k-upload-action")){a=i.next(".k-upload-action");if(!a||a.length===0)a=i.parent().find(".k-upload-action:first")}else if(i.length>0)a=i.find(".k-upload-action:first");if(a&&a.length>0){i.removeClass(y);a.addClass(y)}}else if(t===r.LEFT){if(i.hasClass("k-upload-action")){a=i.prev(".k-upload-action");if(!a||a.length===0)a=i.parent().find(".k-upload-action:last")}else if(i.length>0)a=i.find(".k-upload-action:last");if(a&&a.length>0){i.removeClass(y);a.addClass(y)}}if((!a||a.length===0)&&(t===r.UP||t===r.DOWN))a=n.element;if(a&&a.length>0){n._preventFocusRemove=true;a.trigger("focus")}},_asyncCommandKeyNavigation:function(e,t,i){var n=this,r=f.keys,a=c(t,n.wrapper);n._retryClicked=false;if(e===r.ESC&&t.find(".k-i-cancel").length>0){n.trigger(m,i);n._module.onCancel({target:a});n._checkAllComplete();n._updateHeaderUploadStatus();n._preventFocusRemove=true;n.element.trigger("focus")}else if(e===r.SPACEBAR){if(t.find(".k-i-pause-sm").length>0){n.trigger(g,i);n.pause(t);n._updateHeaderUploadStatus()}else if(t.find(".k-i-play-sm").length>0){n.trigger(v,i);n.resume(t)}}else if(e===r.ENTER&&!t.is(".k-file-progress, .k-file-success, .k-file-invalid")){if(n.options.async.chunkSize&&!n.options.async.concurrent&&c(".k-file-progress",n.wrapper).length>0)return;c(".k-i-warning",t).remove();c(".k-progressbar",t).finish().show();if(!n._module.metaData[a.data("uid")])n._module.prepareChunk(a);n._module.onRetry({target:a});n._retryClicked=true}},_commandKeyNavigation:function(e,t){var i=this,n=f.keys,r=t.data("fileNames"),a=i._filesContainValidationErrors(r),o={files:r,headers:{}};if(e===n.DELETE){if(!i.trigger(_,o)){i._module.onRemove({target:c(t,i.wrapper)},o,!a);i._preventFocusRemove=true;i.element.trigger("focus")}}else if(e===n.TAB){t.removeClass(y);t.attr(x,-1)}else if(!!i.options.async.saveUrl)i._asyncCommandKeyNavigation(e,t,o)},_focusout:function(){var e=this.wrapper.find(".k-upload-files .k-file."+y);if(!this._preventFocusRemove){e.removeClass(y);e.attr(x,-1)}else this._preventFocusRemove=false},_onKeyDown:function(e){var t=this,i=t.wrapper.find(".k-upload-files .k-file."+y+","+".k-upload-action."+y),n=f.keys,r=[n.DELETE,n.ESC,n.ENTER,n.SPACEBAR,n.TAB],a=e.keyCode;if(a===n.DOWN||a===n.UP||a===n.LEFT||a===n.RIGHT)t._arrowKeyNavigation(e,a,i);else if(i.length>0&&i.hasClass("k-file")&&r.indexOf(a)>-1&&!t.wrapper.hasClass("k-disabled")){if(a===n.SPACEBAR){e.preventDefault();e.stopPropagation()}t._commandKeyNavigation(a,i)}},_onInputChange:function(e){var t=this;var i=c(e.target);var n=F(t._inputFiles(i),t._isAsyncNonBatch());j(n,t.options.validation);var r=t.trigger(s,{files:n});if(r){t._addInput(i);i.remove()}else t._module.onSelect({target:i},n)},_readDirectory:function(e){var t=new c.Deferred;var i=e.createReader();var n=[];var r=function(){i.readEntries(function(e){if(!e.length)t.resolve(n);else{n=n.concat(e);r()}},t.reject)};r();return t.promise()},_readFile:function(e){var t=this;var i=e.fullPath;e.file(function(e){e.relativePath=i.slice(1);t.droppedFolderFiles.push(e);t.droppedFolderCounter--;if(t.droppedFolderCounter===0)setTimeout(function(){if(t.droppedFolderCounter===0)if(t.droppedFolderFiles.length){t._proceedDroppedItems(t.droppedFolderFiles);t.droppedFolderFiles=[]}},0)},function(){l("File error.")})},_traverseFileTree:function(e,t){var i=this;if(!t)i.droppedFolderCounter--;this._readDirectory(e).then(function(e){i.droppedFolderCounter+=e.length;for(var t=0;t<e.length;t++)if(e[t].isFile)i._readFile(e[t]);else if(e[t].isDirectory)i._traverseFileTree(e[t])})},_onDrop:function(e){var t=e.originalEvent.dataTransfer;var i=this;var n=t.files;var r;P(e);if(i.options.directoryDrop&&t.items){r=t.items.length;i.droppedFolderCounter=0;i.droppedFolderFiles=[];for(var a=0;a<r;a++)if(t.items[a].webkitGetAsEntry){var o=t.items[a].webkitGetAsEntry();if(o.isDirectory)i._traverseFileTree(o,true);else if(o.isFile)i.droppedFolderFiles.push(t.files[a])}else i._proceedDroppedItems(n)}else i._proceedDroppedItems(n)},_proceedDroppedItems:function(e){var t=this;var i=F(A(e),t._isAsyncNonBatch());if(e.length>0&&!t.wrapper.hasClass("k-disabled")){if(!t.multiple&&i.length>1)i.splice(1,i.length-1);j(i,t.options.validation);var n=t.trigger(s,{files:i});if(!n)t._module.onSelect({target:c(".k-dropzone",t.wrapper)},i)}},_filesContainValidationErrors:function(e){var i=false;c(e).each(function(e,t){if(t[b]&&t[b].length>0){i=true;return false}});return i},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||false},_renderInitialFiles:function(e){var t=this;var i=0;e=F(e,true);for(i=0;i<e.length;i++){var n=e[i];var r=t._enqueueFile(n.name,{fileNames:[n]});r.addClass("k-file-success").data("files",[e[i]]);if(t._supportsRemove())t._fileAction(r,_)}},_prepareTemplateData:function(e,t){var i=t.fileNames,n={},r=0,a=0;for(a=0;a<i.length;a++)r+=i[a].size;n.name=e;n.size=r;n.files=t.fileNames;return n},_prepareDefaultSingleFileEntryTemplate:function(e){var t=this;var i=e.fileNames[0];var n=H(e.fileNames);var r=f.getFileGroup(i.extension,true);var a=i[b];var o="";if(a&&a.length>0)o+="<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-file-invalid-group-wrapper'>"+"<span class='k-file-group k-icon k-i-"+r+"'></span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'>"+"<span class='k-file-name k-file-name-invalid' title='"+i.name+"'>"+i.name+"</span>"+"<span class='k-file-validation-message k-text-error'>"+t.localization[a[0]]+"</span>"+"</span>";else o+="<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-file-group-wrapper'>"+"<span class='k-file-group k-icon k-i-"+r+"'></span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+i.name+"'>"+i.name+"</span>"+"<span class='k-file-size'>"+n+"</span></span>";o+="<strong class='k-upload-status'></strong>";return c(o)},_prepareDefaultMultipleFileEntriesTemplate:function(e){var t=this;var i=e.fileNames;var n=t._filesContainValidationErrors(i);var r=H(i);var a="";var o,s;if(n)a+="<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-multiple-files-invalid-group-wrapper'>"+"<span class='k-file-group k-icon k-i-files'></span>";else a+="<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-multiple-files-group-wrapper'>"+"<span class='k-file-group k-icon k-i-files'></span>";a+="<span class='k-file-state'></span></span>";i.sort(function(e,t){if(e[b])return-1;if(t[b])return 1;return 0});a+="<span class='k-multiple-files-wrapper'>";for(o=0;o<i.length;o++){s=i[o];var l=H([s]);a+="<span class='k-file-name-size-wrapper'>";if(s[b]&&s[b].length>0)a+="<span class='k-file-name k-file-name-invalid' title='"+s.name+"'>"+s.name+"</span>";else a+="<span class='k-file-name' title='"+s.name+"'>"+s.name+"</span>";a+="<span class='k-file-size'>"+l+"</span></span>"}if(n)a+="<span class='k-file-validation-message k-text-error'>"+t.localization.invalidFiles+"</span>";else a+="<span class='k-file-information'>Total: "+i.length+" files, "+r+"</span>";a+="</span><strong class='k-upload-status'></strong>";return c(a)},_enqueueFile:function(e,t){var i=this;var n;var r;var a=t.fileNames[0].uid;var o=c(".k-upload-files",i.wrapper);var s=i.options;var l=s.template;var d;var u;if(o.length===0){o=c("<ul class='k-upload-files k-reset'></ul>").appendTo(i.wrapper);if(!i.options.showFileList)o.hide();i.wrapper.removeClass("k-upload-empty")}n=c(".k-file",o);if(!l)if(t.fileNames.length===1)r=i._prepareDefaultSingleFileEntryTemplate(t);else r=i._prepareDefaultMultipleFileEntriesTemplate(t);else{d=i._prepareTemplateData(e,t);l=f.template(l);r=c("<li class='k-file'>"+l(d)+"</li>");r.find(".k-upload-action").addClass("k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base");i.angular("compile",function(){return{elements:r,data:[d]}})}r.attr(f.attr("uid"),a).appendTo(o).data(t);if(!i._async)c(".k-progress",r).width("100%");if(!i.multiple&&n.length>0){u={files:n.data("fileNames"),headers:{}};if(!i.trigger(_,u))i._module.onRemove({target:c(n,i.wrapper)},u)}return r},_removeFileEntry:function(e){var t=this;var i=e.closest(".k-upload-files");var n,r,a;e.remove();n=c(".k-file",i);r=c(".k-file-success, .k-file-error",i);a=c(".k-file-invalid",i);if(r.length===n.length||a.length===n.length)this._hideActionButtons();if(n.length===0){i.remove();t.wrapper.addClass("k-upload-empty");t._hideHeaderUploadstatus()}else t._updateHeaderUploadStatus()},_fileAction:function(e,t,i){var n={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"};var r={remove:"k-i-close",cancel:"k-i-cancel",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};var a;if(!n.hasOwnProperty(t))return;if(!i)this._clearFileAction(e);if(!this.options.template){if(!i)e.find(".k-upload-status .k-upload-action").remove();e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],r[t]))}else{a=e.find(".k-upload-action").first();if(!a.find(".k-icon").length)a.addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'"+"aria-label='"+this.localization[t]+"'></span>").show();else if(a.next(".k-upload-action").length)a.next(".k-upload-action").addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'"+"aria-label='"+this.localization[t]+"'></span>").show()}},_fileState:function(e,t){var i=this.localization,n={uploading:{text:i.statusUploading},uploaded:{text:i.statusUploaded},failed:{text:i.statusFailed}},r=n[t];if(r)c("span.k-file-state",e).text(r.text)},_renderAction:function(e,t,i){if(e!=="")return c("<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-label='"+t+"' tabindex='-1'>"+"<span class='k-button-icon k-icon "+i+" "+e+"' title='"+t+"'></span>"+"</button>").on("focus",function(){c(this).addClass(y)}).on("blur",function(){c(this).removeClass(y)});else return c("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'>"+'<span class="k-button-text">'+t+"</span>"+"</button>")},_clearFileAction:function(e){c(".k-upload-action",e).empty().hide()},_onFileAction:function(e){var t=this;if(!t.wrapper.hasClass("k-disabled")){var i=c(e.target).closest(".k-upload-action");var n=i.find(".k-icon");var r=i.closest(".k-file");var a=r.data("fileNames");var o=t._filesContainValidationErrors(a);var s={files:a,headers:{}};t._retryClicked=false;if(n.hasClass("k-i-x")){if(!t.trigger(_,s)){t._module.onRemove({target:c(r,t.wrapper)},s,!o);t.element.trigger("focus")}}else if(n.hasClass("k-i-cancel")){t.trigger(m,s);t._module.onCancel({target:c(r,t.wrapper)});t._checkAllComplete();t._updateHeaderUploadStatus();t.element.trigger("focus")}else if(n.hasClass("k-i-pause-sm")){t.trigger(g,s);t.pause(r);t._updateHeaderUploadStatus()}else if(n.hasClass("k-i-play-sm")){t.trigger(v,s);t.resume(r)}else if(n.hasClass("k-i-retry")){c(".k-i-warning",r).remove();c(".k-progressbar",r).finish().show();t._module.onRetry({target:c(r,t.wrapper)});t._retryClicked=true}r.addClass(y)}return false},_onUploadSelected:function(){var e=this;var t=e.wrapper;if(!t.hasClass("k-disabled"))this._module.onSaveSelected();return false},_onClearSelected:function(){var e=this;var t=e.wrapper;var i={};if(!t.hasClass("k-disabled")&&!e.trigger(n,i))e.clearAllFiles();return false},_onFileProgress:function(e,t){var i;if(t>100)t=100;c(".k-progressbar",e.target).removeClass("k-hidden");if(!this.options.template){i=c(".k-upload-pct",e.target);if(i.length===0)c(".k-upload-status",e.target).prepend("<span class='k-upload-pct'></span>");if(t!==100)c(".k-upload-pct",e.target).text(t+"%");else c(".k-upload-pct",e.target).remove();c(".k-progress",e.target).width(t+"%")}else c(".k-progress",e.target).width(t+"%");this.trigger(r,{files:M(e).data("fileNames"),percentComplete:t})},_onUploadSuccess:function(e,t,i){var n=this;var r=M(e);var a=r.data("fileNames");var o=r.find(".k-file-information");var s=r.find(".k-file-size");var l=n.trigger(d,{files:r.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:i});if(l)n._setUploadErrorState(r);else{n._fileState(r,"uploaded");r.removeClass("k-file-progress").addClass("k-file-success");if(o.length>0)o.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+a.length+" "+n.localization.uploadSuccess+"</span>");else if(s.length>0)s.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+n.localization.uploadSuccess+"</span>");n._updateHeaderUploadStatus();if(n._supportsRemove())n._fileAction(r,_);else n._clearFileAction(r)}n._hideUploadProgress(r);n._checkAllComplete()},_onUploadError:function(e,t){var i=this;var n=i._module;var r=M(e);var a=r.data("uid");i._setUploadErrorState(r);i.trigger(h,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:t});l("Server response: "+t.responseText);if(!i.options.async.chunkSize)i._hideUploadProgress(r);else if(n._decreasePosition)n._decreasePosition(a);i._checkAllComplete();if(this.options.async.autoRetryAfter)this._autoRetryAfter(r)},_autoRetryAfter:function(e){var t=this;var i=this._module.retries;if(!i)return;if(!i[e.data("uid")])i[e.data("uid")]=1;if(i[e.data("uid")]<=this.options.async.maxAutoRetries){i[e.data("uid")]++;setTimeout(function(){t._module.performUpload(e)},this.options.async.autoRetryAfter)}},_setUploadErrorState:function(e){var t=this,i,n=e.data("fileNames"),r=e.find(".k-file-information"),a=e.find(".k-file-size");t._fileState(e,"failed");e.removeClass("k-file-progress").addClass("k-file-error");if(r.length>0)r.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+n.length+" "+t.localization.uploadFail+"</span>");else if(a.length>0)a.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+t.localization.uploadFail+"</span>");t._updateUploadProgress(e);i=c(".k-upload-pct",e);if(i.length>0)i.remove();this._updateHeaderUploadStatus();this._fileAction(e,"retry");this._fileAction(e,_,true);if(t._retryClicked)e.trigger("focus")},_updateUploadProgress:function(e){var t=this;if(!t.options.async.chunkSize)c(".k-progress",e).width("100%");else{var i=e.data("uid");if(t._module.metaData){var n=t._module.metaData[i];if(n){var r=n.totalChunks?Math.round(n.chunkIndex/n.totalChunks*100):100;t._onFileProgress({target:c(e,t.wrapper)},r)}}}},_hideUploadProgress:function(e){c(".k-progressbar",e).delay(L).fadeOut(B,function(){c(this).find(".k-progress").css("width","0%")})},_showActionButtons:function(){var e=this;var t=c(".k-action-buttons",e.wrapper);var i=c(".k-upload-selected",e.wrapper);var n=c(".k-clear-selected",e.wrapper);if(i.length===0){i=e._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected").addClass("k-button-solid-primary").removeClass("k-button-solid-base");n=e._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")}if(!t.length)t=c("<div />").addClass("k-action-buttons").append(n,i);this.wrapper.append(t)},_hideActionButtons:function(){c(".k-action-buttons",this.wrapper).remove()},_showHeaderUploadStatus:function(e){var t=this;var i=t.localization;var n=c(".k-dropzone",t.wrapper);var r=c(".k-upload-status-total",t.wrapper);if(r.length!==0)r.remove();c(".k-dropzone-hint",t.wrapper).addClass("k-hidden");r='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>';if(e){r=c(r).append(i.headerStatusUploading);r.find(".k-icon").addClass(C.loading)}else{r=c(r).append(i.headerStatusUploaded);r.find(".k-icon").addClass(C.warning)}if(n.length>0)n.append(r);else c(".k-upload-button",t.wrapper).after(r)},_updateHeaderUploadStatus:function(){var e=this;var t=c(".k-upload-status-total",this.wrapper);var i=c(".k-file",e.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid");var n=c(".k-file-invalid",e.wrapper);var r=c(".k-file-error",e.wrapper);var a=c(".k-file",e.wrapper).find(".k-i-play-sm");var o,s;if(a.length&&(a.length===i.length||!e.options.async.concurrent)){s=c(".k-icon",t).removeClass().addClass("k-icon").addClass("k-i-pause-sm");t.html(s).append(e.localization.headerStatusPaused)}else if(i.length===0||n.length>0||r.length>0){o=c(".k-file.k-file-error, .k-file.k-file-invalid",e.wrapper);t=c(".k-upload-status-total",e.wrapper);s=c(".k-icon",t).removeClass().addClass("k-icon").addClass(o.length!==0?C.warning:C.success);t.html(s).append(e.localization.headerStatusUploaded)}},_hideHeaderUploadstatus:function(){var e=this,t=e.options.dropZone;c(".k-upload-status-total",this.wrapper).remove();if(t==="")c(".k-dropzone-hint",e.wrapper).removeClass("k-hidden")},_onParentFormSubmit:function(){var e=this,t=e.element;if(typeof this._module.onAbort!=="undefined")this._module.onAbort();if(!t.value){var i=c(t);i.attr("disabled","disabled");window.setTimeout(function(){i.prop("disabled",false)},0)}},_onParentFormReset:function(){c(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!f.support.browser.opera&&!(f.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase();var t=/chrome/.test(e);var i=!t&&/safari/.test(e);var n=i&&/windows/.test(e);return!n&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var e=this;var t=e._ns;var i=c(".k-dropzone",e.wrapper).on("dragenter"+t,P).on("dragover"+t,function(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.preventDefault()}).on("drop"+t,e._onDrop.bind(e));if(!i.find(".k-dropzone-hint").length)i.append(c("<em class='k-dropzone-hint'>"+e.localization.dropFilesHere+"</em>"));O(i,t,function(){if(!i.closest(".k-upload").hasClass("k-disabled"))i.addClass("k-dropzone-hovered")},function(){i.removeClass("k-dropzone-hovered")});e._bindDocumentDragEventWrappers(i)},_setupCustomDropZone:function(){var t=this;var i=c(t.options.dropZone);if(!t.wrapper.find(".k-dropzone-hint").length)c(".k-dropzone",t.wrapper).append(c("<em class='k-dropzone-hint k-hidden'>"+t.localization.dropFilesHere+"</em>"));else c(".k-dropzone-hint",t.wrapper).addClass("k-hidden");var e=t._ns;i.on("dragenter"+e,P).on("dragover"+e,function(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.preventDefault()}).on("drop"+e,t._onDrop.bind(t));O(i,e,function(e){if(!t.wrapper.hasClass("k-disabled")){i.removeClass("k-dropzone-hovered");i.addClass("k-dropzone-hovered");c(e.target).addClass("k-dropzone-hovered")}},function(){i.removeClass("k-dropzone-hovered");i.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")});t._bindDocumentDragEventWrappers(i)},_bindDocumentDragEventWrappers:function(e){var t=this;var i=t._ns;O(c(document),i,function(){if(!t.wrapper.hasClass("k-disabled")){e.addClass("k-dropzone-active");e.closest(".k-upload").removeClass("k-upload-empty");e.find(".k-dropzone-hint").removeClass("k-hidden")}},function(){e.removeClass("k-dropzone-active");e.find(".k-dropzone-hint").addClass("k-hidden");if(c("li.k-file",e.closest(".k-upload")).length===0)e.closest(".k-upload").addClass("k-upload-empty")})},_toggleDropZone:function(){var e=this,t=e.options.dropZone;if(!e._supportsDrop())return;c(t).off(e._ns);c(".k-dropzone",e.wrapper).off(e._ns);if(t!=="")e._setupCustomDropZone();else e._setupDropZone()},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(e,t,i,n){var r=this,a=r.options.async.removeField||"fileNames",o=c.extend(t.data,u());o[a]=e;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:X,url:this.options.async.removeUrl,traditional:true,data:o,headers:t.headers,success:i,error:n,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(e){var t=this;var i=t.options;var n=!!e.attr("id")&&c("[for='"+e.attr("id")+"']").length>0;e.wrap("<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button'></div></div></div>");if(!i.async.saveUrl)e.closest(".k-upload").addClass("k-upload-sync");else e.closest(".k-upload").addClass("k-upload-async");e.closest(".k-upload").addClass("k-upload-empty");e.closest(".k-button").append("<span>"+t.localization.select+"</span>");if(!n&&!e.attr("aria-label"))e.attr("aria-label",t.localization.select);return e.closest(".k-upload")},_checkAllComplete:function(){if(c(".k-file.k-file-progress",this.wrapper).length===0)this.trigger(e)},_inputFiles:function(e){return t(e)}}),T=function(e){this.name="syncUploadModule";this.element=e.wrapper;this.upload=e;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},I=(T.prototype={onSelect:function(e,t){var i=this.upload;var n=c(e.target);var r=i._filesContainValidationErrors(t);i._addInput(n);var a={fileNames:t};if(r)n.remove();else a.relatedInput=n;var o=i._enqueueFile(E(n),a);if(r)i._hideUploadProgress(o);i._fileAction(o,_)},onRemove:function(e){var t=M(e);var i=t.data("relatedInput");if(i)i.remove();this.upload._removeFileEntry(t)}},function(e){this.name="iframeUploadModule";this.element=e.wrapper;this.upload=e;this.iframes=[]}),D=(S._frameId=0,I.prototype={onSelect:function(e,t){var i=this.upload;var n=c(e.target);var r=i._filesContainValidationErrors(t);var a=this.prepareUpload(n,t,r);if(i.options.async.autoUpload)if(!r)this.performUpload(a);else{i._fileAction(a,_);i._showHeaderUploadStatus(false)}else{i._fileAction(a,_);if(!r)i._showActionButtons();else i._updateHeaderUploadStatus()}if(r)i._hideUploadProgress(a)},prepareUpload:function(e,t,i){var n=this.upload;var r=c(n.element);var a=n.options.async.saveField||e.attr("name");var o,s,l,d;n._addInput(e);e.attr("name",a);if(!i){l=this.createFrame(n.name+"_"+S._frameId++);this.registerFrame(l);d=this.createForm(n.options.async.saveUrl,l.attr("name")).append(r);s={frame:l,relatedInput:r,fileNames:t}}else{e.remove();s={fileNames:t}}o=n._enqueueFile(E(e),s);if(l)l.data({form:d,file:o});return o},performUpload:function(e){var t={files:e.data("fileNames")};var i=e.data("frame");var n=this.upload;var r=e.find(".k-file-validation-message");var a=e.find(".k-file-information");var o=e.find(".k-file-size");if(!n.trigger(p,t)){n._hideActionButtons();n._showHeaderUploadStatus(true);i.appendTo(document.body);var s=i.data("form").attr("action",n.options.async.saveUrl).appendTo(document.body);t.data=c.extend({},t.data,u());for(var l in t.data){var d=s.find("input[name='"+l+"']");if(d.length===0)d=c("<input>",{type:"hidden",name:l}).prependTo(s);d.val(t.data[l])}n._fileAction(e,m);n._fileState(e,"uploading");c(e).removeClass("k-file-error").addClass("k-file-progress");if(r.length>0)r.remove();if(a.length>0)a.removeClass("k-hidden");else if(o.length>0)o.removeClass("k-hidden");i.one("load",this.onIframeLoad.bind(this));s[0].submit()}else{n._removeFileEntry(i.data("file"));this.cleanupFrame(i);this.unregisterFrame(i)}},onSaveSelected:function(){var n=this;var r=n.upload;c(".k-file",this.element).each(function(){var e=c(this);var t=J(e);var i=r._filesContainValidationErrors(e.data("fileNames"));if(!t&&!i)n.performUpload(e)})},onIframeLoad:function(e){var t=c(e.target),i;try{i=t.contents().text()}catch(e){i="Error trying to get server response: "+e}this.processResponse(t,i)},processResponse:function(t,e){var i=t.data("file"),n=this,r={responseText:e};Q(e,function(e){c.extend(r,{statusText:"OK",status:"200"});n.upload._onFileProgress({target:c(i,n.upload.wrapper)},100);n.upload._onUploadSuccess({target:c(i,n.upload.wrapper)},e,r);n.cleanupFrame(t);n.unregisterFrame(t)},function(){c.extend(r,{statusText:"error",status:"500"});n.upload._onUploadError({target:c(i,n.upload.wrapper)},r)})},onCancel:function(e){var t=c(e.target).data("frame");this.stopFrameSubmit(t);this.cleanupFrame(t);this.unregisterFrame(t);this.upload._removeFileEntry(t.data("file"))},onRetry:function(e){var t=M(e);this.performUpload(t)},onRemove:function(e,t,i){var n=this;var r=n.upload;var a=M(e);var o=a.data("frame");if(o){n.unregisterFrame(o);r._removeFileEntry(a);n.cleanupFrame(o)}else if(a.hasClass("k-file-success"))Y(a,r,t,i);else r._removeFileEntry(a)},onAbort:function(){var e=this.element,t=this;c.each(this.iframes,function(){c("input",this.data("form")).appendTo(e);t.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(e){return c("<iframe"+" name='"+e+"'"+" id='"+e+"'"+" style='display:none;' />")},createForm:function(e,t){return c("<form enctype='multipart/form-data' method='POST'"+" action='"+e+"'"+" target='"+t+"'"+"/>")},stopFrameSubmit:function(e){if(typeof e.stop!="undefined")e.stop();else if(e.document)e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=c.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null);setTimeout(function(){t.remove();e.remove()},1)}},function(e){this.name="formDataUploadModule";this.element=e.wrapper;this.upload=e;this.position={};this.metaData={};this.cancelled={};this.resume={};this.paused={};this.retries={}});function E(e){return c.map(t(e),function(e){return e.name}).join(", ")}function t(e){var t=e[0];if(t.files)return A(t.files);else return[{name:W(t.value),extension:U(t.value),size:null}]}function A(e){return c.map(e,function(e){return V(e)})}function V(e){var t=e.name||e.fileName;return{name:f.htmlEncode(t),extension:U(t),size:typeof e.size=="number"?e.size:e.fileSize,rawFile:e}}function U(e){var t=e.match(N);return t?t[0]:""}function W(e){var t=e.lastIndexOf("\\");return t!=-1?e.substr(t+1):e}function F(e,t){var i=f.guid();return c.map(e,function(e){e.uid=t?f.guid():i;return e})}function j(e,t){var i=q(t.allowedExtensions);var n=t.maxFileSize;var r=t.minFileSize;for(var a=0;a<e.length;a++){G(e[a],i);K(e[a],r,n)}}function q(e){var t=c.map(e,function(e){var t=e.substring(0,1)==="."?e:"."+e;return t.toLowerCase()});return t}function G(e,t){if(t.length>0)if(t.indexOf(e.extension.toLowerCase())<0){e.validationErrors=e.validationErrors||[];if(c.inArray(i,e.validationErrors)===-1)e.validationErrors.push(i)}}function K(e,t,i){if(t!==0&&e.size<t){e.validationErrors=e.validationErrors||[];if(c.inArray(w,e.validationErrors)===-1)e.validationErrors.push(w)}if(i!==0&&e.size>i){e.validationErrors=e.validationErrors||[];if(c.inArray(k,e.validationErrors)===-1)e.validationErrors.push(k)}}function H(e){var t=0;if(typeof e[0].size=="number"){for(var i=0;i<e.length;i++)if(e[i].size)t+=e[i].size}else return"";t/=1024;if(t<1024)return t.toFixed(2)+" KB";else return(t/1024).toFixed(2)+" MB"}function $(e){return!e.multiple&&c(".k-file",e.wrapper).length>1}function Y(a,o,e,t){if(!o._supportsRemove()){if($(o)||!t)o._removeFileEntry(a);return}var s=a.data("fileNames");var i=c.map(s,function(e){return e.name});if(t===false){o._removeFileEntry(a);return}o._submitRemove(i,e,function e(t,i,n){var r=o.trigger(d,{operation:"remove",files:s,response:t,XMLHttpRequest:n});if(!r)o._removeFileEntry(a)},function e(t){if($(o))o._removeFileEntry(a);o.trigger(h,{operation:"remove",files:s,XMLHttpRequest:t});l("Server response: "+t.responseText)})}function Q(e,t,i){var n=false,r="";try{r=JSON.parse(X(e));n=true}catch(e){i()}if(n)t(r)}function X(e){if(typeof e==="undefined"||e==="")e="{}";return e}function P(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.stopPropagation();e.preventDefault()}function O(e,t,i,n){var r,a;e.on("dragenter"+t,function(e){i(e);a=new Date;if(!r)r=setInterval(function(){var e=new Date-a;if(e>100){n();clearInterval(r);r=null}},100)}).on("dragover"+t,function(){a=new Date})}function J(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function M(e){return c(e.target).closest(".k-file")}return D.prototype={onSelect:function(e,t){var i=this.upload;var n=this;var r=c(e.target);var a=this.prepareUpload(r,t);var o;var s;c.each(a,function(e){o=i._filesContainValidationErrors(c(this.data("fileNames")));if(i.options.async.autoUpload)if(!o)if(i.options.async.chunkSize){n.prepareChunk(this);s=this.prev();if(i.options.async.concurrent||e===0&&!s.length||e===0&&s.hasClass("k-file-success"))n.performUpload(this)}else n.performUpload(this);else{i._fileAction(this,_);i._showHeaderUploadStatus(false)}else{i._fileAction(this,_);if(!o){i._showActionButtons();this.addClass("k-toupload")}else i._updateHeaderUploadStatus()}if(o)i._hideUploadProgress(this)})},prepareUpload:function(e,t){var i=this.enqueueFiles(t);if(e.is("input")){c.each(i,function(){c(this).data("relatedInput",e)});e.data("relatedFileEntries",i);this.upload._addInput(e)}return i},enqueueFiles:function(e){var t=this.upload;var i;var n;var r=e.length;var a;var o;var s=[];if(t.options.async.batch===true){i=c.map(e,function(e){return e.name}).join(", ");if(t.directory||t.options.directoryDrop)c(e).each(function(){if(this.rawFile.webkitRelativePath||this.rawFile.relativePath)this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath});o=t._enqueueFile(i,{fileNames:e});o.data("files",e);s.push(o)}else for(n=0;n<r;n++){a=e[n];i=a.name;if(t.directory||t.options.directoryDrop)if(a.rawFile.webkitRelativePath||a.rawFile.relativePath)a.name=a.rawFile.webkitRelativePath||a.rawFile.relativePath;o=t._enqueueFile(i,{fileNames:[a]});o.data("files",[a]);s.push(o)}return s},performUpload:function(e){var t=this.upload,i=this.createFormData(),n=this.createXHR(),r={files:e.data("fileNames"),XMLHttpRequest:n},a;var o=e.find(".k-file-validation-message");var s=e.find(".k-file-information");var l=e.find(".k-file-size");if(!t.trigger(p,r)){if(e.find(".k-i-cancel").length===0){if(t.options.async.chunkSize)t._fileAction(e,g);t._fileAction(e,m,t.options.async.chunkSize)}if(!t.wrapper.find(".k-toupload").length)t._hideActionButtons();t._showHeaderUploadStatus(true);if(r.formData)i=r.formData;else{r.data=c.extend({},r.data,u());for(var d in r.data)i.append(d,r.data[d]);a=e.data("files");if(a)this.populateFormData(i,a)}t._fileState(e,"uploading");c(e).removeClass("k-file-error").addClass("k-file-progress");if(o.length>0)o.remove();if(s.length>0)s.removeClass("k-hidden");else if(l.length>0)l.removeClass("k-hidden");if(t.options.async.useArrayBuffer&&window.FileReader)this._readFile(t.options.async.saveUrl,i,e,n);else this.postFormData(t.options.async.saveUrl,i,e,n)}else this.removeFileEntry(e)},_readFile:function(t,i,n,r){var a=this;var o=a.upload;var s=n.data("files")[0];var e=new FileReader;e.onload=function(e){try{if(!a.fileArrayBuffer)a.fileArrayBuffer=e.target.result;else a.fileArrayBuffer=a._appendBuffer(a.fileArrayBuffer,e.target.result)}catch(e){o._onUploadError({target:c(n,o.wrapper)},r);return}if(a.position[s.uid]>s.size){a.postFormData(o.options.async.saveUrl,a.fileArrayBuffer,n,r);a.fileArrayBuffer=null}else a._readFile(t,i,n,r)};e.onerror=function(){o._onUploadError({target:c(n,o.wrapper)},r)};e.readAsArrayBuffer(a._getCurrentChunk(s.rawFile,s.uid))},_appendBuffer:function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);i.set(new Uint8Array(e),0);i.set(new Uint8Array(t),e.byteLength);return i.buffer},onSaveSelected:function(){var n=this;var r=n.upload;c(".k-toupload",this.element).filter(function(){var e=c(this);var t=J(e);var i=r._filesContainValidationErrors(e.data("fileNames"));return!t&&!i}).each(function(e){var t=c(this);var i=t.prev();t.removeClass("k-toupload");if(r.options.async.chunkSize){n.prepareChunk(t);if(r.options.async.concurrent||e===0&&!i.length||(e===0&&i.hasClass("k-file-success")||i.hasClass("k-file-error")))n.performUpload(t)}else n.performUpload(t)})},onCancel:function(e){var t=M(e);if(this.upload.options.async.chunkSize)this.cancelled[t.data("uid")]=true;this.stopUploadRequest(t);this.removeFileEntry(t)},onPause:function(e){var t=M(e);var i=t.data("uid");var n=this.upload.options.async;if(n.chunkSize){this.retries[i]=n.maxAutoRetries+1;this.paused[i]=true;this.resume[i]=false}},onResume:function(e){var t=M(e);var i=t.data("uid");if(this.upload.options.async.chunkSize){delete this.paused[i];this.resume[i]=true;this.retries[t.data("uid")]=1;this._increaseChunkIndex(i);this.performUpload(t)}},onRetry:function(e){var t=M(e);var i=this.upload.options.async;if(i.chunkSize){this.retries[t.data("uid")]=i.maxAutoRetries+1;delete this.paused[t.data("uid")]}this.performUpload(t)},onRemove:function(e,t,i){var n=this;var r=n.upload;var a=M(e);var o=this.upload.options.async;if(o.chunkSize)this.retries[a.data("uid")]=o.maxAutoRetries+1;if(a.hasClass("k-file-success"))Y(a,r,t,i);else n.removeFileEntry(a)},createXHR:function(){return new XMLHttpRequest},postFormData:function(e,t,i,n){var r=this;i.data("request",n);n.addEventListener("load",function(e){r.onRequestSuccess.call(r,e,i)},false);n.addEventListener(h,function(e){r.onRequestError.call(r,e,i)},false);n.upload.addEventListener("progress",function(e){r.onRequestProgress.call(r,e,i)},false);n.open("POST",e,true);n.withCredentials=this.upload.options.async.withCredentials;var a=this.upload.options.async.accept;if(a)n.setRequestHeader("Accept",a);n.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var i;var n;var r=t.length;var a;var o=this.upload;if(o.options.async.chunkSize){a=t[0].uid;i=this._getCurrentChunk(t[0].rawFile,a);e.append(o.options.async.saveField||o.name,i);var s=JSON.stringify(this.metaData[a]);e.append("metadata",s)}else for(n=0;n<r;n++)e.append(o.options.async.saveField||o.name,t[n].rawFile);return e},onRequestSuccess:function(e,a){var o=e.target,s=this;function t(){s.upload._onUploadError({target:c(a,s.upload.wrapper)},o)}function i(e){var t=s.upload.options.async.batch;var i=s.upload.options.async.chunkSize;var n=s.upload.options.async.concurrent;var r=e.fileUid;if(s.paused[r]||s.cancelled[r])return;delete s.retries[r];if(i&&!t&&!e.uploaded){s._increaseChunkIndex(r);s.performUpload(a)}else if(i&&!t&&!n&&a.next().length&&!a.next().hasClass("k-toupload")){s.upload._onFileProgress({target:c(a,s.upload.wrapper)},100);s._resetChunkIndex(r);s.upload._onUploadSuccess({target:c(a,s.upload.wrapper)},e,o);s.performUpload(a.next())}else{s.upload._onFileProgress({target:c(a,s.upload.wrapper)},100);s.upload._onUploadSuccess({target:c(a,s.upload.wrapper)},e,o);s.cleanupFileEntry(a)}}if(o.status>=200&&o.status<=299)Q(o.responseText,i,t);else t()},onRequestError:function(e,t){var i=e.target;this.upload._onUploadError({target:c(t,this.upload.wrapper)},i)},cleanupFileEntry:function(e){var t=e.data("relatedInput"),i=true;if(t){c.each(t.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=e[0])i=i&&this.hasClass("k-file-success")});if(i)t.remove()}},removeFileEntry:function(e){var t=this.upload.options.async.chunkSize;var i=this.upload.options.async.concurrent;var n=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(e);if(t&&!i&&!n)if(e.next().length)this.performUpload(e.next());this.upload._removeFileEntry(e)},onRequestProgress:function(e,t){var i=Math.round(e.loaded*100/e.total);var n=t.data("uid");var r;if(this.upload.options.async.chunkSize){r=this.metaData[n];i=r&&r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100}this.upload._onFileProgress({target:c(t,this.upload.wrapper)},i)},stopUploadRequest:function(e){if(e.data("request"))e.data("request").abort()},prepareChunk:function(e){var t=e.data("files")[0];var i=t.rawFile;var n=t.uid;var r=this.upload.options.async.chunkSize;this.position[n]=0;this.metaData[n]={chunkIndex:0,contentType:i.type,fileName:i.name,relativePath:t.name,totalFileSize:i.size,totalChunks:Math.ceil(i.size/r),uploadUid:n}},_decreaseChunkIndex:function(e){this.metaData[e].chunkIndex--},_increaseChunkIndex:function(e){this.metaData[e].chunkIndex++},_resetChunkIndex:function(e){this.metaData[e].chunkIndex=0},_decreasePosition:function(e){this.position[e]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(e,t){var i=this.position[t];var n;var r=this.upload.options.async;var a=r.chunkSize||r.bufferChunkSize;if(!this.position[t])this.position[t]=0;this.position[t]+=a;if(!!(n=this._getChunker(e)))return e[n](i,this.position[t]);else return e},_getChunker:function(e){if(e.slice)return"slice";else if(e.mozSlice)return"mozSlice";else if(e.webkitSlice)return"webkitSlice";else return null}},f.ui.plugin(S),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.breadcrumb.min",["kendo.core.min"],function(){var e={id:"breadcrumb",name:"Breadcrumb",category:"web",description:"The Breadcrumb widget displays navigation breadcrumb.",depends:["core"]},f=window.kendo.jQuery,p=void 0,h=window.kendo,n=h.ui.Widget,m=f.extend,g=f.isPlainObject,r=".kendoBreadcrumb",s="aria-hidden",a="aria-label",l="click",o="focus",d="blur",u="keydown",i="change",c=".",v={widget:"k-widget k-breadcrumb",overlay:"k-breadcrumb-container",textbox:"k-input-inner",textboxWrapper:"k-textbox k-input k-input-md k-rounded-md k-input-solid",link:"k-breadcrumb-link",item:"k-breadcrumb-item",delimiter:"k-breadcrumb-delimiter-icon",rootItem:"k-breadcrumb-root-item",rootLink:"k-breadcrumb-root-link",overflowIcon:"k-breadcrumb-overflow-icon",focused:"k-focus",hidden:"k-hidden",inputWrapper:"k-breadcrumb-input-container"},t=n.extend({init:function(e,t){var i=this;t=t||{};n.fn.init.call(i,e,t);i._wrapper();if(t.editable){i._editable();i._tabindex()}i.wrapper.on(l+r,"a:not(.k-disabled)",i._click.bind(i));if(t.value||t.bindToLocation||!t.items)i._value();else if(t.items)i.items(t.items);i._resizeHandler=h.onResize(function(){i.resize(true)})},options:{editable:false,navigational:false,bindToLocation:false,items:null,name:"Breadcrumb",gap:0,rootIcon:"home",delimiterIcon:"arrow-chevron-right",messages:{rootTitle:"Go to root"}},events:[i,l],destroy:function(){var e=this;n.fn.destroy.call(e);h.unbindResize(e._resizeHandler);e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(r)},items:function(e){var t=this;if(e===p)return t.options.items;t.options.items=e;t._segments=e;t.refresh()},_update:function(e){var t=this;if(e!==t.value()){t._generateSegments(e);t.refresh();t.trigger(i,{sender:this,value:e})}},_generateSegments:function(e){var t=this,i=t.options,n=i.items,r,a;a=t._split(e);if(!n){t.options.items=t._segments=a;return}t._segments=[];for(var o=0;o<a.length;o++){r=t._path(n.slice(0,o+1));if(r!==""&&e.indexOf(r)>-1&&n[o]&&n[o].text===a[o])t._segments.push(n[o]);else t._segments.push(a[o])}},_click:function(e){var t=this,i=t.options,n=f(e.target).closest(c+v.item),r=n.prevAll().addBack(),a=t._getItems(r),o=t._path(a),s=t._segments[n.index()];if(!i.navigational)e.preventDefault();if(!t.trigger(l,{sender:t,originalEvent:e,isRoot:s.type==="rootitem",item:s}))t._update(o)},_getItems:function(e){var t=this;return f.map(e,function(e){return t._segments[f(e).index()]||e.innerText})},_edit:function(){var e=this,t=e.input;e.oldValue=e.value();e.inputWrapper.css("height",e.wrapper.height());e.overlay.hide();e.input.val(e.value());e.input.attr(s,false);e.inputWrapper.show();setTimeout(function(){t.select()})},_blur:function(e){var t=this,i=t.input,n=t.inputWrapper,r=t.wrapper,a=t.overlay,o=i.val().replace(/\/{2,}/g,"/");if(a.is(":visible"))return;if(e)o=t.oldValue;i.attr(s,true);n.hide();a.show();i.val("");t._update(o);r.removeClass(v.focused)},_keydown:function(e){var t=this,i=e.keyCode,n=i===h.keys.ENTER,r=i===h.keys.ESC;if(n||r){t._blur(r);setTimeout(function(){t.overlay.find("a").first().trigger("focus")})}},isNavigational:function(e){var t=e.hasClass(v.textbox)||e.closest(c+v.item);if(e[0]===this.wrapper[0])return false;return t&&!e.hasClass("k-breadcrumb-last-item")},_wrapperKeydown:function(e){var t=this,i=f(e.target),n=t.isNavigational(i);if(e.keyCode===h.keys.ENTER&&!n)t._edit()},_wrapperClick:function(e){var t=this,i=f(e.target),n=t.isNavigational(i);if(!n)this._edit()},_wrapperFocus:function(e){f(e.target).addClass(v.focused)},_wrapperBlur:function(e){f(e.target).removeClass(v.focused)},_wrapper:function(){var e=this,t=this.element,i=t.is("input"),n=f('<div class="'+v.inputWrapper+'"><span class="'+v.textboxWrapper+'"></span></div>');e.wrapper=i?t.wrap(f("<nav />")).parent():t;if(i){e.element.wrap(n).addClass(v.textbox);e.inputWrapper=e.wrapper.find(c+v.inputWrapper).hide()}else e.inputWrapper=e.wrapper.append(n).find(c+v.inputWrapper).hide();e.wrapper.addClass(v.widget);e.wrapper.attr(a,"Breadcrumb");e.overlay=e.wrapper.append(f("<ol />").addClass(v.overlay)).find(c+v.overlay)},_editable:function(){var e=this,t=e.element,i=t.is("input");if(i)e.input=e.element;else e.input=f("<input />");e.inputWrapper.find(c+v.textboxWrapper.split(" ")[0]).append(e.input);e.input.addClass(v.textbox).attr(s,true);e.input.on(d+r,e._blur.bind(e,false)).on(u+r,e._keydown.bind(e));e.wrapper.on(o+r,e._wrapperFocus.bind(e)).on(d+r,e._wrapperBlur.bind(e)).on(u+r,e._wrapperKeydown.bind(e)).on(l+r,e._wrapperClick.bind(e))},_value:function(){var e=this,t=e.options;if(t.value)e.value(t.value);else if(t.bindToLocation)e.value(window.location.href.replace(/http(s?):\/\//,"").replace(/\/$/,""));else e.value("")},_split:function(e){return e.split("/").filter(function(e,t){if(t>0&&e==="")return false;return true})},isRtl:function(){return h.support.isRtl(this.wrapper)},refresh:function(){var e=this,t=e.options,i=t.messages,n=e.options.delimiterIcon,r="",a="",o=e.value()==="",s=e._segments,l,d,u,c;if(n=="arrow-chevron-right"&&e.isRtl())n="arrow-chevron-left";for(d=0,u=s.length;d<u;d++){l=s[d];c=d===s.length-1;if(l!==p){if(!r)a="/";else a+=l.text||l||"";if(typeof l==="string"){l={type:!r?"rootitem":"item",href:t.navigational?a:"#",text:l,showIcon:!r,showText:!!r,icon:!r?t.rootIcon:"",itemClass:!r?"k-breadcrumb-root-item":"",linkClass:!r?v.rootLink:"",delimiterIcon:n,renderDelimiter:!c&&!o,lastSegment:c,iconClass:""};e._segments.splice(d,1,l)}else if(g(l)){l=m({},l,{type:l.type?l.type.toLowerCase():"item"});l=m({},l,{text:l.text||"",title:l.text||"",icon:l.icon||(l.type==="rootitem"?t.rootIcon:""),iconClass:l.iconClass||"",lastSegment:c,renderDelimiter:!c&&s.length>1,href:t.navigational?l.href:"#",delimiterIcon:n,itemClass:l.itemClass||"",linkClass:l.linkClass||"",showIcon:l.showIcon===p?l.type==="rootitem"&&l.type!=="item":l.showIcon,showText:l.showText===p?l.type==="item"&&l.type!=="rootitem":l.showText});if(l.type==="rootitem"){l.itemClass+=" k-breadcrumb-root-item";l.linkClass+=" "+v.rootLink}}if(l.type==="rootitem"&&l.text==="")l.title=i.rootTitle;a+=a.match(/\/$/)?"":"/";r+=h.template(this.itemTemplate)(l)}}this.overlay.empty().append(f(r));this.resize(true)},itemTemplate:'<li class="k-breadcrumb-item #:itemClass# #if(lastSegment){#k-breadcrumb-last-item#}#">'+'<a href="#:href#" class="#:linkClass# '+'#if(type !== "rootitem"){# k-breadcrumb-link#}#'+"#if(showText && showIcon){# k-breadcrumb-icontext-link#}#"+"#if(showIcon && !showText){# k-breadcrumb-icon-link#}#"+'#if(lastSegment && type !== "rootitem"){# k-disabled#}#"'+'#if(lastSegment){# aria-current="page"#}#'+'#if(lastSegment && type !== "rootitem"){# aria-disabled="true" #}#'+'title="#:text || title#">'+"#if(showIcon) {#"+'<span class="#if(icon){#k-icon k-i-#:icon##}# #:iconClass#"></span>'+"#}#"+"#if(showText) {#"+"#:text#"+"#}#"+"</a>"+"#if(renderDelimiter) {#"+'<span class="k-breadcrumb-delimiter-icon k-icon k-i-#:delimiterIcon#" aria-hidden="true"></span>'+"#}#"+'#if(type === "rootitem" && renderDelimiter) {#'+'<span class="k-breadcrumb-delimiter-icon k-hidden k-icon k-i-#:delimiterIcon#" aria-hidden="true"></span>'+"#}#"+"</li>",_displayOverflowIcons:function(e){var t=this,i=t.wrapper.find(c+v.rootItem);if(e)i.find(c+v.delimiter).addClass(v.overflowIcon).removeClass(v.hidden);else i.find(c+v.overflowIcon).removeClass(v.overflowIcon).last().addClass(v.hidden)},_shrinkItems:function(){var e=this,t=e.wrapper,i=e.overlay,n=e.overlay.find(c+v.item+":visible:not(.k-breadcrumb-root-item)"),r=t.width()-e.options.gap,a;if(n.length==1)return;for(var o=0;o<n.length;o+=1){a=f(n[o]);if(h._outerWidth(i)>=r){if(o==n.length-1)break;a.hide();e._displayOverflowIcons(true)}}},_showItem:function(e,t,i){if(e.length&&i>t+h._outerWidth(e,true)){e.show();return true}return false},_stretchItems:function(){var e=this,t=e.wrapper,i=e.overlay,n=e.overlay.find(c+v.item+":hidden:not(.k-breadcrumb-root-item)"),r=t.width()-e.options.gap,a,o;if(!n.length)e._displayOverflowIcons(false);for(var s=n.length-1;s>=0;s--){a=f(n[s]);o=h._outerWidth(i);if(o>r||!this._showItem(a,o,r))break}},_resize:function(){this._shrinkItems();this._stretchItems()},getSize:function(){return h.dimensions(this.wrapper)},value:function(e){var t=this;if(e!==p){t._generateSegments(e);t.refresh();return}return t._path(t._segments)},_path:function(e){return f.map(e,function(e){var t=g(e)?e.text:e;return t==="/"?"":t}).join("/")}});return h.ui.plugin(t),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filebrowser.min",["kendo.listview.min","kendo.dropdownlist.min","kendo.upload.min","kendo.breadcrumb.min"],function(){var e={id:"filebrowser",name:"FileBrowser",category:"web",description:"",hidden:true,depends:["selectable","listview","dropdownlist","upload","breadcrumb"]},l=window.kendo.jQuery,n=void 0,u=window.kendo,r=u.ui.Widget,s=l.isPlainObject,d=l.extend,a=u.support.placeholder,o=u.isFunction,c=/(^\/|\/$)/g,i="change",f="apply",p="error",h="click",m=".kendoFileBrowser",g=".kendoSearchBox",v="name",_="size",b="type",k={field:b,dir:"asc"},w=u.template('<div class="k-listview-item k-listview-item-empty"><span class="k-file-preview"><span class="k-file-icon k-icon k-i-none"></span></span><span class="k-file-name">${text}</span></div>'),y='<div class="k-widget k-filebrowser-toolbar k-toolbar k-floatwrap">'+"# if (showCreate) { #"+'<button type="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button"><span class="k-i-button-icon k-icon k-i-folder-add"></span></button>'+"# } #"+"# if (showUpload) { # "+'<div class="k-widget k-upload">'+'<div class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button">'+'<span class="k-button-icon k-icon k-i-plus"></span>'+'<span class="k-button-text">#=messages.uploadFile#</span>'+'<input type="file" name="file" />'+"</div>"+"</div>"+"# } #"+"# if (showDelete) { #"+'<button type="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-disabled"><span class="k-button-icon k-icon k-i-close"></span></button>'+"# } #"+'<div class="k-tiles-arrange">'+"<label>#=messages.orderBy#: <select></select></label>"+"</div>"+'<span class="k-toolbar-spacer"></span>'+'<input data-role="searchbox" />'+"</div>";function t(e,t,i){var n,r;e.on("dragenter"+m,function(){t();r=new Date;if(!n)n=setInterval(function(){var e=new Date-r;if(e>100){i();clearInterval(n);n=null}},100)}).on("dragover"+m,function(){r=new Date})}function x(e,t){if(e===n||!e.match(/\/$/))e=(e||"")+"/";return e+t}function C(e){if(!e)return"";var t=" bytes";if(e>=1073741824){t=" GB";e/=1073741824}else if(e>=1048576){t=" MB";e/=1048576}else if(e>=1024){t=" KB";e/=1024}return Math.round(e*100)/100+t}function S(e,t){var i=e[t];if(s(i))return i.from||i.field||t;return i}d(true,u.data,{schemas:{filebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(true,u.data,{transports:{filebrowser:u.data.RemoteTransport.extend({init:function(e){u.data.RemoteTransport.fn.init.call(this,l.extend(true,{},this.options,e))},_call:function(e,t){t.data=l.extend({},t.data,{path:this.options.path()});if(o(this.options[e]))this.options[e].call(this,t);else u.data.RemoteTransport.fn[e].call(this,t)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var T=r.extend({init:function(e,t){var i=this;t=t||{};r.fn.init.call(i,e,t);i.element.addClass("k-filebrowser");i.element.on(h+m,".k-filebrowser-toolbar button:not(.k-disabled):has(.k-i-close)",i._deleteClick.bind(i)).on(h+m,".k-filebrowser-toolbar button:not(.k-disabled):has(.k-i-folder-add)",i._addClick.bind(i)).on("keydown"+m,".k-listview-item.k-selected input",i._directoryKeyDown.bind(i)).on("blur"+m,".k-listview-item.k-selected input",i._directoryBlur.bind(i));i._dataSource();i.refresh();i.path(i.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[p,i,f],destroy:function(){var e=this;r.fn.destroy.call(e);e.dataSource.unbind(p,e._errorHandler);e.element.add(e.list).add(e.toolbar).off(m);u.destroy(e.element)},value:function(){var e=this,t=e._selectedItem(),i,n=e.options.transport.fileUrl;if(t&&t.get(b)==="f"){i=x(e.path(),t.get(v)).replace(c,"");if(n)i=o(n)?n(i):u.format(n,encodeURIComponent(i));return i}},_selectedItem:function(){var e=this.listView,t=e.select();if(t.length)return this.dataSource.getByUid(t.attr(u.attr("uid")))},_toolbar:function(){var t=this,e=u.template(y),i=t.options.messages,n=[{text:i.orderByName,value:"name"},{text:i.orderBySize,value:"size"}];t.toolbar=l(e({messages:i,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:i.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:true},upload:t._fileUpload.bind(t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end();t.upload=t.toolbar.find(".k-upload input").data("kendoUpload");t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:n,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList");t.searchBox=t.toolbar.find("input[data-role='searchbox']").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox");t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var e=this;if(e.options.transport.uploadUrl){t(l(document.documentElement),e._dropEnter.bind(e),e._dropLeave.bind(e));e._scrollHandler=e._positionDropzone.bind(e)}},_dropEnter:function(){this._positionDropzone();l(document).on("scroll"+m,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();l(document).off("scroll"+m,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,i=t.offset();e.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(i).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),i=u.format(e.options.messages.deleteFile,t.find(".k-file-name").text());if(t.length&&e._showMessage(i,"confirm"))e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return S(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var i=this,t=i.options,n=t.fileTypes,r=new RegExp(("("+n.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),a=e.files[0].name,o=e.files[0].size,s=v,l=_,d;if(r.test(a)){e.data={path:i.path()};d=i._createFile(a,o);if(!d)e.preventDefault();else i.upload.one("success",function(e){var t=i._insertFileToList(d);if(t._override){t.set(s,e.response[i._getFieldName(s)]);t.set(l,e.response[i._getFieldName(l)]);i.listView.dataSource.pushUpdate(t)}i._tiles=i.listView.items().filter("["+u.attr("type")+"=f]")})}else{e.preventDefault();i._showMessage(u.format(t.messages.invalidFileType,a,n))}},_findFile:function(e){var t=this.dataSource.data(),i,n,r=b,a=v,o;e=e.toLowerCase();for(i=0,o=t.length;i<o;i++)if(t[i].get(r)==="f"&&t[i].get(a).toLowerCase()===e){n=t[i];break}return n},_createFile:function(e,t){var i=this,n={},r=b,a=i._findFile(e);if(a)if(!i._showMessage(u.format(i.options.messages.overwriteFile,e),"confirm"))return null;else{a._override=true;return a}n[r]="f";n[v]=e;n[_]=t;return n},_insertFileToList:function(e){var t;if(e._override)return e;var i=this.dataSource;var n=i.view();for(var r=0,a=n.length;r<a;r++)if(n[r].get(b)==="f"){t=r;break}return i.insert(++t,e)},createDirectory:function(){var i=this,e,t,n=0,r=b,a=v,o=i.dataSource.data(),s=i._nameDirectory(),l=new i.dataSource.reader.model;for(e=0,t=o.length;e<t;e++)if(o[e].get(r)==="d")n=e;l.set(r,"d");l.set(a,s);i.listView.one("dataBound",function(){var e=i.listView.items().filter("["+u.attr("uid")+"="+l.uid+"]");if(e.length)this.edit(e);this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){i.listView.element.find(".k-edit-item input").select()})}).one("save",function(e){var t=e.model.get(a);if(!t)e.model.set(a,s);else e.model.set(a,i._nameExists(t,l.uid)?i._nameDirectory():t)});i.dataSource.insert(++n,l)},_directoryKeyDown:function(e){if(e.keyCode==13)e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var i=this.dataSource.data(),n=b,r=v,a,o;for(a=0,o=i.length;a<o;a++)if(i[a].get(n)==="d"&&i[a].get(r).toLowerCase()===e.toLowerCase()&&i[a].uid!==t)return true;return false},_nameDirectory:function(){var e="New folder",t=this.dataSource.data(),i=[],n=b,r=v,a,o,s;for(o=0,s=t.length;o<s;o++)if(t[o].get(n)==="d"&&t[o].get(r).toLowerCase().indexOf(e.toLowerCase())>-1)i.push(t[o].get(r));if(l.inArray(e,i)>-1){o=2;do{a=e+" ("+o+")";o++}while(l.inArray(a,i)>-1);e=a}return e},orderBy:function(e){this.dataSource.sort([{field:b,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:v,operator:"contains",value:e})},_content:function(){var t=this;t.list=l('<div class="k-filemanager-listview" />').appendTo(t.element).on("dblclick"+m,".k-listview-item",t._dblClick.bind(t));t.listView=new u.ui.ListView(t.list,{layout:"flex",flex:{direction:"row",wrap:"wrap"},dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:true,autoBind:false,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-disabled");if(e.action==="remove"||e.action==="sync"){e.preventDefault();u.ui.progress(t.listView.content,false)}},dataBound:function(){if(t.dataSource.view().length)t._tiles=this.items().filter("["+u.attr("type")+"=f]");else this.content.append(w({text:t.options.messages.emptyFolder}))},change:t._listViewChange.bind(t)})},_dblClick:function(e){var t=this,i=l(e.currentTarget);if(i.hasClass("k-edit-item"))t._directoryBlur();if(i.filter("["+u.attr("type")+"=d]").length){var n=t.dataSource.getByUid(i.attr(u.attr("uid")));if(n){t.path(x(t.path(),n.get(v)));t.breadcrumbs.value("/"+t.path())}}else if(i.filter("["+u.attr("type")+"=f]").length)t.trigger(f)},_listViewChange:function(){var e=this._selectedItem();if(e){this.toolbar.find(".k-i-close").parent().removeClass("k-disabled");this.trigger(i,{selected:e})}},_dataSource:function(){var e=this,t=e.options,i=t.transport,n=d({},k),r={field:v,dir:"asc"},a,o={type:i.type||"filebrowser",sort:[n,r]};if(s(i)){i.path=e.path.bind(e);o.transport=i}if(s(t.schema))o.schema=t.schema;else if(i.type&&s(u.data.schemas[i.type]))a=u.data.schemas[i.type];if(e.dataSource&&e._errorHandler)e.dataSource.unbind(p,e._errorHandler);else e._errorHandler=e._error.bind(e);e.dataSource=u.data.DataSource.create(o).bind(p,e._errorHandler)},_navigation:function(){var e=this,t=l('<div class="k-floatwrap"><nav></nav></div>').appendTo(this.element);e.breadcrumbs=t.find("nav").first().kendoBreadcrumb({editable:true,gap:50,value:e.options.path||"/",change:function(){e.path(this.value())}}).data("kendoBreadcrumb")},_error:function(e){var t=this,i;if(!t.trigger(p,e)){i=e.xhr.status;if(e.status=="error"){if(i=="404")t._showMessage(t.options.messages.directoryNotFound);else if(i!="0")t._showMessage("Error! The requested URL returned "+i+" - "+e.xhr.statusText)}else if(i=="timeout")t._showMessage("Error! Server timeout.");var n=t.dataSource;if(n.hasChanges())n.cancelChanges()}},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation();e._toolbar();e._content()},_editTmpl:function(){var e='<div class="k-listview-item k-selected" '+u.attr("uid")+'="#=uid#" ';e+=u.attr("type")+'="${'+b+'}">';e+="#if("+b+' == "d") { #';e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';e+="#}else{#";e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-loading"></span></div>';e+="#}#";e+="#if("+b+' == "d") { #';e+='<span class="k-file-name"><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" '+u.attr("bind")+'="value:'+v+'"/></span></span>';e+="#}#";e+="</div>";return u.template(e).bind({sizeFormatter:C})},_itemTmpl:function(){var e='<div class="k-listview-item" '+u.attr("uid")+'="#=uid#" ';e+=u.attr("type")+'="${'+b+'}">';e+="#if("+b+' == "d") { #';e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';e+="#}else{#";e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-file"></span></div>';e+="#}#";e+='<span class="k-file-name">${'+v+"}</span>";e+="#if("+b+' == "f") { # <span class="k-file-size">${this.sizeFormatter('+_+")}</span> #}#";e+="</div>";return u.template(e).bind({sizeFormatter:C})},path:function(e){var t=this,i=t._path||"";if(e!==n){t._path=e.replace(c,"")+"/";t.dataSource.read({path:t._path});return}if(i)i=i.replace(c,"");return i==="/"||i===""?"":i+"/"}}),I=r.extend({init:function(e,t){var i=this;t=t||{};r.fn.init.call(i,e,t);if(a)i.element.attr("placeholder",i.options.label);i._wrapper();i.element.on("keydown"+g,i._keydown.bind(i)).on("change"+g,i._updateValue.bind(i));i.wrapper.on(h+g,"a",i._click.bind(i));if(!a)i.element.on("focus"+g,i._focus.bind(i)).on("blur"+g,i._blur.bind(i))},options:{name:"SearchBox",label:"Search",value:""},events:[i],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(g);r.fn.destroy.call(e)},_keydown:function(e){if(e.keyCode===13)this._updateValue()},_click:function(e){e.preventDefault();this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();if(t!==e.value()){e.value(t);e.trigger(i)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!a)this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var e=this.element,t=e.parents(".k-search-wrap");e[0].style.width="";e.addClass("k-input-inner");if(!t.length){t=e.wrap(l('<div class="k-widget k-search-wrap"><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"></span></div>')).parents(".k-search-wrap");if(!a)l('<label style="display:block">'+this.options.label+"</label>").insertBefore(e);l('<span class="k-input-suffix"><a href="#" class="k-icon k-i-zoom k-search"/></span>').appendTo(t.find(".k-textbox"))}this.wrapper=t;this.label=t.find(">label")},value:function(e){var t=this;if(e!==n){t.options.value=e;t.element.val(e);t._toggleLabel();return}return t.options.value}});return u.ui.plugin(T),u.ui.plugin(I),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.imagebrowser.min",["kendo.filebrowser.min"],function(){var e={id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:true,depends:["filebrowser"]},l=window.kendo.jQuery,u=void 0,c=window.kendo,n=c.ui.FileBrowser,s=l.isPlainObject,d=l.extend,f=c.isFunction,r=/(^\/|\/$)/g,p="error",h=".kendoImageBrowser",m="name",g="size",a="type",v={field:a,dir:"asc"},i=c.template('<div class="k-listview-item k-listview-item-empty"><span class="k-file-preview"><span class="k-file-icon k-icon k-i-none"></span></span><span class="k-file-name">${text}</span></div>');function o(e){return e.offsetTop-l(e).height()}function _(e,t){if(e===u||!e.match(/\/$/))e=(e||"")+"/";return e+t}function b(e){if(!e)return"";var t=" bytes";if(e>=1073741824){t=" GB";e/=1073741824}else if(e>=1048576){t=" MB";e/=1048576}else if(e>=1024){t=" KB";e/=1024}return Math.round(e*100)/100+t}d(true,c.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(true,c.data,{transports:{imagebrowser:c.data.RemoteTransport.extend({init:function(e){c.data.RemoteTransport.fn.init.call(this,l.extend(true,{},this.options,e))},_call:function(e,t){t.data=l.extend({},t.data,{path:this.options.path()});if(f(this.options[e]))this.options[e].call(this,t);else c.data.RemoteTransport.fn[e].call(this,t)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var t=n.extend({init:function(e,t){var i=this;t=t||{};n.fn.init.call(i,e,t);i.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var e=this,t=e._selectedItem(),i,n=e.options.transport.imageUrl;if(t&&t.get(a)==="f"){i=_(e.path(),t.get(m)).replace(r,"");if(n)i=f(n)?n(i):c.format(n,encodeURIComponent(i));return i}},_fileUpload:function(e){var i=this,t=i.options,n=t.fileTypes,r=new RegExp(("("+n.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),a=e.files[0].name,o=e.files[0].size,s=m,l=g,d;if(r.test(a)){e.data={path:i.path()};d=i._createFile(a,o);if(!d)e.preventDefault();else{d._uploading=true;i.upload.one("error",function(){d=u});i.upload.one("success",function(e){if(d){delete d._uploading;var t=i._insertFileToList(d);t.set(s,e.response[i._getFieldName(s)]);t.set(l,e.response[i._getFieldName(l)]);i._tiles=i.listView.items().filter("["+c.attr("type")+"=f]");i._scroll()}})}}else{e.preventDefault();i._showMessage(c.format(t.messages.invalidFileType,a,n))}},_content:function(){var t=this;t.list=l('<div class="k-filemanager-listview" />').appendTo(t.element).on("dblclick"+h,".k-listview-item",t._dblClick.bind(t));t.listView=new c.ui.ListView(t.list,{layout:"flex",flex:{direction:"row",wrap:"wrap"},dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:true,autoBind:false,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-disabled");if(e.action==="remove"||e.action==="sync"){e.preventDefault();c.ui.progress(t.listView.content,false)}},dataBound:function(){if(t.dataSource.view().length){t._tiles=this.items().filter("["+c.attr("type")+"=f]");t._scroll()}else this.content.append(i({text:t.options.messages.emptyFolder}))},change:t._listViewChange.bind(t)});t.listView.content.on("scroll"+h,t._scroll.bind(t))},_dataSource:function(){var e=this,t=e.options,i=t.transport,n=d({},v),r={field:m,dir:"asc"},a,o={type:i.type||"imagebrowser",sort:[n,r]};if(s(i)){i.path=e.path.bind(e);o.transport=i}if(s(t.schema))o.schema=t.schema;else if(i.type&&s(c.data.schemas[i.type]))a=c.data.schemas[i.type];if(e.dataSource&&e._errorHandler)e.dataSource.unbind(p,e._errorHandler);else e._errorHandler=e._error.bind(e);e.dataSource=c.data.DataSource.create(o).bind(p,e._errorHandler)},_loadImage:function(e){var t=this,i=l(e),n=t.dataSource.getByUid(i.attr(c.attr("uid"))),r=n.get(m),a=t.options.transport.thumbnailUrl,o=l("<img />",{alt:r}),s="?";if(n._uploading)return;o.hide().on("load"+h,function(){l(this).prev().remove().end().addClass("k-image k-file-image").fadeIn()});i.find(".k-i-loading").after(o);if(f(a))a=a(t.path(),encodeURIComponent(r));else{if(a.indexOf("?")>=0)s="&";a=a+s+"path="+encodeURIComponent(t.path()+r);if(n._override){a+="&_="+(new Date).getTime();delete n._override}}o.attr("src",a);e.loaded=true},_scroll:function(){var r=this;if(r.options.transport&&r.options.transport.thumbnailUrl){clearTimeout(r._timeout);r._timeout=setTimeout(function(){var e=c._outerHeight(r.listView.content),i=r.listView.content.scrollTop(),n=i+e;r._tiles.each(function(){var e=o(this),t=e+this.offsetHeight;if(e>=i&&e<n||t>=i&&t<n)r._loadImage(this);if(e>n)return false});r._tiles=r._tiles.filter(function(){return!this.loaded})},250)}},_itemTmpl:function(){var e=this,t='<div class="k-listview-item" '+c.attr("uid")+'="#=uid#" ';t+=c.attr("type")+'="${'+a+'}">';t+="#if("+a+' == "d") { #';t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';t+="#}else{#";if(e.options.transport&&e.options.transport.thumbnailUrl)t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-loading"></span></div>';else t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-file"></span></div>';t+="#}#";t+='<span class="k-file-name">${'+m+"}</span>";t+="#if("+a+' == "f") { # <span class="k-file-size">${this.sizeFormatter('+g+")}</span> #}#";t+="</div>";return c.template(t).bind({sizeFormatter:b})}});return c.ui.plugin(t),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.tabstrip.min",["kendo.data.min"],function(){var z={id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"],features:[{id:"tabstrip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},h=window.kendo.jQuery,a=void 0,_=window.kendo,R,s=_.keys,o=h.map,t=h.each,l=_.trim,b=h.extend,N=_.isFunction,e=_.template,L=_._outerWidth,k=_._outerHeight,r=_.ui.Widget,B=/^(a|div)$/i,u=".kendoTabStrip",i="img",m="href",d="prev",c="next",w="show",y="k-link",n="k-last",f="click",V="error",U=":empty",p="k-image",W="k-first",g="select",j="activate",v="k-tabstrip-content k-content",x="contentUrl",q="mouseenter",G="mouseleave",K="contentLoad",C="k-disabled",S="k-active",T="k-focus",I="k-hover",D="k-tab-on-top",E=".k-item:not(."+C+")",$=".k-item",Y=".k-tabstrip-items > "+E+":not(."+S+")",Q=200,A="aria-hidden",F="aria-controls",X="aria-disabled",H="aria-selected",J="aria-orientation",Z="aria-labelledby",P={content:e("<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>"),itemWrapper:e("<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>"+"#= image(item) ##= sprite(item) ##= text(item) #"+"</#= tag(item) #>"),item:e("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>"+"#= itemWrapper(data) #"+"</li>"),image:e("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:e("<span class='k-sprite #= spriteCssClass #'></span>"),empty:e("")},ee={wrapperCssClass:function(e,t){var i=["k-tabstrip-item","k-item"],n=t.index;if(t.enabled===false)i.push("k-disabled");if(n===0)i.push("k-first");if(n==e.length-1)i.push("k-last");return i.join(" ")},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},text:function(e){return e.encoded===false?e.text:_.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},contentAttributes:function(e){return e.active!==true?" style='display:none' aria-hidden='true'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?_.attr("content-url")+'="'+e.contentUrl+'"':""}};function te(e){e.children(i).addClass(p);e.children("a").addClass(y).children(i).addClass(p);e.filter("li[disabled]").addClass(C).attr(X,"true").prop("disabled",false);e.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(S+" "+D);e.attr("role","tab");e.filter("."+S).attr(H,true);e.each(function(){var e=h(this);if(!e.children("."+y).length)e.contents().filter(function(){return!this.nodeName.match(B)&&!(this.nodeType==3&&!l(this.nodeValue))}).wrapAll("<span UNSELECTABLE='on' class='"+y+"'/>")})}function O(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(W);t.filter(".k-last:not(:last-child)").removeClass(n);t.filter(":first-child").addClass(W);t.filter(":last-child").addClass(n)}function ie(e,t){return"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-"+e+"' unselectable='on'><span class='k-button-icon k-icon "+t+"'></span></span>"}var M=r.extend({init:function(e,t){var i=this,n;r.fn.init.call(i,e,t);i._animations(i.options);t=i.options;i._contentUrls=t.contentUrls||[];i._wrapper();i._isRtl=_.support.isRtl(i.wrapper);i._tabindex();i._updateClasses();i._dataSource();i.tabGroup.attr("role","tablist");if(t.dataSource)i.dataSource.fetch();i._tabPosition();i._scrollable();i._processContentUrls();i._attachEvents();if(i.options.value)n=i.options.value;i._initialActivate();i.value(n);_.notify(i)},events:[g,j,w,V,K,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataEncodedField:"",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false,scrollable:{distance:Q}},setDataSource:function(e){var t=this;t.options.dataSource=e;t._dataSource();t.dataSource.fetch()},setOptions:function(e){var t=this,i=t.options.animation;t._animations(e);if(e.contentUrls)t._contentUrls=e.contentUrls;e.animation=b(true,i,e.animation);if(e.navigatable)t.wrapper.on("keydown"+u,t._keyDownProxy);else t.wrapper.off("keydown"+u,t._keyDownProxy);r.fn.setOptions.call(t,e)},activateTab:function(e){if(this.tabGroup.children("[data-animating]").length)return;e=this.tabGroup.find(e);var t=this,i=t.options.animation,n=i.open,r=b({},i.close),a=r&&"effects"in r,o=e.parent().children(),s=o.filter("."+S),l=o.index(e),d=n&&"duration"in n&&"effects"in n;r=b(a?r:b({reverse:true},n),{hide:true});if(_.size(n.effects)){s.kendoRemoveClass(S,{duration:r.duration});e.kendoRemoveClass(I,{duration:r.duration})}else{s.removeClass(S);e.removeClass(I)}var u=t.contentAnimators;if(t.inRequest){t.xhr.abort();t.inRequest=false}if(u.length===0){t.tabGroup.find("."+D).removeClass(D);e.addClass(D).css("z-index");e.addClass(S);t._current(e);t.trigger("change");if(t._scrollableModeActive)t._scrollTabsToItem(e);return false}var c=u.filter("."+S),f=t.contentHolder(l),p=f.closest(".k-content");t.tabsHeight=k(t.tabGroup)+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10);if(f.length===0){c.removeClass(S).attr(A,true).kendoStop(true,true).kendoAnimate(r);return false}e.attr("data-animating",true);var h=(e.children("."+y).data(x)||t._contentUrls[l]||false)&&f.is(U),m=function(){s.removeAttr(H);e.attr(H,true);t._current(e);p.addClass(S).removeAttr(A).kendoStop(true,true).kendoAnimate(b({init:function(){t.trigger(w,{item:e[0],contentElement:f[0]});_.resize(f)}},n,{complete:function(){e.removeAttr("data-animating");t.trigger(j,{item:e[0],contentElement:f[0]});_.resize(f);if(d&&(_.support.browser.msie||_.support.browser.edge))f.finish().animate({opacity:.9},"fast","linear",function(){f.finish().animate({opacity:1},"fast","linear")})}}))},g=function(){if(!h){m();t.trigger("change")}else{e.removeAttr("data-animating");t.ajaxRequest(e,f,function(){e.attr("data-animating",true);m();t.trigger("change")})}if(t._scrollableModeActive)t._scrollTabsToItem(e)};var v=t.element.css("min-height");t.element.css("min-height",t.element.outerHeight());c.removeClass(S);t.tabGroup.find("."+D).removeClass(D);e.addClass(D).css("z-index");if(_.size(n.effects))e.kendoAddClass(S,{duration:n.duration});else e.addClass(S);c.attr(A,true);if(c.length)c.kendoStop(true,true).kendoAnimate(b({complete:g},r));else g();t.element.css("min-height",v);return true},ajaxRequest:function(r,a,o,s){r=this.tabGroup.find(r);var l=this,n=h.ajaxSettings.xhr,e=r.find("."+y),t={},i=r.width()/2,d=false,u=r.find(".k-loading").removeClass("k-complete");if(!u[0])u=h("<span class='k-loading'/>").prependTo(r);var c=i*2-u.width();var f=function(){u.animate({marginLeft:(parseInt(u.css("marginLeft"),10)||0)<i?c:0},500,f)};if(_.support.browser.msie&&_.support.browser.version<10)setTimeout(f,40);s=s||e.data(x)||l._contentUrls[r.index()]||e.attr(m);l.inRequest=true;var p={type:"GET",cache:false,url:s,dataType:"html",data:t,xhr:function(){var t=this,e=n(),i=t.progressUpload?"progressUpload":t.progress?"progress":false;if(e)h.each([e,e.upload],function(){if(this.addEventListener)this.addEventListener("progress",function(e){if(i)t[i](e)},false)});t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest);return e},progress:function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";u.stop(true).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(e,t){if(l.trigger("error",{xhr:e,status:t}))this.complete()},stopProgress:function(){clearInterval(d);u.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(e){l.inRequest=false;if(this.noProgress)setTimeout(this.stopProgress,500);else this.stopProgress();if(e.statusText=="abort")u.remove()},success:function(e){u.addClass("k-complete");try{var t=this,i=10;if(t.noProgress){u.width(i+"%");d=setInterval(function(){t.progress({lengthComputable:true,loaded:Math.min(i,100),total:100});i+=10},40)}l.angular("cleanup",function(){return{elements:a.get()}});_.destroy(a);a.html(e)}catch(e){var n=window.console;if(n&&n.error)n.error(e.name+": "+e.message+" in "+s);this.error(this.xhr,"error")}if(o)o.call(l,a);l.angular("compile",function(){return{elements:a.get()}});l.trigger(K,{item:r[0],contentElement:a[0]})}};if(typeof s==="object"){p=h.extend(true,{},p,s);if(N(p.url))p.url=p.url()}l.xhr=h.ajax(p)},append:function(e){var i=this,n=i._create(e);t(n.tabs,function(e){var t=n.contents[e];i.tabGroup.append(this);if(i.options.tabPosition=="bottom")i.tabWrapper.before(t);else i.wrapper.append(t);i.angular("compile",function(){return{elements:[t]}})});O(i.tabGroup);i._updateContentElements();i.resize(true);return i},contentElement:function(e){if(isNaN(e-0))return a;var t=this.contentElements&&this.contentElements[0]&&!_.kineticScrollNeeded?this.contentElements:this.contentAnimators;var i=h(this.tabGroup.children()[e]).attr(F);if(t)for(var n=0,r=t.length;n<r;n++)if(t.eq(n).closest(".k-content")[0].id==i)return t[n];return a},contentHolder:function(e){var t=h(this.contentElement(e)),i=t.children(".km-scroll-container");return _.support.touch&&i[0]?i:t},deactivateTab:function(e){var t=this,i=t.options.animation,n=i.open,r=b({},i.close),a=r&&"effects"in r;e=t.tabGroup.find(e);r=b(a?r:b({reverse:true},n),{hide:true});if(_.size(n.effects))e.kendoRemoveClass(S,{duration:n.duration});else e.removeClass(S);e.removeAttr(H);t.contentAnimators.filter("."+S).kendoStop(true,true).kendoAnimate(r).removeClass(S).attr(A,true)},destroy:function(){var e=this;r.fn.destroy.call(e);if(e._refreshHandler)e.dataSource.unbind("change",e._refreshHandler);e.wrapper.off(u);e.tabGroup.off(u);if(e._scrollableModeActive){e._scrollPrevButton.off().remove();e._scrollNextButton.off().remove()}_.destroy(e.wrapper)},disable:function(e){this._toggleDisabled(e,false);return this},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},insertAfter:function(e,n){if(h(e).is(h(n)))n=this.tabGroup.find(n).prev();else n=this.tabGroup.find(n);var r=this,a=r._create(e),o=r.element.find("[id='"+n.attr(F)+"']");t(a.tabs,function(e){var t=a.contents[e];var i=a.newTabsCreated?r._contentUrls.length-(a.tabs.length-e):h(t).index()-1;n.after(this);o.after(t);r._moveUrlItem(i,h(this).index());r.angular("compile",function(){return{elements:[t]}})});O(r.tabGroup);r._updateContentElements(a.newTabsCreated);r.resize(true);return r},insertBefore:function(e,n){if(h(e).is(h(n)))n=this.tabGroup.find(n).next();else n=this.tabGroup.find(n);var r=this,a=r._create(e),o=r.element.find("[id='"+n.attr(F)+"']");t(a.tabs,function(e){var t=a.contents[e];var i=a.newTabsCreated?r._contentUrls.length-(a.tabs.length-e):h(t).index()-1;n.before(this);o.before(t);r._moveUrlItem(i,h(this).index());r.angular("compile",function(){return{elements:[t]}})});O(r.tabGroup);r._updateContentElements(a.newTabsCreated);r.resize(true);return r},items:function(){return this.tabGroup[0].children},refresh:function(e){var t=this,i=t.options,n=_.getter(i.dataEncodedField),r=_.getter(i.dataTextField),a=_.getter(i.dataContentField),o=_.getter(i.dataContentUrlField),s=_.getter(i.dataImageUrlField),l=_.getter(i.dataUrlField),d=_.getter(i.dataSpriteCssClass),u,c=[],f,p,h=t.dataSource.view(),m;e=e||{};p=e.action;if(p)h=e.items;for(u=0,m=h.length;u<m;u++){f={text:r(h[u])};if(i.dataEncodedField)f.encoded=n(h[u]);if(i.dataContentField)f.content=a(h[u]);if(i.dataContentUrlField)f.contentUrl=o(h[u]);if(i.dataUrlField)f.url=l(h[u]);if(i.dataImageUrlField)f.imageUrl=s(h[u]);if(i.dataSpriteCssClass)f.spriteCssClass=d(h[u]);c[u]=f}if(e.action=="add")if(e.index<t.tabGroup.children().length)t.insertBefore(c,t.tabGroup.children().eq(e.index));else t.append(c);else if(e.action=="remove")for(u=0;u<h.length;u++)t.remove(e.index);else if(e.action=="itemchange"){u=t.dataSource.view().indexOf(h[0]);if(e.field===i.dataTextField)t.tabGroup.children().eq(u).find(".k-link").text(h[0].get(e.field));if(e.field===i.dataUrlField)t._contentUrls[u]=h[0].get(e.field)}else{t.trigger("dataBinding");t.remove("li");t._contentUrls=[];t.append(c);t.trigger("dataBound")}},reload:function(e){e=this.tabGroup.find(e);var n=this;var r=n._contentUrls;e.each(function(){var e=h(this),t=e.find("."+y).data(x)||r[e.index()],i=n.contentHolder(e.index());if(t)n.ajaxRequest(e,i,null,t)});return n},remove:function(e){var i=this;var t=typeof e;var n;if(t==="string")e=i.tabGroup.find(e);else if(t==="number")e=i.tabGroup.children().eq(e);n=e.map(function(){var e=h(this).index();var t=i.contentElement(e);_.destroy(t);i._removeUrlItem(e);return t});e.remove();n.empty();n.remove();i._updateContentElements();i.resize(true);return i},select:function(e){var i=this;if(arguments.length===0)return i.tabGroup.children("li."+S);if(!isNaN(e))e=i.tabGroup.children().get(e);e=i.tabGroup.find(e);h(e).each(function(e,t){t=h(t);if(!t.hasClass(S)&&!i.trigger(g,{item:t[0],contentElement:i.contentHolder(t.index())[0]}))i.activateTab(t)});return i},value:function(e){var t=this;if(e!==a){if(e!=t.value())t.tabGroup.children().each(function(){if(_.trim(h(this).text())==e)t.select(this)})}else return t.select().text()},_active:function(){var e=this.tabGroup.children().filter("."+S);e=e[0]?e:this._endItem("first");if(e[0])this._current(e)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={open:{effects:{}},close:{effects:{}}}},_appendUrlItem:function(e){this._contentUrls.push(e)},_attachEvents:function(){var e=this,t=e.options;e.wrapper.on(q+u+" "+G+u,Y,e._toggleHover).on("focus"+u,e._active.bind(e)).on("blur"+u,function(){e._current(null)});e._keyDownProxy=e._keydown.bind(e);if(t.navigatable)e.wrapper.on("keydown"+u,e._keyDownProxy);e.tabGroup.on(f+u,".k-disabled .k-link",false).on(f+u," > "+E,e._itemClick.bind(e))},_click:function(e){var t=this,i=e.find("."+y),n=i.attr(m),r=t.options.collapsible,a=e.index(),o=t.contentHolder(a),s,l,d=e.parent().children(),u=d.filter("."+T);if(e.closest(".k-widget")[0]!=t.wrapper[0])return;if(e.is("."+C+(!r?",."+S:""))){u.removeClass(T);t._focused=e;e.addClass(T);t._current(e);if(t._scrollableModeActive)t._scrollTabsToItem(e);return true}l=i.data(x)||t._contentUrls[a]||n&&(n.charAt(n.length-1)=="#"||n.indexOf("#"+t.element[0].id+"-")!=-1);s=!n||l;if(t.tabGroup.children("[data-animating]").length)return s;if(t.trigger(g,{item:e[0],contentElement:o[0]}))return true;if(s===false)return;if(r&&e.is("."+S)){t.deactivateTab(e);return true}if(t.activateTab(e))s=true;return s},_create:function(i){var n=this,e,t,r,a=false;i=i instanceof _.data.ObservableArray?i.toJSON():i;if(h.isPlainObject(i)||Array.isArray(i)){i=Array.isArray(i)?i:[i];a=true;e=o(i,function(e,t){n._appendUrlItem(i[t].contentUrl||null);return h(M.renderItem({group:n.tabGroup,item:b(e,{index:t})}))});t=o(i,function(e,t){if(typeof e.content=="string"||e.contentUrl)return h(M.renderContent({item:b(e,{index:t})}))})}else{if(typeof i=="string"&&i[0]!="<")e=n.element.find(i);else e=h(i);t=h();e.each(function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var e=n.element.find("[id='"+this.getAttribute(F)+"']");r=e}else r=h("<div class='"+v+"'/>");t=t.add(r)});te(e)}return{tabs:e,contents:t,newTabsCreated:a}},_current:function(e){var t=this,i=t._focused;if(e===a)return i;if(i)i.removeClass(T);if(e)if(!e.hasClass(S))e.addClass(T);t._focused=e},_dataSource:function(){var e=this;if(e.dataSource&&e._refreshHandler)e.dataSource.unbind("change",e._refreshHandler);else e._refreshHandler=e.refresh.bind(e);e.dataSource=_.data.DataSource.create(e.options.dataSource).bind("change",e._refreshHandler)},_elementId:function(e,t,i){var n=e.attr("id"),r=this.element.attr("id"),a=_.guid();if(!n||n.indexOf(r+"-")>-1){var o=(r||a)+"-";if(i)o+="tab-";return o+(t+1)}return n},_endItem:function(e){return this.tabGroup.children(E)[e]()},_getItem:function(e){return this.tabGroup.children($)[e]()},_initialActivate:function(){var e=this,t=e.tabGroup.children("li."+S),i=e.contentHolder(t.index());if(t[0]&&i.length>0&&i[0].childNodes.length===0)e.activateTab(t.eq(0))},_item:function(e,t){var i;if(t===d)i="last";else i="first";if(!e)return this._endItem(i);e=e[t]();if(!e[0])e=this.tabGroup.children($)[i]();if(e.hasClass(C))e.addClass(T);if(e.hasClass(C)||e.hasClass(S))this._focused=e;return e},_itemClick:function(e){var t=this,i=t.wrapper[0];if(i!==document.activeElement){var n=_.support.browser.msie;if(n)try{i.setActive()}catch(e){i.focus()}else i.focus()}if(t._click(h(e.currentTarget)))e.preventDefault()},_keydown:function(e){var t=this,i=e.keyCode,n=t._current(),r=t._isRtl,a=/top|bottom/.test(t.options.tabPosition),o;if(e.target!=e.currentTarget||!n)return;if(i===s.DOWN&&!a)o=c;else if(i===s.UP&&!a)o=d;else if(i===s.RIGHT&&a)o=r?d:c;else if(i===s.LEFT&&a)o=r?c:d;else if(i==s.ENTER||i==s.SPACEBAR){t._click(n);e.preventDefault()}else if(i==s.HOME){t._click(t._getItem("first"));e.preventDefault();return}else if(i==s.END){t._click(t._getItem("last"));e.preventDefault();return}if(o){t._click(t._item(n,o));e.preventDefault()}},_moveUrlItem:function(e,t){this._contentUrls.splice(t,0,this._contentUrls.splice(e,1)[0])},_processContentUrls:function(){var n=this;if(n._contentUrls.length)n.tabGroup.children(".k-item").each(function(e,t){var i=n._contentUrls[e];if(typeof i==="string")h(t).find(">."+y).data(x,i)});else n._contentUrls.length=n.tabGroup.find("li.k-item").length},_removeUrlItem:function(e){this._contentUrls.splice(e,1)},_resize:function(){this._scrollable()},_scrollable:function(){var e=this,t=e.options,i,n,r,a;if(e._scrollableAllowed()){e.wrapper.addClass("k-tabstrip-scrollable");i=e.wrapper[0].offsetWidth;n=e.tabGroup[0].scrollWidth;if(n>i&&!e._scrollableModeActive){e._nowScrollingTabs=false;e._isRtl=_.support.isRtl(e.element);var o=_.support.touch?"touchstart":"mousedown";var s=_.support.touch?"touchend":"mouseup";var l=_.support.browser;var d=e._isRtl&&!l.msie&&!l.edge;e.tabWrapper.prepend(ie("prev","k-i-arrow-60-left"));e.tabWrapper.append(ie("next","k-i-arrow-60-right"));r=e._scrollPrevButton=e.tabWrapper.children(".k-tabstrip-prev");a=e._scrollNextButton=e.tabWrapper.children(".k-tabstrip-next");r.on(o+u,function(){e._nowScrollingTabs=true;e._scrollTabsByDelta(t.scrollable.distance*(d?1:-1))});a.on(o+u,function(){e._nowScrollingTabs=true;e._scrollTabsByDelta(t.scrollable.distance*(d?-1:1))});r.add(a).on(s+u,function(){e._nowScrollingTabs=false});e._scrollableModeActive=true;e._toggleScrollButtons()}else if(e._scrollableModeActive&&n<=i){e._scrollableModeActive=false;e.wrapper.removeClass("k-tabstrip-scrollable");e._scrollPrevButton.off().remove();e._scrollNextButton.off().remove()}else if(!e._scrollableModeActive)e.wrapper.removeClass("k-tabstrip-scrollable");else e._toggleScrollButtons()}},_scrollableAllowed:function(){var e=this.options;if(e.scrollable&&!e.scrollable.distance)e.scrollable={distance:Q};return e.scrollable&&!isNaN(e.scrollable.distance)&&(e.tabPosition=="top"||e.tabPosition=="bottom")},_scrollTabsToItem:function(e){var t=this,i=t.tabGroup,n=_.scrollLeft(i),r=L(e),a=t._isRtl?e.position().left:e.position().left-i.children().first().position().left,o=i[0].offsetWidth,s=_.support.browser,l;if(t._isRtl&&(s.mozilla||s.webkit&&s.version>=85))n=n*-1;if(t._isRtl){if(a<0)l=n+a-(o-n);else if(a+r>o)l=n+a-r}else if(n+o<a+r)l=a+r-o;else if(n>a)l=a;i.finish().animate({scrollLeft:l},"fast","linear",function(){t._toggleScrollButtons()})},_scrollTabsByDelta:function(e){var t=this;var i=t.tabGroup;var n=_.scrollLeft(i);var r=_.support.browser;if(t._isRtl&&(r.mozilla||r.webkit&&r.version>=85))n=n*-1;i.finish().animate({scrollLeft:n+e},"fast","linear",function(){if(t._nowScrollingTabs&&!jQuery.fx.off)t._scrollTabsByDelta(e);else t._toggleScrollButtons()})},_tabPosition:function(){var e=this,t=e.options.tabPosition;e.wrapper.addClass("k-floatwrap k-tabstrip-"+t);if(t=="bottom")e.tabWrapper.appendTo(e.wrapper);if(t==="left"||t==="right")e.tabGroup.attr(J,"vertical");e.resize(true)},_toggleHover:function(e){h(e.currentTarget).toggleClass(I,e.type==q)},_toggleDisabled:function(e,t){e=this.tabGroup.find(e);e.each(function(){h(this).toggleClass(C,!t).attr(X,!t)})},_toggleScrollButtons:function(){var e=this,t=e.tabGroup,i=_.scrollLeft(t);e._scrollPrevButton.toggleClass("k-disabled",i===0);e._scrollNextButton.toggleClass("k-disabled",i===t[0].scrollWidth-t[0].offsetWidth)},_updateClasses:function(){var e=this,t,i,n;var r=/top|bottom/.test(e.options.tabPosition);e.wrapper.addClass("k-widget k-tabstrip");if(!e.tabGroup){e.tabGroup=e.wrapper.children("ul");e.tabGroup.wrap("<div />");e.tabWrapper=e.tabGroup.parent()}if(!e.tabGroup[0]){e.tabGroup=h("<ul />").prependTo(e.wrapper);e.tabGroup.wrap("<div />");e.tabWrapper=e.tabGroup.parent()}e.tabWrapper.addClass("k-tabstrip-items-wrapper");e.tabWrapper.addClass(r?"k-hstack":"k-vstack");e.tabGroup.addClass("k-tabstrip-items k-reset");t=e.tabGroup.find("li").addClass("k-tabstrip-item k-item");if(t.length){i=t.filter("."+S).index();n=i>=0?i:a;e.tabGroup.contents().filter(function(){return this.nodeType==3&&!l(this.nodeValue)}).remove()}if(i>=0)t.eq(i).addClass(D);e.contentElements=e.wrapper.children("div:not(.k-tabstrip-items-wrapper)");e.contentElements.addClass(v).eq(n).addClass(S).css({display:"block"});if(t.length){te(t);O(e.tabGroup);e._updateContentElements(true)}},_updateContentElements:function(r){var a=this,o=a._contentUrls,s=a.tabGroup.children(".k-item"),l=a.wrapper.children("div:not(.k-tabstrip-items-wrapper)"),d=a._elementId.bind(a);if(l.length&&s.length>l.length)l.each(function(e){var t=d(h(this),e),i=s.filter("[aria-controls="+(t||0)+"]")[0],n;if(!i&&r)i=s[e];if(i){i.setAttribute(F,t);n=i.id=d(h(i),e,true);this.setAttribute(Z,n)}this.setAttribute("id",t)});else s.each(function(e){var t=l.eq(e),i=d(t,e),n;this.setAttribute(F,i);n=this.id=d(h(this),e,true);if(!t.length&&o[e])h("<div class='"+v+"'/>").appendTo(a.wrapper).attr("id",i);else{t.attr("id",i);if(!h(this).children(".k-loading")[0]&&!o[e])h("<span class='k-loading k-complete'/>").prependTo(this)}t.attr("role","tabpanel");t.attr("tabindex","0");t.attr(Z,n);t.filter(":not(."+S+")").attr(A,true)});a.contentElements=a.contentAnimators=a.wrapper.children("div:not(.k-tabstrip-items-wrapper)");a.tabsHeight=k(a.tabGroup)+parseInt(a.wrapper.css("border-top-width"),10)+parseInt(a.wrapper.css("border-bottom-width"),10);if(_.kineticScrollNeeded&&_.mobile.ui.Scroller){_.touchScroller(a.contentElements);a.contentElements=a.contentElements.children(".km-scroll-container")}},_wrapper:function(){var e=this;if(e.element.is("ul"))e.wrapper=e.element.wrapAll("<div />").parent();else e.wrapper=e.element}});return b(M,{renderItem:function(e){e=b({tabStrip:{},group:{}},e);var t=P.empty,i=e.item;return P.item(b(e,{image:i.imageUrl?P.image:t,sprite:i.spriteCssClass?P.sprite:t,itemWrapper:P.itemWrapper},ee))},renderContent:function(e){return P.content(b(e,ee))}}),_.ui.plugin(M),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("util/undoredostack.min",["kendo.core.min"],function(){var t=kendo,e=t.Observable.extend({init:function(e){t.Observable.fn.init.call(this,e);this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo();this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo();this.trigger("redo",{command:e})}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});t.deepExtend(t,{util:{UndoRedoStack:e}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/main.min",["../util/undoredostack.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.window.min","kendo.colorpicker.min"],function(){var f=window.kendo.jQuery,p=void 0,h=window.kendo,e=h.Class,m=h.ui.Widget,c=h.support.mobileOS,g=h.support.browser,v=f.extend,_=h.deepExtend,b=h.keys,i="select",r="select.k-select-overlay",a="k-placeholder",o="placeholder",s=200,k="en",t=e.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return h.template(e.template,{useWithBlock:false})(e)}}),w={editorWrapperTemplate:'<table cellspacing="0" cellpadding="0" class="k-widget k-editor" role="presentation">'+"<tbody>"+'<tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-toolbar k-editor-toolbar" role="toolbar"></ul></td></tr>'+'<tr><td class="k-editable-area k-editor-content"></td></tr>'+"</tbody>"+"</table>",buttonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-tool" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text k-button-text">#= data.title #</span>'+"</button>",iconTextButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-i-import k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="k-button-icon #= iconCssClass #"></span>'+'<span class="k-button-text">#= data.title #</span>'+"</button>",tableWizardButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-tool k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text">#= data.title #</span>'+"</button>",colorPickerTemplate:'<input class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select>',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select></span>',separatorTemplate:'<span class="k-separator"></span>',overflowAnchorTemplate:'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-tool k-overflow-anchor" data-popup'+' title="#= data.title #" aria-label="#= data.title #" aria-haspopup="true" aria-expanded="false">'+'<span class="k-icon k-i-more-vertical k-button-icon"></span>'+"</button>",formatByName:function(e,t){for(var i=0;i<t.length;i++)if(f.inArray(e,t[i].tags)>=0)return t[i]},getToolCssClass:function(e){var t={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",insertUpperRomanList:"list-roman-upper",insertLowerRomanList:"list-roman-lower",import:"import",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableWizard:"table-properties",tableWizardInsert:"table-wizard",tableAlignLeft:"table-position-left",tableAlignCenter:"table-position-center",tableAlignRight:"table-position-right",cleanFormatting:"clear-css",copyFormat:"copy-format",applyFormat:"apply-format"};var i=t[e];if(i)return i;return e},registerTool:function(e,t){var i=t.options;if(i&&i.template)i.template.options.cssClass="k-"+w.getToolCssClass(e);if(!t.name){t.options.name=e;t.name=e.toLowerCase()}d.defaultTools[e]=t},registerFormat:function(e,t){d.fn.options.formats[e]=t},cacheComments:function(e,t){for(var i in t)e=e.replace(t[i],"{"+i+"}");return e},retrieveComments:function(e,t){for(var i in t)e=e.replace("{"+i+"}",t[i]);return e}},n,y=typeof document.documentElement.contentEditable!="undefined",l={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],formatPainter:["copyFormat","applyFormat"],links:["createLink","unlink"],tables:["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","tableAlignLeft","tableAlignCenter","tableAlignRight"]},d=m.extend({init:function(e,t){var n=this,i,r=h.ui.editor,a,o,s,l;var d;var u=r.Dom;if(!y)return;m.fn.init.call(n,e,t);n.options=_({},n.options,t);n.options.tools=n.options.tools.slice();e=n.element;d=e[0];s=u.name(d);this._registerHandler(e.closest("form"),"submit",n.update.bind(n,p));o=v({},n.options);o.editor=n;if(s=="textarea"){n._wrapTextarea();a=n.wrapper.find(".k-editor-toolbar");if(d.id)a.attr("aria-controls",d.id)}else{n.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");o.popup=true;a=f('<ul class="k-toolbar k-editor-toolbar" role="toolbar" />').insertBefore(e)}n.toolbar=new r.Toolbar(a[0],o);n.toolbar.bindTo(n);if(s=="textarea")setTimeout(function(){var e=n.wrapper[0].style.height;var t=parseInt(e,10);var i=n.wrapper.height();if(e.indexOf("px")>0&&!isNaN(t)&&i>t)n.wrapper.height(t-(i-t))});n._resizable();n._initializeContentElement(n);n.keyboard=new r.Keyboard([new r.BackspaceHandler(n),new r.TypingHandler(n),new r.SystemHandler(n),new r.SelectAllHandler(n)]);n.clipboard=new r.Clipboard(this);n.undoRedoStack=new h.util.UndoRedoStack;if(t&&t.value)i=t.value;else if(n.textarea){i=d.value;if(!i.replace(/\s/g,"").length)i=i.replace(/\s/g,"");if(n.options.encoded&&d.defaultValue&&d.defaultValue.trim().length)i=d.defaultValue;var c=r.Serializer.htmlToDom(i,f("<div></div>")[0],n.options.deserialization);l=u.getAllComments(c);i=w.cacheComments(i,l);i=i.replace(/[\r\n\v\f\t ]+/gi," ");i=w.retrieveComments(i,l)}else i=d.innerHTML;n.value(i||"\ufeff");this._registerHandler(document,{mousedown:function(){n._endTyping()},mouseup:function(e){n._mouseup(e)}});n._initializeImmutables();if(s=="textarea")n._ariaLabel(n.wrapper.find("iframe"));n.toolbar.resize();h.notify(n)},setOptions:function(e){var t=this;m.fn.setOptions.call(t,e);if(e.tools)t.toolbar.bindTo(t);this._initializePlaceholder()},_togglePlaceholder:function(e){var t=this,i=t.body,n=f(i),r=t.options.placeholder;if(!t.textarea||!r)return;n.attr("aria-label",function(){return e?r:""});n.toggleClass(a,e)},_endTyping:function(){var e=this.keyboard;try{if(e.isTypingInProgress()){e.endTyping(true);this.saveSelection()}}catch(e){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var e=this.options.resizable;var t=f.isPlainObject(e)?e.content===p||e.content===true:e;if(t&&this.textarea){var i=f("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right'></span></div>").insertAfter(this.textarea);this.wrapper.addClass("k-resizable");this.wrapper.kendoResizable(v({},this.options.resizable,{draggableElement:i,start:function(e){var t=this.editor=f(e.currentTarget).closest(".k-editor");this.initialSize=t.height();t.find("td").last().append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta;var i=this.initialSize+t;var n=this.options.min||0;var r=this.options.max||Infinity;i=Math.min(r,Math.max(n,i));this.editor.height(i)},resizeend:function(){this.editor.find(".k-overlay").remove();this.editor=null}}));if(h.support.mobileOS.ios){var n=this.wrapper.getKendoResizable();n.draggable.options.ignore=r}}},_initializeElementResizing:function(){var e=this;h.ui.editor.ElementResizingFactory.current.create(e);e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e);e.bind(i,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this;var t=e.elementResizing;if(t){t.destroy();e.elementResizing=null}if(e._showElementResizeHandlesProxy)e.unbind(i,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this;var t=e.elementResizing;if(t&&t.element&&t.element.parentNode)t.showResizeHandles();else if(t&&(!t.element||!t.element.parentNode))e._destroyElementResizing()},_initializeColumnResizing:function(){h.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;if(e.columnResizing){e.columnResizing.destroy();e.columnResizing=null}},_initializeRowResizing:function(){h.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;if(e.rowResizing){e.rowResizing.destroy();e.rowResizing=null}},_wrapTextarea:function(){var e=this,t=e.element,i=t[0].style.width,n=t[0].style.height,r=w.editorWrapperTemplate,a=f(r).insertBefore(t),o=a.find(".k-editable-area");a.css({width:i,height:n});t.attr("autocomplete","off").appendTo(o).addClass("k-content k-raw-content").css("display","none");e.textarea=t;e.wrapper=a},_createContentElement:function(e){var t=this;var i,n,r;var a=t.textarea;var o=t.options.domain;var s=o||document.domain;var l="";var d='javascript:""';var u="";a.hide();i=f("<iframe />",{title:t.options.messages.editAreaTitle,frameBorder:"0"})[0];f(i).css("display","").addClass("k-content k-iframe").attr("tabindex",a[0].tabIndex).insertBefore(a);if(o||s!=location.hostname){l='<script>document.domain="'+s+'"<\/script>';d="javascript:document.write('"+l+"')";i.src=d}if(!i.src)i.src="";n=i.contentWindow||i;r=n.document||i.contentDocument;f(i).one("load",function(){t.toolbar.decorateFrom(r.body)});u=document.getElementsByTagName("html")[0].getAttribute("lang")||k;r.open();r.write("<!DOCTYPE html><html lang='"+u+"'><head>"+"<meta charset='utf-8' />"+"<title>Kendo UI Editor content</title>"+"<style>"+"html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}"+"body{padding:0;margin:0;}"+"body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;"+"word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(h.support.isRtl(a)?"direction:rtl;":"")+(c.ios?"word-break:keep-all;":"")+(g.edge||g.chrome?"height:100%;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"span{-ms-high-contrast-adjust:none;}"+"a{color:#00a}"+"code{font-size:1.23em}"+"telerik\\3Ascript{display: none;}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table th{outline:0;border: 1px dotted #999;}"+".k-table p{margin:0;padding:0;}"+".k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}"+".k-column-resize-handle {width: 100%; height: 100%;}"+".k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}"+".k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}"+".k-row-resize-handle {display: table; width: 100%; height: 100%;}"+".k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}"+".k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}"+".k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}"+".k-element-resize-handle {width: 100%; height: 100%;}"+".k-element-resize-handle.k-resize-east{cursor:e-resize;}"+".k-element-resize-handle.k-resize-north{cursor:n-resize;}"+".k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}"+".k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}"+".k-element-resize-handle.k-resize-south{cursor:s-resize;}"+".k-element-resize-handle.k-resize-southeast{cursor:se-resize;}"+".k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}"+".k-element-resize-handle.k-resize-west{cursor:w-resize;}"+".k-table.k-element-resizing{opacity:0.6;}"+".k-placeholder{color:grey}"+"k\\:script{display:none;}"+"</style>"+l+f.map(e,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");r.close();return n},_blur:function(){var e=this.textarea;var t=e?e.val():this._oldValue;var i=this.options.encoded?this.encodedValue():this.value();this.update();if(e)e.trigger("blur");if(i!=t){this.trigger("change");if(e)e.trigger("change")}},_spellCorrect:function(e){var t;var i=false;this._registerHandler(e.body,{contextmenu:function(){e.one("select",function(){t=null});e._spellCorrectTimeout=setTimeout(function(){t=new h.ui.editor.RestorePoint(e.getRange(),e.body);i=false},10)},input:function(){if(!t)return;if(h.support.browser.mozilla&&!i){i=true;return}h.ui.editor._finishUpdate(e,t)}})},_registerHandler:function(e,t,i){var n=this;var r=".kendoEditor";var a;var o;e=f(e);if(!this._handlers)this._handlers=[];if(e.length)if(f.isPlainObject(t)){for(var s in t)if(t.hasOwnProperty(s))this._registerHandler(e,s,t[s])}else{a=h.applyEventMap(t).split(" ");for(o=0;o<a.length;o++){n._handlers.push({element:e,type:a[o]+r,handler:i});e.on(a[o]+r,i)}}},_deregisterHandlers:function(){var e=this._handlers;for(var t=0;t<e.length;t++){var i=e[t];i.element.off(i.type,i.handler)}this._handlers=[]},_initializeContentElement:function(){var c=this;var e;var t;var i;if(c.textarea){c.window=c._createContentElement(c.options.stylesheets);e=c.document=c.window.contentDocument||c.window.document;if(!e.body){var n=e.createElement("body");n.setAttribute("contenteditable","true");n.setAttribute("autocorrect","off");e.getElementsByTagName("html")[0].appendChild(n);var r=setInterval(function(){if(f(c.document).find("body").length>1){f(c.document).find("body").last().remove();window.clearInterval(r)}},10)}c.body=e.body;t=c.window;i=e;this._registerHandler(e,"mouseup",this._mouseup.bind(this))}else{c.window=window;e=c.document=document;c.body=c.element[0];t=c.body;i=c.body;c.toolbar.decorateFrom(c.body)}this._registerHandler(t,"blur",this._blur.bind(this));c._registerHandler(i,"down",c._mousedown.bind(c));try{e.execCommand("enableInlineTableEditing",null,false)}catch(e){}if(h.support.touch)this._registerHandler(e,{keydown:function(){if(h._activeElement()!=e.body)c.window.focus()}});this._initializePlaceholder();this._spellCorrect(c);this._registerHandler(c.document,{"mouseover dragenter":function(e){var t=f(c.body).height();var i=f(c.body.parentElement).height();if(i>t&&e.target.nodeName.toLowerCase()==="html"){c._cachedHeight=""+c.body.style.height;c.body.style.height="100%"}},"mouseout dragleave drop contextmenu":function(e){var t=function(){if(c._cachedHeight!==p&&e.target===c.body){c.body.style.height=c._cachedHeight;delete c._cachedHeight}};if(e.type==="contextmenu")setTimeout(function(){t()},10);else t()}});this._registerHandler(c.body,{keydown:function(e){var t;if((e.keyCode===b.BACKSPACE||e.keyCode===b.DELETE)&&c.body.getAttribute("contenteditable")!=="true")return false;if(e.keyCode===b.F10){setTimeout(c.toolbar.focus.bind(c.toolbar),100);c.toolbar.preventPopupHide=true;e.preventDefault();return}else if(e.keyCode==b.LEFT||e.keyCode==b.RIGHT){t=c.getRange();var i=e.keyCode==b.LEFT;var n=t[i?"startContainer":"endContainer"];var r=t[i?"startOffset":"endOffset"];var a=i?-1:1;var o=r+a;var s=i?o:r;if(n.nodeType==3&&n.nodeValue[s]=="\ufeff"){t.setStart(n,o);t.collapse(true);c.selectRange(t)}}var l=c.toolbar.tools;var d=c.keyboard.toolFromShortcut(l,e);var u=d?l[d].options:{};if(d&&!u.keyPressCommand){e.preventDefault();if(!/^(undo|redo)$/.test(d))c.keyboard.endTyping(true);c.trigger("keydown",e);c.exec(d);c._runPostContentKeyCommands(e);return false}c.keyboard.clearTimeout();c.keyboard.keydown(e)},keypress:function(e){setTimeout(function(){c._runPostContentKeyCommands(e);c._showElementResizeHandles()},0)},keyup:function(e){var t=[b.BACKSPACE,b.TAB,b.PAGEUP,b.PAGEDOWN,b.END,b.HOME,b.LEFT,b.UP,b.RIGHT,b.DOWN,b.INSERT,b.DELETE];if(f.inArray(e.keyCode,t)>-1||e.keyCode==65&&e.ctrlKey&&!e.altKey&&!e.shiftKey){window.clearTimeout(this._refreshInterval);this._refreshInterval=window.setTimeout(function(){c._selectionChange()},s)}c.keyboard.keyup(e)},click:function(e){var t=h.ui.editor.Dom,i;if(t.name(e.target)==="img"){i=c.createRange();i.selectNode(e.target);c.selectRange(i)}},"cut copy paste drop dragover":function(e){c.clipboard["on"+e.type](e)},focusin:function(){if(c.body.hasAttribute("contenteditable")){f(this).addClass("k-active");c.toolbar.show();c._togglePlaceholder(false)}},focusout:function(){setTimeout(function(){var e=h._activeElement();var t=c.body;var i=c.toolbar;if(i.options.popup){var n=i.window.element.get(0);if(n&&!(f.contains(n,e)||n==e))i.preventPopupHide=false}if(e!=t&&!f.contains(t,e)&&!i.focused()&&!i.preventPopupHide){f(t).removeClass("k-active");i.hide()}c._togglePlaceholder(!c.value().trim())},10)}});c._initializeColumnResizing();c._initializeRowResizing();c._initializeElementResizing()},_initializePlaceholder:function(){var e=this,t=e.options.placeholder,i,n;if(!e.textarea||!t)return;i="<style id='"+o+"'>."+a+":before { content: '"+t+"'; }"+"</style>";n=f(e.document.head);n.find("#"+o).remove();n.append(i);e._togglePlaceholder(!e.value().trim())},_initializeImmutables:function(){var e=this,t=h.ui.editor;if(e.options.immutables)e.immutables=new t.Immutables(e)},_mousedown:function(e){var t=this;t._selectionStarted=true;if(f(t.body).parents(".k-window").length)e.stopPropagation();if(g.gecko)return;var i=f(e.target).closest("a[href]");if((e.which==2||e.which==1&&e.ctrlKey)&&i&&i.is("a[href]"))window.open(i.attr("href"),"_new");if(e.target.tagName&&e.target.tagName.toLowerCase()==="html")setTimeout(function(){t.body.focus()},0)},_mouseup:function(e){var t=this;if(h.support.mobileOS.ios&&e&&f(e.target).is(r))return;if(t._selectionStarted)setTimeout(function(){t._selectionChange()},1)},_runPostContentKeyCommands:function(e){var t=this.getRange();var i=this.keyboard.toolsFromShortcut(this.toolbar.tools,e);for(var n=0;n<i.length;n++){var r=i[n];var a=r.options;if(!a.keyPressCommand)continue;var o=new a.command({range:t});if(o.changesContent()){this.keyboard.endTyping(true);this.exec(r.name)}}},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t);e.wrapper.find("iframe").remove();e._initializeContentElement(e);e.value(t)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableAlignLeft:"Table Align Left",tableAlignCenter:"Table Align Center",tableAlignRight:"Table Align Right",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As",import:"Import",print:"Print",headerRows:"Header Rows",headerColumns:"Header Cols",tableSummaryPlaceholder:"Summary attribute is not HTML5 compatible.",associateNone:"None",associateScope:"Associate using 'scope' attribute",associateIds:"Associate using Ids",copyFormat:"Copy format",applyFormat:"Apply format",borderNone:"None",undo:"Undo",redo:"Redo"},placeholder:"",formats:{},encoded:true,domain:null,resizable:false,deserialization:{custom:null},serialization:{entities:true,semantic:true,scripts:false,optimizeTags:false,keepEOL:false},pasteCleanup:{all:false,css:false,custom:null,keepNewLines:false,msAllFormatting:false,msConvertLists:true,msTags:true,none:false,span:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],l.basic,["undo","redo"],l.alignment,l.formatPainter,l.lists,l.indenting,l.links,["insertImage"],l.tables)},destroy:function(){var e=this;m.fn.destroy.call(this);this._endTyping(true);this._deregisterHandlers();clearTimeout(this._spellCorrectTimeout);this._focusOutside();this.toolbar.destroy();e._destroyUploadWidget();e._destroyResizings();h.destroy(this.wrapper)},_destroyResizings:function(){var e=this;e._destroyElementResizing();h.ui.editor.ElementResizingFactory.current.dispose(e);e._destroyRowResizing();h.ui.editor.RowResizing.dispose(e);e._destroyColumnResizing();h.ui.editor.ColumnResizing.dispose(e)},_focusOutside:function(){if(h.support.browser.msie&&this.textarea){var e=f("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).trigger("focus");e.trigger("blur").remove()}},_destroyUploadWidget:function(){var e=this;if(e._uploadWidget){e._uploadWidget.destroy();e._uploadWidget=null}},state:function(e){var t=d.defaultTools[e];var i=t&&(t.options.finder||t.finder);var n=h.ui.editor.RangeUtils;var r,a;if(i){r=this.getRange();a=n.textNodes(r);if(!a.length&&r.collapsed)a=[r.startContainer];return i.getFormat?i.getFormat(a):i.isFormatted(a)}return false},value:function(e){var t=this.body,i=h.ui.editor,n=this.options,r=i.Serializer.domToXhtml(t,n.serialization);if(e===p)return r;if(e==r)return;i.Serializer.htmlToDom(e,t,n.deserialization);this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(e){e=e||this.getRange();var t=e.commonAncestorContainer,i=this.body;if(t==i||f.contains(i,t))this.selectionRestorePoint=new h.ui.editor.RestorePoint(e,i)},_focusBody:function(){var e=this.body;var t=this.wrapper&&this.wrapper.find("iframe")[0];var i=this.document.documentElement;var n=h._activeElement();var r;if(!t&&e.scrollHeight>e.clientHeight){r=e.scrollTop;e.focus();e.scrollTop=r}else if(n!=e&&n!=t){r=i.scrollTop;e.focus();i.scrollTop=r}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint)this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(e);this._togglePlaceholder(!e.trim())}else this._oldValue=e},encodedValue:function(){return h.ui.editor.Dom.encode(this.value())},createRange:function(e){return h.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return h.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges();t.addRange(e);this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),i=this.document;if(t.startContainer==i&&t.endContainer==i&&!t.startOffset&&!t.endOffset){t.setStart(this.body,0);t.collapse(true)}return t},_containsRange:function(e){var t=h.ui.editor.Dom;var i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},_deleteSavedRange:function(){if("_range"in this)delete this._range},selectedHtml:function(){return h.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.focus();var i=new h.ui.editor.InsertHtmlCommand(f.extend({range:this.getRange(),html:e},t));i.editor=this;i.exec()},exec:function(e,t){var i=this;var n=null;var r,a,o;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(i.body.getAttribute("contenteditable")!=="true"&&e!=="print"&&e!=="pdf"&&e!=="exportAs")return false;e=e.toLowerCase();if(!i.keyboard.isTypingInProgress()){i._focusBody();i.selectRange(i._range||i.getRange())}a=i.toolbar.toolById(e);if(!a)for(var s in d.defaultTools)if(s.toLowerCase()==e){a=d.defaultTools[s];break}if(a){r=i.getRange();if(a.command)n=a.command(v({range:r,body:i.body,immutables:!!i.immutables},t));o=i.trigger("execute",{name:e,command:n});if(o)return;if(/^(undo|redo)$/i.test(e))i.undoRedoStack[e]();else if(n){i.execCommand(n);if(n.async){n.change=i._selectionChange.bind(i);return}}i._selectionChange()}},execCommand:function(e){if(!e.managesUndoRedo)this.undoRedoStack.push(e);e.editor=this;e.exec()}}),u=(d.defaultTools={},h.ui.plugin(d),e.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title,"aria-label":t.title})},command:function(e){return new this.options.command(e)},update:f.noop})),x=(u.exec=function(e,t,i){e.exec(t,{value:i})},u.extend({command:f.noop,update:function(e,t,i){var n=this,r=n.options.name;switch(r){case"undo":e.attr("disabled",!i.canUndo());break;case"redo":e.attr("disabled",!i.canRedo());break;default:break}}})),C=(w.registerTool("separator",new u({template:new t({template:w.separatorTemplate})})),w.registerTool("undo",new x({key:"Z",ctrl:true,template:new t({template:w.buttonTemplate,title:"Undo"})})),w.registerTool("redo",new x({key:"Y",ctrl:true,template:new t({template:w.buttonTemplate,title:"Redo"})})),"\ufeff"),S=C;if(g.msie||g.edge)S=C="&nbsp;";if(v(h.ui,{editor:{ToolTemplate:t,EditorUtils:w,Tool:u,emptyElementContent:C,emptyTableCellContent:S}}),h.PDFMixin){h.PDFMixin.extend(d.prototype);d.prototype._drawPDF=function(){return h.drawing.drawDOM(this.body,this.options.pdf)};d.prototype.saveAsPDF=function(){var t=new f.Deferred;var e=t.promise();var i={promise:e};if(this.trigger("pdfExport",i))return;var n=this.options.pdf;this._drawPDF(t).then(function(e){return h.drawing.exportPDF(e,n)}).done(function(e){h.saveAs({dataURI:e,fileName:n.fileName,proxyURL:n.proxyURL,proxyTarget:n.proxyTarget,forceProxy:n.forceProxy});t.resolve()}).fail(function(e){t.reject(e)});return e}}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/dom.min",["./main.min"],function(){var w=window.kendo.jQuery,o=window.kendo,a=w.map,n=w.extend,s=o.support.browser,u="style",r="float",l="cssFloat",d="styleFloat",c="class",f="k-marker";function e(e){var t={},i,n;for(i=0,n=e.length;i<n;i++)t[e[i]]=true;return t}var i=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),t="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),p=t.concat(["ul","ol","li"]),h=e(p),m=e("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),g="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),v=e(g),_=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),b=["hgroup","ol","ul","dl","object","video","audio","table","colgroup","tbody","thead","tfoot","tr","select","optgroup"],k=function(e){if(e.nodeType==1)e.normalize()};if(s.msie&&s.version>=8)k=function(e){if(e.nodeType==1&&e.firstChild){var t=e.firstChild,i=t;k(i);while(true){i=i.nextSibling;if(!i)break;k(i);if(i.nodeType==3&&t.nodeType==3){i.nodeValue=t.nodeValue+i.nodeValue;H.remove(t)}t=i}}};var y=/^\s+$/,x=/^[\n\r\t]+$/,C=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,S=/\ufeff/g,T=/^(\s+|\ufeff)$/,I,D=("color,padding-left,padding-right,padding-top,padding-bottom,"+"background-color,background-attachment,background-image,background-position,background-repeat,"+"border-top-style,border-top-width,border-top-color,"+"border-bottom-style,border-bottom-width,border-bottom-color,"+"border-left-style,border-left-width,border-left-color,"+"border-right-style,border-right-width,border-right-color,"+"font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),E=/[<>\&]/g,A=/[\u00A0-\u2666<>\&]/g,F={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},H={block:h,inline:v,findNodeIndex:function(e,t){var i=0;if(!e)return-1;while(true){e=e.previousSibling;if(!e)break;if(!(t&&e.nodeType==3))i++}return i},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(e,t){try{return!H.isDataNode(e)&&(w.contains(e,H.isDataNode(t)?t.parentNode:t)||t.parentNode==e)}catch(e){return false}},isAncestorOrSelf:function(e,t){return H.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(H.isAncestorOf(e,t))while(t&&t.parentNode!=e)t=t.parentNode;return t},getAllComments:function(e){var t=[];var i=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},false);var n=i.nextNode();while(n){t.push(n.nodeValue);n=i.nextNode()}return t},getNodeLength:function(e){return H.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){var i=e.cloneNode(false);var n="";var r=e.nextSibling;var a;while(r&&r.nodeType==3&&r.nodeValue){n+=r.nodeValue;a=r;r=r.nextSibling;H.remove(a)}e.deleteData(t,e.length);i.deleteData(0,t);i.nodeValue+=n;H.insertAfter(i,e)},attrEquals:function(e,t){for(var i in t){var n=e[i];if(i==r)n=e[o.support.cssFloat?l:d];if(typeof n=="object"){if(!H.attrEquals(n,t[i]))return false}else if(n!=t[i])return false}return true},blockParentOrBody:function(e){return H.parentOfType(e,p)||e.ownerDocument.body},blockParents:function(e){var t=[],i,n;for(i=0,n=e.length;i<n;i++){var r=H.parentOfType(e[i],H.blockElements);if(r&&w.inArray(r,t)<0)t.push(r)}return t},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:k,blockElements:p,nonListBlockElements:t,inlineElements:g,empty:i,fillAttrs:_,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=C.exec(e);if(!t)return e;return"#"+a(t.slice(1),function(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}).join("")},encode:function(e,t){var i=!t||t.entities?A:E;return e.replace(i,function(e){var t=e.charCodeAt(0);var i=F[t];return i?"&"+i+";":e})},isBom:function(e){return e&&e.nodeType===3&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(S,"")},stripBomNode:function(e){if(H.isBom(e))e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return e.className=="k-marker"||H.is(e,"br")&&(e.className=="k-br"||t._moz_dirty||t._moz_editor_bogus_node)||H.is(e,"span")&&e.className=="k-br"},tableCell:function(e){return H.is(e,"td")||H.is(e,"th")},significantNodes:function(e){return w.grep(e,function(e){var t=H.name(e);if(t=="br")return false;else if(H.insignificant(e))return false;else if(H.emptyTextNode(e))return false;else if(e.nodeType==1&&!i[t]&&H.emptyNode(e))return false;return true})},emptyTextNode:function(e){return e&&e.nodeType==3&&T.test(e.nodeValue)},emptyNode:function(e){return e.nodeType==1&&!H.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(e){return w.grep(e.childNodes,function(e){return e.nodeType!=3||!H.isWhitespace(e)})},lastTextNode:function(e){var t=null;if(e.nodeType==3)return e;for(var i=e.lastChild;i;i=i.previousSibling){t=H.lastTextNode(i);if(t)return t}return t},is:function(e,t){return e&&H.name(e)==t},isMarker:function(e){return e.className==f},isWhitespace:function(e){return y.test(e.nodeValue)},allowsTextContent:function(t){var i=true;b.every(function(e){if(H.is(t,e)){i=false;return false}else return true});return i},allWhitespaceContent:function(e){var t=e.firstChild;while(t&&H.isWhitespace(t))t=t.nextSibling;return!t},isEmptyspace:function(e){return x.test(e.nodeValue)},htmlIndentSpace:function(e){if(!(H.isDataNode(e)&&H.isWhitespace(e)))return false;if(x.test(e.nodeValue))return true;var t=function(e,t){while(e[t]){e=e[t];if(H.significantNodes([e]).length>0)return e}};var i=e.parentNode;var n=t(e,"previousSibling");var r=t(e,"nextSibling");if(S.test(e.nodeValue))return!!(n||r);if(w(i).is("tr,tbody,thead,tfoot,table,ol,ul"))return true;if(H.isBlock(i)||H.is(i,"body")){var a=n&&H.isBlock(n);var o=r&&H.isBlock(r);if(!r&&a||!n&&o||a&&o)return true}return false},isBlock:function(e){return h[H.name(e)]},isSelfClosing:function(e){return m[H.name(e)]},isEmpty:function(e){return i[H.name(e)]},isInline:function(e){return v[H.name(e)]},isBr:function(e){return H.name(e)=="br"},list:function(e){var t=e?H.name(e):"";return t=="ul"||t=="ol"||t=="dl"},scrollContainer:function(e){var t=H.windowFromDocument(e),i=(t.contentWindow||t).document||t.ownerDocument||t;if(i.compatMode=="BackCompat")i=i.body;else i=i.scrollingElement||i.documentElement;return i},scrollTo:function(e,t){var i=e.ownerDocument;var n=H.windowFromDocument(i);var r=n.innerHeight;var a=H.scrollContainer(i);var o,s,l,d;if(H.isDataNode(e))if(t){d=H.create(i,"span",{innerHTML:"&#xfeff;"});H.insertBefore(d,e);o=w(d)}else o=w(e.parentNode);else o=w(e);s=o.offset().top;l=o[0].offsetHeight;if(t||!l)l=parseInt(o.css("line-height"),10)||Math.ceil(1.2*parseInt(o.css("font-size"),10))||15;if(d)H.remove(d);if(l+s>a.scrollTop+r)a.scrollTop=l+s-r},persistScrollTop:function(e){I=H.scrollContainer(e).scrollTop},offset:function(e,t){var i={top:e.offsetTop,left:e.offsetLeft};var n=e.offsetParent;while(n&&(!t||H.isAncestorOf(t,n))){i.top+=n.offsetTop;i.left+=n.offsetLeft;n=n.offsetParent}return i},restoreScrollTop:function(e){if(typeof I=="number"){H.scrollContainer(e).scrollTop=I;I=undefined}},insertAt:function(e,t,i){e.insertBefore(t,e.childNodes[i]||null)},insertBefore:function(e,t){if(t.parentNode)return t.parentNode.insertBefore(e,t);else return t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){if(e.parentNode)e.parentNode.removeChild(e)},removeChildren:function(e){while(e.firstChild)e.removeChild(e.firstChild)},removeTextSiblings:function(e){var t=e.parentNode;while(e.nextSibling&&e.nextSibling.nodeType==3)t.removeChild(e.nextSibling);while(e.previousSibling&&e.previousSibling.nodeType==3)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];if(H.isDataNode(i)){if(!H.stripBom(i.nodeValue).length)H.remove(i)}else if(i.className!=f){H.trim(i);if(!H.isEmpty(i)&&i.childNodes.length===0||H.isBlock(i)&&H.allWhitespaceContent(i))H.remove(i)}}return e},closest:function(e,t){if(typeof t==="string")t=[t];while(e&&t.indexOf(H.name(e))<0)e=e.parentNode;return e},closestBy:function(e,t,i){while(e&&!t(e)){if(i&&i(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&e.nodeType!=1);return e},next:function(e){return H.sibling(e,"nextSibling")},prev:function(e){return H.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!H.ofType(e,t));return e},ofType:function(e,t){return w.inArray(H.name(e),t)>=0},changeTag:function(e,t,i){var n=H.create(e.ownerDocument,t),r=e.attributes,a,o,s,l,d;if(!i)for(a=0,o=r.length;a<o;a++){d=r[a];if(d.specified){s=d.nodeName;l=d.nodeValue;if(s==c)n.className=l;else if(s==u)n.style.cssText=e.style.cssText;else n.setAttribute(s,l)}}while(e.firstChild)n.appendChild(e.firstChild);H.insertBefore(n,e);H.remove(e);return n},editableParent:function(e){while(e&&(e.nodeType==3||e.contentEditable!=="true"))e=e.parentNode;return e},wrap:function(e,t){H.insertBefore(t,e);t.appendChild(e);return t},unwrap:function(e){var t=e.parentNode;while(e.firstChild)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(e){var t=H.closestBy(e,function(e){return e.parentNode&&H.significantNodes(e.parentNode.childNodes).length>1});return w(t).is("body,.k-editor")?undefined:t},create:function(e,t,i){return H.attr(e.createElement(t),i)},createEmptyNode:function(e,t,i){var n=H.attr(e.createElement(t),i);n.innerHTML="\ufeff";return n},attr:function(e,t){t=n({},t);if(t&&u in t){H.style(e,t.style);delete t.style}for(var i in t)if(t[i]===null){e.removeAttribute(i);delete t[i]}else if(i=="className")e[i]=t[i];return n(e,t)},mergeAttributes:function(e,t,i){if(!e.attributes.length)return;w.each(e.attributes,function(){if(this.name!=="contenteditable"&&(!i||this.name!==u))w(t).attr(this.name,this.value);if(i&&this.name===u)w.each(e.style,function(){t.style[this]=e.style[this]})})},style:function(e,t){w(e).css(t||{})},unstyle:function(e,t){for(var i in t){if(i==r)i=o.support.cssFloat?l:d;e.style[i]=""}if(e.style.cssText==="")e.removeAttribute(u)},inlineStyle:function(e,t,i){var n=w(H.create(e.ownerDocument,t,i)),r;e.appendChild(n[0]);r=a(D,function(e){if(s.msie&&e=="line-height"&&n.css(e)=="1px")return"line-height:1.5";else return e+":"+n.css(e)}).join(";");n.remove();return r},getEffectiveBackground:function(e){var t=e.css("background-color")||"";if(t.indexOf("rgba(0, 0, 0, 0")<0&&t!=="transparent")return t;else if(e[0].tagName.toLowerCase()==="html")return"Window";else return H.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;t=t.replace(/<!--(.|\s)*?-->/gi,"");t=t.replace(/<\/?[^>]+?\/?>/gm,"");return t},removeClass:function(e,t){var i=" "+e.className+" ",n=t.split(" "),r,a;for(r=0,a=n.length;r<a;r++)i=i.replace(" "+n[r]+" "," ");i=o.trim(i);if(i.length)e.className=i;else e.removeAttribute(c)},commonAncestor:function(){var e=arguments.length,t=[],i=Infinity,n=null,r,a,o,s,l;if(!e)return null;if(e==1)return arguments[0];for(r=0;r<e;r++){a=[];o=arguments[r];while(o){a.push(o);o=o.parentNode}t.push(a.reverse());i=Math.min(i,a.length)}if(e==1)return t[0][0];for(r=0;r<i;r++){s=t[0][r];for(l=1;l<e;l++)if(s!=t[l][r])return n;n=s}return n},closestSplittableParent:function(e){var t;if(e.length==1)t=H.parentOfType(e[0],["ul","ol"]);else t=H.commonAncestor.apply(null,e);if(!t)t=H.parentOfType(e[0],["p","td"])||e[0].ownerDocument.body;if(H.isInline(t))t=H.blockParentOrBody(t);var i=a(e,H.editableParent);var n=H.commonAncestor(i)[0];if(w.contains(t,n))t=n;return t},closestEditable:function(e,t){var i;var n=H.editableParent(e);if(H.ofType(e,t))i=e;else i=H.parentOfType(e,t);if(i&&n&&w.contains(i,n))i=n;else if(!i&&n)i=n;return i},closestEditableOfType:function(e,t){var i=H.closestEditable(e,t);if(i&&H.ofType(i,t)&&!w(i).is(".k-editor"))return i},filter:function(t,e,i){var n=function(e){return H.name(e)==t};return H.filterBy(e,n,i)},filterBy:function(e,t,i){var n=0;var r=e.length;var a=[];var o;for(;n<r;n++){o=t(e[n]);if(o&&!i||!o&&i)a.push(e[n])}return a},ensureTrailingBreaks:function(e){var t=w(e).find("p,td,th");var i=t.length;var n=0;if(i)for(;n<i;n++)H.ensureTrailingBreak(t[n]);else H.ensureTrailingBreak(e)},removeTrailingBreak:function(e){w(e).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){H.removeTrailingBreak(e);var t=e.lastChild;var i=t&&H.name(t);var n;if(!i||i!="br"&&i!="img"||i=="br"&&t.className!="k-br"){n=e.ownerDocument.createElement("br");n.className="k-br";e.appendChild(n)}},reMapTableColumns:function(e,t){H._mapColIndices(e,t)},clearTableMappings:function(e,t){w(e).find("["+t+"]").removeAttr(t)},_mapColIndices:function(e,t){var i={};for(var n=0;n<e.rows.length;n++){var r=e.rows[n].cells;var a=0;for(var o=0;o<r.length;o++,a++){var s=r[o];if(s.rowSpan>1)this._mapColspan(s,n,a,i);if(i[n])while(i[n][a])a++;s.setAttribute(t,a);if(s.colSpan>1)a=a+s.colSpan-1}}},_mapColspan:function(e,t,i,n){var r=e.rowSpan,a=e.colSpan,o;for(var s=0;s<a;s++){o=i+s;for(var l=t+1;l<t+r;l++){if(!n[l]){n[l]={};n[l].length=0}if(n[t])while(n[t][o])o++;n[l][o]=true;n[l].length++}}},associateWithIds:function(e){var t=this;var i=0;var n=e.rows;var r=n.length;var a=[];var o=[];var s,l;if(e.tHead){s=e.tHead.rows;i=s.length}else{i=t._getNumberOfHeaderRows(e);s=[];for(l=0;l<i;l++)s.push(n[l])}for(l=0;l<i;l++)a.push([]);for(l=0;l<r;l++)o.push([]);t._generateIdsForColumns(a,s);t._generateIdsForRows(a,o,i,n);t._assignIds(a,o,i,n)},_generateIdsForColumns:function(e,t){var i=(new Date).getTime();var n=t?t.length:0;var r,a,o,s,l,d,u,c,f,p,h;for(c=0;c<n;c++){r=t[c];a=r.cells;s=0;for(f=0;f<a.length;f++){o=a[f];l="table"+c+f+ ++i;o.setAttribute("id",l);d=o.getAttribute("colspan")||1;u=o.getAttribute("rowspan")||1;while(e[c][f+s])s+=1;for(p=0;p<u;p++)for(h=0;h<d;h++)e[c+p][f+s+h]=l}}},_generateIdsForRows:function(e,t,i,n){var r=this;var a=(new Date).getTime();var o=n.length;var s,l,d,u,c,f,p,h,m,g,v,_,b;var k=function(e){b.push(e[_])};for(h=i;h<o;h++){s=n[h];l=w(s.cells).filter("th");u=0;for(m=0;m<l.length;m++){d=l[m];c="table"+h+m+ ++a;d.setAttribute("id",c);f=d.getAttribute("colspan")||1;p=d.getAttribute("rowspan")||1;while(t[h][m+u])u+=1;for(g=0;g<p;g++)for(v=0;v<f;v++)t[h+g][m+u+v]=c;_=d.getAttribute("col-index");b=[];e.forEach(k);b=b.filter(r._onlyUnique);d.setAttribute("headers",b.join(" ").trim())}}},_assignIds:function(e,t,i,n){var r=this;var a=n.length;var o,s,l,d,u,c,f;var p=function(e){f.push(e[c])};for(d=i;d<a;d++){o=n[d];s=w(o.cells).filter("td");for(u=0;u<s.length;u++){l=s[u];c=l.getAttribute("col-index");f=t[d].slice();e.forEach(p);f=f.filter(r._onlyUnique);l.setAttribute("headers",f.join(" ").trim())}}},_getNumberOfColumns:function(e){var t=w(e).find("th, td");var i=0;var n,r,a;for(r=0;r<t.length;r++){n=t[r];a=Number(n.getAttribute("col-index"))+1;if(a>i)i=a}return i},_getNumberOfHeaderColumns:function(e,t){var i=e.rows;var n=0;var r,a,o,s,l;for(o=t;o<i.length;o++){a=i[o];for(s=0;s<a.cells.length;s++){l=a.cells[s];if(this.is(l,"th")){r=Number(l.getAttribute("col-index"))+1;if(r>n)n=r}}}return n},_getNumberOfHeaderRows:function(e){var t=e.rows;var i=e.tHead;var n=i&&e.tHead.rows?e.tHead.rows.length:0;var r,a,o,s;if(n===0){a=t[0];s=a.cells&&a.cells.length;while(a&&s&&this.is(a.cells[0],"th")){for(r=0;r<s;r++){o=a?a.cells[r]:null;if(!this.is(o,"th"))a=null}if(a){n+=1;a=this.next(a);s=a&&a.cells&&a.cells.length}}}return n},_onlyUnique:function(e,t,i){return i.indexOf(e)===t}};o.ui.editor.Dom=H})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/serializer.min",["./dom.min"],function(){var w=window.kendo.jQuery,y=void 0,x=window.kendo,C=x.ui.editor,S=C.Dom,e=w.extend,s="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),l=/"/g,d=/<br[^>]*>/i,T=/^\d+(\.\d*)?(px)?$/i,I=/<p>(?:&nbsp;)?<\/p>/i,D=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,E=/^sizzle-\d+/i,A=/^k-script-/i,t=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,i='<br class="k-br">',a="<span class='k-br'>\ufeff</span>",n=document.createElement("div"),F=(n.innerHTML=" <hr>",n.firstChild.nodeType===3),u=(n=null,x.isFunction),H="td",c={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(e){return e.replace(t,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,i+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+i)},_toEditableImmutables:function(e){var t=C.Immutables.immutable,i=S.emptyTextNode,n=e.firstChild,r=e.lastChild;while(i(n))n=n.nextSibling;while(i(r))r=r.previousSibling;if(n&&t(n))w(a).prependTo(e);if(r&&t(r))w(a).appendTo(e)},_fillEmptyElements:function(e){w(e).find("p,td").each(function(){var e=w(this);if(/^\s*$/g.test(e.text())&&!e.find("img,input").length){var t=this;while(t.children[0]&&t.children[0].nodeType!=3)t=t.children[0];if(t.nodeType==1&&!S.empty[S.name(t)])if(S.is(t,"td"))t.innerHTML=x.ui.editor.emptyTableCellContent;else t.innerHTML=x.ui.editor.emptyElementContent}})},_removeSystemElements:function(e){w(".k-paste-container",e).remove()},_resetOrderedLists:function(e){var t=e.getElementsByTagName("ol"),i,n,r;for(i=0;i<t.length;i++){n=t[i];r=n.getAttribute("start");n.setAttribute("start",1);if(r)n.setAttribute("start",r);else n.removeAttribute(r)}},_preventScriptExecution:function(e){w(e).find("*").each(function(){var e=this.attributes;var t,i,n,r;var a=[];for(i=0,n=e.length;i<n;i++){t=e[i];r=t.nodeName;if(t.specified&&/^on/i.test(r)){this.setAttribute("k-script-"+r,t.value);a.push(r)}}for(i=0,n=a.length;i<n;i++)this.removeAttribute(a[i])})},htmlToDom:function(e,t,i){var n=x.support.browser;var r=n.msie;var a=i||{};var o=a.immutables;e=c.toEditableHtml(e);if(u(a.custom))e=a.custom(e)||e;t.innerHTML=e;if(o)o.deserialize(t);if(r){S.normalize(t);c._resetOrderedLists(t)}c._preventScriptExecution(t);c._fillEmptyElements(t);c._removeSystemElements(t);c._toEditableImmutables(t);w("table",t).addClass("k-table");return t},domToXhtml:function(e,u){var c=[];var f=u&&u.immutables;function o(e){return w.grep(e,function(e){return e.name!="style"})}function t(e,t){c.push("<"+t);g(e);c.push(">")}var p={iframe:{start:function(e){t(e,"iframe")},end:function(){c.push("</iframe>")}},"k:script":{start:function(e){t(e,"script")},end:function(){c.push("<\/script>")},skipEncoding:true},span:{canOptimize:true,semantic:true,start:function(e){var t=e.style;var i=m(e);var n=o(i);if(n.length){c.push("<span");g(e,n);c.push(">")}if(t.textDecoration=="underline")c.push("<u>");var r=[];if(t.color)r.push('color="'+S.toHex(t.color)+'"');if(t.fontFamily)r.push('face="'+t.fontFamily+'"');if(t.fontSize){var a=w.inArray(t.fontSize,s);r.push('size="'+a+'"')}if(r.length)c.push("<font "+r.join(" ")+">")},end:function(e){var t=e.style;if(t.color||t.fontFamily||t.fontSize)c.push("</font>");if(t.textDecoration=="underline")c.push("</u>");if(o(m(e)).length)c.push("</span>")}},strong:{semantic:true,start:function(e){t(e,"b")},end:function(){c.push("</b>")}},em:{semantic:true,start:function(e){t(e,"i")},end:function(){c.push("</i>")}},b:{semantic:false,start:function(e){t(e,"strong")},end:function(){c.push("</strong>")}},i:{semantic:false,start:function(e){t(e,"em")},end:function(){c.push("</em>")}},u:{semantic:false,start:function(e){c.push("<span");var t=m(e);var i=w(t).filter(function(e,t){return t.name=="style"})[0];var n={nodeName:"style",value:"text-decoration:underline;"};if(i){n.value=i.value;if(!/text-decoration/i.test(n.value))n.value="text-decoration:underline;"+n.value;t.splice(w.inArray(i,t),1)}t.push(n);g(e,t);c.push(">")},end:function(){c.push("</span>")}},font:{canOptimize:true,semantic:false,start:function(e){c.push('<span style="');var t=e.getAttribute("color");var i=s[e.getAttribute("size")];var n=e.getAttribute("face");if(t){c.push("color:");c.push(S.toHex(t));c.push(";")}if(n){c.push("font-family:");c.push(n);c.push(";")}if(i){c.push("font-size:");c.push(i);c.push(";")}c.push('">')},end:function(){c.push("</span>")}}};p.script=p["k:script"];u=u||{};if(typeof u.semantic=="undefined")u.semantic=true;function n(e){var t=x.trim;var i=t(e);var n;var r,a;var o=[];D.lastIndex=0;while(true){n=D.exec(i);if(!n)break;r=t(n[1].toLowerCase());a=t(n[2]);if(r=="font-size-adjust"||r=="font-stretch")continue;if(r.indexOf("color")>=0)a=S.toHex(a);else if(r.indexOf("font")>=0)a=a.replace(l,"'");else if(/\burl\(/g.test(a))a=a.replace(l,"");o.push({property:r,value:a})}return o}function h(e){var t=n(e);var i;for(i=0;i<t.length;i++){c.push(t[i].property);c.push(":");c.push(t[i].value);c.push(";")}}function m(e){var t=[];var i=e.attributes;var n,r,a;var o,s,l;for(r=0,a=i.length;r<a;r++){n=i[r];o=n.nodeName;s=n.value;l=n.specified;if(o=="value"&&"value"in e&&e.value)l=true;else if(o=="type"&&s=="text")l=true;else if(o=="class"&&!s)l=false;else if(E.test(o))l=false;else if(o=="complete")l=false;else if(o=="altHtml")l=false;else if(o=="start"&&S.is(e,"ul"))l=false;else if(o=="start"&&S.is(e,"ol")&&s=="1")l=false;else if(o.indexOf("_moz")>=0)l=false;else if(A.test(o))l=!!u.scripts;else if(o=="data-role"&&s=="resizable"&&(S.is(e,"tr")||S.is(e,"td")))l=false;if(l)t.push(n)}return t}function g(e,t){var i,n,r,a,o;t=t||m(e);if(S.is(e,"img")){var s=e.style.width,l=e.style.height,d=w(e);if(s&&T.test(s)){d.attr("width",parseInt(s,10));S.unstyle(e,{width:y})}if(l&&T.test(l)){d.attr("height",parseInt(l,10));S.unstyle(e,{height:y})}}if(!t.length)return;for(i=0,n=t.length;i<n;i++){r=t[i];a=r.nodeName;o=r.value;if(a=="class"&&o=="k-table")continue;a=a.replace(A,"");c.push(" ");c.push(a);c.push('="');if(a=="style")h(o||e.style.cssText);else if(a=="src"||a=="href")c.push(x.htmlEncode(e.getAttribute(a,2)));else c.push(S.fillAttrs[a]?a:o);c.push('"')}}function v(e,t,i){for(var n=e.firstChild;n;n=n.nextSibling)r(n,t,i)}function _(e){return e.nodeValue.replace(/\ufeff/g,"")}function b(e){if(S.isBom(e)){do{e=e.parentNode;if(S.is(e,H)&&e.childNodes.length===1)return true;if(e.childNodes.length!==1)return false}while(!S.isBlock(e));return true}return false}function r(e,t,i){var n=e.nodeType,r,a,o,s,l,d;if(f&&C.Immutables.immutable(e))c.push(f.serialize(e));else if(n==1){r=S.name(e);d=w(e);if(d.hasClass("k-element-resize-handle-wrapper")||d.hasClass("k-column-resize-handle-wrapper")||d.hasClass("k-row-resize-handle-wrapper"))return;if(!r||S.insignificant(e))return;if(!u.scripts&&(r=="script"||r=="k:script"))return;a=p[r];if(a){if(a.canOptimize&&u.optimizeTags&&k(e)){v(e,false,a.skipEncoding);return}if(typeof a.semantic=="undefined"||u.semantic^a.semantic){a.start(e);v(e,false,a.skipEncoding);a.end(e);return}}c.push("<");c.push(r);g(e);if(S.empty[r])c.push(" />");else{c.push(">");v(e,t||S.is(e,"pre"));c.push("</");c.push(r);c.push(">")}}else if(n==3){if(b(e)){c.push("&nbsp;");return}s=_(e);if(!t&&F){o=e.parentNode;l=e.previousSibling;if(!l)l=(S.isInline(o)?o:e).previousSibling;if(!l||l.innerHTML===""||S.isBlock(l))if(u.keepEOL)s=s.replace(/[\r\n\v\f\t ]+/," ");else s=s.replace(/^[\r\n\v\f\t ]+/,"");s=s.replace(/ +/," ")}c.push(i?s:S.encode(s,u))}else if(n==4){c.push("<![CDATA[");c.push(e.data);c.push("]]>")}else if(n==8)if(e.data.indexOf("[CDATA[")<0){c.push("\x3c!--");c.push(e.data);c.push("--\x3e")}else{c.push("<!");c.push(e.data);c.push(">")}}function k(e){return e.attributes.length===0}function i(e){var t=e.childNodes.length;var i=t&&e.firstChild.nodeType==3;return i&&(t==1||t==2&&S.insignificant(e.lastChild))}function a(){if(x.isFunction(u.custom))c=u.custom(c)||c}if(i(e)){c=S.encode(_(e.firstChild).replace(/[\r\n\v\f\t ]+/," "),u);a();return c}v(e);c=c.join("");a();if(c.replace(d,"").replace(I,"")==="")return"";return c}};e(C,{Serializer:c})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/components.min",["./serializer.min"],function(){var d=window.kendo.jQuery,n=void 0,u=window.kendo,r=u.ui.DropDownList,l=u.ui.editor.Dom,e=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);if(u.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",this._initSelectOverlay.bind(this))}i.text(i.options.title);i.element.attr("title",i.options.title);i.wrapper.attr("title",i.options.title);i.bind("open",function(){if(i.options.autoSize){var e=i.list,t;e.css({whiteSpace:"nowrap",width:"auto"});t=e.width();if(t>0)t+=20;else t=i._listWidth;e.css("width",t+u.support.scrollbar());i._listWidth=t}})},options:{name:"SelectBox",index:-1,size:"medium",fillMode:"solid",rounded:"medium"},_initSelectOverlay:function(){var e=this;var t=e.value();var i=this.dataSource.view();var n;var r="";var a=u.htmlEncode;for(var o=0;o<i.length;o++){n=i[o];r+="<option value='"+a(n.value)+"'";if(n.value==t)r+=" selected";r+=">"+a(n.text)+"</option>"}var s=d("<select class='k-select-overlay'>"+r+"</select>");var l=d(this.element).closest(".k-dropdownlist");l.next(".k-select-overlay").remove();s.insertAfter(l);s.on("change",function(){e.value(this.value);e.trigger("change")})},value:function(e){var t=this,i=r.fn.value.call(t,e);if(e===n)return i;if(!r.fn.value.call(t))t.text(t.options.title)},decorate:function(e){var t=this,i=t.dataSource,n=i.data(),r,a,o,s;if(e)t.list.css("background-color",l.getEffectiveBackground(d(e)));for(r=0;r<n.length;r++){a=n[r].tag||"span";o=n[r].className;s=l.inlineStyle(e,a,{className:o});s=s.replace(/"/g,"'");n[r].style=s+";display:inline-block"}i.trigger("change")}});u.ui.plugin(e),u.ui.editor.SelectBox=e,u.cssProperties.registerPrefix("SelectBox","k-picker-"),u.cssProperties.registerValues("SelectBox",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}])})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/range.min",["./components.min"],function(){var r=window.kendo.jQuery,t=window.kendo,e=t.Class,i=r.extend,a=t.ui.editor,l=t.support.browser,g=a.Dom,m=g.findNodeIndex,v=g.isDataNode,n=g.findClosestAncestor,u=g.getNodeLength,_=g.normalize,o={selectionFromWindow:function(e){if(!e)return;if(!("getSelection"in e))return new h(e.document);return e.getSelection()},selectionFromRange:function(e){var t=D.documentFromRange(e);return o.selectionFromDocument(t)},selectionFromDocument:function(e){return o.selectionFromWindow(g.windowFromDocument(e))}},c=e.extend({init:function(e){r.extend(this,{ownerDocument:e,startContainer:e,endContainer:e,commonAncestorContainer:e,startOffset:0,endOffset:0,collapsed:true})},setStart:function(e,t){this.startContainer=e;this.startOffset=t;f(this);d(this,true)},setEnd:function(e,t){this.endContainer=e;this.endOffset=t;f(this);d(this,false)},setStartBefore:function(e){this.setStart(e.parentNode,m(e))},setStartAfter:function(e){this.setStart(e.parentNode,m(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,m(e))},setEndAfter:function(e){this.setEnd(e.parentNode,m(e)+1)},selectNode:function(e){this.setStartBefore(e);this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0);this.setEnd(e,e[e.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;if(e)t.setEnd(t.startContainer,t.startOffset);else t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();if(e.startContainer!=e.commonAncestorContainer)e.setStartAfter(n(e.commonAncestorContainer,e.startContainer));e.collapse(true);(function e(t){while(t.next())if(t.hasPartialSubtree())e(t.getSubtreeIterator());else t.remove()})(new p(t))},cloneContents:function(){var r=D.documentFromRange(this);return function e(t){var i,n=r.createDocumentFragment();while(i=t.next()){i=i.cloneNode(!t.hasPartialSubtree());if(t.hasPartialSubtree())i.appendChild(e(t.getSubtreeIterator()));n.appendChild(i)}return n}(new p(this))},extractContents:function(){var r=this,e=r.cloneRange();if(r.startContainer!=r.commonAncestorContainer)r.setStartAfter(n(r.commonAncestorContainer,r.startContainer));r.collapse(true);var a=D.documentFromRange(r);return function e(t){var i,n=a.createDocumentFragment();while(i=t.next()){if(t.hasPartialSubtree()){i=i.cloneNode(false);i.appendChild(e(t.getSubtreeIterator()))}else t.remove(r.originalRange);n.appendChild(i)}return n}(new p(e))},insertNode:function(e){var t=this;if(v(t.startContainer)){if(t.startOffset!=t.startContainer.nodeValue.length)g.splitDataNode(t.startContainer,t.startOffset);g.insertAfter(e,t.startContainer)}else g.insertAt(t.startContainer,e,t.startOffset);t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return r.extend(new c(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return[e=="#text"?this.startContainer.nodeValue:e,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function s(e,t,i,n){if(e==t)return n-i;var r=t;while(r&&r.parentNode!=e)r=r.parentNode;if(r)return m(r)-i;r=e;while(r&&r.parentNode!=t)r=r.parentNode;if(r)return n-m(r)-1;var a=g.commonAncestor(e,t);var o=e;while(o&&o.parentNode!=a)o=o.parentNode;if(!o)o=a;var s=t;while(s&&s.parentNode!=a)s=s.parentNode;if(!s)s=a;if(o==s)return 0;return m(s)-m(o)}function d(e,t){function i(e){try{return s(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return true}}if(i(e)){if(t){e.commonAncestorContainer=e.endContainer=e.startContainer;e.endOffset=e.startOffset}else{e.commonAncestorContainer=e.startContainer=e.endContainer;e.startOffset=e.endOffset}e.collapsed=true}}function f(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;var t=e.startContainer;while(t&&t!=e.endContainer&&!g.isAncestorOf(t,e.endContainer))t=t.parentNode;e.commonAncestorContainer=t}c.fromNode=function(e){return new c(e.ownerDocument)};var p=e.extend({init:function(e){r.extend(this,{range:e,_current:null,_next:null,_end:null});if(e.collapsed)return;var t=e.commonAncestorContainer;this._next=e.startContainer==t&&!v(e.startContainer)?e.startContainer.childNodes[e.startOffset]:n(t,e.startContainer);this._end=e.endContainer==t&&!v(e.endContainer)?e.endContainer.childNodes[e.endOffset]:n(t,e.endContainer).nextSibling},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null;if(v(e._current)){if(e.range.endContainer==e._current){t=t.cloneNode(true);t.deleteData(e.range.endOffset,t.length-e.range.endOffset)}if(e.range.startContainer==e._current){t=t.cloneNode(true);t.deleteData(0,e.range.startOffset)}}return t},traverse:function(e){var t=this,i;function n(){t._current=t._next;t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null;return t._current}while(i=n())if(t.hasPartialSubtree())t.getSubtreeIterator().traverse(e);else e(i);return i},remove:function(e){var t=this,i=t.range.startContainer==t._current,n=t.range.endContainer==t._current,r,a,o;if(v(t._current)&&(i||n)){r=i?t.range.startOffset:0;a=n?t.range.endOffset:t._current.length;o=a-r;if(e&&(i||n)){if(t._current==e.startContainer&&r<=e.startOffset)e.startOffset-=o;if(t._current==e.endContainer&&a<=e.endOffset)e.endOffset-=o}t._current.deleteData(r,o)}else{var s=t._current.parentNode;if(e&&(t.range.startContainer==s||t.range.endContainer==s)){var l=m(t._current);if(s==e.startContainer&&l<=e.startOffset)e.startOffset-=1;if(s==e.endContainer&&l<e.endOffset)e.endOffset-=1}g.remove(t._current)}},hasPartialSubtree:function(){return!v(this._current)&&(g.isAncestorOrSelf(this._current,this.range.startContainer)||g.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new p(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();t.selectNodeContents(e._current);if(g.isAncestorOrSelf(e._current,e.range.startContainer))t.setStart(e.range.startContainer,e.range.startOffset);if(g.isAncestorOrSelf(e._current,e.range.endContainer))t.setEnd(e.range.endContainer,e.range.endOffset);return t}}),h=e.extend({init:function(e){this.ownerDocument=e;this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();k(t,e,false);k(t,e,true);t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;if(e.type!="None")e.empty()},getRangeAt:function(){var e,t=new c(this.ownerDocument),i=this.ownerDocument.selection,n,r;try{e=i.createRange();n=e.item?e.item(0):e.parentElement();if(n.ownerDocument!=this.ownerDocument)return t}catch(e){return t}if(i.type=="Control")t.selectNode(e.item(0));else{r=b(e);w(e,t,r,true);w(e,t,r,false);if(t.startContainer.nodeType==9)t.setStart(t.endContainer,t.startOffset);if(t.endContainer.nodeType==9)t.setEnd(t.startContainer,t.endOffset);if(e.compareEndPoints("StartToEnd",e)===0)t.collapse(false);var a=t.startContainer,o=t.endContainer,s=this.ownerDocument.body;if(!t.collapsed&&t.startOffset===0&&t.endOffset==u(t.endContainer)&&!(a==o&&v(a)&&a.parentNode==s)){var l=false,d=false;while(m(a)===0&&a==a.parentNode.firstChild&&a!=s){a=a.parentNode;l=true}while(m(o)==u(o.parentNode)-1&&o==o.parentNode.lastChild&&o!=s){o=o.parentNode;d=true}if(a==s&&o==s&&l&&d){t.setStart(a,0);t.setEnd(o,u(s))}}}return t}});function b(e){var t=e.duplicate(),i=e.duplicate();t.collapse(true);i.collapse(false);return g.commonAncestor(e.parentElement(),t.parentElement(),i.parentElement())}function k(e,t,i){var n=t[i?"startContainer":"endContainer"],r=t[i?"startOffset":"endOffset"],a=0,o=v(n),s=o?n:n.childNodes[r]||null,l=o?n.parentNode:n,d=t.ownerDocument,u=d.body.createTextRange(),c;if(n.nodeType==3||n.nodeType==4)a=r;if(!l)l=d.body;if(l.nodeName.toLowerCase()=="img"){u.moveToElementText(l);u.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",u)}else{c=l.insertBefore(g.create(d,"a"),s);u.moveToElementText(c);g.remove(c);u[i?"moveStart":"moveEnd"]("character",a);u.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",u)}}function w(e,t,i,n){var r=g.create(t.ownerDocument,"a"),a=e.duplicate(),o=n?"StartToStart":"StartToEnd",s,l,d,u,c,f,p,h=false;r.innerHTML="\ufeff";a.collapse(n);l=a.parentElement();if(!g.isAncestorOrSelf(i,l))l=i;do{if(h)l.insertBefore(r,r.previousSibling);else{l.appendChild(r);h=true}a.moveToElementText(r)}while((s=a.compareEndPoints(o,e))>0&&r.previousSibling);d=r.nextSibling;if(s==-1&&v(d)){a.setEndPoint(n?"EndToStart":"EndToEnd",e);g.remove(r);f=[d,a.text.length]}else{u=!n&&r.previousSibling;c=n&&r.nextSibling;if(v(c))f=[c,0];else if(v(u))f=[u,u.length];else{p=m(r);if(l.nextSibling&&p==l.childNodes.length-1)f=[l.nextSibling,0];else f=[l,p]}g.remove(r)}t[n?"setStart":"setEnd"].apply(t,f)}var y=e.extend({init:function(e){this.enumerate=function(){var t=[];function i(e){if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){i(e);e=e.nextSibling}}}new p(e).traverse(i);return t}}}),x=p.extend({hasPartialSubtree:function(){var e=a.Immutables&&a.Immutables.immutable;return e&&!e(this._current)&&p.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new x(this.getSubRange())}}),C=e.extend({init:function(e){this.enumerate=function(){var t=[];var i=a.Immutables&&a.Immutables.immutable;function n(e){if(i&&!i(e))if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){n(e);e=e.nextSibling}}}new x(e).traverse(n);return t}}}),S=e.extend({init:function(e,t,i){var n=this;n.range=e;n.rootNode=D.documentFromRange(e);n.body=t||n.getEditable(e);if(g.name(n.body)!="body")n.rootNode=n.body;n.startContainer=n.nodeToPath(e.startContainer);n.endContainer=n.nodeToPath(e.endContainer);n.startOffset=n.offset(e.startContainer,e.startOffset);n.endOffset=n.offset(e.endContainer,e.endOffset);n.immutables=i&&i.immutables;if(n.immutables)n.serializedImmutables=a.Immutables.removeImmutables(n.body);n.html=n.body.innerHTML;if(n.immutables&&!n.serializedImmutables.empty)a.Immutables.restoreImmutables(n.body,n.serializedImmutables)},index:function(e){var t=0,i=e.nodeType;while(e=e.previousSibling){var n=e.nodeType;if(n!=3||i!=n)t++;i=n}return t},getEditable:function(e){var t=e.commonAncestorContainer;while(t&&(t.nodeType==3||t.attributes&&(!t.attributes.contentEditable||t.attributes.contentEditable.nodeValue.toLowerCase()=="false")))t=t.parentNode;return t},restoreHtml:function(){var e=this;g.removeChildren(e.body);e.body.innerHTML=e.html;if(e.immutables&&!e.serializedImmutables.empty)a.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(e.nodeType==3)while((e=e.previousSibling)&&e.nodeType==3)t+=e.nodeValue.length;return t},nodeToPath:function(e){var t=[];while(e!=this.rootNode){t.push(this.index(e));e=e.parentNode}return t},toRangePoint:function(e,t,i,n){var r=this.rootNode,a=i.length,o=n;while(a--&&r)r=r.childNodes[i[a]];while(r&&r.nodeType==3&&r.nodeValue.length<o){o-=r.nodeValue.length;r=r.nextSibling}if(r&&o>=0)e[t?"setStart":"setEnd"](r,o)},toRange:function(){var e=this,t=e.range.cloneRange();e.toRangePoint(t,true,e.startContainer,e.startOffset);e.toRangePoint(t,false,e.endContainer,e.endOffset);return t}}),T=e.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;var i=t.caret=g.create(D.documentFromRange(e),"span",{className:"k-marker"});e.insertNode(i);g.stripBomNode(i.previousSibling);g.stripBomNode(i.nextSibling);e.selectNode(i);return i},removeCaret:function(e){var t=this,i=t.caret.previousSibling,n=0;if(i)n=v(i)?i.nodeValue.length:m(i);var r=t.caret.parentNode;var a=i?m(i):0;g.remove(t.caret);_(r);var o=r.childNodes[a];if(v(o))e.setStart(o,n);else if(o){var s=g.lastTextNode(o);if(s)e.setStart(s,s.nodeValue.length);else e[i?"setStartAfter":"setStartBefore"](o)}else{if(!l.msie&&!r.innerHTML)r.innerHTML='<br _moz_dirty="" />';e.selectNodeContents(r)}e.collapse(true)},add:function(e,t){var i=this;var n=e.collapsed&&!D.isExpandable(e);var r=D.documentFromRange(e);if(t&&e.collapsed){i.addCaret(e);e=D.expand(e)}var a=e.cloneRange();a.collapse(false);i.end=g.create(r,"span",{className:"k-marker"});a.insertNode(i.end);a=e.cloneRange();a.collapse(true);i.start=i.end.cloneNode(true);a.insertNode(i.start);i._removeDeadMarkers(i.start,i.end);if(n){var o=r.createTextNode("\ufeff");g.insertAfter(o.cloneNode(),i.start);g.insertBefore(o,i.end)}_(e.commonAncestorContainer);e.setStartBefore(i.start);e.setEndAfter(i.end);return e},_removeDeadMarkers:function(e,t){if(e.previousSibling&&e.previousSibling.nodeValue=="\ufeff")g.remove(e.previousSibling);if(t.nextSibling&&t.nextSibling.nodeValue=="\ufeff")g.remove(t.nextSibling)},_normalizedIndex:function(e){var t=m(e);var i=e;while(i.previousSibling){if(i.nodeType==3&&i.previousSibling.nodeType==3)t--;i=i.previousSibling}return t},remove:function(e){var t=this,i=t.start,n=t.end,r,a,o;_(e.commonAncestorContainer);while(!i.nextSibling&&i.parentNode)i=i.parentNode;while(!n.previousSibling&&n.parentNode)n=n.parentNode;r=i.previousSibling&&i.previousSibling.nodeType==3&&(i.nextSibling&&i.nextSibling.nodeType==3);a=n.previousSibling&&n.previousSibling.nodeType==3&&(n.nextSibling&&n.nextSibling.nodeType==3);o=r&&a;i=i.nextSibling;n=n.previousSibling;var s=i===n&&g.isBom(i);if(s&&i.length>1)i.nodeValue=i.nodeValue.charAt(0);var l=s;var d=false;if(i==t.end){d=!!t.start.previousSibling;i=n=t.start.previousSibling||t.end.nextSibling;l=true}g.remove(t.start);g.remove(t.end);if(!i||!n){e.selectNodeContents(e.commonAncestorContainer);e.collapse(true);return}var u=l?v(i)?i.nodeValue.length:i.childNodes.length:0;var c=v(n)?n.nodeValue.length:n.childNodes.length;if(i.nodeType==3)while(i.previousSibling&&i.previousSibling.nodeType==3){i=i.previousSibling;u+=i.nodeValue.length}if(n.nodeType==3)while(n.previousSibling&&n.previousSibling.nodeType==3){n=n.previousSibling;c+=n.nodeValue.length}var f=i.parentNode;var p=n.parentNode;var h=this._normalizedIndex(i);var m=this._normalizedIndex(n);_(f);if(i.nodeType==3)i=f.childNodes[h];_(p);if(n.nodeType==3)n=p.childNodes[m];if(l){if(i.nodeType==3)e.setStart(i,u);else e[d?"setStartAfter":"setStartBefore"](i);e.collapse(true)}else{if(i.nodeType==3)e.setStart(i,u);else e.setStartBefore(i);if(n.nodeType==3)e.setEnd(n,c);else e.setEndAfter(n)}if(t.caret)t.removeCaret(e)}}),I=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,D={nodes:function(e){var t=D.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=D.textNodes(e);if(!t.length)t=g.significantChildNodes(e.commonAncestorContainer)}return t},textNodes:function(e){var t=new y(e).enumerate(),i=t.filter(function(e){return g.allowsTextContent(e.parentElement)});return i},editableTextNodes:function(e){var t=[],i=a.Immutables&&a.Immutables.immutableParent,n=[];if(i&&!i(e.commonAncestorContainer)){t=new C(e).enumerate();n=t.filter(function(e){return g.allowsTextContent(e.parentElement)})}return n},documentFromRange:function(e){var t=e.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=D.image(e);if(t){e.setStartAfter(t);e.setEndAfter(t)}var i=o.selectionFromRange(e);i.removeAllRanges();i.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",g.name(e.startContainer),e.startOffset,g.name(e.endContainer),e.endOffset)},split:function(n,r,a){function e(e){var t=n.cloneRange();t.collapse(e);t[e?"setStartBefore":"setEndAfter"](r);var i=t.extractContents();if(a)i=g.trim(i);g[e?"insertBefore":"insertAfter"](i,r)}e(true);e(false)},mapAll:function(e,i){var n=[];new p(e).traverse(function(e){var t=i(e);if(t&&r.inArray(t,n)<0)n.push(t)});return n},getAll:function(e,t){var i=t;if(typeof t=="string")t=function(e){return g.is(e,i)};return D.mapAll(e,function(e){if(t(e))return e})},getMarkers:function(e){return D.getAll(e,function(e){return e.className=="k-marker"})},image:function(e){var t=D.getAll(e,"img");if(t.length==1)return t[0]},isStartOf:function(e,t){if(e.startOffset!==0)return false;var i=e.cloneRange();while(i.startOffset===0&&i.startContainer!=t){var n=g.findNodeIndex(i.startContainer);var r=i.startContainer.parentNode;while(n>0&&r[n-1]&&g.insignificant(r[n-1]))n--;i.setStart(r,n)}return i.startOffset===0&&i.startContainer==t},isEndOf:function(e,t){var i=e.cloneRange();i.collapse(false);var n=i.startContainer;if(g.isDataNode(n)&&i.startOffset==g.getNodeLength(n)){i.setStart(n.parentNode,g.findNodeIndex(n)+1);i.collapse(true)}i.setEnd(t,g.getNodeLength(t));var r=[];function a(e){if(!g.insignificant(e)&&!(g.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)))r.push(e)}new p(i).traverse(a);return!r.length},wrapSelectedElements:function(e){var t=g.editableParent(e.startContainer);var i=g.editableParent(e.endContainer);while(e.startOffset===0&&e.startContainer!=t)e.setStart(e.startContainer.parentNode,g.findNodeIndex(e.startContainer));function n(e,t){var i=g.getNodeLength(t);if(e==i)return true;for(var n=e;n<i;n++)if(!g.insignificant(t.childNodes[n]))return false;return true}while(n(e.endOffset,e.endContainer)&&e.endContainer!=i)e.setEnd(e.endContainer.parentNode,g.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange();var i=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1];var n=t.endContainer.childNodes[t.endOffset];if(!v(i)||!v(n))return t;var r=i.nodeValue;var a=n.nodeValue;if(!r||!a)return t;var o=r.split("").reverse().join("").search(I);var s=a.search(I);if(!o||!s)return t;s=s==-1?a.length:s;o=o==-1?0:r.length-o;t.setStart(i,o);t.setEnd(n,s);return t},isExpandable:function(e){var t=e.startContainer;var i=D.documentFromRange(e);if(t==i||t==i.body)return false;var n=e.cloneRange();var r=t.nodeValue;if(!r)return false;var a=r.substring(0,n.startOffset);var o=r.substring(n.startOffset);var s=0,l=0;if(a)s=a.split("").reverse().join("").search(I);if(o)l=o.search(I);return s&&l}};i(a,{SelectionUtils:o,W3CRange:c,RangeIterator:p,W3CSelection:h,RangeEnumerator:y,RestorePoint:S,Marker:T,RangeUtils:D})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/immutables.min",["./range.min"],function(){var o=window.kendo.jQuery,i=void 0,d=window.kendo,e=d.Class,r=d.ui.editor,u=r.Dom,a=d.template,s=r.RangeUtils,c=["ul","ol","tbody","thead","table"],t=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],l="k-immutable",f="["+l+"]",p="[contenteditable='false']",n=function(e){return o(e).is("body,.k-editor")},h=function(e){return e.getAttribute&&e.getAttribute("contenteditable")=="false"},m=function(e){return u.closestBy(e,h,n)},g=function(e){var t=m(e.startContainer);var i=m(e.endContainer);if(t||i){if(t)e.setStartBefore(t);if(i)e.setEndAfter(i)}},v=function(e){if(m(e.commonAncestorContainer))return true;else if(m(e.startContainer)||m(e.endContainer)){var t=s.editableTextNodes(e);if(t.length===0)return true}return false},_=function(e){var t="";var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=e||10;n>0;--n)t+=i.charAt(Math.round(Math.random()*(i.length-1)));return t},b=function(e){var i={empty:true},n,r,a;o(e).find(p).each(function(e,t){n=u.name(t);r=_();a="<"+n+" "+l+"='"+r+"'></"+n+">";i[r]={node:t,style:o(t).attr("style")};i.empty=false;o(t).replaceWith(a)});return i},k=function(e,i){var n,r;o(e).find(f).each(function(e,t){n=t.getAttribute(l);r=i[n];o(t).replaceWith(r.node);if(r.style!=o(r.node).attr("style"))o(r.node).removeAttr("style").attr("style",r.style)})},w=function(e){var t=d.keys;return e===t.BACKSPACE||e==t.DELETE},y=function(e){var t=e?e.options:i;if(t&&t.finder)t.finder._initOptions({immutables:true})},x=e.extend({init:function(e){this.editor=e;this.serializedImmutables={};this.options=o.extend({},e&&e.options&&e.options.immutables);var t=e.toolbar.tools;y(t.justifyLeft);y(t.justifyCenter);y(t.justifyRight);y(t.justifyFull)},serialize:function(e){var t=this._toHtml(e),i;if(t.indexOf(l)===-1){i=this.randomId();t=t.replace(/>/," "+l+'="'+i+'">')}else i=t.match(/k-immutable\s*=\s*['"](.*)['"]/)[1];this.serializedImmutables[i]=e;return t},_toHtml:function(e){var t=this.options.serialization;var i=typeof t;var n;switch(i){case"string":return a(t)(e);case"function":return t(e);default:n=u.name(e);return"<"+n+"></"+n+">"}},deserialize:function(e){var i=this;var n=this.options.deserialization;o(f,e).each(function(){var e=this.getAttribute(l);var t=i.serializedImmutables[e];if(d.isFunction(n))n(this,t);o(this).replaceWith(t)});i.serializedImmutables={}},randomId:function(e){return _(e)},keydown:function(e,t){var i=w(e.keyCode);var n=i&&this._cancelDeleting(e,t)||!i&&this._cancelTyping(e,t);if(n){e.preventDefault();return true}},_cancelTyping:function(e,t){var i=this.editor;var n=i.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&v(t)},_cancelDeleting:function(e,t){var i=d.keys;var n=e.keyCode===i.BACKSPACE;var r=e.keyCode==i.DELETE;if(!n&&!r)return false;var a=false;if(t.collapsed){if(v(t))return true;var o=this.nextImmutable(t,r);if(o&&n){var s=u.closest(t.commonAncestorContainer,"li");if(s){var l=u.closest(o,"li");if(l&&l!==s)return a}}if(o&&!u.tableCell(o)){if(u.parentOfType(o,c)===u.parentOfType(t.commonAncestorContainer,c)){while(o&&o.parentNode.childNodes.length==1)o=o.parentNode;if(u.tableCell(o))return a;this._removeImmutable(o,t)}a=true}}return a},nextImmutable:function(e,t){var i=e.commonAncestorContainer;if(u.isBom(i)||(t&&s.isEndOf(e,i)||!t&&s.isStartOf(e,i))){var n=this._nextNode(i,t);if(n&&u.isBlock(n)&&!m(n))while(n&&n.children&&n.children[t?0:n.children.length-1])n=n.children[t?0:n.children.length-1];return m(n)}},_removeImmutable:function(e,t){var i=this.editor;var n=new r.RestorePoint(t,i.body);u.remove(e);r._finishUpdate(i,n)},_nextNode:function(e,t){var i=t?"nextSibling":"previousSibling";var n=e,r;while(n&&!r){r=n[i];if(r&&u.isDataNode(r)&&/^\s|[\ufeff]$/.test(r.nodeValue)){n=r;r=n[i]}if(!r)n=n.parentNode}return r}});x.immutable=h,x.immutableParent=m,x.expandImmutablesIn=g,x.immutablesContext=v,x.toolsToBeUpdated=t,x.removeImmutables=b,x.restoreImmutables=k,r.Immutables=x})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/command.min",["./immutables.min"],function(){var n=window.kendo.jQuery,r=window.kendo,e=r.Class,t=r.ui.editor,i=t.Dom,a=t.RestorePoint,o=t.Marker,s=n.extend;function l(e,t){var i=e.selectionRestorePoint=new a(e.getRange(),e.body);var n=new u(t,i);n.editor=e;e.undoRedoStack.push(n);e.toolbar.refreshTools();return i}var d=e.extend({init:function(e){this.options=e;this.restorePoint=new a(e.range,e.body,{immutables:e.immutables});this.marker=new o;this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e);this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml();this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(e,t){var i=this.editor;return n(e).appendTo(document.body).kendoWindow(s({},i.options.dialogOptions,t)).closest(".k-window").toggleClass("k-rtl",r.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(e);this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){if(this.immutables()){r.ui.editor.Immutables.expandImmutablesIn(e);this.restorePoint=new a(e,this.editor.body)}}}),u=e.extend({init:function(e,t){this.body=e.body;this.startRestorePoint=e;this.endRestorePoint=t},redo:function(){i.removeChildren(this.body);this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){i.removeChildren(this.body);this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});s(t,{_finishUpdate:l,Command:d,GenericCommand:u})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/toolbar.min",["./range.min"],function(){var b=window.kendo.jQuery,c=void 0,k=window.kendo,e=k.ui,f=e.editor,n=e.Widget,l=b.extend,u=k.keys,s=".kendoEditor",t=f.EditorUtils,i=f.ToolTemplate,r=f.Tool,a=k._outerWidth,d=k._outerHeight,w="overflowAnchor",p=".k-tool-group:visible .k-tool:not(.k-disabled):not([disabled]),"+".k-tool.k-overflow-anchor:visible,"+".k-tool-group:visible .k-colorpicker:not(input),"+".k-tool-group:visible .k-selectbox,"+".k-tool-group:visible .k-dropdownlist,"+".k-tool-group:visible .k-combobox .k-input-inner",o={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-list-roman-upper":"insertUpperRomanList","k-i-list-roman-lower":"insertLowerRomanList","k-i-import":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-table-position-left":"tableAlignLeft","k-i-table-position-center":"tableAlignCenter","k-i-table-position-right":"tableAlignRight","k-i-clear-css":"cleanFormatting","k-i-cells-merge-horizontally":"mergeCellsHorizontally","k-i-cells-merge-vertically":"mergeCellsVertically","k-i-cell-split-horizontally":"splitCellHorizontally","k-i-cell-split-vertically":"splitCellVertically","k-i-copy-format":"copyFormat","k-i-apply-format":"applyFormat",".k-i-undo":"undo","k-i-redo":"redo"},h=r.extend({initialize:function(e,t){var i=t.editor.toolbar;e.attr("aria-controls",t.editor.element.attr("id")).on("click",function(){this.overflowPopup.toggle()}.bind(i))},options:{name:w},command:b.noop,update:b.noop,destroy:b.noop}),m=(t.registerTool(w,new h({key:"",ctrl:true,template:new i({template:t.overflowAnchorTemplate})})),n.extend({init:function(e,t){var i=this;t=l({},t,{name:"EditorToolbar"});n.fn.init.call(i,e,t);if(t.popup)i._initPopup();if(t.resizable&&t.resizable.toolbar){i._resizeHandler=k.onResize(function(){i.resize(true)});i.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],undo:["undo","redo"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","insertUpperRomanList","insertLowerRomanList","indent","outdent"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],tablesPosition:["tableAlignLeft","tableAlignCenter","tableAlignRight"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"],formatPainter:["copyFormat","applyFormat"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var t=this;this.window=b(this.element).wrap("<div class='editorToolbarWindow' />").parent().prepend("<span class='k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag'></span></span>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(e){if(!b(e.target).is(".k-icon"))t.preventPopupHide=true}).on("focusout",function(){t.options.editor.element.focusout()}).data("kendoWindow")},_toggleOverflowStyles:function(e,t){e.find("> li").toggleClass("k-item",t).find(".k-tool:not(.k-disabled), .k-overflow-button").toggleClass("k-overflow-button",t)},_initOverflowPopup:function(t){var i=this;var e="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";i.overflowPopup=b(e).appendTo("body").kendoPopup({anchor:t,origin:k.support.isRtl(i.element)?"bottom left":"bottom right",position:k.support.isRtl(i.element)?"top left":"top right",copyAnchorStyles:false,open:function(e){if(this.element.is(":empty"))e.preventDefault();i._toggleOverflowStyles(this.element,true);t.attr("aria-expanded",true)},close:function(){t.attr("aria-expanded",false)},activate:i.focusOverflowPopup.bind(i)}).data("kendoPopup")},items:function(){var e=this.options.resizable&&this.options.resizable.toolbar,t,i;i=this.element.children().find("> *, select");if(e){t=this.overflowPopup;i=i.add(t.element.children().find("> *"))}return i},focused:function(){var e=k._activeElement(),t=this.window,i=this.overflowPopup;return t&&b(e).closest(t.wrapper).length||i&&i.visible()},toolById:function(e){var t,i=this.tools;for(t in i)if(t.toLowerCase()==e)return i[t]},toolGroupFor:function(e){var t,i=this.groups;if(this.isCustomTool(e))return"custom";for(t in i)if(b.inArray(e,i[t])>=0)return t},bindTo:function(l){var d=this,e=d.window;if(d._editor)d._editor.unbind("select",d.resize.bind(d));d._editor=l;if(d.options.resizable&&d.options.resizable.toolbar)l.options.tools.push(w);d.tools=d.expandTools(l.options.tools);d.render();d.element.find(".k-combobox .k-input-inner").on("keydown",function(e){var t=b(this).closest(".k-combobox").data("kendoComboBox"),i=e.keyCode;if(i==u.RIGHT||i==u.LEFT)t.close();else if(i==u.DOWN)if(!t.dropDown.isOpened()){e.stopImmediatePropagation();t.open()}});d._attachEvents();d.items().each(function e(){var t=d._toolName(this),i=t!=="moreVertical"?d.tools[t]:d.tools.overflowAnchor,n=i&&i.options,r=l.options.messages,a=n&&n.tooltip||r[t],o=b(this);if(!i||!i.initialize)return;if(t=="fontSize"||t=="fontName"){var s=r[t+"Inherit"];o.find("input").val(s).end().find("span.k-input-inner").text(s).end()}i.initialize(o,{title:d._appendShortcutSequence(a,i),editor:d._editor});o.closest(".k-dropdownlist",d.element).addClass("k-editor-widget");o.closest(".k-combobox",d.element).addClass("k-editor-widget");o.closest(".k-colorpicker",d.element).next(".k-colorpicker").addClass("k-editor-widget")});l.bind("select",d.resize.bind(d));d.update();if(e)e.wrapper.css({top:"",left:"",width:""})},show:function(){var e=this,t=e.window,i=e.options.editor,n,r,a,o=k.support.browser;if(t){n=t.wrapper;r=i.element;if(!n.is(":visible")||!e.window.options.visible){if(!n[0].style.width)n.width(this._getWindowWidth());if(!t._moved){a=r.offset();n.css({top:Math.max(0,parseInt(a.top,10)-d(n)-parseInt(e.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(a.left,10))})}if((o.msie||o.edge)&&e._overlaps(r))setTimeout(function(){t.open()},0);else t.open()}}},_getWindowWidth:function(){var e=this,t=e.window.wrapper,i=e.options.editor.element;return a(i)-parseInt(t.css("border-left-width"),10)-parseInt(t.css("border-right-width"),10)},_overlaps:function(e){var t=this.window.wrapper,i=t.offset(),n=i.left,r=i.top,a=e.offset(),o=a.left,s=a.top;return!(o+e.width()<n||o>n+t.width()||s+e.height()<r||s>r+t.height())},hide:function(){if(this.window)this.window.close()},focus:function(){var e="tabIndex";var t=this.element;var i=this._editor.element.attr(e);t.attr(e,i||0).trigger("focus").find(p).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},focusOverflowPopup:function(){var e="tabIndex";var t=this.overflowPopup.element;var i=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper");t.attr(e,i||0).find(p).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var i=e+" (";if(t.ctrl)i+="Ctrl + ";if(t.shift)i+="Shift + ";if(t.alt)i+="Alt + ";i+=t.key+")";return i},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(e){return!(e in k.ui.Editor.defaultTools)},expandTools:function(e){var t,i,n=this._nativeTools,r,a=k.deepExtend({},k.ui.Editor.defaultTools),o={},s;for(i=0;i<e.length;i++){t=e[i];s=t.name;if(b.isPlainObject(t))if(s&&a[s]){o[s]=l({},a[s]);l(o[s].options,t)}else{r=l({cssClass:"k-i-gear",type:"button",title:""},t);if(!r.name)r.name="custom";r.cssClass="k-"+r.name;if(!r.template&&r.type=="button"){r.template=f.EditorUtils.buttonTemplate;r.title=r.title||r.tooltip}o[s]={options:r}}else if(a[t])o[t]=a[t]}for(i=0;i<n.length;i++)if(!o[n[i]])o[n[i]]=a[n[i]];return o},render:function(){var e=this,t=e.tools,i,n,r,a,o=e._editor.element,s=e.element.empty(),l,d,u=e._editor.options.tools,c,f,p=0,h=e.options.resizable&&e.options.resizable.toolbar,m=this.overflowFlaseTools;function g(e){var t="";if(e.getHtml)t=e.getHtml();else{if(!k.isFunction(e))e=k.template(e);t=e(i)}return k.trim(t)}function v(){if(c.children().length){if(h){c.data("position",p);p++}c.appendTo(s)}}function _(e){if(e!==w){c=b("<li class='k-tool-group' role='presentation' />");c.data("overflow",b.inArray(e,m)===-1?true:false)}else c=b("<li class='k-overflow-tools' />")}s.empty();if(u.length)a=u[0].name||u[0];_(a,m);for(f=0;f<u.length;f++){a=u[f].name||u[f];i=t[a]&&t[a].options;if(!i&&b.isPlainObject(a))i=a;n=i&&i.template;if(a=="break"){v();b("<li class='k-row-break' role='presentation' />").appendTo(e.element);_(a,m)}if(!n)continue;d=e.toolGroupFor(a);if(l!=d||a==w){v();_(a,m);l=d}if(a==w)n.options.title=e.options.messages.overflowAnchor;n=g(n);r=b(n).appendTo(c);if(d=="custom"){v();_(a,m)}if(i.exec&&r.hasClass("k-tool"))r.on("click",i.exec.bind(o[0]))}v();b(e.element).children(":has(> .k-tool)").not(".k-overflow-tools").addClass("k-button-group");e.updateGroups();if(h)e._initOverflowPopup(e.element.find(".k-overflow-anchor"));e.angular("compile",function(){return{elements:e.element}})},updateGroups:function(){b(this.element).children().not(".k-overflow-tools").each(function(){b(this).children().removeClass("k-group-start k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var e=b(this).data("kendoSelectBox");if(e)e.decorate(t)})},destroy:function(){n.fn.destroy.call(this);var e,t=this.tools;for(e in t)if(t[e].destroy)t[e].destroy();if(this.window)this.window.destroy();if(this._resizeHandler)k.unbindResize(this._resizeHandler);if(this.overflowPopup)this.overflowPopup.destroy()},_attachEvents:function(){var e=this,t=e.overflowPopup?e.overflowPopup.element:b([]);e.attachToolsEvents(e.element.add(t))},attachToolsEvents:function(e){var d=this,t="[role=button].k-tool",i=t+":not(.k-disabled)"+", [role=button].k-i-import:not(.k-disabled)",n=t+".k-disabled",r=".k-dropdownlist",a=".k-colorpicker",o=[t,r,a].join(",");e.off(s).on("mouseenter"+s,i,function(){b(this).addClass("k-hover")}).on("mouseleave"+s,i,function(){b(this).removeClass("k-hover")}).on("mousedown"+s,o,function(e){e.preventDefault()}).on("keydown"+s,p,function(e){var a=this;var t=d.options.resizable&&d.options.resizable.toolbar;var i=k.support.isRtl(d.element)?-1:1;var n;var r,o,s=e.keyCode;function l(e,t,i){var n=t.find(p);var r=n.index(a)+e;if(i)r=Math.max(0,Math.min(n.length-1,r));return n[r]}if(s==u.RIGHT||s==u.LEFT)if(!b(a).is(".k-dropdownlist"))r=l(s==u.RIGHT?1*i:-1*i,d.element,true);else r=b(a);else if(t&&(s==u.UP||s==u.DOWN))r=l(s==u.DOWN?1:-1,d.overflowPopup.element,true);else if(s==u.HOME){r=d.element.find(p)[0];e.preventDefault()}else if(s==u.END){n=d.element.find(p).filter(function(){return b(this).css("visibility")!=="hidden"});r=n[n.length-1];e.preventDefault()}else if(s==u.ESC){if(d.overflowPopup&&d.overflowPopup.visible())d.overflowPopup.close();r=d._editor}else if(s==u.TAB&&!(e.ctrlKey||e.altKey)){if(t)o=b(a.parentElement).hasClass("k-overflow-tool-group")?d.overflowPopup.element:d.element;else o=d.element;if(e.shiftKey)r=l(-1,o);else{r=l(1,o);if(!r||b(r).closest(".k-overflow-tools").css("visibility")==="hidden")r=d._editor}}if(r){e.preventDefault();r.focus()}if((s===u.ENTER||s===u.SPACEBAR)&&(b(a).is("button")||b(a).is("a"))&&!b(a).attr("href"))d._executeToolCommand(a,e)}).on("click"+s,i,function(e){d._executeToolCommand(this,e)}).on("click"+s,n,function(e){e.preventDefault()})},_executeToolCommand:function(e,t){var i=this;var n=b(e);t.preventDefault();t.stopPropagation();n.removeClass("k-hover");if(!n.is("[data-popup]"))i._editor.exec(i._toolName(e))},_toolName:function(e){if(!e)return;var t=e.className;if(/k-tool\b/i.test(t))t=e.firstChild.className;var i=b.grep(t.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});if(i[0]){var n=i[0];if(o[n])n=o[n];if(n.indexOf("k-i-")>=0)return k.toCamelCase(n.substring(n.indexOf("k-i-")+4));else return n.substring(n.lastIndexOf("-")+1)}return"custom"},refreshTools:function(){var i=this,n=i._editor,e=n.getRange(),r=f.RangeUtils.textNodes(e),a=n.options.immutables,o=i._immutablesContext(e);r=f.Dom.filterBy(r,f.Dom.htmlIndentSpace,true);if(!r.length)r=[e.startContainer];i.items().each(function(){var e=i.tools[i._toolName(this)];if(e){var t=b(this);if(e.update)e.update(t,r,n.undoRedoStack);if(a)i._updateImmutablesState(e,t,o)}});this.update()},_immutablesContext:function(e){if(this._editor.options.immutables)if(e.collapsed)return f.Immutables.immutablesContext(e);else return f.RangeUtils.editableTextNodes(e).length===0},_updateImmutablesState:function(e,t,i){var n=e.name;var r=t;var a=e.options.trackImmutables;if(a===c)a=b.inArray(n,f.Immutables.toolsToBeUpdated)>-1;if(a){var o=i?"none":"";if(!t.is(".k-tool")){var s=t.data();for(var l in s)if(l.match(/^kendo[A-Z][a-zA-Z]*/)){var d=s[l];r=d.wrapper;break}}r.css("display",o);var u=r.closest("li");if(u.children(":visible").length===0)u.css("display",o)}},update:function(){this.updateGroups()},_resize:function(e){var t=e.width;var i=this.options.resizable&&this.options.resizable.toolbar;var n=this.overflowPopup;var r=this.options.editor.element;var a=this.window;this.refreshTools();if(!i)return;if(a){a.wrapper.width(this._getWindowWidth());if(!a._moved)a.wrapper.css({left:Math.max(0,parseInt(r.offset().left,10))})}if(n.visible())n.close(true);this._refreshWidths();this._shrink(t);this._stretch(t);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",n.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(e,t){var i=b(t);i.data("outerWidth",a(i,true))})},_shrink:function(e){var t,i;if(e<this._groupsWidth()){i=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var n=i.length-1;n>=0;n--){t=i.eq(n);if(e>this._groupsWidth())break;else this._hideGroup(t)}}},_stretch:function(e){var t,i;if(e>this._groupsWidth()){i=this._hiddenGroups();for(var n=0;n<i.length;n++){t=i.eq(n);if(e<this._groupsWidth()||!this._showGroup(t,e))break}}},_hiddenGroups:function(){var e=this.overflowPopup;var t=this.element.children("li.k-tool-group").filter(":hidden");t=t.add(e.element.children("li"));t.sort(function(e,t){return b(e).data("position")>b(t).data("position")?1:-1});return t},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var e=0;this._visibleGroups().each(function(){e+=b(this).data("outerWidth")});return Math.ceil(e)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.addClass("k-hidden")},_showGroup:function(e,t){var i,n,r;if(e.hasClass("k-disabled"))return true;if(e.hasClass("k-overflow-tool-group"))r=e.data("outerWidth");else{e.removeClass("k-hidden");r=a(e,true);e.addClass("k-hidden")}if(e.length&&t>this._groupsWidth()+r){if(e.hasClass("k-overflow-tool-group")){i=e.data("position");if(i===0)e.detach().prependTo(this.element);else{n=this.element.children().filter(function(e,t){return b(t).data("position")===i-1});e.detach().insertAfter(n)}e.removeClass("k-overflow-tool-group")}else e.removeClass("k-hidden");return true}return false}}));b.extend(f,{Toolbar:m})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/viewhtml.min",["../command.min"],function(){var u=window.kendo.jQuery,c=void 0,f=window.kendo,e=u.extend,t=f.ui.editor,p=t.EditorUtils,i=t.Command,n=t.Tool,r=t.ToolTemplate,h=t.Dom,m=i.extend({init:function(e){var t=this;t.options=e;i.fn.init.call(t,e);t.attributes=null;t.async=true},exec:function(){var t=this,i=t.editor,n=i.options,e=i.options.messages,r=u(f.template(m.template)(e)).appendTo(document.body),a=".k-editor-textarea > textarea",o,s;n.serialization.immutables=i.immutables;s=h.getAllComments(i.body);o=p.cacheComments(i.value(),s);o=m.indent(o);o=p.retrieveComments(o,s);n.serialization.immutables=c;function l(e){n.deserialization.immutables=i.immutables;i.value(r.find(a).val());n.deserialization.immutables=c;d(e);if(t.change)t.change();i.trigger("change")}function d(e){e.preventDefault();r.data("kendoWindow").destroy();if(i.immutables)i.immutables.serializedImmutables={};i.focus()}this.createDialog(r,{title:e.viewHtml,width:600,height:400,resizable:true,close:d,visible:false}).find(a).val(o).end().find(".k-dialog-update").on("click",l).end().find(".k-dialog-close").on("click",d).end().data("kendoWindow").center().open();r.find(a).trigger("focus")}});e(m,{template:""+"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'>"+"<span class='k-input k-textarea k-input-solid k-input-md k-rounded-md k-editor-textarea'><textarea class='k-input-inner !k-overflow-auto !k-resize-none'></textarea></span>"+"<div class='k-edit-buttons'>"+"<button class='k-dialog-update k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>#: dialogUpdate #</span></button>"+"<button class='k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>#: dialogCancel #</span></button>"+"</div>"+"</div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.EditorUtils.registerTool("viewHtml",new n({command:f.ui.editor.ViewHtmlCommand=m,template:new r({template:p.buttonTemplate,title:"View HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/format.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=e.extend,n=t.ui.editor,r=n.Tool,a=n.Command,o=n.EditorUtils,s=a.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;if(t&&o.formatByName("immutable",t.format))t._initOptions({immutables:e.immutables});a.fn.init.call(this,e)}}),l=r.extend({init:function(e){r.fn.init.call(this,e)},command:function(e){var t=this;return new s(i(e,{formatter:t.options.formatter}))},update:function(e,t){var i=this.options.finder.isFormatted(t);e.toggleClass("k-selected",i);e.attr("aria-pressed",i)}});e.extend(n,{FormatCommand:s,FormatTool:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/inlineformat.min",["./format.min"],function(){var l=window.kendo.jQuery,m=window.kendo,e=m.Class,r=m.ui.editor,t=m.ui.Editor.fn.options.formats,d=r.EditorUtils,u=r.Tool,i=r.ToolTemplate,n=r.FormatTool,g=r.Dom,a=r.RangeUtils,c=l.extend,o=r.EditorUtils.registerTool,s=r.EditorUtils.registerFormat,f="mousedown.kendoEditor",p="keydown.kendoEditor",h="k-marker",v=e.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t=0,i=0,n=0,r=e.parentNode,a;for(a=r.firstChild;a;a=a.nextSibling)if(a!=e)if(a.className==h)n++;else if(a.nodeType==3)t++;else i++;if(n>1&&r.firstChild.className==h&&r.lastChild.className==h)return 0;else return i+t},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;var i=e.parentNode;var n=this.format[0].tags;while(!g.ofType(i,n)){if(this.numberOfSiblings(i)>0)return null;i=i.parentNode}return i},findFormat:function(e){var t=this.format,i=g.attrEquals,n,r,a,o,s;for(n=0,r=t.length;n<r;n++){a=e;o=t[n].tags;s=t[n].attr;if(a&&g.ofType(a,o)&&i(a,s))return a;while(a){a=g.parentOfType(a,o);if(a&&i(a,s))return a}}return null},isFormatted:function(e){var t,i;for(t=0,i=e.length;t<i;t++)if(this.findFormat(e[t]))return true;return false}}),_=e.extend({init:function(e,t){this.finder=new v(e);this.attributes=c({},e[0].attr,t);this.tag=e[0].tags[0]},wrap:function(e){return g.wrap(e,g.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){if(this.finder.isFormatted(t)){this.split(e);this.remove(t)}else this.apply(t)},toggle:function(e){var t=this.immutables()?a.editableTextNodes:a.textNodes;var i=t(e);if(i.length>0)this.activate(e,i)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t=[];var i,n,r,a;if(e.length>1)for(i=0,n=e.length;i<n;i++){r=e[i];a=this.format(r,true);t.push(a)}else{r=e[0];a=this.format(r,false)}this.consolidate(t)},format:function(e,t){var i=this.finder.findSuitable(e);var n=this.attributes;var r=n?n.style||{}:{};if(i){if(g.is(i,"font")){if(r.color)i.removeAttribute("color");if(r.fontName)i.removeAttribute("face");if(r.fontSize)i.removeAttribute("size")}g.attr(i,n)}else{while(!g.isBlock(e.parentNode)&&e.parentNode.childNodes.length==1&&e.parentNode.contentEditable!=="true"&&t)e=e.parentNode;i=this.wrap(e)}return i},remove:function(e){var t,i,n;for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n)if(this.attributes&&this.attributes.style){g.unstyle(n,this.attributes.style);if(!n.style.cssText&&!n.attributes["class"])g.unwrap(n)}else g.unwrap(n)}},split:function(e){var t=a.textNodes(e);var i=t.length;var n,r;if(i>0)for(n=0;n<i;n++){r=this.finder.findFormat(t[n]);if(r)a.split(e,r,true)}},consolidate:function(e){var t,i;while(e.length>1){t=e.pop();i=e[e.length-1];if(t.previousSibling&&t.previousSibling.className==h)i.appendChild(t.previousSibling);if(t.tagName==i.tagName&&t.previousSibling==i&&t.style.cssText==i.style.cssText&&t.className===i.className){while(t.firstChild)i.appendChild(t.firstChild);g.remove(t)}}}}),b=v.extend({init:function(e,t,i){this.format=e;this.greedyProperty=t;this.fontAttr=i;v.fn.init.call(this,e)},getInlineCssValue:function(e){var t=e.attributes;var i=m.trim;var n,r,a,o,s,l,d,u,c;var f,p,h;if(!t)return;for(n=0,r=t.length;n<r;n++){a=t[n];o=a.nodeName;s=a.nodeValue;if(a.specified&&o=="style"){l=i(s||e.style.cssText).split(";");for(u=0,c=l.length;u<c;u++){d=l[u];if(d.length){f=d.split(":");p=i(f[0].toLowerCase());h=i(f[1]);if(p!=this.greedyProperty)continue;return p.indexOf("color")>=0?g.toHex(h):h}}}if(this.fontAttr&&a.specified&&o==this.fontAttr){p=a.nodeValue;h=a.nodeValue;return p.indexOf("color")>=0?g.toHex(h):h}}},getFormatInner:function(e){var t=l(g.isDataNode(e)?e.parentNode:e);var i=t.parentsUntil("[contentEditable]").addBack().toArray().reverse();var n,r,a;for(n=0,r=i.length;n<r;n++){a=this.greedyProperty=="className"?i[n].className:this.getInlineCssValue(i[n]);if(a)return a}return"inherit"},getFormat:function(e){var t=this.getFormatInner(e[0]),i,n;for(i=1,n=e.length;i<n;i++)if(t!=this.getFormatInner(e[i]))return"";return t},isFormatted:function(e){return this.getFormat(e)!==""}}),k=_.extend({init:function(e,t,i){_.fn.init.call(this,e,t);this.values=t;this.finder=new b(e,i);if(i)this.greedyProperty=m.toCamelCase(i)},activate:function(e,t){var i=this.greedyProperty;var n="apply";this.split(e);if(i&&this.values.style[i]=="inherit")n="remove";this[n](t)}}),w=n.extend({init:function(e){n.fn.init.call(this,c(e,{finder:new v(e.format),formatter:function(){return new _(e.format)}}))}}),y=u.extend({update:function(e,t){var i=e.data(this.type);i.close();i.value(this.finder.getFormat(t))}}),x=y.extend({init:function(e){u.fn.init.call(this,e);this.type=m.support.browser.msie||m.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span","font"]}];this.finder=new b(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(c(e,{formatter:function(){n[t.domAttr]=e.value;return new k(i,{style:n},t.cssAttr)}}))},initialize:function(e,t){var i=t.editor,n=this.options,r=n.name,a,o,s=[];if(n.defaultValue)s=[{text:i.options.messages[n.defaultValue[0].text],value:n.defaultValue[0].value}];a=s.concat(n.items?n.items:i.options[r]||[]);e.attr({title:t.title});e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:a,change:function(){i._range=o;u.exec(i,r,this.value())},close:function(){setTimeout(function(){i._deleteSavedRange()},0)},highlightFirst:false});e.closest(".k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on");var l=e.data(this.type);l.value("inherit");l.wrapper.on(f,".k-select,.k-input-button,.k-input",function(){var e=i.getRange();o=i._containsRange(e)?e:o}).on(p,function(e){if(e.keyCode===m.keys.ENTER){i._deleteSavedRange();e.preventDefault()}})}}),C=u.extend({init:function(e){u.fn.init.call(this,e);this.format=[{tags:["span","font"]}];this.finder=new b(this.format,e.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(c(e,{formatter:function(){n[t.domAttr]=e.value;return new k(i,{style:n},t.cssAttr)}}))},initialize:function(t,e){var i=this,n=e.editor,r=this.name,a=c({},C.fn.options,this.options),o=a.palette,s=a.columns;t=this._widget=new m.ui.ColorPicker(t,{closeOnSelect:true,views:["palette"],preview:false,input:false,buttons:false,toolIcon:"k-icon k-i-"+d.getToolCssClass(a.name),palette:o,columns:s,change:function(){var e=t.value();if(m.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange);if(e)u.exec(n,r,e);delete i.storedRange;delete i._inputFocused;n.focus()},open:function(e){var t=e.sender;i.storedRange=n.getRange();t._popup.element.on(f,function(e){if(!l(e.target).is("input.k-color-value"))e.preventDefault()});if(!t._popup.element.is("[unselectable='on']"))t._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",function(){i._inputFocused=true});setTimeout(function(){t._popup.element.find(".k-colorpalette").trigger("focus")})},close:function(e){e.sender._popup.element.off(f);if(m.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange)},activate:function(e){e.preventDefault();if(e.sender._value.toCssRgba()==="rgba(255, 255, 255, 0)")return;t.trigger("change")}});t.wrapper.attr({title:e.title,unselectable:"on"}).find("*:not(input)").attr("unselectable","on");t.value("transparent")}});c(r,{InlineFormatFinder:v,InlineFormatter:_,DelayedExecutionTool:y,GreedyInlineFormatFinder:b,GreedyInlineFormatter:k,InlineFormatTool:w,FontTool:x,ColorTool:C}),s("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),o("bold",new w({key:"B",ctrl:true,format:t.bold,template:new i({template:d.buttonTemplate,title:"Bold"})})),s("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),o("italic",new w({key:"I",ctrl:true,format:t.italic,template:new i({template:d.buttonTemplate,title:"Italic"})})),s("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),o("underline",new w({key:"U",ctrl:true,format:t.underline,template:new i({template:d.buttonTemplate,title:"Underline"})})),s("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),o("strikethrough",new w({format:t.strikethrough,template:new i({template:d.buttonTemplate,title:"Strikethrough"})})),s("superscript",[{tags:["sup"]}]),o("superscript",new w({format:t.superscript,template:new i({template:d.buttonTemplate,title:"Superscript"})})),s("subscript",[{tags:["sub"]}]),o("subscript",new w({format:t.subscript,template:new i({template:d.buttonTemplate,title:"Subscript"})})),o("foreColor",new C({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",template:new i({template:d.colorPickerTemplate,title:"Color"})})),o("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new i({template:d.colorPickerTemplate,title:"Background Color"})})),o("fontName",new x({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new i({template:d.comboBoxTemplate,title:"Font Name"})})),o("fontSize",new x({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new i({template:d.comboBoxTemplate,title:"Font Size"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/link.min",["./inlineformat.min"],function(){var s=window.kendo.jQuery,l=void 0,d=window.kendo,e=d.Class,t=s.extend,i=d.ui.editor,u=i.Dom,c=i.RangeUtils,n=i.EditorUtils,r=i.Command,a=i.Tool,o=i.ToolTemplate,f=i.InlineFormatter,p=i.InlineFormatFinder,h=c.textNodes,m=c.editableTextNodes,g=i.EditorUtils.registerTool,v=d.keys,_="http://",b=/^\w*:\/\//,k=/[\w\/\$\-_\*\?]/i,w=e.extend({findSuitable:function(e){return u.parentOfType(e,["a"])}}),y=e.extend({init:function(){this.finder=new w},apply:function(e,t){var i=this.immutables?m(e):h(e);var n,r,a,o,s;if(t.innerText){r=c.documentFromRange(e);n=c.getMarkers(e);e.deleteContents();o=u.create(r,"a",t);e.insertNode(o);s=o.parentNode;if(u.name(s)=="a")u.insertAfter(o,s);if(u.emptyNode(s))u.remove(s);var l=o;for(var d=0;d<n.length;d++){u.insertAfter(n[d],l);l=n[d]}if(n.length){u.insertBefore(r.createTextNode("\ufeff"),n[1]||n[0]);u.insertAfter(r.createTextNode("\ufeff"),n[1]||n[0]);e.setStartBefore(n[0]);e.setEndAfter(n[n.length-1])}}else{a=new f([{tags:["a"]}],t);a.finder=this.finder;a.apply(i)}}}),x=r.extend({init:function(e){var i=this;e.formatter={toggle:function(e){var t=i.immutables()?m(e):h(e);new f([{tags:["a"]}]).remove(t)}};this.options=e;r.fn.init.call(this,e)}}),C=r.extend({init:function(e){var t;this.options=e;r.fn.init.call(this,e);this.formatter=new y;if(!e.url){this.attributes=null;this.async=true}else this.exec=function(){this.formatter.immutables=t&&t.immutables();this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}},_dialogTemplate:function(){return d.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+"<div class='k-edit-label'>"+"<label for='k-editor-link-url'>#: messages.linkWebAddress #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-url'></span>"+"</div>"+"<div class='k-edit-label k-editor-link-text-row'>"+"<label for='k-editor-link-text'>#: messages.linkText #</label>"+"</div>"+"<div class='k-edit-field k-editor-link-text-row'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-text'></span>"+"</div>"+"<div class='k-edit-label'>"+"<label for='k-editor-link-title'>#: messages.linkToolTip #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-title'></span>"+"</div>"+"<div class='k-edit-label'></div>"+"<div class='k-edit-field'>"+"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' id='k-editor-link-target'>"+"<label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label>"+"</div>"+"<div class='k-edit-buttons'>"+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages})},exec:function(){var e=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);this.formatter.immutables=this.immutables();var t=h(this._range);var i=t.length?this.formatter.finder.findSuitable(t[0]):null;var n=t.length&&u.name(t[0])=="img";var r=this.createDialog(this._dialogTemplate(),{title:e.createLink,close:this._close.bind(this),visible:false});if(i){this._range.selectNodeContents(i);t=h(this._range)}this._initialText=this.linkText(t);r.find(".k-dialog-insert").on("click",this._apply.bind(this)).end().find(".k-dialog-close").on("click",this._close.bind(this)).end().find(".k-edit-field input").on("keydown",this._keydown.bind(this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").attr("checked",i?i.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!n);this._dialog=r.data("kendoWindow").center().open();s("#k-editor-link-url",r).trigger("focus").select()},_keydown:function(e){var t=d.keys;if(e.keyCode==t.ENTER)this._apply(e);else if(e.keyCode==t.ESC)this._close(e)},_apply:function(e){var t=this._dialog.element;var i=s("#k-editor-link-url",t).val();var n,r,a;var o=s("#k-editor-link-text",t);if(i&&i!=_){if(i.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(i))i="mailto:"+i;this.attributes={href:i};n=s("#k-editor-link-title",t).val();if(n)this.attributes.title=n;if(o.is(":visible")){r=d.trim(o.val());if(!r&&!this._initialText)this.attributes.innerText=i;else if(r&&r!==this._initialText)this.attributes.innerText=u.stripBom(r)}a=s("#k-editor-link-target",t).is(":checked");this.attributes.target=a?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(e);if(this.change)this.change()},_close:function(e){e.preventDefault();this._dialog.destroy();u.windowFromDocument(c.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(e){if(e)return e.getAttribute("href",2);return _},linkText:function(e){var t="";var i;for(i=0;i<e.length;i++)t+=e[i].nodeValue;return u.stripBom(t||"")},redo:function(){var e=this.lockRange(true);this.formatter.apply(e,this.attributes);this.releaseRange(e)}}),S=r.extend({init:function(e){r.fn.init.call(this,e);this.formatter=new y},exec:function(){var e=this.detectLink();if(!e)return;var t=this.getRange();var i=new d.ui.editor.Marker;var n=t.cloneRange();n.setStart(e.start.node,e.start.offset);n.setEnd(e.end.node,e.end.offset);t=this.lockRange();i.add(n);this.formatter.apply(n,{href:this._ensureWebProtocol(e.text)});i.remove(n);this.releaseRange(t)},detectLink:function(){var e=this.getRange();var t=e.startContainer;var i=e.startOffset;var n=t.previousSibling;if(!n&&(u.isBom(t)&&!t.nextSibling||!i&&u.isDataNode(t))){t=t.parentNode;i=0}var r=new H({node:t,offset:i,cancelAtNode:function(e){return e&&u.name(e)==="a"}});var a=new I(r);return a.detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){var t=this._hasProtocolPrefix(e);return t?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return b.test(e)},_prefixWithWebProtocol:function(e){return _+e}}),T=a.extend({init:function(e){this.options=e;this.finder=new p([{tags:["a"]}]);a.fn.init.call(this,s.extend(e,{command:x}))},initialize:function(e,t){a.fn.initialize.call(this,e,t);e.addClass("k-disabled")},update:function(e,t){e.toggleClass("k-disabled",!this.finder.isFormatted(t)).removeClass("k-hover")}}),I=e.extend({init:function(e){this.traverser=e;this.start=A();this.end=A();this.text=""},detectLink:function(){var e=this.traverser.node;var t=this.traverser.offset;if(u.isDataNode(e)){var i=e.data.substring(0,t);if(/\s{2}$/.test(u.stripBom(i)))return}else if(t===0){var n=u.closestEditableOfType(e,u.blockElements);if(n&&n.previousSibling)this.traverser.init({node:n.previousSibling})}this.traverser.traverse(this._detectEnd.bind(this));if(!this.end.blank()){this.traverser=this.traverser.clone(this.end);this.traverser.traverse(this._detectStart.bind(this));if(!this._isLinkDetected()){var r=this.traverser.extendOptions(this.start);var a=new P(r);a.traverse(this._skipStartPuntuation.bind(this));if(!this._isLinkDetected())this.start=A()}}if(this.start.blank())return null;else return{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return b.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var i=D(e,k);if(i>-1){this.end.node=t;this.end.offset=i+1;return false}},_detectStart:function(e,t){var i=D(e,/\s/);var n=i+1;this.text=e.substring(n)+this.text;this.start.node=t;this.start.offset=n;if(i>-1)return false},_skipStartPuntuation:function(e,t,i){var n=E(e,/\w/);var r=n;if(n===-1)r=e.length;this.text=this.text.substring(r);this.start.node=t;this.start.offset=r+(i|0);if(n>-1)return false}});function D(e,t){var i=e.length;while(i--&&!t.test(e[i]));return i}function E(e,t){var i=t.exec(e);return i?i.index:-1}var A=function(){return{node:null,offset:null,blank:function(){return this.node===null&&this.offset===null}}},F=e.extend({init:function(e){this.node=e.node;this.offset=e.offset===l?u.isDataNode(this.node)&&this.node.length||0:e.offset;this.cancelAtNode=e.cancelAtNode||this.cancelAtNode||s.noop},traverse:function(e){if(!e)return;this.cancel=false;this._traverse(e,this.node,this.offset)},_traverse:function(e,t,i){if(!t||this.cancel)return;if(t.nodeType===3){var n=t.data;if(i!==l)n=this.subText(n,i);this.cancel=e(n,t,i)===false}else{var r=this.edgeNode(t);this.cancel=this.cancel||this.cancelAtNode(r);return this._traverse(e,r)}var a=this.next(t);if(!a){var o=t.parentNode;while(!a&&u.isInline(o)){a=this.next(o);o=o.parentNode}}this.cancel=this.cancel||this.cancelAtNode(a);this._traverse(e,a)},extendOptions:function(e){return s.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},e||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),H=F.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new H(t)}}),P=F.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new P(t)}});t(d.ui.editor,{LinkFormatFinder:w,LinkFormatter:y,UnlinkCommand:x,LinkCommand:C,AutoLinkCommand:S,UnlinkTool:T,DomTextLinkDetection:I,LeftDomTextTraverser:H,RightDomTextTraverser:P}),g("createLink",new a({key:"K",ctrl:true,command:C,template:new o({template:n.buttonTemplate,title:"Create Link"})})),g("unlink",new T({key:"K",ctrl:true,shift:true,template:new o({template:n.buttonTemplate,title:"Remove Link"})})),g("autoLink",new a({key:[v.ENTER,v.SPACEBAR],keyPressCommand:true,command:S}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatblock.min",["./format.min"],function(){var c=window.kendo.jQuery,e=window.kendo,t=e.Class,f=c.extend,h=e.ui.editor,i=e.ui.Editor.fn.options.formats,m=h.Dom,n=h.ToolTemplate,r=h.FormatTool,p=h.EditorUtils,a=p.registerTool,o=p.registerFormat,s=h.RangeUtils,l=t.extend({init:function(e){this.format=e},contains:function(e,t){var i,n,r;for(i=0,n=t.length;i<n;i++){r=t[i];if(!r||!m.isAncestorOrSelf(e,r))return false}return true},findSuitable:function(e){var t=this.format,i=[],n,r,a;for(n=0,r=e.length;n<r;n++){for(var o=t.length-1;o>=0;o--){a=m.ofType(e[n],t[o].tags)?e[n]:m.closestEditableOfType(e[n],t[o].tags);if(a)break}if(!a||a.contentEditable==="true")return[];if(c.inArray(a,i)<0)i.push(a)}this._resolveListsItems(i);for(n=0,r=i.length;n<r;n++)if(this.contains(i[n],i))return[i[n]];return i},_resolveListsItems:function(e){var t,i,n;for(t=0;t<e.length;t++){i=e[t];n=m.is(i,"li")?i:m.wrapper(i);n=n&&m.list(n)?n.children[0]:n;if(m.is(n,"li"))i=e[t]=n}},findFormat:function(e,t){var i=this.format,n,r,a,o,s;var l=m.editableParent(e);var d=this.options&&this.options.immutables;var u=h.Immutables;for(n=0,r=i.length;n<r;n++){a=e;o=i[n].tags;s=i[n].attr;if(d&&o&&o[0]=="immutable"){var c=u.immutableParent(a);if(c&&m.attrEquals(c,s))return a}while(a&&m.isAncestorOf(l,a)){if(m.ofType(a,o)&&m.attrEquals(a,s))return a;if(t&&t(a))break;a=a.parentNode}}return null},getFormat:function(e){var t=this,i=function(e){return t.findFormat(m.isDataNode(e)?e.parentNode:e)},n=i(e[0]),r,a;if(!n)return"";for(r=1,a=e.length;r<a;r++)if(n!=i(e[r]))return"";return n.nodeName.toLowerCase()},isFormatted:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!this.findFormat(e[i],t))return false;return true}}),g=t.extend({init:function(e,t){this.format=e;this.values=t;this.finder=new l(e)},wrap:function(e,t,i){var n=i.length==1?m.blockParentOrBody(i[0]):m.commonAncestor.apply(null,i);if(m.isInline(n))n=m.blockParentOrBody(n);var r=m.significantChildNodes(n),a=m.findNodeIndex(r[0]),o=m.create(n.ownerDocument,e,t),s,l;for(s=0;s<r.length;s++){l=r[s];if(m.isBlock(l)){m.attr(l,t);if(o.childNodes.length){m.insertBefore(o,l);o=o.cloneNode(false)}a=m.findNodeIndex(l)+1;continue}o.appendChild(l)}if(o.firstChild)m.insertAt(n,o,a)},apply:function(e){var t,i=this.values;function n(e){return f({},e&&e.attr,i)}this._handleImmutables(e,true);var r=m.filter("img",e);var a=p.formatByName("img",this.format);var o=n(a);c.each(r,function(){m.attr(this,o)});if(r.length==e.length)return;var s=m.filter("img",e,true);var l=this.finder.findSuitable(s);if(l.length)for(var d=0,u=l.length;d<u;d++){t=p.formatByName(m.name(l[d]),this.format);m.attr(l[d],n(t))}else{t=this.format[0];this.wrap(t.tags[0],n(t),s)}},_handleImmutables:function(e,t){if(!this.immutables())return;var i=p.formatByName("immutable",this.format);if(!i)return;var n=h.Immutables;var r=e.length-1;for(var a=r;a>=0;a--){var o=n.immutableParent(e[a]);if(!o)continue;if(o!==e[a+1])if(t)m.attr(o,i.attr);else m.unstyle(o,i.attr.style);e.splice(a,1)}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,i,n,r,a;this._handleImmutables(e,false);for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n){a=m.name(n);r=p.formatByName(a,this.format);if(r.attr.style)m.unstyle(n,r.attr.style);if(r.attr.className)m.removeClass(n,r.attr.className)}}},toggle:function(e){var t=this,i=m.filterBy(s.nodes(e),m.htmlIndentSpace,true);if(t.finder.isFormatted(i))t.remove(i);else t.apply(i)}}),d=t.extend({init:function(e,t){var i=this;i.format=e;i.values=t;i.finder=new l(e)},apply:function(e){var t=this.format;var i=m.blockParents(e);var n=t[0].tags[0];var r,a,o,s,l;var d;var u;var c;var f;if(i.length)for(r=0,a=i.length;r<a;r++){c=i[r];f=this.immutables()&&h.Immutables.immutableParent(c);if(!f){u=m.name(c);if(u=="li"){o=c.parentNode;s=new h.ListFormatter(o.nodeName.toLowerCase(),n);l=this.editor.createRange();l.selectNode(i[r]);s.toggle(l)}else if(n&&(u=="td"||c.attributes.contentEditable))new g(t,this.values).apply(c.childNodes);else{d=m.changeTag(c,n);m.attr(d,t[0].attr)}}}else{var p=new g(t,this.values);p.editor=this.editor;p.apply(e)}},toggle:function(e){var t=s.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=s.textNodes(e);if(!t.length)t=m.significantChildNodes(e.commonAncestorContainer)}this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),u=r.extend({init:function(e){r.fn.init.call(this,f(e,{finder:new l(e.format),formatter:function(){return new g(e.format)}}))}}),v=(f(h,{BlockFormatFinder:l,BlockFormatter:g,GreedyBlockFormatter:d,BlockFormatTool:u}),["ul","ol","li"]);o("justifyLeft",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"left",listStylePosition:""}}}]),a("justifyLeft",new u({format:i.justifyLeft,template:new n({template:p.buttonTemplate,title:"Justify Left"})})),o("justifyCenter",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),a("justifyCenter",new u({format:i.justifyCenter,template:new n({template:p.buttonTemplate,title:"Justify Center"})})),o("justifyRight",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),a("justifyRight",new u({format:i.justifyRight,template:new n({template:p.buttonTemplate,title:"Justify Right"})})),o("justifyFull",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),a("justifyFull",new u({format:i.justifyFull,template:new n({template:p.buttonTemplate,title:"Justify Full"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/lists.min",["./formatblock.min"],function(){var f=window.kendo.jQuery,e=window.kendo,t=e.Class,i=f.extend,u=e.ui.editor,p=u.Dom,l=u.RangeUtils,n=u.EditorUtils,r=u.Command,a=u.ToolTemplate,o=u.FormatTool,s=u.BlockFormatFinder,d=l.textNodes,c=u.EditorUtils.registerTool,h=s.extend({init:function(e){this.tag=e.tag;this.attr=e.attr;this.altAttr=e.altAttr;var t=this.tags=[this.tag=="ul"?"ol":"ul",this.tag];var i=[{tags:t,attr:this.attr}];if(this.altAttr)i.push({tags:t,attr:this.altAttr});s.fn.init.call(this,i)},matchesType:function(e){return p.attrEquals(e,this.attr)||this.altAttr&&p.attrEquals(e,this.altAttr)},isList:function(e){return p.list(e)},isFormatted:function(e){var t=[];var i,n;for(n=0;n<e.length;n++){i=this.findFormat(e[n],this.isList);if(i&&p.name(i)==this.tag&&this.matchesType(i))t.push(i)}if(t.length<1)return false;if(t.length!=e.length)return false;for(n=0;n<t.length;n++){if(t[n].parentNode!=i.parentNode)break;if(t[n]!=i)return false}return true},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);if(t&&p.name(t)==this.tag)return t;return null}}),m=t.extend({init:function(e,t){var i=this;e=f.isPlainObject(e)?e:{tag:e,attr:null};i.tag=e.tag;i.attr=e.attr;i.finder=new h(e);i.unwrapTag=t},isList:function(e){return p.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(e,t){var i=p.create(e.ownerDocument,"li"),n,r,a=this.immutables()?u.Immutables.immutable:f.noop;for(n=0;n<t.length;n++){r=t[n];if(p.is(r,"li")){e.appendChild(r);continue}if(this.isList(r)){while(r.firstChild)e.appendChild(r.firstChild);continue}if(p.is(r,"td")){while(r.firstChild)i.appendChild(r.firstChild);e.appendChild(i);r.appendChild(e);e=e.cloneNode(false);i=i.cloneNode(false);continue}i.appendChild(r);if(p.isBlock(r)){e.appendChild(i);if(!a(r))p.unwrap(r);i=i.cloneNode(false)}}if(i.firstChild)e.appendChild(i)},containsAny:function(e,t){for(var i=0;i<t.length;i++)if(p.isAncestorOrSelf(e,t[i]))return true;return false},suitable:function(e,t){if(e.className=="k-marker"){var i=e.nextSibling;if(i&&p.isBlock(i))return false;i=e.previousSibling;if(i&&p.isBlock(i))return false}return this.containsAny(e,t)||p.isInline(e)||e.nodeType==3},_parentLists:function(e){var t=p.closestEditable(e);return f(e).parentsUntil(t,"ul,ol")},split:function(e){var t=d(e);var i,n,r;if(t.length){i=p.parentOfType(t[0],["li"]);n=p.parentOfType(t[t.length-1],["li"]);e.setStartBefore(i);e.setEndAfter(n);for(var a=0,o=t.length;a<o;a++){var s=this.finder.findFormat(t[a]);if(s){r=this._parentLists(s);if(r.length)l.split(e,r.last()[0],true);else l.split(e,s,true)}}}},merge:function(e,t){var i=t.previousSibling,n;while(i&&(i.className=="k-marker"||i.nodeType==3&&p.isWhitespace(i)))i=i.previousSibling;if(i&&p.name(i)==e&&this.finder.matchesType(i)){while(t.firstChild)i.appendChild(t.firstChild);p.remove(t);t=i}n=t.nextSibling;while(n&&(n.className=="k-marker"||n.nodeType==3&&p.isWhitespace(n)))n=n.nextSibling;if(n&&p.name(n)==e&&this.finder.matchesType(n)){while(t.lastChild)n.insertBefore(t.lastChild,n.firstChild);p.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(p.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t=this,i=t.finder,n=t.tag,r;r=i.findSuitable(e);if(!r){i=new h({tag:n=="ul"?"ol":"ul"});r=i.findSuitable(e)}if(!r){i=new h({tag:n});r=i.findSuitable(e);r=r&&t.finder.matchesType(r)?null:r}return r},applyOnSection:function(e,t){var i=this.tag;var n=this.attr;var r=p.closestSplittableParent(t);var a=[];var o=this.findSuitableNode(t);var s;if(/table|tbody|thead/.test(p.name(r)))s=f.map(t,function(e){return p.parentOfType(e,["td"])});else{s=p.significantChildNodes(r);if(f.grep(s,p.isBlock).length)s=f.grep(s,function(e){return this.containsAny(e,t)}.bind(this));if(!s.length)s=t}function l(){a.push(this)}for(var d=0;d<s.length;d++){var u=s[d];var c=(!o||!p.isAncestorOrSelf(o,u))&&this.suitable(u,t);if(!c)continue;if(o&&this.isList(u)){f.each(u.children,l);p.remove(u)}else a.push(u)}if(a.length==s.length&&this.breakable(r))a=[r];if(!o){o=p.create(r.ownerDocument,i,n);if(p.isBlock(a[0]))p.mergeAttributes(a[0],o);p.insertBefore(o,a[0])}this.wrap(o,a);while(p.isBom(o.nextSibling))p.remove(o.nextSibling);if(!this.finder.matchesType(o)){o.removeAttribute("type");o.style.listStyleType="";p.mergeAttributes(p.create(r.ownerDocument,i,n),o,true)}if(o&&o.getAttribute("type")==="")o.removeAttribute("type");if(!p.is(o,i))p.changeTag(o,i);this.merge(i,o)},apply:function(e){var t=0,i=[],n,r,a,o,s=e.length,l=this.immutables()?u.Immutables.immutableParent:f.noop;function d(){if(n)i.push({section:n,nodes:r})}for(t=0;t<s;t++){o=l(e[t])||e[t];a=p.closestEditable(o,["td","th","body"]);if(!n||a!=n){d();r=[o];n=a}else r.push(o)}d();for(t=0;t<i.length;t++)this.applyOnSection(i[t].section,i[t].nodes)},unwrap:function(e){var t=e.ownerDocument.createDocumentFragment(),i=this.unwrapTag,n,r,a,o;for(r=e.firstChild;r;r=r.nextSibling){a=p.create(e.ownerDocument,i||"p");while(r.firstChild){o=r.firstChild;if(p.isBlock(o)){if(a.firstChild){t.appendChild(a);a=p.create(e.ownerDocument,i||"p")}t.appendChild(o)}else a.appendChild(o)}if(a.firstChild)t.appendChild(a)}n=this._parentLists(e);if(n[0]){p.insertAfter(t,n.last()[0]);n.last().remove()}else p.insertAfter(t,e);p.remove(e)},remove:function(e){var t;for(var i=0,n=e.length;i<n;i++){t=this.finder.findFormat(e[i]);if(t)this.unwrap(t)}},toggle:function(e){var t=this,i=d(e),n=e.commonAncestorContainer;if(!i.length){e.selectNodeContents(n);i=d(e);if(!i.length){var r=n.ownerDocument.createTextNode("");e.startContainer.appendChild(r);i=[r];e.selectNode(r.parentNode)}}i=p.filterBy(i,p.htmlIndentSpace,true);if(t.finder.isFormatted(i)){t.split(e);t.remove(i)}else t.apply(i)}}),g=r.extend({init:function(e){e.formatter=new m({tag:e.tag,attr:e.attr});r.fn.init.call(this,e)}}),v=o.extend({init:function(e){this.options=e;o.fn.init.call(this,i(e,{finder:new h(e)}))},command:function(e){return new g(i(e,{tag:this.options.tag,attr:this.options.attr}))}});i(u,{ListFormatFinder:h,ListFormatter:m,ListCommand:g,ListTool:v}),c("insertUnorderedList",new v({tag:"ul",attr:{style:{listStyleType:""},type:""},template:new a({template:n.buttonTemplate,title:"Insert unordered list"})})),c("insertOrderedList",new v({tag:"ol",attr:{style:{listStyleType:""},type:""},template:new a({template:n.buttonTemplate,title:"Insert ordered list"})})),c("insertUpperRomanList",new v({tag:"ol",attr:{style:{listStyleType:"upper-roman"}},altAttr:{type:"I"},template:new a({template:n.buttonTemplate,title:"Insert upper roman list"})})),c("insertLowerRomanList",new v({tag:"ol",attr:{style:{listStyleType:"lower-roman"}},altAttr:{type:"i"},template:new a({template:n.buttonTemplate,title:"Insert lower roman list"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatting.min",["./inlineformat.min"],function(){var d=window.kendo.jQuery,s=window.kendo,o=s.ui.editor,l=o.Tool,e=o.ToolTemplate,u=o.DelayedExecutionTool,t=o.Command,c=o.Dom,i=o.EditorUtils,r=o.RangeUtils,n=i.registerTool,a=u.extend({init:function(e){var t=this;l.fn.init.call(t,s.deepExtend({},t.options,e));t.type="kendoSelectBox";t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var i=t.indexOf(".");if(i===0)e.className=t.substring(1);else if(i==-1)e.tag=t;else{e.tag=t.substring(0,i);e.className=t.substring(i+1)}return e},command:function(e){var n=this;var r=e.value;r=this.toFormattingItem(r);return new o.FormatCommand({range:e.range,formatter:function(){var e,t=(r.tag||r.context||"span").split(","),i=[{tags:t,attr:{className:r.className||""}}];if(d.inArray(t[0],c.inlineElements)>=0)e=new o.GreedyInlineFormatter(i);else e=new o.GreedyBlockFormatter(i);e.editor=n.editor;return e}})},initialize:function(e,t){var i=t.editor;var n=this.options;var r=n.name;var a=this;var o;a.editor=i;e.width(n.width);o=e.kendoSelectBox({autoWidth:true,dataTextField:"text",dataValueField:"value",dataSource:n.items||i.options[r],title:i.options.messages[r],autoSize:true,change:function(){var e=this.dataItem();if(e)l.exec(i,r,e.toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=a.toFormattingItem(t[e])},highlightFirst:false,template:s.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}).data("kendoSelectBox");e.attr("title",t.title);o.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist, .k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];var r=n.tag||n.context||"";var a=n.className?"."+n.className:"";var o=r+a;var s=d(t[0]).closest(o)[0];if(!s)continue;if(t.length==1)return n.value;for(var l=1;l<t.length;l++)if(!d(t[l]).closest(o)[0])break;else if(l==t.length-1)return n.value}return""},update:function(e,t){var i=d(e).data(this.type);if(!i)return;var n=i.dataSource,r=n.data(),a,o,s=c.commonAncestor.apply(null,t);if(s!=c.closestEditable(s)&&this._ancestor==s)return;else this._ancestor=s;for(a=0;a<r.length;a++){o=r[a].context;r[a].visible=!o||!!d(s).closest(o).length}n.filter([{field:"visible",operator:"eq",value:true}]);u.fn.update.call(this,e,t);i.value(this.getFormattingValue(n.view(),t));i.wrapper.toggleClass("k-disabled",!n.view().length)},destroy:function(){this._ancestor=null}}),f=t.extend({exec:function(){var e=this.lockRange(true);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");r.wrapSelectedElements(e);var t=r.mapAll(e,function(e){return e});for(var i=t.length-1;i>=0;i--){var n=t[i];if(!this.immutableParent(n))this.clean(n)}this.releaseRange(e)},clean:function(e){if(!e||c.isMarker(e))return;var t=c.name(e);if(t=="ul"||t=="ol"){var i=new o.ListFormatter(t);var n=e.previousSibling;var r=e.nextSibling;i.unwrap(e);for(;n&&n!=r;n=n.nextSibling)this.clean(n)}else if(t=="blockquote")c.changeTag(e,"p");else if(e.nodeType==1&&!c.insignificant(e)){for(var a=e.childNodes.length-1;a>=0;a--)this.clean(e.childNodes[a]);e.removeAttribute("style");e.removeAttribute("class")}else p(e);if(d.inArray(t,this.tagsToClean)>-1)c.unwrap(e)},immutableParent:function(e){return this.immutables()&&o.Immutables.immutableParent(e)}});function p(e){var t=c.closestEditableOfType(e,["li"]);if(t){var i=new o.ListFormatter(c.name(t.parentNode));var n=s.ui.editor.W3CRange.fromNode(e);n.selectNode(t);i.toggle(n)}}d.extend(o,{FormattingTool:a,CleanFormatCommand:f}),n("formatting",new a({template:new e({template:i.dropDownListTemplate,title:"Format"})})),n("cleanFormatting",new l({command:f,template:new e({template:i.buttonTemplate,title:"Clean formatting"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/image.min",["kendo.imagebrowser.min","../command.min"],function(){var e=window.kendo.jQuery,_=void 0,b=window.kendo,k=e.extend,t=b.ui.editor,i=t.EditorUtils,w=t.Dom,n=i.registerTool,r=t.ToolTemplate,y=t.RangeUtils,a=t.Command,x=b.keys,C="#k-editor-image-url",S="#k-editor-image-title",T="#k-editor-image-width",I="#k-editor-image-height",o=a.extend({init:function(e){var t=this;a.fn.init.call(t,e);t.async=true;t.attributes={}},insertImage:function(e,t){var i=this.attributes;var n=y.documentFromRange(t);if(i.src&&i.src!="http://"){var r=function(){setTimeout(function(){if(!i.width)e.removeAttribute("width");if(!i.height)e.removeAttribute("height");e.removeAttribute("complete")})};if(!e){e=w.create(n,"img",i);e.onload=e.onerror=r;t.deleteContents();t.insertNode(e);if(!e.nextSibling)w.insertAfter(n.createTextNode("\ufeff"),e);r();t.setStartAfter(e);t.setEndAfter(e);y.selectRange(t);return true}else{e.onload=e.onerror=r;w.attr(e,i);r()}}return false},_dialogTemplate:function(e){return b.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser k-imagebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-image-url">#: messages.imageWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-title">#: messages.imageAltText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-title"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-width">#: messages.imageWidth #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-width"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-height">#: messages.imageHeight #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-height"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();if(!e.insertImage(y.image(t),t))e.releaseRange(t)},exec:function(){var r=this,a=r.lockRange(),o=false,s=y.image(a),e=s&&s.getAttribute("width")||"",t=s&&s.getAttribute("height")||"",l,i=b.support.browser.msie,n=r.editor.options,d=n.messages,u=n.imageBrowser,c=!!(b.ui.ImageBrowser&&u&&u.transport&&u.transport.read!==_),f={title:d.insertImage,visible:false,resizable:c};this.expandImmutablesIn(a);function p(e){var t=l.element,i=parseInt(t.find(T).val(),10),n=parseInt(t.find(I).val(),10);r.attributes={src:t.find(C).val().replace(/ /g,"%20"),alt:t.find(S).val()};r.attributes.width=null;r.attributes.height=null;if(!isNaN(i)&&i>0)r.attributes.width=i;if(!isNaN(n)&&n>0)r.attributes.height=n;o=r.insertImage(s,a);h(e);if(r.change)r.change()}function h(e){e.preventDefault();l.destroy();w.windowFromDocument(y.documentFromRange(a)).focus();if(!o)r.releaseRange(a)}function m(e){if(e.keyCode==x.ENTER)p(e);else if(e.keyCode==x.ESC)h(e)}f.close=h;if(c)f.width=750;l=this.createDialog(r._dialogTemplate(c),f).toggleClass("k-filebrowser-dialog",c).find(".k-dialog-insert").on("click",p).end().find(".k-dialog-close").on("click",h).end().find(".k-edit-field input").on("keydown",m).end().find(C).val(s?s.getAttribute("src",2):"http://").end().find(S).val(s?s.alt:"").end().find(T).val(e).end().find(I).val(t).end().data("kendoWindow");var g=l.element;if(c){this._imageBrowser=new b.ui.ImageBrowser(g.find(".k-imagebrowser"),k({},u));this._imageBrowser.bind("change",function(e){if(e.selected.get("type")==="f")g.find(C).val(this.value())});this._imageBrowser.bind("apply",p)}if(i){var v=g.closest(".k-window").height();g.css("max-height",v)}l.center().open();g.find(C).trigger("focus").select()}});n("insertImage",new t.Tool({command:b.ui.editor.ImageCommand=o,template:new r({template:i.buttonTemplate,title:"Insert Image"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/import.min",["../main.min"],function(){var r=window.kendo.jQuery,e=void 0,t=window.kendo,i=r.extend,n=t.ui.editor,a=n.EditorUtils,o=n.Command,s=n.Tool,l=a.registerTool,d=n.ToolTemplate,u='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',c=o.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var e=this;var t=e.editor;var i=t.options["import"];var n=r('<input id="editorImport" name="files" type="file" />').kendoUpload({success:e._onUploadSuccess.bind(e),progress:e._onUploadProgress.bind(e),select:e._onUploadSelect.bind(e),error:e._onUploadError.bind(e),complete:e._onUploadComplete.bind(e),showFileList:false,multiple:false,async:{saveUrl:i.proxyURL,autoUpload:true,saveField:"file"},validation:{allowedExtensions:i.allowedExtensions,maxFileSize:i.maxFileSize}}).getKendoUpload();t._uploadWidget=n;return n},_onUploadComplete:function(e){this._trigger("complete",e);e.sender.clearAllFiles();this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,""));this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e);if(!e.files[0].validationErrors)this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var i=this.editor;var n=i.options["import"];if(typeof n[e]==="function")n[e].call(i,t)},_initLoadingOverlay:function(){var e=this.editor.body;if(n.Dom.is(e,"body"))this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(u);else this._container=r(e).append(u);t.ui.progress(this._container,true)},_removeLoadingOverlay:function(){t.ui.progress(this._container,false);r(this._iframeWrapper).css({position:""});delete this._container;delete this._iframeWrapper}});i(n,{ImportCommand:c}),l("import",new s({command:c,template:new d({template:a.iconTextButtonTemplate,title:"Import"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/insert.min",["../command.min"],function(){var e=window.kendo.jQuery,t,a=window.kendo.ui.editor,i=a.Command,s=a.GenericCommand,n=a.EditorUtils,r=n.registerTool,o=a.Tool,l=a.ToolTemplate,d=a.RestorePoint,u=e.extend,c=i.extend({init:function(e){i.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;var t=this.options;var i=t.range;var n=e.body;var r=new d(i,n);var a=t.html||t.value||"";e.selectRange(i);e.clipboard.paste(a,t);if(t.postProcess)t.postProcess(e,e.getRange());var o=new s(r,new d(e.getRange(),n));o.editor=e;e.undoRedoStack.push(o);e.focus()}}),f=o.extend({initialize:function(e,t){var i=t.editor,n=this.options,r=n.items?n.items:i.options.insertHtml;this._selectBox=new a.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){o.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:false});e.attr("title",t.title);this._selectBox.wrapper.attr("title",t.title)},command:function(e){return new c(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close();t.value(t.options.title)}});u(a,{InsertHtmlCommand:c,InsertHtmlTool:f}),r("insertHtml",new f({template:new l({template:n.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/export.min",["../main.min"],function(){var n=window.kendo.jQuery,e=void 0,u=window.kendo,t=n.extend,i=u.ui.editor,r=i.EditorUtils,a=i.Command,o=i.Tool,s=r.registerTool,l=i.ToolTemplate,d=[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}],c=a.extend({init:function(e){var t=this;t.options=e;a.fn.init.call(t,e);t.attributes=null;t.exportType=e.exportType},exec:function(){var e=this;var t=this.lockRange(true);e.postToProxy();e.releaseRange(t)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var e=this;var t=e.editor.options.exportAs;var i=n("<form>").attr({action:t&&t.proxyURL||"",method:"POST"});i.append([e.valueInput(),e.exportTypeInput(),e.fileNameInput()]);return i},valueInput:function(){var e=this.editor;return n("<input>").attr({value:e.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){var e=this;return n("<input>").attr({value:e.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var e=this.editor;var t=e.options.exportAs;var i=t&&t.fileName||e.element.attr("id")||"editor";return n("<input>").attr({value:i,name:"fileName",type:"hidden"})}}),f=o.extend({init:function(e){var t=this;o.fn.init.call(t,u.deepExtend({},t.options,e));t.type="kendoSelectBox"},options:{items:d,width:140},command:function(e){var t=e.value;return new i.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var i=this;var n=t.editor;var r=i.options;var a=r.name;var o=i.changeHandler.bind(i);var s=r.items||n.options[a];var l=n.options.messages[a];var d;s.unshift({text:l,value:""});i.editor=n;e.width(r.width);d=e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:s,autoSize:true,change:o,open:function(e){var t=e.sender;t.items()[0].style.display="none";t.unbind("open")},highlightFirst:false,template:u.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>'),valueTemplate:'<span class="k-editor-export"><span class="k-icon k-i-export"></span><span class="k-export-tool-text">'+l+"</span></span>"}).data("kendoSelectBox");e.attr("title",t.title);d.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist").removeClass("k-"+a).find("*").addBack().attr("unselectable","on")},changeHandler:function(e){var t=e.sender;var i=t.dataItem();var n=i&&i.value;this._exec(n);t.value("")},_exec:function(e){if(e)o.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});t(i,{ExportAsTool:f,ExportAsCommand:c}),s("exportAs",new f({template:new l({template:r.dropDownListTemplate,title:"Export As"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/indent.min",["./formatblock.min"],function(){var p=window.kendo.jQuery,a=void 0,e=window.kendo,t=e.Class,i=p.extend,d=e.ui.editor,h=d.Dom,n=d.EditorUtils,r=n.registerTool,o=d.Command,s=d.Tool,l=d.ToolTemplate,u=d.RangeUtils,c=h.blockElements,f=d.BlockFormatFinder,m=d.BlockFormatter;function g(e,t){var i=p(e).css("direction")=="rtl",n=i?"Right":"Left",r=h.name(e)!="td"?"margin"+n:"padding"+n;if(t===a)return e.style[r]||0;else if(t>0)e.style[r]=t+"px";else{e.style[r]="";if(!e.style.cssText)e.removeAttribute("style")}}var v=t.extend({init:function(){this.finder=new f([{tags:h.blockElements}])},apply:function(e){e=h.filterBy(e,h.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i=[],n,r,a,o,s;t=this.mapImmutables(t);if(t.length){for(n=0,r=t.length;n<r;n++)if(h.is(t[n],"li")){if(!p(t[n]).index())i.push(t[n].parentNode);else if(p.inArray(t[n].parentNode,i)<0)i.push(t[n])}else i.push(t[n]);while(i.length){a=i.shift();if(h.is(a,"li")){o=a.parentNode;s=p(a).prev("li");var l=s.find("ul,ol").last();var d=p(a).children("ul,ol")[0];if(d&&s[0])if(l[0]){l.append(a);l.append(p(d).children());h.remove(d)}else{s.append(d);d.insertBefore(a,d.firstChild)}else{d=s.children("ul,ol")[0];if(!d){d=h.create(a.ownerDocument,h.name(o),this.getListTypeAttr(o));s.append(d)}while(a&&a.parentNode==o){d.appendChild(a);a=i.shift()}}}else{var u=parseInt(g(a),10)+30;g(a,u);for(var c=0;c<i.length;c++)if(p.contains(a,i[c]))i.splice(c,1)}}}else{var f=new m([{tags:["p"]}],{style:{marginLeft:30}});f.apply(e)}},getListTypeAttr:function(e){var t=e.getAttribute("type");var i=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:i}}},mapImmutables:function(e){if(!this.immutables)return e;else{var i=[];return p.map(e,function(e){var t=d.Immutables.immutableParent(e);if(t)if(p.inArray(t,i)===-1)i.push(t);else return null;return t||e})}},remove:function(e){e=h.filterBy(e,h.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i,n,r,a,o,s,l,d;t=this.mapImmutables(t);for(n=0,r=t.length;n<r;n++){l=p(t[n]);if(l.is("li")){a=l.parent();o=a.parent();if(o.is("li,ul,ol")&&!g(a[0])){if(i&&p.contains(i,o[0]))continue;s=l.nextAll("li");if(s.length)p(a[0].cloneNode(false)).appendTo(l).append(s);if(o.is("li"))l.insertAfter(o);else l.appendTo(o);if(!a.children("li").length)a.remove();continue}else{if(i==a[0])continue;i=a[0]}}else i=t[n];d=parseInt(g(i),10)-30;g(i,d)}}}),_=o.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new v;t.immutables=this.editor&&this.editor.options.immutables;t.apply(u.nodes(e))}.bind(t)};o.fn.init.call(this,e)}}),b=o.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new v;t.immutables=this.editor&&this.editor.options.immutables;t.remove(u.nodes(e))}.bind(t)};o.fn.init.call(this,e)}}),k=s.extend({init:function(e){s.fn.init.call(this,e);this.finder=new f([{tags:c}])},initialize:function(e,t){s.fn.initialize.call(this,e,t);p.extend(this.options,{immutables:t.editor&&t.editor.options.immutables});e.addClass("k-disabled")},update:function(e,t){var i=this.finder.findSuitable(t),n,r,a,o,s,l;for(a=0,o=i.length;a<o;a++){s=i[a];if(this.options.immutables){l=d.Immutables.immutableParent(s);if(l)s=l}n=g(s);if(!n){r=p(s).parents("ul,ol").length;n=h.is(s,"li")&&(r>1||g(s.parentNode))||h.ofType(s,["ul","ol"])&&r>0}if(n){e.removeClass("k-disabled");return}}e.addClass("k-disabled").removeClass("k-hover")}});i(d,{IndentFormatter:v,IndentCommand:_,OutdentCommand:b,OutdentTool:k}),r("indent",new s({command:_,template:new l({template:n.buttonTemplate,title:"Indent"})})),r("outdent",new k({command:b,template:new l({template:n.buttonTemplate,title:"Outdent"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/linebreak.min",["./formatblock.min"],function(){var v=window.kendo.jQuery,l=window.kendo,e=v.extend,_=l.ui.editor,b=_.Dom,t=_.Command,i=_.Tool,k=_.BlockFormatter,w=b.normalize,y=_.RangeUtils,n=_.EditorUtils.registerTool,r=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},_insertMarker:function(e,t){var i=b.create(e,"a"),n;i.className="k-marker";t.insertNode(i);if(!i.parentNode){n=t.commonAncestorContainer;n.innerHTML="";n.appendChild(i)}w(i.parentNode);return i},_moveFocus:function(e,t){if(b.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var i=y.textNodes(e)[0];if(!i){while(t.childNodes.length&&!b.is(t.firstChild,"br"))t=t.firstChild;i=t}if(b.isEmpty(i))e.setStartBefore(i);else{if(b.emptyNode(i))i.innerHTML="\ufeff";var n=i.firstChild||i;if(b.isDataNode(n))e.setStart(n,0);else e.setStartBefore(n)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),i=b.parentOfType(e.startContainer,t),n=b.parentOfType(e.endContainer,t);return i&&!n||!i&&n},_blankAfter:function(e){while(e&&(b.isMarker(e)||b.stripBom(e.nodeValue)===""))e=e.nextSibling;return!e},exec:function(){var e=this.getRange(),t=y.documentFromRange(e),i,n,r,a=_.emptyElementContent,o,s,l,d,u,c,f;this.expandImmutablesIn(e);f=this.shouldTrim(e);e.deleteContents();s=this._insertMarker(t,e);b.stripBomNode(s.previousSibling);b.stripBomNode(s.nextSibling);l=b.closestEditableOfType(s,["li"]);d=b.closestEditableOfType(s,"h1,h2,h3,h4,h5,h6".split(","));u=b.is(s.parentNode,"table")&&s.parentNode;if(l){if(b.emptyNode(l)){o=b.create(t,"p");if(b.next(l)){c=e.cloneRange();c.selectNode(l);y.split(c,l.parentNode)}var p=v("br",l);if(p.length==1)p.remove();var h=l.parentNode;var m=l.parentNode.children.length;var g=m>1&&l.childNodes.length==1&&l.children[0];b.insertAfter(o,h);b.remove(m==1?l.parentNode:l);if(g&&g!==s){o.appendChild(g);o.appendChild(s)}else o.innerHTML=a;r=o}}else if(d&&this._blankAfter(s)){o=this._insertParagraphAfter(d);b.remove(s);r=o}else if(u){o=this._insertParagraphAfter(u);b.remove(s);r=o}if(!r){if(!(l||d))new k([{tags:["p"]}]).apply([s]);e.selectNode(s);i=b.parentOfType(s,[l?"li":d?b.name(d):"p"]);y.split(e,i,f);n=i.previousSibling;if(b.is(n,"li")&&n.firstChild&&!b.is(n.firstChild,"br"))n=n.firstChild;r=i.nextSibling;this.clean(n,{links:true});this.clean(r,{links:true});if(b.is(r,"li")&&r.firstChild&&!b.is(r.firstChild,"br"))r=r.firstChild;b.remove(i);w(n)}w(r);this._moveFocus(e,r);e.collapse(true);b.scrollTo(r,true);y.selectRange(e)},_insertParagraphAfter:function(e){var t=this.getRange();var i=y.documentFromRange(t);var n=_.emptyElementContent;var r=b.create(i,"p");b.insertAfter(r,e);r.innerHTML=n;return r},clean:function(e,t){var i=e;if(e.firstChild&&b.is(e.firstChild,"br"))b.remove(e.firstChild);if(b.isDataNode(e)&&!e.nodeValue)e=e.parentNode;if(e){var n=false;while(e.firstChild&&e.firstChild.nodeType==1){n=n||b.significantNodes(e.childNodes).length>1;e=e.firstChild}if(!b.isEmpty(e)&&e.className!="k-br"&&/^\s*$/.test(e.innerHTML)&&!n){v(i).find(".k-br").remove();e.innerHTML=_.emptyElementContent}if(t&&t.links)while(e!=i){if(b.is(e,"a")&&b.emptyNode(e)){b.unwrap(e);break}e=e.parentNode}}}}),a=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},exec:function(){var e=this.getRange();this.expandImmutablesIn(e);var t=b.create(y.documentFromRange(e),"br");var i=e.startContainer;var n;var r=l.support.browser;var a=r.msie&&r.version<11;var o=b.is(i,"table")&&i;var s;e.deleteContents();if(o)b.insertAfter(t,o);else{s=v(i).closest(".k-br");e.insertNode(t);if(s.length)b.unwrap(s[0])}w(t.parentNode);if(!a&&(!t.nextSibling||b.isWhitespace(t.nextSibling))){if(!!t.nextSibling&&b.isWhitespace(t.nextSibling))v(t.nextSibling).remove();n=t.cloneNode(true);n.className="k-br";b.insertAfter(n,t)}e.setStartAfter(t);e.collapse(true);b.scrollTo(t.nextSibling||t,true);y.selectRange(e)}});e(_,{ParagraphCommand:r,NewLineCommand:a}),n("insertLineBreak",new i({key:13,shift:true,command:a})),n("insertParagraph",new i({key:13,command:r}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/file.min",["kendo.filebrowser.min","./link.min"],function(){var e=window.kendo.jQuery,v=void 0,_=window.kendo,b=e.extend,t=_.ui.editor,i=t.EditorUtils,k=t.Dom,n=i.registerTool,r=t.ToolTemplate,w=t.RangeUtils,a=t.Command,o=t.LinkFormatter,y=w.textNodes,x=_.keys,C="#k-editor-file-url",S="#k-editor-file-text",T="#k-editor-file-title",s=a.extend({init:function(e){var t=this;a.fn.init.call(t,e);t.formatter=new o;t.async=true;t.attributes={}},insertFile:function(e,t){var i=this.attributes;var n=w.documentFromRange(t);if(i.href&&i.href!="http://")if(!e){e=k.create(n,"a",{href:i.href});e.innerHTML=i.innerHTML;e.title=i.title;t.deleteContents();t.insertNode(e);if(!e.nextSibling)k.insertAfter(n.createTextNode("\ufeff"),e);t.setStartAfter(e);t.setEndAfter(e);w.selectRange(t);return true}else k.attr(e,i);return false},_dialogTemplate:function(e){return _.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-file-url">#: messages.fileWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-text">#: messages.fileText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-text"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-title">#: messages.fileTitle #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-title"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes);e.releaseRange(t)},exec:function(){var a=this,o=a.lockRange(),e=y(o),s=false,l=e.length?this.formatter.finder.findSuitable(e[0]):null,d,t=_.support.browser.msie,i=a.editor.options,n=i.messages,r=i.fileBrowser,u=!!(_.ui.FileBrowser&&r&&r.transport&&r.transport.read!==v),c={title:n.insertFile,visible:false,resizable:u};this.expandImmutablesIn(o);function f(e){var t=d.element,i=t.find(C).val().replace(/ /g,"%20"),n=t.find(S).val(),r=t.find(T).val();a.attributes={href:i,innerHTML:n!==""?n:i,title:r};s=a.insertFile(l,o);p(e);if(a.change)a.change()}function p(e){e.preventDefault();d.destroy();k.windowFromDocument(w.documentFromRange(o)).focus();if(!s)a.releaseRange(o)}function h(e){if(e.keyCode==x.ENTER)f(e);else if(e.keyCode==x.ESC)p(e)}c.close=p;if(u)c.width=750;d=this.createDialog(a._dialogTemplate(u),c).toggleClass("k-filebrowser-dialog",u).find(".k-dialog-insert").on("click",f).end().find(".k-dialog-close").on("click",p).end().find(".k-edit-field input").on("keydown",h).end().find(C).val(l?l.getAttribute("href",2):"http://").end().find(S).val(l?l.innerText:"").end().find(T).val(l?l.title:"").end().data("kendoWindow");var m=d.element;if(u){a._fileBrowser=new _.ui.FileBrowser(m.find(".k-filebrowser"),b({},r));a._fileBrowser.bind("change",function(e){if(e.selected.get("type")==="f")m.find(C).val(this.value())});a._fileBrowser.bind("apply",f)}if(t){var g=m.closest(".k-window").height();m.css("max-height",g)}d.center().open();m.find(C).trigger("focus").select()}});n("insertFile",new t.Tool({command:_.ui.editor.FileCommand=s,template:new r({template:i.buttonTemplate,title:"Insert File"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/tables.min",["./formatblock.min","./insert.min"],function(){var p=window.kendo.jQuery,z=void 0,f=window.kendo,i=p.extend,h=f.ui.editor,m=h.Dom,o=h.EditorUtils,R=h.RangeUtils,N=h.Command,g="kendoEditor",e="k-active",s="k-selected",v="scope",_="row",b="col",k="rowgroup",w="colgroup",y="colspan",x="rowspan",C="table",c="thead",d="tbody",S="tr",T="td",I="th",l=h.Tool,u=h.ToolTemplate,n=h.InsertHtmlCommand,L=h.BlockFormatFinder,r=h.BlockFormatTool,a=h.FormatCommand,D=h.EditorUtils.registerTool,t=h.EditorUtils.registerFormat,E=f.ui.Editor.fn.options.formats,B=f.getTouches,V=f.template,U="<td style='width:#=width#%;'>#=content#</td>",A=new L([{tags:[C]}]),W=n.extend({init:function(e){var t=p.extend({postProcess:this.postProcess,skipCleaners:true},e||{});n.fn.init.call(this,t)},_tableHtml:function(e,t){e=e||1;t=t||1;var i=V(U)({width:100/t,content:h.emptyTableCellContent});var n=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+n+"%;'>"+new Array(t+1).join(i)+"</tr>")+"</table>"},postProcess:function(e,t){var i=p("table[data-last]",e.document).removeAttr("data-last");t.setStart(i.find(T)[0],0);t.collapse(true);e.selectRange(t)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns);n.fn.exec.call(this)}}),F=l.extend({initialize:function(e,t){l.fn.initialize.call(this,e,t);var i=p(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:e,copyAnchorStyles:false,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data("kendoPopup");e.on("click",this._toggle.bind(this)).on("keydown",this._keydown.bind(this));var n=this._editor=t.editor;this._popup=i;var r=new h.TableWizardTool({template:new u({template:o.tableWizardButtonTemplate,title:n.options.messages.tableWizard}),command:h.TableWizardCommand,insertNewTable:true});D("tableWizardInsert",r);var a=p("<div>"+r.options.template.getHtml()+"</div>");a.appendTo(i.element);if(n.toolbar)n.toolbar.attachToolsEvents(a)},popup:function(){return this._popup},_activate:p.noop,_open:function(){this._popup.options.anchor.addClass(e)},_close:function(){this._popup.options.anchor.removeClass(e)},_keydown:function(e){var t=this,i=f.keys,n=e.keyCode,r=true;if(n==i.DOWN&&e.altKey||n==i.ENTER||n==i.SPACEBAR){t._popup.open();r=false}else if(n==i.ESC)t._popup.close()},_toggle:function(e){var t=p(e.target).closest(".k-tool");if(!t.hasClass("k-disabled"))this.popup().toggle()},update:function(e){var t=this.popup();if(t.wrapper&&t.wrapper.css("display")=="block")t.close();e.removeClass("k-hover")},destroy:function(){this._popup.destroy()}}),j=F.extend({init:function(e){this.cols=8;this.rows=6;F.fn.init.call(this,p.extend(e,{command:W,popupTemplate:"<div class='k-ct-popup'>"+"<div>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-disabled'></span>")+"</div>"+"<div class='k-status'></div>"+"</div>"}))},_activate:function(){var i=this,e=i._popup.element,t=e.find(".k-ct-cell"),n=t.eq(0),r=t.eq(t.length-1),a=f.getOffset(n),o=f.getOffset(r),s=i.cols,l=i.rows,d,u;e.find("*").addBack().attr("unselectable","on");o.left+=r[0].offsetWidth;o.top+=r[0].offsetHeight;d=(o.left-a.left)/s;u=(o.top-a.top)/l;function c(e){var t=p(window);return{row:Math.floor((e.clientY+t.scrollTop()-a.top)/u)+1,col:Math.floor((e.clientX+t.scrollLeft()-a.left)/d)+1}}e.autoApplyNS(g).on("mousemove",".k-ct-cell",function(e){i._setTableSize(c(e))}).on("mouseleave",".k-ct-cell",function(){i._setTableSize()}).on("down",".k-ct-cell",function(e){e.preventDefault();var t=B(e)[0];i._exec(c(t.location))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){if(this._valid(e)){this._editor.exec("createTable",{rows:e.row,columns:e.col});this._popup.close()}},_setTableSize:function(t){var e=this._popup.element;var i=e.find(".k-status");var n=e.find(".k-ct-cell");var r=this.cols;var a=this._editor.options.messages;if(this._valid(t)){i.text(f.format(a.createTableHint,t.row,t.col));n.each(function(e){p(this).toggleClass(s,e%r<t.col&&e/r<t.row)})}else{i.text(a.createTable);n.removeClass(s)}},_keydown:function(e){var t=this._popup.visible();F.fn._keydown.call(this,e);if(!this._popup.visible())return;var i=f.keys;var n=e.keyCode;var r=this._popup.element.find(".k-ct-cell");var a=Math.max(r.filter(".k-selected").last().index(),0);var o=Math.floor(a/this.cols);var s=a%this.cols;var l=false,d;if(n==i.DOWN&&!e.altKey){l=true;o++}else if(n==i.UP){l=true;o--}else if(n==i.RIGHT){l=true;s++}else if(n==i.LEFT){l=true;s--}else if(n==i.TAB){d=this._popup.element.find(".k-button");if(d.length>0){l=true;d.trigger("focus")}}var u={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,s+1))};if(n==i.ENTER&&t)this._exec(u);else this._setTableSize(u);if(l){e.preventDefault();e.stopImmediatePropagation()}},_open:function(){var e=this._editor.options.messages;F.fn._open.call(this);this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(s)},_close:function(){F.fn._close.call(this);this.popup().element.off("."+g)}}),H=N.extend({undo:function(){var e=this.restorePoint;e.restoreHtml();p(this.editor.body).find(".k-element-resize-handle-wrapper").each(function(e,t){t.remove()});this.editor.selectRange(e.toRange())},_clearColIndexAttr:function(e){m.clearTableMappings(e,"col-index")},_mapColIndices:function(e){m.reMapTableColumns(e,"col-index")},_findRowSpanCell:function(e,t,i){var n,r;for(var a=t;a>=0;a--){n=e.rows[a];r=p(n).find("[col-index="+i+"]");if(r.length)return r}},_resetElementResizing:function(e){e._destroyResizings();e._initializeColumnResizing();e._initializeRowResizing();e._initializeElementResizing()},_findNextTdInRow:function(e,t){var i=e.find("td:last-child"),n=parseInt(i.attr("col-index"),10)+i.prop("colSpan")-1,r;for(var a=t;a<=n;a++){r=e.find("[col-index="+a+"]");if(r.length)return r}},_adjustColgroups:function(e,t){var i=t.getElementsByTagName(b),n=t.getElementsByTagName(w),r=e.cells,a=r.length,o,s,l;while(i.length>0)i[0].remove();while(n.length>0)n[0].remove();for(o=a-1;o>=0;o--){l=r[o];if(l.getAttribute(v)===w){s=m.createEmptyNode(this.editor.document,w);s.setAttribute("span",l.getAttribute(y));t.prepend(s)}else t.prepend(m.createEmptyNode(this.editor.document,b))}},_associateHeaderIds:function(e){m.clearTableMappings(e,"col-index");m.reMapTableColumns(e,"col-index");p(e).find("th, td").removeAttr("id headers");m.associateWithIds(e)},_getNumberOfColumns:function(e){return m._getNumberOfColumns(e,"td, th")}}),q=H.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[T,I]),i=m.closest(t,C),n=this.options.position||"after",r,a,o,s,l,d,u;if(!i||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);a=t.parentNode;l=m.findNodeIndex(a,true);if(t.rowSpan>1&&n==="after")a=i.rows[l+t.rowSpan-1];r=this._getNumberOfColumns(i);s=a.cloneNode(true);p(s).empty();for(var c=0;c<r;c=c+o.prop("colSpan")){o=p(a).find("[col-index="+c+"]");if(o.length)if(o.prop("rowSpan")>1&&n==="after"&&o)o.attr(x,o.prop("rowSpan")+1);else this._appendCell(s,o);else{l=m.findNodeIndex(a,true);o=this._findRowSpanCell(a.parentElement,l,c);d=o.closest(S).index();if(d+o.prop("rowSpan")-1===l&&n==="after")this._appendCell(s,o);else o.attr(x,o.prop("rowSpan")+1)}u=p(s).find("[col-index="+c+"]");if(u.attr(v)===k&&!u.attr(x))u.attr(v,_)}if(n=="before")m.insertBefore(s,a);else m.insertAfter(s,a);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_appendCell:function(e,t){var i;i=t.clone();i.html(h.emptyTableCellContent);i.removeAttr(x);i.appendTo(e)}}),G=H.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[T,I]),i=m.closest(t,C),n=i.getElementsByTagName(b),r=i.getElementsByTagName(w),a,o,s=i&&i.rows,l,d,u=this.options.position||"after";if(!t||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);a=parseInt(t.getAttribute("col-index"),10);if(t.colSpan>1&&u==="after"){t.setAttribute("col-index",a+t.colSpan-1);a=a+t.colSpan-1}for(o=0;o<s.length;o++){l=this._processForColSpan(s[o],a,u,t);if(!l)continue;d=l.cloneNode();d.innerHTML=h.emptyTableCellContent;d.removeAttribute(y);if(d.getAttribute(v)&&d.getAttribute(v)===w)d.setAttribute(v,b);if(u=="before")m.insertBefore(d,l);else m.insertAfter(d,l);this._resizeCells(d,l)}if(n.length>0||r.length>0)this._adjustColgroups(s[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_processForColSpan:function(e,t,i,n){var r,a,o=t-1;r=p(e).find("[col-index="+t+"]")[0];if(r&&r.colSpan>1&&i==="after"&&r!==n){r.colSpan+=1;return}if(r)return r;for(o;o>=0;o--){r=p(e).find("[col-index="+o+"]")[0];if(r&&r.colSpan>1)break}if(!r)return;a=parseInt(r.getAttribute("col-index"),10)+r.colSpan-1;if(a===t&&i==="after")return r;else if(t<=a)r.setAttribute(y,r.colSpan+1)},_resizeCells:function(e,t){var i=e.style.width,n,r,a;if(!i)return;n=parseFloat(i);r=i.slice(n.toString().length);a=n/2+r;e.style.width=a;t.style.width=a}}),K=H.extend({exec:function(){var e=this.lockRange();var t=R.mapAll(e,function(e){return p(e).closest(S)[0]});var i=m.closest(e.endContainer,[T,I]);var n=t[0];var r=i?i.rowSpan:1;var a=p(t[0]).index();var o=m.closest(n,C);var s=n.parentElement;var l;if(!o||this.immutables()&&h.Immutables.immutableParent(n)){this.releaseRange(e);return}for(var d=0;d<r;d++)if(t.indexOf(s.rows[a+d])<0)t.push(s.rows[a+d]);if(o.rows.length<=t.length){l=m.next(o);if(!l||m.insignificant(l))l=m.prev(o);if(l&&l.rows)l=l.rows[0].cells[0];m.remove(o);this._resetElementResizing(this.editor)}else if(s.rows.length<=t.length){l=s.nextSibling;if(!l)l=s.previousSibling;m.remove(s)}else{this._mapColIndices(o);for(var u=0;u<t.length;u++){n=t[u];m.removeTextSiblings(n);l=m.next(n)||m.prev(n);l=l.cells[0];this._focusElement(e,l);l=null;this._handleRowSpanCells(o,n);m.remove(n)}this._clearColIndexAttr(o)}if(p(o).find("[headers]").length>0)this._associateHeaderIds(o);else if(m.is(s,c)&&p(o).find("[scope]").length>0)this._adjustColgroups(s.rows[0],o);if(l)this._focusElement(e,l);this._resetElementResizing(this.editor)},_focusElement:function(e,t){e.setStart(t,0);e.collapse(true);this.editor.selectRange(e)},_handleRowSpanCells:function(e,t){var i,n,r,a,o=m.findNodeIndex(t,true),s=e.rows[0],l=s.cells[s.cells.length-1],d=parseInt(l.getAttribute("col-index"),10)+l.colSpan-1;for(i=0;i<=d;i=i+n.prop("colSpan")){n=p(t).find("[col-index="+i+"]");if(n.length&&n.prop("rowSpan")>1){a=e.rows[o+1];r=p(a).find("[col-index="+(i+1)+"]");if(r.length)r.before(n);else p(a).append(n);this._reduceRowSpan(n)}if(!n.length){n=this._findRowSpanCell(t.parentElement,o,i);this._reduceRowSpan(n)}}},_reduceRowSpan:function(e){var t=e.prop("rowSpan")-1;if(t<=1){e.removeAttr(x);if(e.attr(v)===k)e.attr(v,_)}else e.attr(x,t)}}),$=H.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[T,I]),i=m.closest(t,C),n=i&&i.rows,r=m.findNodeIndex(t,true),a=n&&n[0].cells.length,o=i.getElementsByTagName(b),s=i.getElementsByTagName(w),l,d,u,c;if(!t||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}if(a==1||t.colSpan==a){l=m.next(i);if(!l||m.insignificant(l))l=m.prev(i);if(l&&l.rows)l=l.rows[0].cells[0];m.remove(i);this._resetElementResizing(this.editor)}else{m.removeTextSiblings(t);l=m.next(t)||m.prev(t);this._mapColIndices(i);r=parseInt(t.getAttribute("col-index"),10);for(c=0;c<t.colSpan;c++)for(d=0;d<n.length;d=d+(u.prop("rowSpan")||1)){u=p(n[d]).find("[col-index="+(r+c)+"]");if(u.length&&u.prop("colSpan")<=1)u.remove();else this._handleColSpanCells(n[d],r+c)}this._clearColIndexAttr(i)}if(o.length>0||s.length>0)this._adjustColgroups(n[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);if(l){e.setStart(l,0);e.collapse(true);this.editor.selectRange(e)}this._resetElementResizing(this.editor)},_handleColSpanCells:function(e,t){var i=p(e).find("[col-index="+t+"]");if(i.length&&i.prop("colSpan")>1){var n=i.clone(true);i.after(n);this._reduceColSpan(n);n.attr("col-index",parseInt(i.attr("col-index"),10)+1);i.remove();return}for(var r=t;r>=0;r--){i=p(e).find("[col-index="+r+"]");if(i.length){this._reduceColSpan(i);i.attr("col-index",parseInt(i.attr("col-index"),10)+1);return}}},_reduceColSpan:function(e){var t=e.prop("colSpan")-1;if(t<=1){e.removeAttr(y);if(e.attr(v)===w)e.attr(v,b)}else e.attr(y,t)}}),Y=H.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[T,I]),i,n,r,a,o;if(!t){this.releaseRange(e);return}i=m.closest(t,C);n=t.parentNode;r=m.findNodeIndex(t,true);a=n.children[r+1];if(this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);r=parseInt(p(t).attr("col-index"),10);a=p(n).find("[col-index="+(r+1+this._getColspan(t)-1)+"]").get(0);if(!a||a.rowSpan!==t.rowSpan||t.tagName!==a.tagName){this._clearColIndexAttr(i);this.releaseRange(e);return}o=this._getColspan(t)+this._getColspan(a);p(t).prop(y,o).append(m.emptyNode(a)?"":"<br/>"+a.innerHTML);p(t).width(t.offsetWidth);p(a).remove();if(t.getAttribute(v)===b)t.setAttribute(v,w);if(t.getAttribute(v)===w)this._adjustColgroups(n,i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_getColspan:function(e){return parseInt(e.getAttribute(y),10)||1}}),Q=H.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[T,I]),i,n,r,a,o,s,l;if(!t){this.releaseRange(e);return}i=m.closest(t,S);n=m.closest(t,[c,d]);r=m.closest(t,C);a=m.findNodeIndex(t,true);o=m.findNodeIndex(i,true);if(o+1===n.rows.length){this.releaseRange(e);return}s=n.rows[o+this._getRowspan(t)];l=s&&s.children[a];if(this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(r);a=p(t).attr("col-index");l=p(s).find("[col-index="+a+"]").get(0);if(!l||l.colSpan!==t.colSpan||t.tagName!==l.tagName){this._clearColIndexAttr(r);this.releaseRange(e);return}p(t).prop(x,this._getRowspan(t)+this._getRowspan(l)).append(m.emptyNode(l)?"":"<br/>"+l.innerHTML);if(t.getAttribute(v)===_)t.setAttribute(v,k);p(l).remove();if(p(r).find("[headers]").length>0)this._associateHeaderIds(r);this._clearColIndexAttr(r);this.releaseRange(e)},_getRowspan:function(e){return parseInt(e.getAttribute(x),10)||1}}),P=H.extend({exec:function(){var e=this.lockRange(),t=this.options.type,i=t==="row"?y:x,n=m.closest(e.endContainer,[T,I]),r=m.closest(n,[c,d]),a=m.closest(n,C),o=m.createEmptyNode(this.editor.document,n.nodeName.toLowerCase());if(!n||this.immutables()&&h.Immutables.immutableParent(n)){this.releaseRange(e);return}this._mapColIndices(a);if(t==="row"&&p(n).is("["+i+"]"))this._splitCellHorizontally(n,r,i,o);else if(t==="column"&&p(n).is("["+i+"]"))this._splitCellVertically(n,r,i,o);if(p(n).prop(i.toLowerCase())<=1)p(n).removeAttr(i);if(p(a).find("[headers]").length>0)this._associateHeaderIds(a);this._clearColIndexAttr(a);this.releaseRange(e)},_getRowspanValue:function(e){return parseInt(e.getAttribute(x),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(y),10)},_splitCellHorizontally:function(e,t,i,n){var r=e.rowSpan,a=e.colSpan,o=p(n),s=Math.floor(a/2);if(s>1)o.attr(y,s);if(r>1)o.attr(x,r);p(e).prop(i,a-s).after(o);p(e).width(e.offsetWidth);o.width(o[0].offsetWidth);if(e.hasAttribute(v))if(e.getAttribute(v)===w){o.attr(v,b);if(!e.getAttribute(y)||e.getAttribute(y)==="1")e.setAttribute(v,b);this._adjustColgroups(e.parentNode,t.parentNode)}else o.attr(v,e.getAttribute(v))},_splitCellVertically:function(e,t,i,n){var r=m.closest(e,S),a=parseInt(p(e).attr("col-index"),10),o=m.findNodeIndex(r,true),s=e.rowSpan,l=e.colSpan,d=Math.floor(s/2),u=p(t).find(S).eq(o+s-d),c=this._findNextTdInRow(u,a+l),f=p(n);if(d>1)f.attr(x,d);if(l>1)f.attr(y,l);if(c&&c.length)c.before(f);else u.append(f);p(e).prop(i,s-d);if(e.hasAttribute(v))if(e.getAttribute(v)===k){f.attr(v,_);if(!e.getAttribute(x)||e.getAttribute(x)==="1")e.setAttribute(v,_)}else f.attr(v,e.getAttribute(v))}}),O=l.extend({command:function(e){var t={row:{insert:q,delete:K,merge:Y,split:P},column:{insert:G,delete:$,merge:Q,split:P}};e=i(e,this.options);e.action=e.action||"insert";return new t[e.type][e.action](e)},initialize:function(e,t){l.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!A.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}}),X=a.extend({exec:function(){var e=this;var t=e.editor;a.fn.exec.call(this);if(t.elementResizing)t.elementResizing._showResizeHandles()}}),M=r.extend({initialize:function(e,t){r.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!A.isFormatted(t);var n=this.options.finder.isFormatted(t,this.isTable);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}e.toggleClass("k-selected",n);e.attr("aria-pressed",n)},command:function(e){var t=this;return new X(i(e,{formatter:t.options.formatter}))},isTable:function(e){return m.is(e,"table")}});i(f.ui.editor,{PopupTool:F,TableCommand:W,InsertTableTool:j,TableFormatTool:M,TableFormatCommand:X,TableModificationTool:O,InsertRowCommand:q,InsertColumnCommand:G,DeleteRowCommand:K,DeleteColumnCommand:$,MergeCellsHorizontallyCommand:Y,MergeCellsVerticallyCommand:Q,SplitCellCommand:P}),D("createTable",new j({template:new u({template:o.buttonTemplate,popup:true,title:"Create table"})})),D("addColumnLeft",new O({type:"column",position:"before",template:new u({template:o.buttonTemplate,title:"Add column on the left"})})),D("addColumnRight",new O({type:"column",template:new u({template:o.buttonTemplate,title:"Add column on the right"})})),D("addRowAbove",new O({type:"row",position:"before",template:new u({template:o.buttonTemplate,title:"Add row above"})})),D("addRowBelow",new O({type:"row",template:new u({template:o.buttonTemplate,title:"Add row below"})})),D("deleteRow",new O({type:"row",action:"delete",template:new u({template:o.buttonTemplate,title:"Delete row"})})),D("deleteColumn",new O({type:"column",action:"delete",template:new u({template:o.buttonTemplate,title:"Delete column"})})),D("mergeCellsHorizontally",new O({type:"row",action:"merge",template:new u({template:o.buttonTemplate,title:"Merge Cell Right"})})),D("mergeCellsVertically",new O({type:"column",action:"merge",template:new u({template:o.buttonTemplate,title:"Merge Cell Down"})})),D("splitCellHorizontally",new O({type:"row",action:"split",template:new u({template:o.buttonTemplate,title:"Split Cell"})})),D("splitCellVertically",new O({type:"column",action:"split",template:new u({template:o.buttonTemplate,title:"Split Cell"})})),t("tableAlignLeft",[{tags:["table"],attr:{style:{marginLeft:"",marginRight:"auto"}}},{tags:["table"],attr:{align:"left"}}]),D("tableAlignLeft",new M({format:E.tableAlignLeft,template:new u({template:o.buttonTemplate,title:"Table Align Left"})})),t("tableAlignCenter",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:"auto"}}},{tags:["table"],attr:{align:"center"}}]),D("tableAlignCenter",new M({format:E.tableAlignCenter,template:new u({template:o.buttonTemplate,title:"Table Align Center"})})),t("tableAlignRight",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:""}}},{tags:["table"],attr:{align:"right"}}]),D("tableAlignRight",new M({format:E.tableAlignRight,template:new u({template:o.buttonTemplate,title:"Table Align Left"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/clipboard.min",["../command.min"],function(){var y=window.kendo.jQuery,u=window.kendo,e=u.Class,t=u.ui.editor,k=t.RangeUtils,x=t.Dom,n=t.RestorePoint,w=t.Marker,C=u.support.browser,S=y.extend,i=e.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new a(t),new o(t),new s(t),new l(t),new c(t),new f(t),new g(t),new v(t)]},htmlToFragment:function(e){var t=this.editor,i=t.document,n=x.create(i,"div"),r=i.createDocumentFragment();n.innerHTML=e;while(n.firstChild)r.appendChild(n.firstChild);return r},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e;var t;var i=this.editor;if(this._inProgress)return;this._inProgress=true;e=i.getRange();t=new n(e,i.body);x.persistScrollTop(i.document);return{range:e,restorePoint:t}},_endModification:function(e){t._finishUpdate(this.editor,e.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(e,t){var i=this;var n=i.editor;var r=i._startModification();if(!r)return;e.call(i,n,r.range);setTimeout(function(){t.call(i,n,r.range);i._endModification(r)})},_removeBomNodes:function(e){var t=k.textNodes(e);for(var i=0;i<t.length;i++)t[i].nodeValue=x.stripBom(t[i].nodeValue)||t[i].nodeValue},_onBeforeCopy:function(e){var t=new w;t.add(e);this._removeBomNodes(e);t.remove(e);this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange());this._contentModification(y.noop,y.noop)},_fileToDataURL:function(e){var t=y.Deferred();var i=new FileReader;if(!(e instanceof window.File)&&e.getAsFile)e=e.getAsFile();i.onload=t.resolve.bind(t);i.readAsDataURL(e);return t.promise()},_triggerPaste:function(e,t){var i={html:e||""};i.html=i.html.replace(/\ufeff/g,"");this.editor.trigger("paste",i);this.paste(i.html,t||{})},_handleImagePaste:function(e){if(!("FileReader"in window)||C.msie&&C.version>10)return;var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{};var i=t.items||t.files;return this._insertImages(i)},_insertImages:function(e){if(!e)return;var t=y.grep(e,function(e){return/^image\//i.test(e.type)});var i=y.grep(e,function(e){return/^text\/html/i.test(e.type)});if(i.length||!t.length)return;var n=this._startModification();if(!n)return;y.when.apply(y,y.map(t,this._fileToDataURL)).done(function(){var e=Array.prototype.slice.call(arguments);var t=y.map(e,function(e){return'<img src="'+e.target.result+'" />'}).join("");this._triggerPaste(t);this._endModification(n)}.bind(this));return true},onpaste:function(d){if(this.editor.body.contentEditable==="false")return;if(this._handleImagePaste(d)){d.preventDefault();return}this.expandImmutablesIn();this._contentModification(function e(t,i){var n=x.create(t.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var r=u.support.browser;var a=t.body;this._decoreateClipboardNode(n,a);a.appendChild(n);if(r.webkit)this._moveToCaretPosition(n,i);if(r.msie&&r.version<11){d.preventDefault();var o=t.createRange();o.selectNodeContents(n);t.selectRange(o);var s=t.document.body.createTextRange();s.moveToElementText(n);y(a).off("paste");s.execCommand("Paste");y(a).on("paste",this.onpaste.bind(this))}else{var l=t.createRange();l.selectNodeContents(n);t.selectRange(l)}i.deleteContents()},function e(t,i){var n="",r;t.selectRange(i);r=y(t.body).children(".k-paste-container");r.each(function(){var e=this.lastChild;if(e&&x.is(e,"br"))x.remove(e);n+=this.innerHTML});r.remove();this._triggerPaste(n,{clean:true})})},ondragover:function(e){if(C.msie||C.edge){e.stopPropagation();e.preventDefault()}},ondrop:function(e){if(!("FileReader"in window))return;var t=(e.originalEvent||e).dataTransfer||{};var i=t.items||t.files;if(this._insertImages(i))e.preventDefault()},_decoreateClipboardNode:function(e,t){if(!C.msie&&!C.webkit)return;e=y(e);e.css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"});if(C.msie){var i=y(t.ownerDocument.documentElement);e.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var n=i.css("color");if(n)e.css("color",n);var r=i.css("fontFamily");if(r)e.css("fontFamily",r);var a=i.css("fontSize");if(a)e.css("fontSize",a)}},_moveToCaretPosition:function(e,t){var i=this;var n=i.editor.body;var r=x.offset(e,n);var a=i._caretOffset(t,n);var o=a.left-r.left;var s=a.top-r.top;var l="translate("+o+"px,"+s+"px)";y(e).css({"-webkit-transform":l,transform:l})},_caretOffset:function(e,t){var i=this.editor;var n=x.create(i.document,"span",{innerHTML:"\ufeff"});var r=e.startContainer;var a;if(e.collapsed){var o=x.isDataNode(r);if(o&&(x.isBom(r)||e.startOffset===0))x.insertBefore(n,r);else if(o&&e.startOffset===r.length)x.insertAfter(n,r);else{e.insertNode(n);a=true}}else{r=r===t?r.childNodes[e.startOffset]:r;x.insertBefore(n,r)}var s=x.offset(n,t);var l=n.previousSibling;var d=n.nextSibling;x.remove(n);if(a&&x.isDataNode(l)&&x.isDataNode(d)&&!x.isBom(l)&&!x.isBom(d)){var u=l.length;d.data=l.data+d.data;e.setStart(d,u);x.remove(l);e.collapse(true);i.selectRange(e)}return s},expandImmutablesIn:function(e){var t=this.editor;if(t&&t.options.immutables){var i=t.body;e=e||t.getRange();u.ui.editor.Immutables.expandImmutablesIn(e);if(e.startContainer===i&&e.startOffset===0){var n=i.ownerDocument;var r=n.createTextNode("\ufeff");i.insertBefore(r,i.childNodes[0]);e.setStartBefore(r)}t.selectRange(e)}},splittableParent:function(e,t){var i,n;if(e)return x.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;i=t.parentNode;n=t.ownerDocument.body;if(x.isInline(i))while(i.parentNode!=n&&!x.isBlock(i.parentNode))i=i.parentNode;return i},paste:function(e,t){var i=this.editor,n,r,a;this.expandImmutablesIn();t=S({clean:false,split:true},t);if(!t.skipCleaners)for(n=0,r=this.cleaners.length;n<r;n++)if(this.cleaners[n].applicable(e))e=this.cleaners[n].clean(e);if(t.clean){e=e.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3");e=e.replace(/<(a|span)[^>]*><\/\1>/gi,"")}e=e.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>");e=e.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var o=this.isBlock(e);i.focus();var s=i.getRange();s.deleteContents();if(s.startContainer==i.document)s.selectNodeContents(i.body);var l=new w;var d=l.addCaret(s);var u=this.splittableParent(o,d);var c=false;var f=u!=i.body&&!x.is(u,"td");if(t.split&&f&&(o||x.isInline(u))){s.selectNode(d);k.split(s,u,true);c=true}var p=this.htmlToFragment(e);if(p.firstChild&&p.firstChild.className==="k-paste-container"){var h=[];for(n=0,r=p.childNodes.length;n<r;n++)h.push(p.childNodes[n].innerHTML);p=this.htmlToFragment(h.join("<br />"))}a=p.childNodes;y(a).filter("table").addClass("k-table").end().find("table").addClass("k-table");y(a).each(function(e,t){if(x.isBlock(t)&&!x.isSelfClosing(t)&&t.innerHTML==="")t.appendChild(i.document.createTextNode("\ufeff"))});s.insertNode(p);u=this.splittableParent(o,d);if(c){while(d.parentNode!=u)x.unwrap(d.parentNode);x.unwrap(d.parentNode)}x.normalize(s.commonAncestorContainer);d.style.display="inline";x.restoreScrollTop(i.document);x.scrollTo(d);l.removeCaret(s);var m=s.commonAncestorContainer.parentNode;if(s.collapsed&&x.name(m)=="tbody"||s.collapsed&&x.name(m)=="thead"){s.setStartAfter(y(m).closest("table")[0]);s.collapse(true)}var g=y(s.commonAncestorContainer.parentNode).closest("table");if(g.get(0)){var v=g.parent().contents();var _=v.length-1;var b=v.get(_);while(b.nodeValue!==null&&(b.nodeValue===" "||b.nodeValue==="")){_-=1;b=v.get(_)}if(b===g.get(0)&&!g.parents("table").length)x.insertAfter(x.createEmptyNode(i.document,"p"),g[0])}i.selectRange(s)}}),r=e.extend({init:function(e){this.options=e||{};this.replacements=[]},clean:function(e,t){var i=this,n=t||i.replacements,r,a;for(r=0,a=n.length;r<a;r+=2)e=e.replace(n[r],n[r+1]);return e}}),a=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),o=r.extend({init:function(e){r.fn.init.call(this,e);var t=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),s=r.extend({init:function(e){r.fn.init.call(this,e);this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""];this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>\n/g,"<br/>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,i){var n=/face=['"]([^'"]+)['"]/i;var r=n.exec(i);var a=i&&r&&r[1];if(t)return"</span>";else if(a)return'<span style="font-family:'+a+'">';else return"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){if(!t||t.indexOf("href")<0)return"";return e})},listType:function(e,t){var i=e.innerHTML;var n=x.innerText(e);var r;var a=i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);var o=a&&a[1];var s=/^[a-z\d]/i.test(o);var l=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};if(a)r=true;i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," ");if(!r&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i)||r&&/^.\u00a0+/.test(i)||o&&!s&&t)return{tag:"ul",style:this._guessUnorderedListStyle(l(n))};if(/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i))return{tag:"ol",style:this._guessOrderedListStyle(l(n))}},_convertToLi:function(e){var t;if(e.childNodes.length==1){t=e.firstChild.nodeType===x.nodeTypes.TEXT_NODE?x.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"");t=this._checkForBullet(t)}else t=this._getHtmlNoBullet(e);x.remove(e);return x.create(document,"li",{innerHTML:t})},_checkForBullet:function(e){var t=x.create(document,"p",{innerHTML:e});var i=/^\s*\w+[\.\)]\s+/;if(i.test(t.innerText))return this._getHtmlNoBullet(t);return e},_getHtmlNoBullet:function(e){var t,i=x.name(e);x.remove(e.firstChild);if(e.firstChild.nodeType==3)if(/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue))x.remove(e.firstChild);if(/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML))x.remove(e.firstChild);if(i!="p")t="<"+i+">"+e.innerHTML+"</"+i+">";else t=e.innerHTML;return t},_guessUnorderedListStyle:function(e){if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e))return null;else if(/^o/.test(e))return"circle";else return"square"},_guessOrderedListStyle:function(e){var t=null;if(!/^\d/.test(e))t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha");return t},extractListLevels:function(e){var t=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;e=e.replace(t,function(e,t,i){return u.format('data-list="{0}" data-level="{1}" {2}',t,i,e)});return e},_createList:function(e,t){return x.create(document,e,{style:{listStyleType:t}})},lists:function(e){var t=y(e).find(x.blockElements.join(",")),i=-1,n,r={},a,o,s,l,d,u,c,f,p,h,m,g,v=["p","h1","h2","h3","h4","h5","h6"],_=false;for(c=0;c<t.length;c++){f=t[c];g=y(f).data();var b=g.list;n=x.name(f);_=!!y(f).parents("table").length;if(_)continue;var k=this.listType(f,g);p=k&&k.tag;if(!p||v.indexOf(n)<0){if(!f.innerHTML)x.remove(f);else if(a&&!d)a.appendChild(f);continue}if(C.msie)continue;h=g.level||parseFloat(f.style.marginLeft||0);var w=p+b;if(!r[h])r[h]={};if(!o||o<0){o=h;s=b;l=y(e).find("[data-list='"+s+"']").last()[0];u=this._createList(p,k.style);x.insertBefore(u,f);i=h;r[h][w]=u}d=l===f;m=r[h][w];if(h>i||!m){m=this._createList(p,k.style);r[h][w]=m;a.appendChild(m)}a=this._convertToLi(f);m.appendChild(a);if(d)o=i=-1;else i=h}},removeAttributes:function(e){var t=e.attributes,i=t.length,n=[],r=function(t){var e=["border","background","padding"];return e.filter(function(e){return t.trim().indexOf(e)===0}).length>0},a=function(e){if(r(e))n.push(e.trim())},o,s,l;while(i--)if(x.name(t[i])!="colspan"){o=t[i];s=o.name;if(s==="style"&&(e.nodeName==="TD"||e.nodeName==="TH")){l=o.value.split(";");l.forEach(a)}e.removeAttributeNode(t[i])}if(n.length>0)e.setAttribute("style",n.join(";"))},createColGroup:function(e){var t=e.cells;var i=y(e).closest("table");var n=i.children("colgroup");if(t.length<2)return;else if(n.length){t=n.children();n[0].parentNode.removeChild(n[0])}n=y(y.map(t,function(e){var t=e.width;if(t&&parseInt(t,10)!==0)return u.format('<col style="width:{0}px;"/>',t);return"<col />"}).join(""));if(!n.is("colgroup"))n=y("<colgroup/>").append(n);n.prependTo(i)},convertHeaders:function(e){var t=e.cells,i,n=y.map(t,function(e){var t=y(e).children("p").children("strong")[0];if(t&&x.name(t)=="strong")return t});if(n.length==t.length){for(i=0;i<n.length;i++)x.unwrap(n[i]);y(e).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(e);for(i=0;i<t.length;i++)x.changeTag(t[i],"th")}},removeParagraphs:function(e){var t,i,n,r,a;for(t=0;t<e.length;t++){this.removeAttributes(e[t]);r=y(e[t]);a=r.children("p");for(i=0,n=a.length;i<n;i++){if(i<n-1)x.insertAfter(x.create(document,"br"),a[i]);x.unwrap(a[i])}}},removeTextNodes:function(e){var t,i,n,r,a;for(t=0;t<e.length;t++){a=e[t];n=a.childNodes;for(i=0;i<n.length;i++){r=n[i];if(r.nodeType===x.nodeTypes.TEXT_NODE)a.removeChild(r)}}},tables:function(e){var t=y(e).find("table"),i=this,n,r,a,o,s;for(o=0;o<t.length;o++){n=t[o].rows;a=r=n[0];for(s=1;s<n.length;s++)if(n[s].cells.length>a.cells.length)a=n[s];i.createColGroup(a);i.convertHeaders(r);i.removeAttributes(t[o]);i.removeParagraphs(t.eq(o).find("td,th"));i.removeTextNodes(t.eq(o).find("tr"))}},headers:function(e){var t=y(e).find("p.MsoTitle");for(var i=0;i<t.length;i++)x.changeTag(t[i],"h1")},removeFormatting:function(e){y(e).find("*").each(function(){y(this).css({fontSize:"",fontFamily:""});if(!this.getAttribute("style")&&!this.style.cssText)this.removeAttribute("style")})},clean:function(e){var t=this,i;var n=this.options;if(n.none){e=r.fn.clean.call(t,e,this.junkReplacements);e=t.stripEmptyAnchors(e)}else{e=n.msConvertLists?this.extractListLevels(e):e;e=r.fn.clean.call(t,e);e=t.stripEmptyAnchors(e);i=x.create(document,"div",{innerHTML:e});t.headers(i);if(n.msConvertLists)t.lists(i);t.tables(i);if(n.msAllFormatting)t.removeFormatting(i);e=i.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}return e}}),l=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),d=r.extend({clean:function(e){var t=x.create(document,"div",{innerHTML:e});t=this.cleanDom(t);return t.innerHTML},cleanDom:function(e){return e}}),c=d.extend({cleanDom:function(e){var t=this.collectTags();y(e).find(t).each(function(){x.unwrap(this)});return e},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),f=d.extend({cleanDom:function(e){var t=this.collectAttr();var i=y(e).find("["+t.join("],[")+"]");i.removeAttr(t.join(" "));return e},collectAttr:function(){if(this.options.css)return["class","style"];return[]},applicable:function(){return this.options.css}}),p=function(){this.text="";this.add=function(e){this.text+=e}},h=e.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"};this.lines=[];this.inlineBlockText=[];this.resetLine()},appendText:function(e){if(e.nodeType===3)e=e.nodeValue;this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){if(this.inlineBlockText.length){this.appendText(this.inlineBlockText.join(" "));this.inlineBlockText=[]}},endLine:function(){this.flashInlineBlockText();this.resetLine()},html:function(){var e=this.separators;var t="";var i=this.lines;this.flashInlineBlockText();for(var n=0,r=i.length,a=r-1;n<r;n++){var o=i[n];for(var s=0,l=o.length,d=l-1;s<l;s++){var u=o[s].text;t+=u;if(s!==d)t+=e.text}if(n!==a)t+=e.line}return t},resetLine:function(){this.textContainer=new p;this.line=[];this.line.push(this.textContainer);this.lines.push(this.line)}}),m=e.extend({init:function(e){this.callback=e},enumerate:function(e){if(!e)return;var t=this.callback(e);var i=e.firstChild;if(!t&&i)this.enumerate(i);this.enumerate(e.nextSibling)}}),g=r.extend({init:function(e){r.fn.init.call(this,e);this.hasText=false;this.enumerator=new m(this.buildText.bind(this))},clean:function(e){var t=x.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){this.separators=this.getDefaultSeparators();this.htmlLines=new h(this.separators);this.enumerator.enumerate(e.firstChild);this.hasText=false;return this.htmlLines.html()},buildText:function(e){if(x.isDataNode(e)){if(x.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line));this.hasText=true}else if(x.isBlock(e)&&this.hasText){var t=this.actions[x.name(e)]||this.actions.block;return t(this,e)}else if(x.isBr(e))this.htmlLines.appendText(this.separators.line)},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){if(this.options.all)return{text:" ",line:" "};else return{text:" ",line:"<br/>"}},actions:{ul:y.noop,ol:y.noop,table:y.noop,thead:y.noop,tbody:y.noop,td:function(e,t){var i=new g({all:true});var n=i.cleanDom(t);e.htmlLines.appendInlineBlockText(n);return true},block:function(e){e.htmlLines.endLine()}}}),v=r.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return typeof this.options.custom==="function"}});S(t,{Clipboard:i,Cleaner:r,ScriptCleaner:a,TabCleaner:o,MSWordFormatCleaner:s,WebkitFormatCleaner:l,HtmlTagsCleaner:c,HtmlAttrCleaner:f,HtmlContentCleaner:g,HtmlTextLines:h,CustomCleaner:v})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/keyboard.min",["../command.min"],function(){var b=window.kendo.jQuery,d=window.kendo,e=d.Class,k=d.ui.editor,u=k.RangeUtils,w=k.Dom,c=k.RestorePoint,f=k.Marker,p=d.support.browser,o="<span  class='k-br'>\ufeff</span>",h=b.extend,i=w.nodeTypes,y="previousSibling";function m(e,t){return t.startContainer===e&&t.endContainer===e&&t.startOffset===0&&t.endOffset==e.childNodes.length}function x(e,t,i){var n=e?e[t]:null;while(n&&!i(n))n=n[t];return n}var g="td,th,caption",t="table,tbody,thead,tfoot,tr",v=t+","+g,_=function(e){return!e.collapsed&&b(e.commonAncestorContainer).is(t)},C=e.extend({remove:function(e){var t=this;var i=new f;i.add(e,false);var n=u.getAll(e,function(e){return b(e).is(v)});var r=u.documentFromRange(e);var a=i.start;var o=i.end;var s=g.split(",");var l=w.parentOfType(a,s);var d=w.parentOfType(o,s);t._removeContent(a,l,true);t._removeContent(o,d,false);b(n).each(function(e,t){t=b(t);(t.is(g)?t:t.find(g)).each(function(e,t){t.innerHTML="&#65279;"})});if(l&&!a.previousSibling)w.insertBefore(r.createTextNode("\ufeff"),a);if(d&&!o.nextSibling)w.insertAfter(r.createTextNode("\ufeff"),o);if(l)e.setStartBefore(a);else if(n[0]){l=b(n[0]);l=l.is(g)?l:l.find(g).first();if(l.length)e.setStart(l.get(0),0)}e.collapse(true);w.remove(a);w.remove(o)},_removeContent:function(e,t,i){if(t){var n=i?"nextSibling":"previousSibling",r,a=function(e){while(e&&!e[n])e=e.parentNode;return e&&b.contains(t,e)?e[n]:null};e=a(e);while(e){r=a(e);w.remove(e);e=r}}}}),n=e.extend({init:function(e){this.editor=e},keydown:function(e){var t=this,i=t.editor,n=i.keyboard,r=n.isTypingKey(e),a=h(b.Event(),e);t.editor.trigger("keydown",a);if(a.isDefaultPrevented()){e.preventDefault();return true}if(!a.isDefaultPrevented()&&r&&!n.isTypingInProgress()){var o=i.getRange();var s=i.body;t.startRestorePoint=new c(o,s);if(_(o)){var l=new C(i);l.remove(o);i.selectRange(o)}if(p.webkit&&!o.collapsed&&m(s,o))s.innerHTML="";if(i.immutables&&k.Immutables.immutablesContext(o)){var d=new k.BackspaceHandler(i);d.deleteSelection(o)}n.startTyping(function(){t._removeBomSpan();t.endRestorePoint=k._finishUpdate(i,t.startRestorePoint)});return true}return false},keyup:function(e){var t=this.editor.keyboard;this.editor.trigger("keyup",e);if(t.isTypingInProgress()){t.endTyping();return true}return false},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;if(!w.emptyNode(e)){if(e.nodeType===3)e=e.parentNode;if(w.insignificant(e)){e.textContent=w.stripBom(e.textContent);w.unwrap(e)}}}}),r=e.extend({init:function(e){this.editor=e},_addCaret:function(e){var t=w.create(this.editor.document,"a");if(!d.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===i.ELEMENT_NODE)e=e.firstChild;w.insertAt(e,t,0);w.stripBomNode(t.previousSibling);w.stripBomNode(t.nextSibling);return t},_restoreCaret:function(e){var t=this.editor.createRange();if(!e.nextSibling&&w.isDataNode(e.previousSibling))t.setStart(e.previousSibling,e.previousSibling.length);else t.setStartAfter(e);t.collapse(true);this.editor.selectRange(t);w.remove(e)},_handleDelete:function(e){var t=e.endContainer;var i=w.closestEditableOfType(t,w.blockElements);if(i&&k.RangeUtils.isEndOf(e,i)){var n=w.next(i);if(!n||w.name(n)!="p")return false;var r=w.significantChildNodes(n)[0];r=r&&w.isInline(r)?r:n;var a=this._addCaret(r);this._merge(i,n);this._restoreCaret(a);return true}return false},_cleanBomBefore:function(e){var t=e.startOffset;var i=e.startContainer;var n=i.nodeValue;var r=0;while(t-r>=0&&n[t-r-1]=="\ufeff")r++;if(r>0){i.deleteData(t-r,r);e.setStart(i,Math.max(0,t-r));e.collapse(true);this.editor.selectRange(e)}},_handleBackspace:function(e){var t=e.startContainer;var i=w.closestEditableOfType(t,["li"]);var n=w.closestEditableOfType(t,"p,h1,h2,h3,h4,h5,h6".split(","));var r=this.editor;var a;if(w.isDataNode(t)){if(e.collapsed&&/^\s[\ufeff]+$/.test(t.nodeValue)){e.setStart(t,0);e.setEnd(t,t.length);r.selectRange(e);return false}this._cleanBomBefore(e)}a=x(n,y,function(e){return!w.htmlIndentSpace(e)});if(e.collapsed&&e.startOffset!==e.endOffset&&e.startOffset<0){e.startOffset=0;e.endOffset=0;r.selectRange(e)}var o=i&&k.RangeUtils.isStartOf(e,i);var s=i&&b(i).index();var l=o&&s>0;if(l){n=i;a=w.prev(i)}if(n&&a&&w.is(a,"table")&&k.RangeUtils.isStartOf(e,n)){if(n.innerText==="")n.innerHTML="\ufeff";return true}if(k.RangeUtils.isStartOf(e,n)&&parseInt(n.style.marginLeft,10)>0){r.exec("outdent");return true}if(n&&a&&k.RangeUtils.isStartOf(e,n)||l){var d=w.significantChildNodes(n)[0];d=d&&w.isInline(d)?d:n;var u=this._addCaret(d);this._merge(a,n);this._restoreCaret(u);return true}if(o&&s===0){var c=i.firstChild;if(!c){i.innerHTML=k.emptyElementContent;c=i.firstChild}var f=new k.ListFormatter(w.name(i.parentNode),"p");e.selectNodeContents(i);f.toggle(e);if(w.insignificant(c))e.setStartBefore(c);else e.setStart(c,0);r.selectRange(e);return true}var p=t.childNodes[e.startOffset-1];var h=e;var m=p&&w.closestEditableOfType(p,["a"]);var g=x(p||t,y,function(e){return!w.isDataNode(e)||!w.isBom(e)&&e.length>0});if(m||(e.startOffset===0||p)&&w.is(g,"a")){m=m||g;h=r.createRange();h.setStart(m,m.childNodes.length);h.collapse(true)}m=m||w.closestEditableOfType(p||h.startContainer,["a"]);var v=m&&k.RangeUtils.isEndOf(h,m);if(v){var _=new k.UnlinkCommand({range:h,body:r.body,immutables:!!r.immutables});r.execCommand(_);r._selectionChange()}return false},_handleSelection:function(e){var t=e.commonAncestorContainer;var i=w.closest(t,"table");var n=k.emptyElementContent;var r=this.editor;var a;if(_(e)){var o=new C(r);o.remove(e);r.selectRange(e);return true}var s=new f;s.add(e,false);if(e.commonAncestorContainer===r.body)this._surroundFullyContent(s,e);if(r.immutables)this._handleImmutables(s);this._surroundFullySelectedAnchor(s,e);e.setStartAfter(s.start);e.setEndBefore(s.end);var l=e.startContainer;var d=e.endContainer;e.deleteContents();if(d.tagName.toLocaleLowerCase()==="li"&&w.emptyNode(d)){e.selectNode(d);e.deleteContents()}if(i&&b(i).text()===""){e.selectNode(i);e.deleteContents()}t=e.commonAncestorContainer;if(w.name(t)==="p"&&t.innerHTML===""){t.innerHTML=n;e.setStart(t,0)}this._join(l,d);w.insertAfter(r.document.createTextNode("\ufeff"),s.start);s.remove(e);l=e.startContainer;if(w.name(l)=="tr"){l=l.childNodes[Math.max(0,e.startOffset-1)];e.setStart(l,w.getNodeLength(l))}e.collapse(true);r.selectRange(e);a=l.parentElement||l.parentNode;if(w.isDataNode(l)&&!w.emptyNode(a))this._cleanBomBefore(e);return true},_handleImmutables:function(e){var t=k.Immutables.immutableParent;var i=t(e.start);var n=t(e.start);if(i)w.insertBefore(e.start,i);if(n)w.insertAfter(e.end,n);if(i)w.remove(i);if(n&&n.parentNode)w.remove(n)},_surroundFullyContent:function(e,t){var i=t.commonAncestorContainer.children,n=i[0],r=i[i.length-1];this._moveMarker(e,t,n,r)},_surroundFullySelectedAnchor:function(e,t){var i=e.start,n=b(i).closest("a").get(0),r=e.end,a=b(r).closest("a").get(0);this._moveMarker(e,t,n,a)},_moveMarker:function(e,t,i,n){var r=e.start,a=e.end;if(i&&u.isStartOf(t,i))w.insertBefore(r,i);if(n&&u.isEndOf(t,n))w.insertAfter(a,n)},_root:function(e){while(e&&w.name(e)!="body"&&e.parentNode&&w.name(e.parentNode)!="body")e=e.parentNode;return e},_join:function(e,t){e=this._root(e);t=this._root(t);if(e!=t&&w.is(t,"p"))this._merge(e,t)},_merge:function(e,t){w.removeTrailingBreak(e);while(e&&t.firstChild)if(e.nodeType==1){e=w.list(e)?e.children[e.children.length-1]:e;if(e)e.appendChild(t.firstChild)}else if(e.nodeType===i.TEXT_NODE)this._mergeWithTextNode(e,t.firstChild);else e.parentNode.appendChild(t.firstChild);w.remove(t)},_mergeWithTextNode:function(e,t){if(e&&e.nodeType===i.TEXT_NODE)if(e.nextSibling&&this._isCaret(e.nextSibling))w.insertAfter(t,e.nextSibling);else w.insertAfter(t,e)},_isCaret:function(e){return b(e).is("a")},keydown:function(e){var t,i;var n=this.editor;var r=n.getRange();var a=e.keyCode;var o=d.keys;var s=a===o.BACKSPACE;var l=a==o.DELETE;if(n.immutables&&n.immutables.keydown(e,r))return;if((s||l)&&!r.collapsed)t="_handleSelection";else if(s)t="_handleBackspace";else if(l)t="_handleDelete";if(!t)return;i=new c(r,n.body);if(this[t](r)){e.preventDefault();k._finishUpdate(n,i)}},deleteSelection:function(e){this._handleSelection(e)},keyup:b.noop}),a=e.extend({init:function(e){this.editor=e;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=k._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint)return this.startRestorePoint.html!=this.editor.body.innerHTML;return false},keydown:function(e){var t=this,i=t.editor,n=i.keyboard;if(n.isModifierKey(e)){if(n.isTypingInProgress())n.endTyping(true);t.startRestorePoint=new c(i.getRange(),i.body);return true}if(n.isSystem(e)){t.systemCommandIsInProgress=true;if(t.changed()){t.systemCommandIsInProgress=false;t.createUndoCommand()}return true}return false},keyup:function(){var e=this;if(e.systemCommandIsInProgress&&e.changed()){e.systemCommandIsInProgress=false;e.createUndoCommand();return true}return false}}),s=e.extend({init:function(e){this.editor=e},keydown:function(e){if(!p.webkit||e.isDefaultPrevented()||!(e.ctrlKey&&e.keyCode==65&&!e.altKey&&!e.shiftKey))return;if(this.editor.options.immutables)this._toSelectableImmutables();this._selectEditorBody()},_selectEditorBody:function(){var e=this.editor;var t=e.getRange();t.selectNodeContents(e.body);setTimeout(function(){e.selectRange(t)})},_toSelectableImmutables:function(){var e=this.editor,t=e.body,i=k.Immutables.immutable,n=w.emptyTextNode,r=t.firstChild,a=t.lastChild;while(n(r))r=r.nextSibling;while(n(a))a=a.previousSibling;if(r&&i(r))b(o).prependTo(t);if(a&&i(a))b(o).appendTo(t)},keyup:b.noop}),l=e.extend({init:function(e){this.handlers=e;this.typingInProgress=false},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e==229},toolFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,a=this._getShortcutModifier(t,navigator.platform);for(n in e){r=b.extend({ctrl:false,alt:false,shift:false},e[n].options);if((r.key==i||r.key==t.keyCode)&&r.ctrl==a&&r.alt==t.altKey&&r.shift==t.shiftKey)return n}},_getShortcutModifier:function(e,t){var i=t.toUpperCase().indexOf("MAC")>=0;return i?e.metaKey:e.ctrlKey},toolsFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,a,o=[];var s=function(e){return e==i||e==t.keyCode||e==t.charCode};for(n in e){r=b.extend({ctrl:false,alt:false,shift:false},e[n].options);a=Array.isArray(r.key)?b.grep(r.key,s).length>0:s(r.key);if(a&&r.ctrl==t.ctrlKey&&r.alt==t.altKey&&r.shift==t.shiftKey)o.push(e[n])}return o},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||t==32||t==13||t==8||t==46&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return t==17&&!e.shiftKey&&!e.altKey||t==16&&!e.ctrlKey&&!e.altKey||t==18&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return e.keyCode==46&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping)this.onEndTyping();this.typingInProgress=false},endTyping:function(e){var t=this;t.clearTimeout();if(e)t.stopTyping();else t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var i,n=this.handlers;for(i=0;i<n.length;i++)if(n[i][t](e))break},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});h(k,{TypingHandler:n,SystemHandler:a,BackspaceHandler:r,SelectAllHandler:s,Keyboard:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/exportpdf.min",["../command.min"],function(){var e=window.kendo.jQuery,t,i=window.kendo.ui.editor,n=i.Command,r=i.EditorUtils,a=r.registerTool,o=i.Tool,s=i.ToolTemplate,l=e.extend,d=n.extend({init:function(e){this.async=true;n.fn.init.call(this,e)},exec:function(){var e=this;var t=e.lockRange(true);var i=e.editor;i._destroyResizings();i.saveAsPDF().then(function(){e.releaseRange(t);i._initializeColumnResizing();i._initializeRowResizing();i._initializeElementResizing()})}});l(i,{ExportPdfCommand:d}),a("pdf",new o({command:d,template:new s({template:r.buttonTemplate,title:"Export PDF"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/print.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=t.ui.editor,n=i.Command,r=i.EditorUtils,a=r.registerTool,o=i.Tool,s=i.ToolTemplate,l=e.extend,d=n.extend({init:function(e){n.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;if(t.support.browser.msie)e.document.execCommand("print",false,null);else if(e.window.print)e.window.print()}});l(i,{PrintCommand:d}),a("print",new o({command:d,template:new s({template:r.buttonTemplate,title:"Print"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatpainter.min",["../command.min"],function(){var e=window.kendo.jQuery,t,i=window.kendo.ui.editor,n=i.Tool,r=i.Command,a=i.ToolTemplate,o=i.EditorUtils,k=i.Dom,s=i.RangeUtils,l=o.registerTool,d=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);this.inlineStyles=[];this.blockStyles=[];this.collectStyles(e);this.editor.inlineStyles=this.inlineStyles;this.editor.blockStyles=this.blockStyles;this.releaseRange(e)},collectStyles:function(e){var t=s.nodes(e);var i;if(t.length===1)i=t[0].parentNode;else i=e.startContainer;while(i&&!k.is(i,"body")&&i.getAttribute("data-role")!=="editor")if(k.isBlock(i)){this.populateStyles(i,"blockStyles");if(k.is(i,"li"))i=i.parentNode;else i=null}else{this.populateStyles(i,"inlineStyles");i=i.parentNode}},populateStyles:function(e,t){var i=e.style;var n=e.attributes;var r={tags:[e.tagName],attr:{style:{}}};var a,o,s,l,d;for(d=0;i&&d<i.length;d++){o=i[d];a=i[o];r.attr.style[o]=a}for(d=0;n&&d<n.length;d++){s=n[d].nodeName;l=n[d].nodeValue;if(s==="style")continue;else if(s==="class")r.attr.className=l;else r.attr[s]=l}this[t].push(r)}}),u=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);var t=s.getMarkers(e);var i=this.editor;var n=i.inlineStyles;var r=i.blockStyles;var a;if((!n||n.length===0)&&(!r||r.length===0))return;if(t.length===3){this.marker.removeCaret(e);this.marker.caret=null}this.removeEmptyElementsFromRange(e);a=s.nodes(e);this.cleanInlineParents(a);k.normalize(e.commonAncestorContainer);if(t.length===2){e.setStartAfter(t[0]);e.setEndBefore(t[1])}else{e.setStartBefore(a[0]);e.setEndAfter(a[0])}a=s.nodes(e);if(a&&r&&r.length)this.applyBlockStyles(a,r);if(a&&n&&n.length)this.applyInlineStyles(a,n);this.releaseRange(e)},removeEmptyElementsFromRange:function(e){var t=function(e){return k.isInline(e)&&!e.firstChild&&!k.isMarker(e)};var i,n;i=s.getAll(e,t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].parentNode.removeChild(i[n])},cleanInlineParents:function(e){var t,i,n,r,a,o,s;for(t=0;t<e.length;t++){i=e[t];n=i.parentNode;if(this.immutableParent(i))continue;while(n&&k.isInline(n)){r=n.childNodes;for(a=0;a<r.length;a++){o=r[a];if(!k.isMarker(o)&&o!==i){s=n.cloneNode(true);s.innerHTML="";k.wrap(o,s)}}k.unwrap(n);n=i.parentNode}}},applyBlockStyles:function(e,t){var i=t[0].tags[0];var n=t[0].attr;var r=this.editor.document;var a,o,s,l,d,u;var c,f,p,h,m,g,v,_,b;for(a=0,o=e.length;a<o;a++){s=e[a];if(k.isWhitespace(s)||this.immutableParent(s))continue;d=k.blockParentOrBody(s);if(d.tagName!=="BODY"&&d.tagName!==i){if(d.tagName!=="LI"&&d.tagName!=="TD"&&d.tagName!=="TH"){c=[];f=[];p=s.previousSibling;h=s.nextSibling;while(p){if(!k.isMarker(p))c.push(p);p=p.previousSibling}if(c.length){m=d.cloneNode(true);m.innerHTML="";k.insertBefore(m,c[0]);for(_=0;_<c.length;_++){v=c[_];k.insertAt(m,v,0)}}while(h){if(!k.isMarker(h))f.push(h);h=h.nextSibling}if(f.length){g=d.cloneNode(true);g.innerHTML="";k.insertBefore(g,f[0]);for(_=0;_<f.length;_++){v=f[_];g.appendChild(v)}}k.unwrap(d)}l=k.create(r,i,n);k.wrap(s,l)}else if(d.tagName===i)k.attr(d,n)}if(d&&t.length===2&&d.tagName!=="LI"&&i==="LI"){b=[];while(k.is(l,"li")){b.push(l);l=k.prev(l)}u=k.create(r,t[1].tags[0],t[1].attr);k.insertBefore(u,b[b.length-1]);u.appendChild(b[0]);for(a=1,o=b.length;a<o;a++)k.insertBefore(b[a],u.firstChild)}else if(d&&t.length===2&&d.tagName!=="LI"){u=k.create(r,t[1].tags[0],t[1].attr);k.wrap(l,u)}},applyInlineStyles:function(e,t){var i=this.editor.document;var n,r,a,o,s,l;for(o=0;o<t.length;o++){n=t[o];r=k.create(i,n.tags[0],n.attr);if(a)r.appendChild(a);a=r}if(a)for(o=0;o<e.length;o++){l=e[o];if(k.isWhitespace(l)||this.immutableParent(l))continue;s=a.cloneNode(true);k.insertBefore(s,l);while(s.children&&s.children.length)s=s.children[0];s.appendChild(l)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&i.Immutables.immutableParent(e)}}),c=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new d(e)}}),f=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new u(e)}});e.extend(i,{CopyFormatCommand:d,ApplyFormatCommand:u,CopyFormatTool:c,ApplyFormatTool:f}),l("copyFormat",new c({template:new a({template:o.buttonTemplate,title:"Copy format"})})),l("applyFormat",new f({template:new a({template:o.buttonTemplate,title:"Apply format"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/resizing-utils.min",["../main.min"],function(){var t=window.kendo,e=void 0,i=window,n=i.Math,r=n.min,a=n.max,o=i.parseFloat,s=t.jQuery,l,d,u="%",c="px",f=/(\d+)(\.?)(\d*)%/,p=/(\d+)(\.?)(\d*)px/,h="string",m;function g(e){var t=e.value;var i=e.min;var n=e.max;return a(r(o(t),o(n)),o(i))}function v(e){if(e&&!s(e).is("body")&&e.scrollHeight>e.clientHeight)return t.support.scrollbar();return 0}function _(e,t){if(b(e))return o(e);else return o(e)/t*100}function b(e){return typeof e===h&&f.test(e)}function k(e){return typeof e===h&&p.test(e)}function w(e){return o(e)+u}function y(e){return o(e)+c}(0,s.extend)(t.ui.editor,{ResizingUtils:{constrain:g,getScrollBarWidth:v,calculatePercentageRatio:_,inPercentages:b,inPixels:k,toPercentages:w,toPixels:y}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/table-element-resizing.min",["../main.min","kendo.resizable.min","./resizing-utils.min"],function(){var a=window.kendo,e=void 0,s=a.jQuery,n=s.extend,t=s.noop,i=a.ui.editor,r=a.Class,o="keydown",l="mousedown",d="mouseenter",u="mouseleave",c="mousemove",f="mouseup",p=",",h=".",m=":last-child",g="table",v=r.extend({init:function(e,t){var i=this;i.options=n({},i.options,t);i.options.tags=Array.isArray(i.options.tags)?i.options.tags:[i.options.tags];if(s(e).is(g)){i.element=e;i._attachEventHandlers()}},destroy:function(){var e=this;var t=e.options.eventNamespace;if(e.element){s(e.element).off(t);e.element=null}s(e.options.rootElement).off(o+t);e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:false,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this;var t=e.options;s(e.element).on(c+t.eventNamespace,t.tags.join(p),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this;var t=e._resizable;if(t)return!!t.resizing;return false},resize:t,detectElementBorderHovering:function(e){var t=this;var i=t.options;var n=i.handle;var r=s(e.currentTarget);var a=t.resizeHandle;var o=n.dataAttribute;if(!t.resizingInProgress())if(!r.is(m)&&t.elementBorderHovered(r,e))if(a){if(a.data(o)&&a.data(o)!==r[0])t.showResizeHandle(r,e)}else t.showResizeHandle(r,e);else if(a)t._destroyResizeHandle()},elementBorderHovered:t,showResizeHandle:function(e,t){var i=this;if(t.buttons!==0)return;i._initResizeHandle();i.setResizeHandlePosition(e);i.setResizeHandleDimensions();i.setResizeHandleDataAttributes(e[0]);i._attachResizeHandleEventHandlers();i._initResizable(e);i._hideResizeMarker();i.resizeHandle.show()},_initResizeHandle:function(){var e=this;var t=e.options;e._destroyResizeHandle();e.resizeHandle=s(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:t,setResizeHandleDimensions:t,setResizeHandleDataAttributes:function(e){var t=this;t.resizeHandle.data(t.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this;var t=e.options;var i=t.eventNamespace;var n=t.handle.classNames.marker;var r=e.resizeHandle;e.resizeHandle.on(l+i,function(){r.find(h+n).show()}).on(f+i,function(){r.find(h+n).hide()})},_hideResizeMarker:function(){var e=this;e.resizeHandle.find(h+e.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;if(e.resizeHandle){e._destroyResizable();e.resizeHandle.off(e.options.eventNamespace).remove();e.resizeHandle=null}},_initResizable:function(e){var t=this;if(!t.resizeHandle)return;t._destroyResizable();t._resizable=new a.ui.Resizable(e,{draggableElement:t.resizeHandle[0],start:t.onResizeStart.bind(t),resize:t.onResize.bind(t),resizeend:t.onResizeEnd.bind(t)})},_destroyResizable:function(){var e=this;if(e._resizable){e._resizable.destroy();e._resizable=null}},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:t,onResizeEnd:function(e){var t=this;t.resize(e);t._destroyResizeHandle();t._enableKeyboard()},_enableKeyboard:function(){var e=this.options;s(e.rootElement).off(o+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;s(e.rootElement).on(o+e.eventNamespace,function(e){e.preventDefault()})},_forceResizing:function(e){var t=this._resizable;if(t&&t.userEvents)t.userEvents._end(e)}}),_=r.extend({create:function(n,r){var a=this;var o=r.name;var e=r.eventNamespace;s(n.body).on(d+e,g,function(e){var t=e.currentTarget;var i=n[o];e.stopPropagation();if(i){if(i.element!==t&&!i.resizingInProgress()){a._destroyResizing(n,r);a._initResizing(n,t,r)}}else a._initResizing(n,t,r)}).on(u+e,g,function(e){var t;var i=n[o];e.stopPropagation();if(i&&!i.resizingInProgress()&&!i.resizeHandle){t=s(i.element).parents(g)[0];if(t){a._destroyResizing(n,r);a._initResizing(n,t,r)}}}).on(u+e,function(){var e=n[o];if(e&&!e.resizingInProgress())a._destroyResizing(n,r)}).on(f+e,function(e){var t=n[o];var i;if(t&&t.resizingInProgress()){i=s(e.target).parents(g)[0];if(i){t._forceResizing(e);a._destroyResizing(n,r);a._initResizing(n,i,r)}}})},dispose:function(e,t){s(e.body).off(t.eventNamespace)},_initResizing:function(e,t,i){var n=i.name;var r=i.type;e[n]=new r(t,{rtl:a.support.isRtl(e.element),rootElement:e.body})},_destroyResizing:function(e,t){var i=t.name;if(e[i]){e[i].destroy();e[i]=null}}});_.current=new _,v.create=function(e,t){_.current.create(e,t)},v.dispose=function(e,t){_.current.dispose(e,t)},n(i,{TableElementResizing:v})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/column-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min","../dom.min"],function(){var v=window.kendo,e=void 0,t,i,s=window.Math.abs,_=v.jQuery,n=_.extend,r=v.ui.editor,f=r.Dom,a=r.TableElementResizing,o=r.ResizingUtils,b=o.constrain,l=o.calculatePercentageRatio,k=o.getScrollBarWidth,d=o.inPercentages,u=o.toPercentages,c=o.toPixels,w=v._outerWidth,p=".kendoEditorColumnResizing",h="k-column-resize-handle",m="k-column-resize-marker",y="body",g="tbody",x="thead",C="td",S,T="tr",I="col-index",D=",",E="width",A=a.extend({options:{tags:[C,"th"],min:20,rootElement:null,eventNamespace:p,rtl:false,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:h,marker:m},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+h+'">'+'<div class="'+m+'"></div>'+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options;var r=n.handle.width;var a=e.offset().left+(n.rtl?0:w(e));var o=t.clientX+_(e[0].ownerDocument).scrollLeft();if(o>a-r&&o<a+r)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=_(t.element.tHead||t.element.tBodies[0]);var n=t.options;var r=n.rtl;var a=n.handle.width;var o=_(n.rootElement);var s=o.is(y)?0:o.scrollTop();var l=o.is(y)?0:v.scrollLeft(o);var d=r?0:w(e);var u=r?k(o[0]):0;var c=e.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var f=i.offset().top-(o.offset().top+parseFloat(o.css("borderTopWidth")))-parseFloat(i.css("marginTop"));var p=v.support.browser;if(r&&(p.mozilla||p.webkit&&p.version>=85))l=l*-1;t.resizeHandle.css({top:f+s,left:c+d+(l-u)-a/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=_(e.element).children(x);var i=_(e.element).children(g);var n=t.length>0?t.height()+i.height():i.height();e.resizeHandle.css({width:e.options.handle.width,height:n})},setResizeHandleDragPosition:function(e){var t=this;var i=_(_(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var r=_(n.rootElement);var a=n.handle?n.handle.width:0;var o=n.min;var s=n.rtl;var l=w(i);var d=i.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(i.css("marginLeft"));var u=w(i.next());var c=_(t.resizeHandle);var f=r.is(y)?0:v.scrollLeft(r);var p=s?k(r[0]):0;var h=c.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(c.css("marginLeft"));var m=v.support.browser;if(s&&(m.mozilla||m.webkit&&m.version>=85))f=f*-1;var g=b({value:h+(f-p)+e.x.delta,min:d+(f-p)-(s?u:0)+o,max:d+l+(f-p)+(s?0:u)-a-o});c.css({left:g})},resize:function(e){var t=this;var i=_(_(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var r=n.rtl?-1:1;var a=n.min;var o=r*e.x.initialDelta;var s;var l;var d;var u;var c;f.reMapTableColumns(t.element,I);u=parseInt(i.attr(I),10);if(i.prop("colSpan")>1){i=_(t.element).find("["+I+"="+(u+i.prop("colSpan")-1)+"]").eq(0);u=parseInt(i.attr(I),10)}c=_(t.element).find("["+I+"="+(u+1)+"]:not([colspan])");t._setTableComputedWidth();t._setColumnsComputedWidth();d=w(i);l=w(c);s=b({value:d+o,min:a,max:d+l-a});t._resizeColumn(i[0],s);t._resizeTopAndBottomColumns(i[0],s);t._resizeAdjacentColumns(parseInt(i.attr(I),10),l,d,d-s);f.clearTableMappings(t.element,I)},_setTableComputedWidth:function(){var e=this.element;if(e.style[E]==="")e.style[E]=c(w(_(e)))},_setColumnsComputedWidth:function(){var e=this;var t=_(e.element.tHead||e.element.tBodies[0]);var i=w(t);var n=t.children(T).children(C);var r=n.length;var a=n.map(function(){return w(_(this))});var o;for(o=0;o<r;o++)if(d(n[o].style[E]))n[o].style[E]=u(l(a[o],i));else n[o].style[E]=c(a[o])},_resizeTopAndBottomColumns:function(t,e){var i=this;var n=_(t).attr(I);var r=_(i.element).children(g+D+x).children(T).children(i.options.tags.join(D)).filter(function(){var e=this;return _(e).attr(I)===n&&e!==t});var a=r.length;var o;for(o=0;o<a;o++)i._resizeColumn(r[o],e)},_resizeColumn:function(e,t){var i=_(this.element.tHead||this.element.tBodies[0]);if(d(e.style[E]))e.style[E]=u(l(t,w(i)));else e.style[E]=c(t)},_resizeAdjacentColumns:function(e,t,i,n){var r=this;var a=_(r.element).children(g+D+x).children(T).children(r.options.tags.join(D)).filter(function(){return parseInt(_(this).attr(I),10)===e+1});var o=a.length;var s;for(s=0;s<o;s++)r._resizeAdjacentColumn(a[s],t,i,n)},_resizeAdjacentColumn:function(e,t,i,n){var r=this;var a=r.options.min;var o;o=b({value:t+n,min:a,max:s(i+t-a)});r._resizeColumn(e,o)}});A.create=function(e){a.create(e,{name:"columnResizing",type:A,eventNamespace:p})},A.dispose=function(e){a.dispose(e,{eventNamespace:p})},n(r,{ColumnResizing:A})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/row-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min"],function(){var c=window.kendo,e=void 0,t,p=window.Math.abs,g=c.jQuery,i=g.extend,n=c.ui.editor,r=n.TableElementResizing,a=n.ResizingUtils,f=a.getScrollBarWidth,v=a.constrain,d=a.calculatePercentageRatio,h=a.inPercentages,u=a.toPercentages,m=a.toPixels,_=c._outerHeight,o=".kendoEditorRowResizing",s="k-row-resize-handle",l,b="k-row-resize-marker",k="body",w="tr",y="tbody",x="thead",C=",",S="height",T=r.extend({options:{tags:[w],min:20,rootElement:null,eventNamespace:o,rtl:false,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:s,marker:b},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+s+'">'+'<div class="'+"k-row-resize-marker-wrapper"+'">'+'<div class="'+b+'"></div>'+"</div>"+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options.handle[S];var r=e.offset().top+_(e);var a=t.clientY+g(e[0].ownerDocument).scrollTop();if(a>r-n&&a<r+n)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=t.options;var n=i.handle[S];var r=g(i.rootElement);var a=r.is(k)?0:r.scrollTop();var o=r.is(k)?0:c.scrollLeft(r);var s=i.rtl?f(r[0]):0;var l=e.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var d=e.offset().top-(r.offset().top+parseFloat(r.css("borderTopWidth")))-parseFloat(e.css("marginTop"));var u=c.support.browser;if(i.rtl&&(u.mozilla||u.webkit&&u.version>=85))o=o*-1;t.resizeHandle.css({top:d+_(e)+a-n/2,left:l+(o-s),position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=g(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle[S]})},setResizeHandleDragPosition:function(e){var t=this;var i=t.options;var n=i.min;var r=g(t.element).children(x);var a=g(t.element).children(y);var o=r.length>0?r:a;var s=g(t.resizeHandle);var l=g(e.currentTarget).data(i.handle.dataAttribute);var d=g(l);var u=g(i.rootElement);var c=u.is(k)?0:u.scrollTop();var f=o.offset().top-(u.offset().top+parseFloat(u.css("borderTopWidth")))-parseFloat(o.css("marginTop"));var p=d.offset().top-(u.offset().top+parseFloat(u.css("borderTopWidth")))-parseFloat(d.css("marginTop"));var h=s.offset().top-(Math.max(0,u.offset().top)+parseFloat(u.css("borderTopWidth")))-parseFloat(s.css("marginTop"));var m=v({value:h+c+e.y.delta,min:p+c+n,max:f+_(r)+_(a)+c-i.handle[S]-n});s.css({top:m})},resize:function(e){var t=this;var i=t.options;var n=g(e.currentTarget).data(i.handle.dataAttribute);var r=_(g(n));var a=g(t.element);var o=_(a);var s=a.children(x);var l=s.length>0?s.height():0;var d=a.children(y);var u=d.height();var c=n.style[S];var f=v({value:r+e.y.initialDelta,min:i.min,max:p(l+u-i.min)});t._setRowsHeightInPixels();n.style[S]=m(f);t._setTableHeight(o+(f-r));if(h(c))t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e=this;var t=g(e.element).children(y+C+x).children(w);var i=t.length;var n=t.map(function(){return _(g(this))});var r;for(r=0;r<i;r++)t[r].style[S]=m(n[r])},_setRowsHeightInPercentages:function(){var e=this;var t=g(e.element).children(x);var i=t.length>0?t.height():0;var n=g(e.element).children(y);var r=n.height();var a=g(e.element).children(x+C+y).children(w);var o=a.length;var s=a.map(function(){return _(g(this))});var l;for(l=0;l<o;l++)a[l].style[S]=u(d(s[l],i+r))},_setTableHeight:function(e){var t=this.element;if(h(t.style[S]))t.style[S]=u(d(e,g(t).parent().height()));else t.style[S]=m(e)}});T.create=function(e){r.create(e,{name:"rowResizing",type:T,eventNamespace:o})},T.dispose=function(e){r.dispose(e,{eventNamespace:o})},i(n,{RowResizing:T})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resize-handle.min",["../main.min","kendo.draganddrop.min","./resizing-utils.min"],function(){var o=window.kendo,z=void 0,s=o.jQuery,i=s.extend,e=s.noop,t=o.ui.editor,n=o.Class,r=o.ui.Draggable,a=o.Observable,l=t.ResizingUtils.getScrollBarWidth,d=o._outerWidth,u=o._outerHeight,c=".kendoEditorElementResizeHandle",f="k-element-resize-handle",p="dragStart",h="drag",m="dragEnd",g="halfInside",v="mouseover",_="mouseout",b="body",R="table",k="east",w="north",y="northeast",x="northwest",C="south",S="southeast",T="southwest",I="west",N=".",L=a.extend({init:function(e){var t=this;a.fn.init.call(t);t.options=i({},t.options,e);t.element=s(t.options.template).appendTo(t.options.appendTo)[0];t._attachEventHandlers();t._addStyles();t._initDraggable();t._initPositioningStrategy();t._initDraggingStrategy();s(t.element).data(R,t.options.resizableElement)},destroy:function(){var e=this;s(e.element).off(c).remove();e.element=null;e._destroyDraggable();e.unbind()},options:{appendTo:null,direction:S,resizableElement:null,rtl:false,template:"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'>"+"<div class='"+f+"'></div>"+"</div>"},events:[p,h,m,v,_],show:function(){this._setPosition()},_setPosition:function(){var e=this;var t=e._positioningStrategy.getPosition();s(e.element).css({top:t.top,left:t.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;s(e.element).on(v+c,e._onMouseOver.bind(e)).on(_+c,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(v)},_onMouseOut:function(){this.trigger(_)},_addStyles:function(){var e=this;s(e.element).children(N+f).addClass("k-resize-"+e.options.direction)},_initPositioningStrategy:function(){var e=this;var t=e.options;e._positioningStrategy=A.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this;var t=e.element;if(e._draggable||!t)return;e._draggable=new r(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)})},_onDragStart:function(){this.trigger(p)},_onDrag:function(e){var t=this;t.trigger(h,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger(m)},_destroyDraggable:function(){var e=this;if(e._draggable){e._draggable.destroy();e._draggable=null}},_initDraggingStrategy:function(){var e=this;e._draggingStrategy=H.create({name:e.options.direction})}}),D=n.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t=this._items;var i=t.length;var n=e.name?e.name.toLowerCase():"";var r;var a;var o;for(o=0;o<i;o++){a=t[o];if(a.name.toLowerCase()===n){r=a;break}}if(r)return new r.type(e)}}),E=D.extend({}),A=(E.current=new E,n.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{handle:null,offset:g,resizableElement:null,rootElement:null,rtl:false},getPosition:function(){var e=this;var t=e.calculatePosition();var i=e.applyHandleOffset(t);var n=e.applyScrollOffset(i);return n},calculatePosition:e,applyHandleOffset:function(e){var t=this.options;var i=s(t.handle);if(t.offset===g)return{top:e.top-u(i)/2,left:e.left-d(i)/2};return e},applyScrollOffset:function(e){var t=this.options;var i=s(t.rootElement);var n=t.rtl?l(i[0]):0;var r=o.support.browser;var a;if(!i.is(b)){a=o.scrollLeft(i)||0;if(t.rtl&&(r.mozilla||r.webkit&&r.version>=85))a=a*-1;return{top:e.top+(i.scrollTop()||0),left:e.left+a-n}}return e}})),B=(A.create=function(e){return E.current.create(e)},A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+d(e)+i}}})),V=(E.current.register(k,B),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+d(e)/2+i}}})),U=(E.current.register(w,V),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+d(e)+i}}})),W=(E.current.register(y,U),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+i}}})),j=(E.current.register(x,W),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+d(e)/2+i}}})),q=(E.current.register(C,j),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+d(e)+i}}})),G=(E.current.register(S,q),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+i}}})),K=(E.current.register(T,G),A.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+i}}})),F=(E.current.register(I,K),D.extend({})),H=(F.current=new F,n.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options;var i=t.deltaX.adjustment*t.deltaX.modifier;var n=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*i,deltaY:e.deltaY*n,initialDeltaX:e.initialDeltaX*i,initialDeltaY:e.initialDeltaY*n}}})),P=(H.create=function(e){return F.current.create(e)},H.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}})),$=P.extend({options:{deltaX:{modifier:1}}}),Y=(F.current.register(k,$),P.extend({options:{deltaX:{modifier:-1}}})),O=(F.current.register(I,Y),H.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}})),Q=O.extend({options:{deltaY:{modifier:-1}}}),X=(F.current.register(w,Q),O.extend({options:{deltaY:{modifier:1}}})),M=(F.current.register(C,X),H.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}})),J=M.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}}),Z=(F.current.register(y,J),M.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}})),ee=(F.current.register(x,Z),M.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}})),te=(F.current.register(S,ee),M.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}}));F.current.register(T,te),i(t,{ElementResizeHandle:L})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resizing.min",["../main.min","./element-resize-handle.min","./resizing-utils.min"],function(){var d=window.kendo,z=void 0,R,e=window.Math,m=e.min,g=e.max,v=d.jQuery,s=v.contains,o=v.extend,N=d.support.browser,t=d.ui.editor,i=d.Class,L=t.ElementResizeHandle,n=t.ResizingUtils,_=n.calculatePercentageRatio,b=n.constrain,k=n.inPercentages,B=n.inPixels,w=n.toPercentages,y=n.toPixels,f=d._outerWidth,x=d._outerHeight,r=t.RangeUtils,l=".kendoEditorElementResizing",u="k-element-resize-handle-wrapper",V="k-table",a="k-element-resizing",c="dragStart",p="drag",h="dragEnd",C="keydown",S="mousedown",T="select",U="drop",W="td",I="tr",D="tbody",E="thead",j="table",q="img",G=["TABLE","IMG"],A=",",F="width",H="height",K,$,Y,Q,X,J,Z,ee,te=".";function P(e){return typeof e==="undefined"}var O=i.extend({init:function(e,t){var i=this;i.options=o({},i.options,t);i.handles=[];if(G.indexOf(e.nodeName)>=0)i.element=e},destroy:function(){var e=this;v(e.element).off(l);e.element=null;v(e.options.rootElement).off(C+l);e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:false,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=this;var i=o({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(i.deltaX,i.initialDeltaX);t._resizeHeight(i.deltaY,i.initialDeltaY);t.showResizeHandles()},_resizeWidth:function(){return false},_resizeHeight:function(){return false},_getMaxDimensionValue:function(e){var t=this;var i=v(t.element);var n=e.toLowerCase();var r=t.options.rtl?-1:1;var a=v(t.element).parent();var o=a[0];var s=a[n]();var l=r*(e===F?d.scrollLeft(a):a.scrollTop());if(o&&o===i.closest(W)[0])if(o.style[n]===""&&!k(t.element.style[n]))return Infinity;else return s+l;else return s+l},showResizeHandles:function(){var e=this;e._initResizeHandles();e._showResizeHandles()},_initResizeHandles:function(){var e=this;var t=e.handles;var i=e.options;var n=e.options.handles;var r=n.length;var a;if(t&&t.length>0)return;for(a=0;a<r;a++)e.handles.push(new L(o({appendTo:i.appendHandlesTo,resizableElement:e.element,rootElement:i.rootElement,rtl:i.rtl},n[a])));e._bindToResizeHandlesEvents()},_destroyResizeHandles:function(){var e=this;var t=e.handles?e.handles.length:0;for(var i=0;i<t;i++)e.handles[i].destroy();e.handles=[]},_showResizeHandles:function(){var e=this;var t=e.handles||[];var i=t.length;var n;for(n=0;n<i;n++)e.handles[n].show()},_bindToResizeHandlesEvents:function(){return false},_onResizeHandleDragStart:function(){var e=this;var t=v(e.element);t.addClass(a);e._initialElementHeight=x(t);e._initialElementWidth=f(t);e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){var e=this;v(e.element).removeClass(a);e._enableKeyboard()},_enableKeyboard:function(){v(this.options.rootElement).off(C+l)},_disableKeyboard:function(){v(this.options.rootElement).on(C+l,function(e){e.preventDefault()})}}),ie=O.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(c,e._onResizeHandleDragStart.bind(e));r.bind(p,e._onResizeHandleDrag.bind(e));r.bind(h,e._onResizeHandleDragEnd.bind(e))}},_hasRowsInPixels:function(){var e=this;var t=v(e.element).children(E+A+D).children(I);for(var i=0;i<t.length;i++)if(t[i].style.height===""||B(t[i].style.height))return true;return false},_resizeWidth:function(e,t){var i=this;var n=v(i.element);var r=n[0].style[F];var a=f(n);var o=n.parent().width();var s=i._getMaxDimensionValue(F);var l;var d;var u;var c;if(e===0)return;if(P(i._initialElementWidth))i._initialElementWidth=a;c=b({value:i._initialElementWidth+t,min:i.options.minWidth,max:s});if(k(r)){if(a+e>o){d=g(c,o);u=m(c,o)}else{d=m(c,o);u=g(c,o)}l=w(_(d,u))}else l=y(c);i._setColumnsWidth();n[0].style[F]=l},_resizeHeight:function(e,t){var i=this;var n=v(i.element);var r=n[0].style[H];var a=x(n);var o=n.parent();var s=o.height();var l=i._getMaxDimensionValue(H);var d;var u;var c;var f;var p=i.options.minHeight;var h=i._hasRowsInPixels();if(e===0)return;if(P(i._initialElementHeight))i._initialElementHeight=a;f=b({value:i._initialElementHeight+t,min:p,max:l});if(h&&e<0)i._setRowsHeightInPercentages();if(k(r)){if(a+e>s){u=g(f,s);c=m(f,s)}else{u=m(f,s);c=g(f,s)}d=w(_(u,c))}else d=y(f);n[0].style[H]=d;if(h&&e<0)i._setRowsHeightInPixels()},_setColumnsWidth:function(){var e=this;var t=v(e.element);var i=t.parent()[0];var n=t.closest(W);var r=n.closest(I).children();var a=r.length;var o;function s(e){var t=e.style.width;if(t!=="")return k(t)?true:false;else return v(e).hasClass(V)?true:false}if(s(t[0])&&i===n[0]&&i.style[F]==="")for(o=0;o<a;o++)r[o].style[F]=y(v(r[o]).width())},_setRowsHeightInPercentages:function(){var e=this;var t=v(e.element).children(E);var i=t.length>0?t.height():0;var n=v(e.element).children(D);var r=n.height();var a=v(e.element).children(E+A+D).children(I);var o=a.length;var s=a.map(function(){return x(v(this))});var l;for(l=0;l<o;l++)a[l].style[H]=w(_(s[l],i+r))},_setRowsHeightInPixels:function(){var e=this;var t=v(e.element).children(E+A+D).children(I);var i=t.length;var n=t.map(function(){return x(v(this))});var r;for(r=0;r<i;r++)t[r].style[H]=y(n[r])}}),ne=O.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(c,e._onResizeHandleDragStart.bind(e));if(r.options.direction==="north"||r.options.direction==="south")r.bind(p,e._onResizeHandleDragVertical.bind(e));else if(r.options.direction==="east"||r.options.direction==="west")r.bind(p,e._onResizeHandleDragHorizontal.bind(e));else r.bind(p,e._onResizeHandleDragLocked.bind(e));r.bind(h,e._onResizeHandleDragEnd.bind(e))}},_getDeltas:function(e){return o({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY);this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX);this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),i=this._initialElementWidth,n=this._initialElementHeight,r;if(t===e.initialDeltaX||t===e.initialDeltaX*-1){e.initialDeltaY=e.initialDeltaX*n/i;e.deltaY=e.deltaX}else if(t===e.initialDeltaY||t===e.initialDeltaY*-1){e.initialDeltaX=e.initialDeltaY*i/n;e.deltaX=e.deltaY}r=this._getDeltas(e);this._resizeWidth(r.deltaX,r.initialDeltaX);this._resizeHeight(r.deltaY,r.initialDeltaY);this.showResizeHandles()},_resizeWidth:function(e,t){var i=this;var n=v(i.element);var r=f(n);var a;var o;if(e===0)return;if(P(i._initialElementWidth))i._initialElementWidth=r;o=b({value:i._initialElementWidth+t,min:i.options.minWidth,max:i._getMaxDimensionValue(F)});a=y(o);n[0].style[F]=a;n.attr(F,Math.floor(o))},_resizeHeight:function(e,t){var i=this;var n=v(i.element);var r=x(n);var a;var o;if(e===0)return;if(P(i._initialElementHeight))i._initialElementHeight=r;o=b({value:i._initialElementHeight+t,min:i.options.minHeight,max:Number.MAX_SAFE_INTEGER});a=y(o);n[0].style[H]=a;n.attr(H,Math.floor(o))}}),M=i.extend({create:function(a){var o=this;v(a.body).on("dragstart"+l,function(){var e=r.nodes(a.getRange()),t=false;e.forEach(function(e){if(e.nodeName==="IMG")t=true});if(t&&e.length>1)a.elementResizing._destroyResizeHandles()}).on(U+l,function(){setTimeout(function(){var e=r.image(a.getRange());if(e){a.elementResizing._destroyResizeHandles();a.elementResizing.element=e;a.elementResizing.showResizeHandles()}})}).on(S+l,j+A+q,function(e){var t=e.target;var i=e.currentTarget;var n=a.elementResizing;var r=n?n.element:null;if(n){if(r&&i!==r)if(s(i,r)&&r!==t&&s(r,t))return;else if(r!==t){a._destroyElementResizing();o._initResizing(a,i)}}else o._initResizing(a,i);a._showElementResizeHandles()}).on(S+l,function(e){var t=a.elementResizing;var i=t?t.element:null;var n=e.target;var r=v(n).hasClass(u)||v(n).parents(te+u).length>0;if(t&&i!==n&&!s(i,n)&&!r)a._destroyElementResizing()})},dispose:function(e){v(e.body).off(l)},_initResizing:function(e,t){if(!N.msie){if(v(t).is(j))e.elementResizing=e.tableResizing=new ie(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});else if(v(t).is(q))e.elementResizing=new ne(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});if(e._showElementResizeHandlesProxy){e.unbind(T,e._showElementResizeHandlesProxy);e.bind(T,e._showElementResizeHandlesProxy)}}}});M.current=new M,o(t,{TableResizing:ie,ImageResizing:ne,ElementResizing:O,ElementResizingFactory:M})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-command.min",["./../plugins/tables.min"],function(){var m=window.kendo.jQuery,g=void 0,s=window.kendo,l=s.ui.editor,e=l.EditorUtils,i=l.RangeUtils,v=l.Dom,t=e.registerTool,n=l.ToolTemplate,r=l.Command,a=new l.BlockFormatFinder([{tags:["table"]}]),o=new l.BlockFormatFinder([{tags:["td","th"]}]),d=/([a-z]+|%)$/i,u="col",c="row",f="colgroup",p="scope",_="col-index",b="th",k="td",h="thead",w="headers",y="table",x=r.extend({exec:function(){var e=this;var t=e.editor;var i=e.range=e.lockRange();var n=e._sourceTable=!e.options.insertNewTable?e._selectedTable(i):g;var r=e._selectedTableCells=n?e._selectedCells(i):g;var a={visible:false,messages:t.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(n,r),dialogOptions:t.options.dialogOptions,isRtl:s.support.isRtl(t.wrapper)};var o=new l.TableWizardDialog(a);o.open()},onDialogClose:function(e){var t=this;t.releaseRange(t.range);if(e)if(t.options.insertNewTable)t.insertTable(t.createNewTable(e));else t.updateTable(e,t._sourceTable,t._selectedTableCells)},releaseRange:function(e){var t=this;var i=t.editor.document;v.windowFromDocument(i).focus();r.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e);t.collapse(true);this.editor.selectRange(t);this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(e){var t=m(e).parent().contents();var i=t.length-1;var n=t.get(i);while(n.nodeValue!==null&&(n.nodeValue===" "||n.nodeValue==="")){i-=1;n=t.get(i)}if(n===e)v.insertAfter(v.createEmptyNode(this.editor.document,"p"),e)},updateTable:function(e,t,i){var n=this;var r=m(t.rows).toArray();var a=e.tableProperties;var o=a.rows;var s=t.tHead;var l=n._lastInCollection;var d,u;while(i.length>1)i.pop();d=i.length?l(i).parentNode:l(r);n._deleteTableRows(r,r.length-o);if(r.length<o)n._addRows(d,o,r);v.reMapTableColumns(t,_);n._updateColumns(r,a.columns,i,d);n._updateTableProperties(t,a);u=e.cellProperties;if(i[0])v.attr(i[0],{id:u.id||null});(u.selectAllCells?m(r).children():m(i)).each(function(e,t){n._updateCellProperties(t,u)});n._updateCaption(t,a);if(s)n._updateHeadersWithThead(t,e);else n._updateHeadersNoThead(t,e);n._updateHeaderAssociates(t,a);v.clearTableMappings(t,_)},_isHeadingRow:function(e){return v.is(e.cells[0],b)&&v.is(e.parentNode,h)},_isHeadingCell:function(e){return v.is(e,b)},cellsWithHeadersAssociated:function(e){var t=m(e.rows).children();var i=[];var r=function(e){return i.indexOf(e)>-1};t.each(function(e,t){if(t.id&&v.is(t,b))i.push(t.id)});var n=t.filter(function(e,t){var i=t.getAttribute(w);var n;if(i&&!v.is(t,b)){n=i.split(" ");if(n&&n.length>0)return n.some(r)}return false});return!!n.length},_insertCells:function(e,t,i){i=isNaN(i)?-1:i;for(var n=0,r;n<e;n++){r=t.insertCell(i);r.innerHTML="&nbsp;"}},_deleteTableRows:function(e,t){for(var i=0,n,r;i<t;i++){n=e.pop();r=n.parentNode;r.removeChild(n);if(!r.rows.length)v.remove(r)}},createNewTable:function(e){var t=this;var i=t.editor.document;var n=e.tableProperties;var r=v.create(i,y);var a=0;var o;t._updateTableProperties(r,n);t._updateCaption(r,n);if(n.headerRows&&n.headerRows>0){o=r.createTHead();t._createTableRows(e,o,a,true);a+=n.headerRows}var s=r.createTBody();t._createTableRows(e,s,a,false);v.reMapTableColumns(r,_);if(n.cellsWithHeaders==="ids")v.associateWithIds(r);else if(n.cellsWithHeaders==="scope")t._addScopes(r,n.headerRows,n.headerColumns);v.clearTableMappings(r,_);return r},_createTableRows:function(e,t,i,n){var r=this;var a=e.tableProperties;var o=e.cellProperties;var s=a.columns;var l=n?a.headerRows:a.rows;var d=o.selectAllCells;var u=a.headerColumns;for(var c=i,f;c<l;c++){f=t.insertRow();for(var p=0,h;p<s;p++){if(n||u>p)h=document.createElement(b);else h=document.createElement(k);f.appendChild(h);h.innerHTML="&nbsp;";if(c===0&&p===0&&o.id)h.id=o.id;r._updateCellProperties(h,d||c===0&&p===0?o:{})}}},_addRows:function(e,t,i){var n=this;var r=m(e).index();var a=e.cells.length;var o=t-i.length;var s=e.parentNode;var l;while(o){l=s.insertRow(r+1);n._insertCells(a-l.cells.length,l);o--}},_updateColumns:function(e,r,t,i){var n=this;var a=n._lastInCollection;var o=a(e[0].cells);var s=Number(o.getAttribute(_))+o.colSpan;if(s>r)m(e).each(function(e,t){var i=a(t.cells);var n=Number(i.getAttribute(_))+i.colSpan;while(n>r){if(i.colSpan&&i.colSpan>1)i.colSpan-=1;else t.deleteCell(-1);i=a(t.cells);n=Number(i.getAttribute(_))+i.colSpan}});if(s<r){var l=m(a(t)||a(i.cells)).index();m(e).each(function(e,t){var i=a(t.cells);n._insertCells(r-Number(i.getAttribute(_))-i.colSpan,t,l+1)})}},_updateTableProperties:function(e,t){var i=this._getStylesData(t);v.attr(e,{cellSpacing:t.cellSpacing||null,cellPadding:t.cellPadding||null,className:t.className||null,id:t.id||null,summary:t.summary||null,style:i||null});m(e).addClass("k-table")},_updateCellProperties:function(e,t){var i=this._getStylesData(t);i.padding=t.cellPadding||null;i.margin=t.cellMargin||null;v.attr(e,{style:i||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var i=e.createCaption();i.innerHTML=t.captionContent;var n=this._getAlignmentData(t.captionAlignment);v.attr(i,{style:{textAlign:n.textAlign,verticalAlign:n.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.rows;var a,o,s,l,d;for(l=0;l<r.length;l++){a=r[l];o=a.cells;for(d=0;d<o.length;d++){s=o[d];if(!i._isHeadingCell(s)&&(l<n.headerRows||n.headerColumns>s.getAttribute(_)))v.changeTag(s,b,false);else if(i._isHeadingCell(s)&&l>=n.headerRows&&n.headerColumns<=s.getAttribute(_))v.changeTag(s,k,false)}}},_updateHeadersWithThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.tHead;var a=0;var o=e.tBodies[0];var s,l,d;if(!o)o=e.createTBody();if(n.headerRows&&n.headerRows>0){if(!r)r=e.createTHead();while(r.rows.length<n.headerRows)r.appendChild(o.rows[0]);while(r.rows.length>n.headerRows)o.appendChild(r.rows[0]);i._swapToHeaderCells(r)}else if(r){while(r.rows.length>0)o.appendChild(r.rows[r.rows.length-1]);e.deleteTHead()}while(o.rows.length>a){s=o.rows[a];for(d=0;d<s.cells.length;d++){l=s.cells[d];if(i._isHeadingCell(l)&&n.headerColumns<=l.getAttribute(_))v.changeTag(l,k,false);else if(!i._isHeadingCell(l)&&n.headerColumns>l.getAttribute(_))v.changeTag(l,b,false)}a+=1}},_updateHeaderAssociates:function(e,t){var i=this;if(t.cellsWithHeaders==="ids"){if(!i.cellsWithHeadersAssociated(e))i._removeScopes(e);v.associateWithIds(e)}else if(t.cellsWithHeaders==="scope"){if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);i._addScopes(e,t.headerRows,t.headerColumns)}else if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);else i._removeScopes(e)},_addScopes:function(e,t,i){var n=e.rows;var r,a,o,s;for(r=0;r<n.length;r++){o=n[r];for(a=0;a<o.cells.length;a++){s=o.cells[a];if(r<t)s.setAttribute(p,u);else if(s.getAttribute(_)<i)s.setAttribute(p,c)}}},_removeScopes:function(e){m(e).find(b).removeAttr(p);m(e).find(u).remove();m(e).find(f).remove()},_removeAssociates:function(e){m(e).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(e){var t=m(e).find("td");var i=function(e,t){v.changeTag(t,b,false)};t.each(i)},_getStylesData:function(e){var t=this._getAlignmentData(e.alignment);var i="wrapText"in e?e.wrapText?"":"nowrap":null;return{width:e.width?e.width+e.widthUnit:null,height:e.height?e.height+e.heightUnit:null,textAlign:t.textAlign,verticalAlign:t.verticalAlign,backgroundColor:e.bgColor||"",borderWidth:e.borderWidth,borderStyle:e.borderStyle,borderColor:e.borderColor||"",borderCollapse:e.collapseBorders?"collapse":null,whiteSpace:i}},_getAlignmentData:function(e){var t="";var i=t;if(e)if(e.indexOf(" ")!=-1){var n=e.split(" ");t=n[0];i=n[1]}else t=e;return{textAlign:t,verticalAlign:i}},parseTable:function(e,t){if(!e)return{tableProperties:{},selectedCells:[]};var i=this;var n=e.style;var r=e.rows;var a=e.caption;var o=m(a?a.cloneNode(true):g);o.find(".k-marker").remove();var s=e.className;s=s.replace(/^k-table\s|\sk-table$/,"");s=s.replace(/\sk-table\s/," ");s=s.replace(/^k-table$/,"");var l=i._getAlignment(e,true);var d=a?i._getAlignment(a):g;var u=v._getNumberOfHeaderRows(e);var c;if(i.cellsWithHeadersAssociated(e))c="ids";else if(m(e).find("th[scope]").length>0)c="scope";else c="none";v.reMapTableColumns(e,_);var f=v._getNumberOfColumns(e);var p=v._getNumberOfHeaderColumns(e,u);v.clearTableMappings(e,_);var h={tableProperties:{width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,columns:f,rows:r.length,widthUnit:i._getUnit(n.width),heightUnit:i._getUnit(n.height),cellSpacing:e.cellSpacing,cellPadding:e.cellPadding,alignment:l.textAlign,bgColor:n.backgroundColor||e.bgColor,className:s,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle||"",collapseBorders:!!n.borderCollapse,summary:e.summary,captionContent:a?o.html():"",captionAlignment:a&&d.textAlign?d.textAlign+" "+d.verticalAlign:"",headerRows:u,headerColumns:p,cellsWithHeaders:c},selectedCells:[]};h.rows=i.parseTableRows(r,t,h);return h},parseTableRows:function(e,t,i){var n=this;var r=[],a,o,s,l,d;for(var u=0;u<e.length;u++){a=e[u];o={cells:[]};s=a.cells;r.push(o);for(var c=0;c<s.length;c++){l=s[c];d=n.parseCell(l);if(m.inArray(l,t)!=-1)i.selectedCells.push(d);o.cells.push(d)}}return r},parseCell:function(e){var t=this;var i=e.style;var n=t._getAlignment(e);n=n.textAlign?n.textAlign+" "+n.verticalAlign:"";var r={width:i.width||e.width?parseFloat(i.width||e.width):null,height:i.height||e.height?parseFloat(i.height||e.height):null,widthUnit:t._getUnit(i.width),heightUnit:t._getUnit(i.height),cellMargin:i.margin,cellPadding:i.padding,alignment:n,bgColor:i.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:i.borderWidth||e.border,borderColor:i.borderColor,borderStyle:i.borderStyle,wrapText:i.whiteSpace!="nowrap"};return r},_getAlignment:function(e,t){var i=e.style;var n=i.textAlign||e.align||"";if(t)return{textAlign:n};var r=i.verticalAlign||e.vAlign||"";if(n&&r)return{textAlign:n,verticalAlign:r};if(!n&&r)return{textAlign:"left",verticalAlign:r};if(n&&!r)return{textAlign:n,verticalAlign:"top"};return{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(d);return t?t[0]:"px"},_selectedTable:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return a.findSuitable(t)[0]},_selectedCells:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return o.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]}}),C=l.Tool.extend({command:function(e){e.insertNewTable=this.options.insertNewTable;return new x(e)}}),S=C.extend({update:function(e,t){var i=!a.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}});s.ui.editor.TableWizardTool=C,t("tableWizard",new S({command:s.ui.editor.TableWizardCommand=x,insertNewTable:false,template:new n({template:e.buttonTemplate,title:"Table Wizard"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-dialog.min",["./table-wizard-command.min","kendo.tabstrip.min"],function(){var f=window.kendo.jQuery,e=void 0,p=window.kendo,o={format:"0",min:0},l=["px","em"],d=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],u=4,a={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},s={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},c={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},t='<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div id="k-table-wizard-tabs" class="k-root-tabs">'+"<ul>"+'<li class="k-active">#= messages.tableTab #</li>'+"<li>#= messages.cellTab #</li>"+"<li>#= messages.accessibilityTab #</li>"+"</ul>"+'<div id="k-table-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-width" />'+'<input id="k-editor-table-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-height" />'+'<input id="k-editor-table-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-columns">#= messages.columns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-rows">#= messages.rows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-spacing" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-border-width" />'+'<input id="k-editor-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label>'+"</div>"+"</div>"+'<div id="k-cell-properties">'+'<div class="k-edit-field">'+'<input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-width" />'+'<input id="k-editor-cell-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-height" />'+'<input id="k-editor-cell-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-margin">#= messages.cellMargin #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-margin" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cells-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cells-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-border-width" />'+'<input id="k-editor-cell-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-wrap-text" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label>'+"</div>"+"</div>"+'<div id="k-accessibility-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-header-rows">#= messages.headerRows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-header-columns">#= messages.headerColumns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-caption">#= messages.caption #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-table-caption" class="k-input-inner" type="text"/></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-accessibility-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-summary">#= messages.summary #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-input k-textarea k-input-solid k-input-md k-rounded-md"><textarea id="k-editor-accessibility-summary" rows="5" class="k-input-inner k-editor-accessibility-summary" placeholder="#= messages.tableSummaryPlaceholder #"></textarea></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cells-headers">#= messages.associateCellsWithHeaders #</label>'+"</div>"+'<div class="k-edit-field">'+'<select id="k-editor-cells-headers">'+'<option value="none">#= messages.associateNone #</option>'+'<option value="scope">#= messages.associateScope #</option>'+'<option value="ids">#= messages.associateIds #</option>'+"</select>"+"</div>"+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-dialog-ok"><span class="k-button-text">#= messages.dialogOk #</span></button>'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-dialog-close"><span class="k-button-text">#= messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>",i=p.Class.extend({init:function(e){this.options=e},open:function(){var t=this,i=t.options,e=i.dialogOptions,n=i.table,r,a=i.messages,o=p.support.browser.msie;function s(e){e.preventDefault();t.destroy();r.destroy()}function l(e){t.collectDialogValues(n);s(e);if(t.change)t.change();i.closeCallback(n)}function d(e){s(e);i.closeCallback()}e.close=d;e.title=a.tableWizard;e.visible=i.visible;r=f(t._dialogTemplate(a)).appendTo(document.body).kendoWindow(e).closest(".k-window").toggleClass("k-rtl",i.isRtl).end().find(".k-dialog-ok").on("click",l).end().find(".k-dialog-close").on("click",d).end().data("kendoWindow");var u=r.element;t._initTabStripComponent(u);t._initTableViewComponents(u,n);t._initCellViewComponents(u,n);t._initAccessibilityViewComponents(u,n);r.center();r.open();if(o){var c=u.closest(".k-window").height();u.css("max-height",c)}},_initTabStripComponent:function(e){var t=this.components={};t.tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:false}).data("kendoTabStrip")},collectDialogValues:function(){var e=this;var t=e.options.table;e._collectTableViewValues(t);e._collectCellViewValues(t);e._collectAccessibilityViewValues(t)},_collectTableViewValues:function(e){var t=this.components.tableView;var i=e.tableProperties;i.width=t.width.value();i.widthUnit=t.widthUnit.value();i.height=t.height.value();i.columns=t.columns.value();i.rows=t.rows.value();i.heightUnit=t.heightUnit.value();i.cellSpacing=t.cellSpacing.value();i.cellPadding=t.cellPadding.value();i.alignment=t.alignment.value();i.bgColor=t.bgColor.value();i.className=t.className.value;i.id=t.id.value;i.borderWidth=t.borderWidth.value();i.borderColor=t.borderColor.value();i.borderStyle=t.borderStyle.value();i.collapseBorders=t.collapseBorders.checked},_collectCellViewValues:function(e){var t=e.cellProperties={};var i=this.components.cellView;t.selectAllCells=i.selectAllCells.checked;t.width=i.width.value();t.widthUnit=i.widthUnit.value();t.height=i.height.value();t.heightUnit=i.heightUnit.value();t.cellMargin=i.cellMargin.value();t.cellPadding=i.cellPadding.value();t.alignment=i.alignment.value();t.bgColor=i.bgColor.value();t.className=i.className.value;t.id=i.id.value;t.borderWidth=i.borderWidth.value();t.borderColor=i.borderColor.value();t.borderStyle=i.borderStyle.value();t.wrapText=i.wrapText.checked;if(!t.width){t.selectAllCells=true;t.width=100/e.tableProperties.columns;t.widthUnit="%"}},_collectAccessibilityViewValues:function(e){var t=e.tableProperties;var i=this.components.accessibilityView;t.captionContent=i.captionContent.value;t.captionAlignment=i.captionAlignment.value();t.summary=i.summary.value;t.cellsWithHeaders=i.cellsWithHeaders.value();t.headerRows=i.headerRows.value();t.headerColumns=i.headerColumns.value()},_addUnit:function(e,t){if(t&&f.inArray(t,e)==-1)e.push(t)},_initTableViewComponents:function(e,t){var a=this;var i=a.components;var n=i.tableView={};var r=t.tableProperties=t.tableProperties||{};r.borderStyle=r.borderStyle||"";var o=function(e){var t=a.components.accessibilityView;var i=t.headerColumns;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};var s=function(e){var t=a.components.accessibilityView;var i=t.headerRows;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};a._addUnit(l,r.widthUnit);a._addUnit(l,r.heightUnit);a._initNumericTextbox(e.find("#k-editor-table-width"),"width",r,n);a._initNumericTextbox(e.find("#k-editor-table-height"),"height",r,n);a._initNumericTextbox(e.find("#k-editor-table-columns"),"columns",r,n,{min:1,value:u,change:o});a._initNumericTextbox(e.find("#k-editor-table-rows"),"rows",r,n,{min:1,value:u,change:s});a._initDropDownList(e.find("#k-editor-table-width-type"),"widthUnit",r,n,l);a._initDropDownList(e.find("#k-editor-table-height-type"),"heightUnit",r,n,l);a._initNumericTextbox(e.find("#k-editor-table-cell-spacing"),"cellSpacing",r,n);a._initNumericTextbox(e.find("#k-editor-table-cell-padding"),"cellPadding",r,n);a._initTableAlignmentDropDown(e.find("#k-editor-table-alignment"),r);a._initColorPicker(e.find("#k-editor-table-bg"),"bgColor",r,n);a._initInput(e.find("#k-editor-css-class"),"className",r,n);a._initInput(e.find("#k-editor-id"),"id",r,n);a._initNumericTextbox(e.find("#k-editor-border-width"),"borderWidth",r,n);a._initColorPicker(e.find("#k-editor-border-color"),"borderColor",r,n);a._initBorderStyleDropDown(e.find("#k-editor-border-style"),"borderStyle",r,n,d);a._initCheckbox(e.find("#k-editor-collapse-borders"),"collapseBorders",r,n)},_initCellViewComponents:function(e,t){var i=this.components;var n=i.cellView={};t.selectedCells=t.selectedCells=t.selectedCells||[];var r=t.selectedCells[0]||{borderStyle:"",wrapText:true};this._addUnit(l,r.widthUnit);this._addUnit(l,r.heightUnit);this._initCheckbox(e.find("#k-editor-selectAllCells"),"selectAllCells",t.tableProperties,n);this._initNumericTextbox(e.find("#k-editor-cell-width"),"width",r,n);this._initNumericTextbox(e.find("#k-editor-cell-height"),"height",r,n);this._initDropDownList(e.find("#k-editor-cell-width-type"),"widthUnit",r,n,l);this._initDropDownList(e.find("#k-editor-cell-height-type"),"heightUnit",r,n,l);this._initNumericTextbox(e.find("#k-editor-table-cell-margin"),"cellMargin",r,n);this._initNumericTextbox(e.find("#k-editor-table-cells-padding"),"cellPadding",r,n);this._initCellAlignmentDropDown(e.find("#k-editor-cell-alignment"),r);this._initColorPicker(e.find("#k-editor-cell-bg"),"bgColor",r,n);this._initInput(e.find("#k-editor-cell-css-class"),"className",r,n);this._initInput(e.find("#k-editor-cell-id"),"id",r,n);this._initNumericTextbox(e.find("#k-editor-cell-border-width"),"borderWidth",r,n);this._initColorPicker(e.find("#k-editor-cell-border-color"),"borderColor",r,n);this._initBorderStyleDropDown(e.find("#k-editor-cell-border-style"),"borderStyle",r,n,d);this._initCheckbox(e.find("#k-editor-wrap-text"),"wrapText",r,n)},_initAccessibilityViewComponents:function(e,t){var i=this.components;var n=i.accessibilityView={};var r=t.tableProperties;this._initInput(e.find("#k-editor-table-caption"),"captionContent",r,n);this._initAccessibilityAlignmentDropDown(e.find("#k-editor-accessibility-alignment"),r);this._initInput(e.find("#k-editor-accessibility-summary"),"summary",r,n);this._initAssociationDropDown(e.find("#k-editor-cells-headers"),"cellsWithHeaders",{valuePrimitive:true},r,n);this._initNumericTextbox(e.find("#k-editor-table-header-rows"),"headerRows",r,n,{max:r.rows||u});this._initNumericTextbox(e.find("#k-editor-table-header-columns"),"headerColumns",r,n,{max:r.columns||u})},_initNumericTextbox:function(e,t,i,n,r){var a=n[t]=e.kendoNumericTextBox(r?f.extend({},o,r):o).data("kendoNumericTextBox");if(t in i)a.value(parseInt(i[t],10))},_initDropDownList:function(e,t,i,n,r){var a=n[t]=e.kendoDropDownList({dataSource:r}).data("kendoDropDownList");this._setComponentValue(a,i,t)},_initBorderStyleDropDown:function(e,t,i,n,r){var a=n[t]=e.kendoDropDownList({dataSource:r,optionLabel:this.options.messages.borderNone}).data("kendoDropDownList");this._setComponentValue(a,i,t)},_initTableAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.tableView;var r=a.dataSource;r[0].tooltip=i.alignLeft;r[1].tooltip=i.alignCenter;r[2].tooltip=i.alignRight;r[3].tooltip=i.alignRemove;this._initAlignmentDropDown(e,a,"alignment",t,n)},_initCellAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.cellView;var r=s.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftMiddle;r[4].tooltip=i.alignCenterMiddle;r[5].tooltip=i.alignRightMiddle;r[6].tooltip=i.alignLeftBottom;r[7].tooltip=i.alignCenterBottom;r[8].tooltip=i.alignRightBottom;r[9].tooltip=i.alignRemove;this._initAlignmentDropDown(e,s,"alignment",t,n)},_initAccessibilityAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.accessibilityView;var r=c.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftBottom;r[4].tooltip=i.alignCenterBottom;r[5].tooltip=i.alignRightBottom;r[6].tooltip=i.alignRemove;this._initAlignmentDropDown(e,c,"captionAlignment",t,n)},_initAlignmentDropDown:function(e,t,i,n,r){var a=r[i]=e.kendoDropDownList(t).data("kendoDropDownList");a.list.addClass("k-align").css("width","110px");this._setComponentValue(a,n,i)},_initAssociationDropDown:function(e,t,i,n,r){var a=r[t]=e.kendoDropDownList(i).data("kendoDropDownList");this._setComponentValue(a,n,t)},_setComponentValue:function(e,t,i){if(i in t)e.value(t[i])},_initColorPicker:function(e,t,i,n){var r=n[t]=e.kendoColorPicker({buttons:false,clearButton:true}).data("kendoColorPicker");if(i[t])r.value(i[t])},_initInput:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.value=i[t]},_initCheckbox:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.checked=i[t]},destroy:function(){this._destroyComponents(this.components.tableView);this._destroyComponents(this.components.cellView);this._destroyComponents(this.components.accessibilityView);this._destroyComponents(this.components);delete this.components},_destroyComponents:function(e){for(var t in e){if(e[t].destroy)e[t].destroy();delete e[t]}},_dialogTemplate:function(e){return p.template(t)({messages:e})}});p.ui.editor.TableWizardDialog=i})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editor.min",["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.numerictextbox.min","./util/undoredostack.min","./editor/main.min","./editor/dom.min","./editor/serializer.min","./editor/range.min","./editor/command.min","./editor/components.min","./editor/toolbar.min","./editor/immutables.min","./editor/plugins/viewhtml.min","./editor/plugins/link.min","./editor/plugins/lists.min","./editor/plugins/formatting.min","./editor/plugins/image.min","./editor/plugins/import.min","./editor/plugins/insert.min","./editor/plugins/export.min","./editor/plugins/indent.min","./editor/plugins/linebreak.min","./editor/plugins/format.min","./editor/plugins/inlineformat.min","./editor/plugins/formatblock.min","./editor/plugins/file.min","./editor/plugins/tables.min","./editor/plugins/clipboard.min","./editor/plugins/keyboard.min","./editor/plugins/exportpdf.min","./editor/plugins/print.min","./editor/plugins/formatpainter.min","./editor/resizing/column-resizing.min","./editor/resizing/row-resizing.min","./editor/resizing/element-resizing.min","./editor/resizing/element-resize-handle.min","./editor/table-wizard/table-wizard-command.min","./editor/table-wizard/table-wizard-dialog.min"],function(){var e={id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]},{id:"editor-resizable",name:"Resize handle",description:"Support for resizing the content area via a resize handle",depends:["resizable"]},{id:"editor-tablewizard",name:"Table wizard dialog",description:"Support for table properties configuration",depends:["tabstrip","button","numerictextbox"]},{id:"editor-pdf-export",name:"PDF export",description:"Export Editor content as PDF",depends:["pdf","drawing"]}]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.button.menu.min",["kendo.core.min","kendo.popup.min"],function(){var e={id:"button.menu",name:"ButtonMenu",category:"web",description:"The popup Menu list part of the SplitButton and the DropDownButton",depends:["core","popup"]},o=window.kendo.jQuery,t=void 0,a=window.kendo,n=a.ui.Widget,i=".kendoButtonMenu",r=a.ui,s=a.keys,l=o.extend,d=".",u="id",c="next",f="prev",p="k-disabled",h="k-hidden",m="aria-disabled",g="menu",v="menuitem",_="tabindex",b="click",k="menuClick",w="menuOpen",y="menuClose",x="keydown",C="focus",S={popup:"k-menu-popup",list:"k-group k-menu-group k-reset",listItem:"k-item k-menu-item",menuItem:"k-menu-item",itemText:"k-menu-link-text",item:"k-link k-menu-link",sprite:"k-sprite",image:"k-image",icon:"k-icon"},T={text:null,icon:null,url:null,attributes:null,enabled:true,hidden:false,id:null,imageUrl:null,spriteCssClass:null},I='#if(imageUrl){#<img alt="icon" class="'+S.image+'" src="#:imageUrl#" />#}#',D='#if(spriteCssClass){#<span class="'+S.sprite+' #:spriteCssClass#"></span>#}#',E='#if(icon){#<span class="'+S.icon+' k-i-#:icon#"></span>#}#',A='#if(text){#<span class="'+S.itemText+'">#:text#</span>#}#',F='<span class="'+S.item+'">'+I+D+E+A+"</span>",H='<a href="#:url#" class="'+S.item+'">'+I+D+E+A+"</a>";function P(e,t){var i=t===c?o.fn.next:o.fn.prev;var n=t===c?o.fn.first:o.fn.last;var r=i.call(e);var a=":kendoFocusable";if(!r.length)r=n.call(e.parent().find(d+S.menuItem));if(r.is(a)||!r.length)return r;if(r.find(a).length)return n.call(r.find(a));return P(r,t)}var O=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i.mainButton=t.mainButton;i._clickHandlers={};i._renderList();i._initPopup();i._attachEvents();i._applyCssClasses(i.list)},options:{name:"ButtonMenu",element:null,items:[],size:"medium"},events:[k,w,y],_renderList:function(){var e=this,t=e.options.items,i=e.element.addClass(S.popup),n=e.mainButton.attr(u)||a.guid(),r=o('<ul role="'+g+'"></ul>').addClass(S.list);e.list=r.appendTo(i);e.list.attr(u,n+"_buttonmenu");t.forEach(e._renderListItem.bind(e))},_renderListItem:function(e){var t=this,i,n;e=l({},T,e,{enabled:e.enable&&e.enabled});i=e.id||a.guid();n=o('<li id="'+i+'" role="'+v+'" class="'+S.listItem+'">'+t._renderItemButton(e)+"</li>");if(e.click)t._clickHandlers[i]=e.click;if(e.attributes)n.attr(e.attributes);if(e.data&&a.isFunction(e.data))n.data(e.data(e));t.list.append(n);t.enable(e.enabled,n);t._hide(e.hidden,n)},_renderItemButton:function(e){var t=this,i=t.options;if(i.itemTemplate)return a.template(i.itemTemplate)(e);if(e.url)return a.template(H)(e);else return a.template(F)(e)},_initPopup:function(){var e=this,t=e.options;e._popup=new r.Popup(e.element,l({},t.popup,{anchor:e.mainButton,isRtl:e._isRtl,toggleTarget:t.toggleTarget,copyAnchorStyles:false,animation:t.animation,open:e._popupOpenHandler.bind(e),close:e._popupCloseHandler.bind(e),activate:e._popupExpandHandler.bind(e)}))},_popupOpenHandler:function(e){var t=this;var i=t.trigger(w);if(i){e.preventDefault();return}t.list.find(d+S.menuItem).attr(_,0)},_popupCloseHandler:function(e){var t=this,i=t.trigger(y);if(i)e.preventDefault();t.list.find(d+S.menuItem).attr(_,-1)},_popupExpandHandler:function(){var e=this;e.list.find(":kendoFocusable").first().trigger(C)},adjustPopupWidth:function(e){var t=this;t.element.addClass("k-split-wrapper");t.element.css({"min-width":e})},_attachEvents:function(){var e=this;e.list.on(b+i,d+S.menuItem,e._click.bind(e)).on(x+i,d+S.menuItem,e.listItemKeydown.bind(e));e.mainButton.on(x+i,e._keydown.bind(e))},_keydown:function(e){var t=this;if(o(e.target).is(d+p)||o(e.target).parents(d+p).length)return;if(e.altKey&&e.keyCode===s.DOWN){t._popup.open();e.preventDefault();return}},listItemKeydown:function(e){var t=this,i=o(e.target);e.preventDefault();if(e.keyCode===s.ESC||e.keyCode===s.TAB||e.altKey&&e.keyCode===s.UP){t._popup.close();t.mainButton.trigger(C)}else if(e.keyCode===s.DOWN)P(i,c).trigger(C);else if(e.keyCode===s.UP)P(i,f).trigger(C);else if(!i.is(d+p)&&(e.keyCode===s.SPACEBAR||e.keyCode===s.ENTER))i.trigger(b);else if(e.keyCode===s.HOME)t.list.find(":kendoFocusable").filter(d+S.menuItem).first().trigger(C);else if(e.keyCode===s.END)t.list.find(":kendoFocusable").filter(d+S.menuItem).last().trigger(C)},_click:function(e){var t=this,i=o(e.target).closest(d+S.menuItem),n=i.attr(u);if(t._clickHandlers[n])t._clickHandlers[n](e);t.trigger(k,{id:n,target:i,type:"menu-click",originalEvent:e})},toggle:function(){this._popup.toggle()},enable:function(e,t){var i=this;if(!t||!t.length)t=i.items();else t=i.list.find(t);t.toggleClass(p,!e);if(e)t.removeAttr(m);else t.attr(m,!e)},_hide:function(e,t){var i=this;if(!t||!t.length)t=i.items();else t=i.list.find(t);t.toggleClass(h,e)},hide:function(e){this._hide(true,e)},show:function(e){this._hide(false,e)},close:function(){this._popup.close()},items:function(){return this.list.children(d+S.menuItem)},destroyPopup:function(){var e=this;if(e._popup){e._popup.destroy();e._popup=null;e.list.off(i);e.list.remove();e.list=null}},destroy:function(){var e=this;delete e._clickHandlers;e.destroyPopup();e.mainButton.off(i);n.fn.destroy.call(e)}});return a.cssProperties.registerPrefix("ButtonMenu","k-menu-group-"),r.plugin(O),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.splitbutton.min",["kendo.html.button.min","kendo.button.menu.min"],function(){var e={id:"splitbutton",name:"SplitButton",category:"web",description:"The SplitButton allows the user to execute a default action which is bound to a Button or to choose a predefined action from a drop-down list.",depends:["button.menu","html.button"]},a=window.kendo.jQuery,r=void 0,n=window.kendo,o=n.ui.Widget,t=".kendoSplitButton",i=n.ui,s=a.extend,l=n.html,d=n._outerWidth,u=n.keys,c=".",f="id",p="aria-haspopup",h="aria-disabled",m="aria-controls",g="aria-label",v="aria-expanded",_="disabled",b="k-disabled",k="k-focus",w="click",y="keydown",x="open",C="close",S="focus",T="blur",I={widget:"k-split-button k-button-group"},D=o.extend({init:function(e,t){var i=this;t.enabled=t.enabled!==false&&!a(e).prop(_);o.fn.init.call(i,e,t);i._wrapper();i._renderButtons();i._renderMenu();i._enable(i.options.enabled);i._aria();i._attachEvents();n.notify(i);i._applyCssClasses()},options:{name:"SplitButton",enabled:true,items:[],rounded:"medium",size:"medium",fillMode:"solid",themeColor:"base",icon:null,popup:null,arrowIcon:"arrow-s",messages:{labelSuffix:"splitbutton"}},events:[w,x,C],_wrapper:function(){var e=this,t=e.element.attr(f)||n.guid(),i=t+"_wrapper";e.wrapper=e.element.wrap('<div id="'+i+'" class="'+I.widget+'"></div>').parent(".k-split-button");e.arrowButton=a('<button tabindex="-1" aria-label="arrow-button" class="k-split-button-arrow"></button>').appendTo(e.wrapper)},_applyCssClasses:function(){var e=this;e.wrapper.addClass(e._getAppearanceClasses())},_clearCssClasses:function(){var e=this;e.wrapper.removeClass(e._getAppearanceClasses())},_getAppearanceClasses:function(){var e=this,t=e.__proto__.options.name,i=n.cssProperties.getValidClass({widget:t,propName:"rounded",value:e.options.rounded});return i},_renderButtons:function(){var e=this;e._mainButton();e._arrowButton()},_mainButton:function(){var e=this,t=s({},e.options,{type:e.element.attr("type")||"button"});delete t.click;l.renderButton(e.element,t)},_arrowButton:function(){var e=this,t=s({},e.options,{type:"button",icon:e.options.arrowIcon});delete t.text;delete t.imageUrl;delete t.click;l.renderButton(e.arrowButton,t)},_aria:function(){var e=this,t=e.element,i=e.menu;t.attr(p,i?"menu":null);t.attr(v,i?false:null);t.attr(m,i?i.list.attr(f):null);if(!t.attr(g))t.attr(g,t.text()+" "+e.options.messages.labelSuffix)},_renderMenu:function(){var e=this,t=s({},e.options),i=a("<div></div>");delete t.click;delete t.name;if(!t.items.length)return;e.menu=i.appendTo(e.wrapper).kendoButtonMenu(s({mainButton:e.element,toggleTarget:e.arrowButton,menuOpen:e.menuOpenHandler.bind(e),menuClose:e.menuCloseHandler.bind(e),menuClick:e._click.bind(e)},t)).data("kendoButtonMenu")},menuOpenHandler:function(e){var t=this,i=d(t.wrapper);var n=t.trigger(x,{target:t.element});if(n){e.preventDefault();return}e.sender.adjustPopupWidth(i);t.element.attr(v,true)},menuCloseHandler:function(e){var t=this,i=t.trigger(C,{target:t.element});if(i){e.preventDefault();return}t.element.attr(v,false);t.element.trigger(S)},_attachEvents:function(){var e=this;e.element.on(w+t,e._click.bind(e));e.element.on(y+t,e._keydown.bind(e));e.element.on(S+t,e._focus.bind(e));e.element.on(T+t,e._blur.bind(e))},_focus:function(){this.wrapper.addClass(k)},_blur:function(){this.wrapper.removeClass(k)},_click:function(e){var t=this,i=a(e.target).closest(".k-button"),n=i.attr(f),r=e;if(e.type==="menu-click"){n=e.id;i=e.target;r=e.originalEvent}t.menu.close();t.trigger(w,{id:n,target:i,originalEvent:r})},_keydown:function(e){var t=this;if(t.element.is(c+b)&&(e.keyCode===u.ENTER||e.keyCode===u.SPACEBAR))e.preventDefault()},focus:function(){var e=this;e.element.trigger(S)},_enable:function(e,t){this.element.add(this.arrowButton).toggleClass(b,!e);if(e)this.element.removeAttr(h);else this.element.attr(h,!e);if(!t)this.element.attr(_,!e);this.arrowButton.attr(_,!e)},enable:function(e,t,i){var n=this;if(e===r)e=true;if(t&&t.length){n.menu.enable(e,t);return}n.options.enabled=e;n._enable(e,i);n.menu.enable(e)},hide:function(e){var t=this;if(e&&e.length)t.menu.hide(e)},show:function(e){var t=this;if(e&&e.length)t.menu.show(e)},open:function(){this.menu._popup.open()},close:function(){this.menu._popup.close()},items:function(){return this.menu.items()},setOptions:function(e){var t=this;o.fn.setOptions.call(t,e);if(e.popup||e.items||e.size){t.menu.destroy();t._renderMenu()}t._renderButtons();t._aria()},destroy:function(){var e=this;e.menu.destroy();e.element.off(t);o.fn.destroy.call(e)}});return n.cssProperties.registerPrefix("SplitButton","k-splitbutton-"),n.cssProperties.registerValues("SplitButton",[{prop:"rounded",values:n.cssProperties.roundedValues.concat([["full","full"]])}]),i.plugin(D),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dropdownbutton.min",["kendo.html.button.min","kendo.button.menu.min"],function(){var e={id:"dropdownbutton",name:"DropDownButton",category:"web",description:"The DropDownButton allows the user to execute an action from a drop-down list.",depends:["button.menu","html.button"]},n=window.kendo.jQuery,r=void 0,a=window.kendo,o=a.ui.Widget,t=".kendoDropDownButton",i=a.ui,s=a.keys,l=n.extend,d=a.html,u=a._outerWidth,c=".",f="id",p="aria-haspopup",h="aria-disabled",m="aria-controls",g="aria-label",v="aria-expanded",_="disabled",b="k-disabled",k="click",w="keydown",y="open",x="close",C="focus",S={menuButton:"k-menu-button"},T=o.extend({init:function(e,t){var i=this;t.enabled=t.enabled!==false&&!n(e).prop(_);o.fn.init.call(i,e,t);i.wrapper=i.element;i._mainButton();i._renderMenu();i._enable(i.options.enabled);i._aria();i._attachEvents();a.notify(i);i._applyCssClasses()},options:{name:"DropDownButton",enabled:true,items:[],rounded:"medium",size:"medium",fillMode:"solid",themeColor:"base",icon:null,popup:null,messages:{labelSuffix:"dropdownbutton"}},events:[k,y,x],_mainButton:function(){var e=this,t=l({},e.options,{type:e.element.attr("type")||"button"});delete t.click;e.element.addClass(S.menuButton);d.renderButton(e.element,t)},_aria:function(){var e=this,t=e.element,i=e.menu;t.attr(p,i?"menu":null);t.attr(v,i?false:null);t.attr(m,i?i.list.attr(f):null);if(!t.attr(g))t.attr(g,t.text()+" "+e.options.messages.labelSuffix)},_renderMenu:function(){var e=this,t=l({},e.options),i=n("<div></div>");delete t.click;delete t.name;if(!t.items.length)return;e.menu=i.appendTo(document.body).kendoButtonMenu(l({mainButton:e.element,toggleTarget:e.element,menuOpen:e.menuOpenHandler.bind(e),menuClose:e.menuCloseHandler.bind(e),menuClick:e._click.bind(e)},t)).data("kendoButtonMenu")},menuOpenHandler:function(e){var t=this,i=u(t.element);var n=t.trigger(y,{target:t.element});if(n){e.preventDefault();return}e.sender.adjustPopupWidth(i);t.element.attr(v,true)},menuCloseHandler:function(e){var t=this,i=t.trigger(x,{target:t.element});if(i){e.preventDefault();return}t.element.attr(v,false);t.element.trigger(C)},_attachEvents:function(){var e=this;e.element.on(w+t,e._keydown.bind(e))},_click:function(e){var t=this,i=e.id,n=e.target,r=e.originalEvent;t.menu.close();t.trigger(k,{id:i,target:n,originalEvent:r})},_keydown:function(e){var t=this;if(t.element.is(c+b)&&(e.keyCode===s.ENTER||e.keyCode===s.SPACEBAR))e.preventDefault()},focus:function(){var e=this;e.element.trigger(C)},_enable:function(e,t){this.element.toggleClass(b,!e);if(e)this.element.removeAttr(h);else this.element.attr(h,!e);if(!t)this.element.attr(_,!e)},enable:function(e,t,i){var n=this;if(e===r)e=true;if(t&&t.length){n.menu.enable(e,t);return}n.options.enabled=e;n._enable(e,i);n.menu.enable(e)},hide:function(e){var t=this;if(e&&e.length)t.menu.hide(e)},show:function(e){var t=this;if(e&&e.length)t.menu.show(e)},open:function(){this.menu._popup.open()},close:function(){this.menu._popup.close()},items:function(){return this.menu.items()},setOptions:function(e){var t=this;o.fn.setOptions.call(t,e);if(e.popup||e.items||e.size){t.menu.destroy();t._renderMenu()}t._mainButton();t._aria()},destroy:function(){var e=this;e.menu.destroy();e.element.off(t);o.fn.destroy.call(e)}});return i.plugin(T),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.toolbar.min",["kendo.core.min","kendo.userevents.min","kendo.popup.min","kendo.html.button.min","kendo.splitbutton.min","kendo.dropdownbutton.min"],function(){var t={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button","splitbutton","dropdownbutton"]},f=window.kendo.jQuery,a=void 0,p=window.kendo,i=p.Class,N=p.ui,L=N.Widget,l=p.isFunction,h=p.keys,B=p._outerWidth,r=".kendoToolBar",V="k-toolbar",d="k-button",u="k-overflow-button",U="k-toggle-button",o="k-button-group",s="k-split-button",c="k-menu-button",W="k-separator",j="k-spacer",q="k-popup",G="k-toolbar-resizable",m="k-selected",g="k-disabled",v="k-hidden",K="k-force-hidden",$="k-group-start",Y="k-group-end",Q="k-menu-link",X="k-menu-item",J="k-overflow-group",_="k-overflow-hidden",b="k-overflow-anchor",Z="k-overflow-container",ee="k-overflow-wrapper",te="k-toolbar-first-visible",ie="k-toolbar-last-visible",ne="k-split-button-arrow",k="k-toolbar-item",w="k-dropdownlist",re="k-colorpicker",ae="k-input-button",oe="k-focus",se="aria-disabled",le="aria-pressed",de="aria-label",y="click",ue="toggle",n="open",x="close",C="focus",ce="keydown",fe="tap",pe="spacer",S="both",he="primary",me="href",ge="role",T="button",I="splitButton",ve="dropDownButton",_e="separator",D="overflow",be="next",ke="prev",E="tabindex",we="template",A="input",ye="select",xe="checkbox",Ce="hidden",Se="group",F=":kendoFocusable",Te="overflowOpen",Ie="overflowClose",De="never",Ee="auto",Ae="always",Fe="_optionlist",H=p.attr("uid"),He='<li class="k-menu-item k-item">',Pe='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",Oe='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",P=" ",O="",Me="textItem",M=".",z=",",ze="id",Re="uid",Ne=(p.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),e=(p.toolbar.registerComponent=function(e,t,i){Ne[e]={toolbar:t,overflow:i}},p.Class.extend({addOverflowAttr:function(){this.element.attr(p.attr(D),this.options.overflow||Ee)},addUidAttr:function(){this.element.attr(H,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(ze,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(ze,this.options.id+"_overflow")},attributes:function(){var e=this.options.attributes,t;if(e){if(e.class){t=e.class;this.element.addClass(t);delete e.class}this.element.attr(e);e.class=t}},show:function(){this.element.removeClass(v);this.element.removeClass(K);this.options.hidden=false},hide:function(){this.element.addClass(v);this.element.addClass(K);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(e){if(e===a)e=true;this.element.toggleClass(g,!e);this.element.attr(se,!e);this.options.enable=e},twin:function(){var e=this.element.attr(H);if(this.overflow&&this.options.splitContainerId)return f("#"+this.options.splitContainerId).find("["+H+"='"+e+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+H+"='"+e+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+H+"='"+e+"']").data(this.options.type)}})),Le=(p.toolbar.Item=e).extend({init:function(e,t){this.options=f.extend({},this.options,e);this.toolbar=t}}),Be=(p.toolbar.BareItem=Le,e.extend({init:function(e,t){var i=e.useButtonTag?f("<button></button>"):f('<a role="button" href></a>');this.element=i;this.options=f.extend({},this.options,e);this.toolbar=t;this.attributes();if(e.primary)this.options.themeColor=he;if(e.togglable){i.addClass(U);this.toggle(e.selected)}if(e.url!==a&&!e.useButtonTag){i.attr(me,e.url);if(e.mobile)i.attr(p.attr(ge),T)}if(e.group){i.attr(p.attr(Se),e.group);this.group=this.toolbar.addToGroup(this,e.group)}if(!e.togglable&&e.click&&l(e.click))this.clickHandler=e.click;if(e.togglable&&e.toggle&&l(e.toggle))this.toggleHandler=e.toggle},options:{showIcon:S,showText:S},toggle:function(e,t){e=!!e;if(this.group&&e)this.group.select(this);else if(!this.group)this.select(e);if(t&&this.twin())this.twin().toggle(e)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(M+o).data("buttonGroup")}})),Ve=(p.toolbar.Button=Be).extend({init:function(e,t){Be.fn.init.call(this,e,t);var i=this.element;e=this.options;i.addClass(d);this.addIdAttr();if(e.align)i.addClass("k-align-"+e.align);if(!!e.text&&(e.showText=="toolbar"||e.showText==S))if(e.mobile)i.html('<span class="km-text">'+e.text+"</span>");else i.html(e.text);else if(!!e.text)i.attr(de,e.text);if(e.icon||e.spriteCssClass||e.imageUrl)if(e.showIcon!=="toolbar"&&e.showIcon!==S){e.icon=null;e.spriteCssClass=null;e.imageUrl=null}p.html.renderButton(i,e);this.addUidAttr();this.addOverflowAttr();this.enable(e.enable);if(e.hidden)this.hide();this.element.data({type:T,button:this})},select:function(e){if(e===a)e=false;if(this.options.togglable)this.element.attr(le,e);this.element.toggleClass(m,e);this.options.selected=e}}),R=(p.toolbar.ToolBarButton=Ve,Be.extend({init:function(e,t){this.overflow=true;Be.fn.init.call(this,f.extend({},e),t);var i=this.element;e=this.options;if(!!e.text&&(e.showText==D||e.showText==S))if(e.mobile)i.html('<span class="km-text">'+e.text+"</span>");else i.html(e.text);else if(!!e.text)i.attr(de,e.text);if(e.icon||e.spriteCssClass||e.imageUrl)if(e.showIcon!==D&&e.showIcon!==S){e.icon=null;e.spriteCssClass=null;e.imageUrl=null}p.html.renderButton(i,e);if(!e.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(e.enable);i.addClass(u+P+d);if(e.hidden)this.hide();if(e.togglable)this.toggle(e.selected);this.element.data({type:T,button:this})},_wrap:function(){this.element=this.element.wrap(He).parent()},overflowHidden:function(){this.element.addClass(_)},select:function(e){if(e===a)e=false;if(this.options.isChild)this.element.toggleClass(m,e);else this.element.find(M+d).toggleClass(m,e);this.options.selected=e}})),Ue=(p.toolbar.OverflowButton=R,p.toolbar.registerComponent(T,Ve,R),e.extend({createButtons:function(e){var t=this.options;var i=t.buttons||[];var n;for(var r=0;r<i.length;r++){if(!i[r].uid)i[r].uid=p.guid();n=new e(f.extend({mobile:t.mobile,isChild:true,type:T},i[r]),this.toolbar);n.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+v+"')").first().addClass($);this.element.children().filter(":not('."+v+"')").last().addClass(Y)}})),We=(p.toolbar.ButtonGroup=Ue).extend({init:function(e,t){var i=this.element=f("<div></div>");this.options=e;this.toolbar=t;this.addIdAttr();if(e.align)i.addClass("k-align-"+e.align);this.createButtons(Ve);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(o);if(e.hidden)this.hide();this.element.data({type:"buttonGroup",buttonGroup:this})}}),je=(p.toolbar.ToolBarButtonGroup=We,Ue.extend({init:function(e,t){var i=this.element=f("<li></li>");this.options=e;this.toolbar=t;this.overflow=true;this.addOverflowIdAttr();this.createButtons(R);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((e.mobile?O:o)+P+J);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(_)}})),qe=(p.toolbar.OverflowButtonGroup=je,p.toolbar.registerComponent("buttonGroup",We,je),Ve.extend({init:function(e,t){var i,n,r;e=this.options=f.extend({},this.options,e);if(e.url!==a)i=f(p.template(Oe)({href:e.url,text:e.text}));else i=f(p.template(Pe)({text:e.text}));this.element=i;this.toolbar=t;if(e.click&&l(e.click))this.clickHandler=e.click;if(e.togglable&&e.toggle&&l(e.toggle))this.toggleHandler=e.toggle;if(e.imageUrl){n=f('<img alt="icon" class="k-image" />').prependTo(i);n.attr("src",e.imageUrl)}else if(e.icon){r=f("<span></span>").prependTo(i);r.attr("class","k-icon k-i-"+e.icon)}else if(e.spriteCssClass){r=f('<span class="k-sprite"></span>').prependTo(i);r.addClass(e.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(e.enable);if(e.group){i.attr(p.attr(Se),e.group);this.group=this.toolbar.addToGroup(this,e.group)}if(e.hidden)this.hide();this.element.data({type:T,button:this})}})),Ge=(p.toolbar.ToolBarMenuButton=qe,e.extend({init:function(e,t){var i=this;i.options=f.extend({id:e.id||e.uid,enable:true},e,{togglable:false});if(e.primary)i.options.themeColor=he;if(e.showIcon===D)i.options.icon=null;if(e.showText===D)i.options.text="";i.toolbar=t;i.splitButton=new N.SplitButton(f("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),f.extend({},i.options,{items:i._extend(e.menuButtons)}),t.options);i.element=i.splitButton.wrapper;i.splitButton.bind(y,t._buttonClick.bind(t));i.splitButton.bind(x,i._close.bind(i));i.splitButton.bind(n,i._open.bind(i));i.splitButton.element.data({type:I,button:i,splitButton:i});i.splitButton.wrapper.data({type:I,button:i,splitButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(e){var t=this;var i=t.toolbar.trigger(n,{target:t.element});if(i)e.preventDefault()},_close:function(e){var t=this;var i=t.toolbar.trigger(x,{target:t.element});if(i)e.preventDefault();t.splitButton.element.trigger(C)},_extend:function(e){var i=this;return e.map(function(e){var t=new Le(e,i.toolbar);return f.extend({},e,{togglable:false,data:function(){return{type:T,button:t,splitButton:i}}})})},addMenuAttributes:function(){var e=this,t=e.splitButton.items(),i;t.each(function(e,t){t=f(t);i=t.data(T);i.element=t;i.options=f.extend({type:T,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var e=this.splitButton.wrapper;this.splitButton.destroy();e.remove()},enable:function(e,t){this.splitButton.enable(e,t,true);if(this.twin())this.twin().enable(e)},attributes:function(){var e=this,t=e.splitButton.element,i=this.options.attributes,n;if(i){if(i.class){n=i.class;t.addClass(n);delete i.class}t.attr(i);i.class=n}}})),Ke=(p.toolbar.ToolBarSplitButton=Ge,e.extend({init:function(e,t){var i=this.element=f('<li class="'+s+'"></li>'),n=e.menuButtons,r,a;this.options=f.extend({},e,{togglable:false});this.toolbar=t;this.overflow=true;a=(e.id||e.uid)+Fe;this.mainButton=new R(f.extend({isChild:true},e,{togglable:false}));this.mainButton.element.appendTo(i);for(var o=0;o<n.length;o++){r=new R(f.extend({mobile:e.mobile,type:T,splitContainerId:a,isChild:true},n[o],{click:e.click}),this.toolbar);r.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:I,splitButton:this})},enable:function(e){var t=this.element.add(this.element.find(M+u));if(e===a)e=true;t.toggleClass(g,!e);t.attr(se,!e);this.options.enable=e},overflowHidden:function(){this.element.addClass(_)}})),$e=(p.toolbar.OverflowSplitButton=Ke,p.toolbar.registerComponent(I,Ge,Ke),e.extend({init:function(e,t){var i=this;i.options=f.extend({id:e.id||e.uid,enable:true},e,{togglable:false});if(e.primary)i.options.themeColor=he;if(e.showIcon===D)i.options.icon=null;if(e.showText===D)i.options.text="";i.toolbar=t;i.dropDownButton=new N.DropDownButton(f("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),f.extend({},i.options,{items:i._extend(e.menuButtons)}),t.options);i.element=i.dropDownButton.element;i.dropDownButton.bind(y,t._buttonClick.bind(t));i.dropDownButton.bind(x,i._close.bind(i));i.dropDownButton.bind(n,i._open.bind(i));i.dropDownButton.element.data({type:ve,button:i,dropDownButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(e){var t=this;var i=t.toolbar.trigger(n,{target:t.element});if(i)e.preventDefault()},_close:function(e){var t=this;var i=t.toolbar.trigger(x,{target:t.element});if(i)e.preventDefault();t.dropDownButton.element.trigger(C)},_extend:function(e){var i=this;return e.map(function(e){var t=new Le(e,i.toolbar);return f.extend({},e,{data:function(){return{type:T,button:t,dropDownButton:i}}})})},addMenuAttributes:function(){var e=this,t=e.dropDownButton.items(),i;t.each(function(e,t){t=f(t);i=t.data(T);i.element=t;i.options=f.extend({type:T,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var e=this.dropDownButton.element;this.dropDownButton.destroy();e.remove()},enable:function(e,t){this.dropDownButton.enable(e,t,true);if(this.twin())this.twin().enable(e)},attributes:function(){var e=this,t=e.element,i=this.options.attributes,n;if(i){if(i.class){n=i.class;t.addClass(n);delete i.class}t.attr(i);i.class=n}}})),Ye=(p.toolbar.ToolBarSplitButton=Ge,e.extend({init:function(e,t){var i=this.element=f("<span></span>");this.element=i;this.options=e;this.toolbar=t;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();if(e.icon&&(!e.showIcon||e.showIcon!=="toolbar"))i.append('<span class="k-icon k-i-'+e.icon+'"></span>');if(e.showText!=="toolbar")i.append("<span>"+this.options.text+"</span>");i.data({type:Me,textItem:this})},overflowHidden:function(){this.element.addClass(_)}})),Qe=e.extend({init:function(e,t){var i=this.element=f('<li class="'+s+" "+c+'"></li>'),n=e.menuButtons,r,a;this.options=f.extend({},e,{togglable:false});this.toolbar=t;this.overflow=true;a=(e.id||e.uid)+Fe;this.mainButton=new Ye(f.extend({isChild:true},e,{togglable:false}));this.mainButton.element.appendTo(i);for(var o=0;o<n.length;o++){r=new R(f.extend({mobile:e.mobile,type:T,splitContainerId:a,isChild:true},n[o],{click:e.click}),this.toolbar);r.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:ve,dropDownButton:this})},enable:function(e){var t=this.element.add(this.element.find(M+u));if(e===a)e=true;t.toggleClass(g,!e);t.attr(se,!e);this.options.enable=e},overflowHidden:function(){this.element.addClass(_)}}),Xe=(p.toolbar.OverflowSplitButton=Qe,p.toolbar.registerComponent(ve,$e,Qe),e.extend({init:function(e,t){var i=this.element=f("<div>&nbsp;</div>");this.element=i;this.options=e;this.toolbar=t;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(W);i.attr(ge,_e);i.data({type:_e,separator:this})}})),Je=e.extend({init:function(e,t){var i=this.element=f("<li>&nbsp;</li>");this.element=i;this.options=e;this.toolbar=t;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(W);i.attr(ge,_e);i.data({type:_e,separator:this})},overflowHidden:function(){this.element.addClass(_)}}),Ze=(p.toolbar.registerComponent("separator",Xe,Je),e.extend({init:function(e,t){var i=this.element=f("<div>&nbsp;</div>");this.element=i;this.options=e;this.toolbar=t;i.addClass(j);i.data({type:pe});this.addOverflowAttr()}})),et=(p.toolbar.registerComponent(pe,Ze),e.extend({init:function(e,t,i){var n=l(e)?e(t):e;if(!(n instanceof jQuery))n=f("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").html(n);else n=n.wrap("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").parent();this.element=n;this.options=t;this.options.type=t.type||we;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();if(t.hidden)this.hide();n.data({type:we,template:this})}})),tt=(p.toolbar.TemplateItem=et,e.extend({init:function(e,t,i){var n=l(e)?f(e(t)):f(e);if(!(n instanceof jQuery))n=f("<li></li>").html(n);else n=n.wrap("<li></li>").parent();this.element=n;this.options=t;this.options.type=we;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();n.data({type:we,template:this})},overflowHidden:function(){this.element.addClass(_)}}));function it(e){if(!e.target.is(".k-toggle-button"))e.target.toggleClass(m,e.type=="press")}function nt(e){e=f(e);return e.hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function rt(e){if(f(e.target).closest("a.k-button").length)e.preventDefault()}function at(e,t){var i=t===be?f.fn.next:f.fn.prev;var n=t===be?f.fn.first:f.fn.last;var r=i.call(e);if(!r.length&&e.is(M+b))return e;if(r.is(F)||!r.length)return r;if(r.find(F).length)return n.call(r.find(F));return at(r,t)}p.toolbar.OverflowTemplateItem=tt;var ot=i.extend({init:function(e){this.name=e;this.buttons=[]},add:function(e){this.buttons[this.buttons.length]=e},remove:function(e){var t=f.inArray(e,this.buttons);this.buttons.splice(t,1)},select:function(e){var t;for(var i=0;i<this.buttons.length;i++){t=this.buttons[i];t.select(false)}e.select(true);if(e.twin())e.twin().select(true)}}),st=L.extend({init:function(e,t){var i=this;L.fn.init.call(i,e,t);t=i.options;e=i.wrapper=i.element;e.addClass(V+" k-widget");e.attr(ge,"toolbar");this.uid=p.guid();this._isRtl=p.support.isRtl(e);this._groups={};e.attr(H,this.uid);i.isMobile=typeof t.mobile==="boolean"?t.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){e.addClass("km-widget");d="km-button";o="km-buttongroup";m="km-state-active";g="km-state-disabled"}if(t.resizable){i._renderOverflow();e.addClass(G);i.overflowUserEvents=new p.UserEvents(i.element,{threshold:5,allowSelection:true,filter:M+b,tap:i._toggleOverflow.bind(i)});i._resizeHandler=p.onResize(function(){i.resize()})}else i.popup={element:f([])};if(t.items&&t.items.length){for(var n=0;n<t.items.length;n++)i.add(t.items[n]);if(t.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new p.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+H+"="+i.uid+"] a."+d+z+P+"["+H+"="+i.uid+"] ."+b+z+P+"["+H+"="+i.uid+"] ."+ne+z+P+"["+H+"="+i.uid+"] ."+k+z+P+"["+H+"="+i.uid+"] ."+c,tap:i._buttonClick.bind(i),press:it,release:it});i.element.on(y+r,"a.k-button",rt).on(ce+r,i._keydown.bind(i)).on("focusin"+r,i._focusIn.bind(i)).on("focusout"+r,i._focusOut.bind(i));if(i.options.resizable)i.popup.element.on(y+r,+"a.k-button",rt);if(t.resizable){i.overflowAnchor.appendTo(i.wrapper);this._toggleOverflowAnchor()}i._tabIndex();p.notify(i)},events:[y,ue,n,x,Te,Ie],options:{name:"ToolBar",items:[],resizable:true,mobile:null,navigateOnTab:false},addToGroup:function(e,t){var i;if(!this._groups[t])i=this._groups[t]=new ot;else i=this._groups[t];i.add(e);return i},destroy:function(){var e=this;e.destroySplitButtons();e.destroyDropDownButtons();e.element.off(r,"a.k-button");e.userEvents.destroy();if(e.options.resizable){p.unbindResize(e._resizeHandler);e.overflowUserEvents.destroy();e.popup.element.off(r,"a.k-button");e.popup.destroy()}L.fn.destroy.call(e)},destroySplitButtons:function(){var i=this,e=i.element.find(M+s),n;e.each(function(e,t){n=i._getItem(t);if(n&&n.type===I)n=n.toolbar;if(n&&n.splitButton&&n.splitButton.destroy){n.splitButton.destroy();f(t).remove()}})},destroyDropDownButtons:function(){var i=this,e=i.element.find(M+c),n;e.each(function(e,t){n=i._getItem(t);if(n&&n.type===ve)n=n.toolbar;if(n&&n.dropDownButton&&n.dropDownButton.destroy){n.dropDownButton.destroy();f(t).remove()}})},add:function(e){var t=Ne[e.type],i=e.template,n,r=this,a=r.isMobile?O:"k-item",o=e.overflowTemplate,s,l;f.extend(e,{uid:p.guid(),animation:r.animation,mobile:r.isMobile,rootUid:r.uid});if(e.menuButtons)for(var d=0;d<e.menuButtons.length;d++)f.extend(e.menuButtons[d],{uid:p.guid()});if(i&&!o||e.type===pe)e.overflow=De;else if(!e.overflow)e.overflow=Ee;if(e.overflow!==De&&r.options.resizable){if(o)s=new tt(o,e,r);else if(t){s=new t.overflow(e,r);s.element.addClass(a)}if(s){if(e.overflow===Ee)s.overflowHidden();s.element.appendTo(r.popup.container);r.angular("compile",function(){return{elements:s.element.get()}})}}if(e.overflow!==Ae){if(i){n=new et(i,e,r);l=n.element.find(A+z+ye);if(!this.options.navigateOnTab&&l.length>0){n.element.attr(E,0);l.attr(E,-1)}}else if(t)n=new t.toolbar(e,r);if(n){n.element.appendTo(r.element);r.angular("compile",function(){return{elements:n.element.get()}})}}},_getItem:function(e){var t,i,n,r=this.options.resizable,a;t=this.element.find(e);if(!t.length)t=f('[data-role="buttonmenu"]').find(e);a=t.length?t.data("type"):O;i=t.data(a);if(i&&r)n=i.twin();else if(r){t=this.popup.element.find(e);a=t.length?t.data("type"):O;n=t.data(a);if(a===Me){t=t.parent(M+c);a="dropDownButton";n=t.data(a)}if(n&&n.main&&a!==Me){t=t.parent(M+s);a="splitButton";n=t.data(a)}}return{type:a,toolbar:i,overflow:n}},remove:function(e){var t=this._getItem(e);if(t.toolbar)t.toolbar.remove();if(t.overflow)t.overflow.remove();this.resize(true)},hide:function(e){var t=this._getItem(e);var i;if(t.toolbar)if(t.toolbar.options.type===T&&t.toolbar.options.isChild){i=t.toolbar.getParentGroup();t.toolbar.hide();if(i)i.refresh()}else if(!t.toolbar.options.hidden)t.toolbar.hide();if(t.overflow)if(t.overflow.options.type===T&&t.overflow.options.isChild){i=t.overflow.getParentGroup();t.overflow.hide();if(i)i.refresh()}else if(!t.overflow.options.hidden)t.overflow.hide();this.resize(true)},show:function(e){var t=this._getItem(e);var i;if(t.toolbar)if(t.toolbar.options.type===T&&t.toolbar.options.isChild){i=t.toolbar.getParentGroup();t.toolbar.show();if(i)i.refresh()}else if(t.toolbar.options.hidden)t.toolbar.show();if(t.overflow)if(t.overflow.options.type===T&&t.overflow.options.isChild){i=t.overflow.getParentGroup();t.toolbar.show();if(i)i.refresh()}else if(t.overflow.options.hidden)t.overflow.show();this.resize(true)},enable:function(e,t){var i=this._getItem(e);if(typeof t=="undefined")t=true;if(i.toolbar)i.toolbar.enable(t,i.element);if(i.overflow)i.overflow.enable(t)},getSelectedFromGroup:function(e){return this.element.find(M+U+"[data-group='"+e+"']").filter(M+m)},toggle:function(e,t){var i=f(e),n=i.data(T);if(n.options.togglable){if(t===a)t=true;n.toggle(t,true)}},_renderOverflow:function(){var a=this,e=Ne.overflowContainer,i=a._isRtl,t=i?"left":"right";a.overflowAnchor=f(Ne.overflowAnchor).addClass(d);a.element.append(a.overflowAnchor);if(a.isMobile){a.overflowAnchor.append('<span class="km-icon km-more"></span>');e=nt(e)}else a.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');a.popup=new p.ui.Popup(e,{origin:"bottom "+t,position:"top "+t,anchor:a.overflowAnchor,isRtl:i,animation:a.animation,appendTo:a.isMobile?f(a.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(e){var t=p.wrap(a.popup.element).addClass(ee);if(!a.isMobile)t.css("margin-left",(i?-1:1)*((B(t)-t.width())/2+1));else a.popup.container.css("max-height",parseFloat(f(".km-content:visible").innerHeight())-15+"px");if(a.trigger(Te))e.preventDefault()},activate:function(){this.element.find(F).first().trigger(C)},close:function(e){if(a.trigger(Ie))e.preventDefault();this.element.trigger(C)}});a.popup.element.on(ce+r,M+d,function(e){var t=f(e.target),i=t.parent(),n=i.is(M+o)||i.is(M+s),r;e.preventDefault();if(e.keyCode===h.ESC||e.keyCode===h.TAB||e.altKey&&e.keyCode===h.UP){a._toggleOverflow();a.overflowAnchor.trigger(C)}else if(e.keyCode===h.DOWN){r=!n||n&&t.is(":last-child")||n&&!t.next().is(F)?i:t;at(r,be).trigger(C)}else if(e.keyCode===h.UP){r=!n||n&&t.is(":first-child")||n&&!t.prev().is(F)?i:t;at(r,ke).trigger(C)}else if((e.keyCode===h.SPACEBAR||e.keyCode===h.ENTER)&&!f(e.target).is(M+g)){a.userEvents.trigger(fe,{target:f(e.target)});a.overflowAnchor.trigger(C)}else if(e.keyCode===h.HOME)i.parent().find(F).first().trigger(C);else if(e.keyCode===h.END)i.parent().find(F).last().trigger(C)});if(a.isMobile)a.popup.container=a.popup.element.find(M+Z);else a.popup.container=a.popup.element;a.popup.container.attr(H,this.uid)},_toggleOverflowAnchor:function(){var e=false;var t=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)e=this.popup.element.find(M+Z).children(":not(."+_+", ."+q+")").length>0;else e=this.popup.element.children(":not(."+_+", ."+q+")").length>0;if(e){this.overflowAnchor.css({visibility:"visible",width:O});this.wrapper.css(t,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:Ce,width:"1px"});this.wrapper.css(t,O)}},_buttonClick:function(e){var t=this,i=f(e.target),n,r,a,o,s;e.preventDefault();if(i.hasClass(c)||i.hasClass(b)){t._resetTabIndex(i);return}else if(i.hasClass(ne)){t._resetTabIndex(i.prev());return}else if(i.hasClass(k)){s=i.find(A+z+ye+z+M+w);if(s.length>0)t._resetTabIndex(s.first());return}if(!i.data(I))i=f(e.target).closest(M+d+z+M+Q,t.element);n=i.data(T);if(n&&!i.hasClass(X))t._resetTabIndex(i);if(!n&&t.popup){i=f(e.target).closest(M+u,t.popup.container);n=i.parent("li").data(T)}if(!n||!n.options.enable)return;if(n.options.togglable){r=l(n.toggleHandler)?n.toggleHandler:null;n.toggle(!n.options.selected,true);a={target:i,group:n.options.group,checked:n.options.selected,id:n.options.id,item:n};if(r)r.call(t,a);t.trigger(ue,a)}else{r=l(n.clickHandler)?n.clickHandler:null;a={sender:t,target:i,id:n.options.id,item:n};if(r)r.call(t,a);t.trigger(y,a)}if(n.options.url){if(n.options.attributes&&n.options.attributes.target)o=n.options.attributes.target;window.open(n.options.url,o||"_self")}if(i.hasClass(u))t.popup.close()},_focusOut:function(e){this.wrapper.find(M+d+M+oe).removeClass(oe)},_focusIn:function(e){var t=f(e.target);if(t.closest(M+d).length>0)t.closest(M+d).addClass(oe)},_keydown:function(e){var t=f(e.target),i=e.keyCode,n=this._getItems(),r=this._isRtl?-1:1,a=t.closest(M+k),o,s,l,d,u;if(e.altKey&&i===h.DOWN){var c=f(document.activeElement).is(M+b);if(c)this._toggleOverflow();return}if(!this.options.navigateOnTab&&i===h.ENTER&&t.hasClass(k)){l=t.find(F+":not('"+M+ae+"')"+z+M+w);if(l.length>0){t.attr(E,-1);l.attr(E,0);l.first().trigger(C)}return}else if(!this.options.navigateOnTab&&i===h.ESC&&a.length>0){d=a.find("[data-role]");l=a.find(F+":not('"+M+ae+"')"+z+M+w);if(d.length>0){u=p.widgetInstance(d);if(u)if(u.popup&&u.popup.visible())return;else{a.attr(E,0);a.trigger(C);a.find(F).attr(E,-1)}}if(l.length>0){a.attr(E,0);a.trigger(C);l.attr(E,-1)}return}else if((i===h.SPACEBAR||i===h.ENTER)&&!t.is(A+z+xe+z+T)){if(i===h.SPACEBAR){e.preventDefault();this.userEvents.trigger(fe,{target:t})}return}if(i===h.HOME){if(t.is(M+w)||t.is(A))return;this._resetTabIndex(n.first());n.first().trigger(C);e.preventDefault()}else if(i===h.END){if(t.is(M+w)||t.is(A))return;o=n.last();if(o.width()===0)o=n.eq(n.length-2);this._resetTabIndex(o);o.trigger(C);e.preventDefault()}else if(!this.options.navigateOnTab&&i===h.RIGHT&&!t.is(A+":not([type=file])"+z+ye+z+M+w+z+M+re)&&this._getNextElement(e.target,1*r)){s=f(this._getNextElement(e.target,1*r));this._resetTabIndex(s);s.trigger(C);e.preventDefault()}else if(!this.options.navigateOnTab&&i===h.LEFT&&!t.is(A+":not([type=file])"+z+ye+z+P+M+w+z+M+re)&&this._getNextElement(e.target,-1*r)){s=f(this._getNextElement(e.target,-1*r));this._resetTabIndex(s);s.trigger(C);e.preventDefault()}},_getNextElement:function(e,t){var i=this._getItems(),n=i.index(e)===-1?i.index(e.parentElement):i.index(e),r=i[n+t];if(!r)if(t===-1)r=i.last();else r=i.first();return r},_getItems:function(){return this.wrapper.find(F+z+M+k+z+M+b+z+M+"k-switch").filter(function(){var e=f(this);if(e.hasClass("k-hidden"))return false;else if(e.hasClass(b)&&e.css("visibility")===Ce)return false;else if(e.hasClass(k)&&e.find(M+"k-picker"+z+M+"k-input").length===0)return false;else if(!e.hasClass(k)&&e.closest(M+k).length>0)return false;else if(e.hasClass(ae)||e.hasClass(ne))return false;return true})},_toggle:function(e){var t=f(e.target).closest(M+s).data("splitButton");e.preventDefault();if(!t.options.enable)return;t.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;if(!this.options.resizable)return;this.popup.close();this._shrink(t);this._stretch(t);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var e=0;var t=parseInt(this.element.css("gap"),10)||0;this.element.children(":visible:not("+M+j+")").each(function(){e+=B(f(this),true)+t});return Math.ceil(e)},_shrink:function(e){var t,i,n;if(e<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+b+")");for(var r=i.length-1;r>=0;r--){t=i.eq(r);if(e>this._childrenWidth())break;else{n=t.find("[tabindex=0]");if(n.length>0){n.attr(E,-1);this.element.children(M+b).attr(E,0)}this._hideItem(t)}}}},_stretch:function(e){var t,i;if(e>this._childrenWidth()){i=this.element.children(M+v+":not("+M+K+")");for(var n=0;n<i.length;n++){t=i.eq(n);if(e<this._childrenWidth()||!this._showItem(t,e))break}}},_hideItem:function(e){e.addClass(v);if(this.popup)this.popup.container.find(">li[data-uid='"+e.data(Re)+"']").removeClass(_)},_showItem:function(e,t){var i=parseInt(this.element.css("gap"),10)||0;e.removeClass(v);var n=B(e,true)+i;e.addClass(v);if(e.length&&t>this._childrenWidth()+n){e.removeClass(v);if(this.options.navigateOnTab!==true)e.find(F).attr(E,-1);if(this.popup)this.popup.container.find(">li[data-uid='"+e.data(Re)+"']").addClass(_);return true}return false},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not("+M+b+")"),i=e.filter(":not("+M+_+")"),n=t.filter(":visible");e.add(t).removeClass(te+P+ie);i.first().add(n.first()).addClass(te);i.last().add(n.last()).addClass(ie)},_resetTabIndex:function(e){if(this.options.navigateOnTab!==true){this.wrapper.find(F).attr(E,-1);e.attr(E,0)}},_tabIndex:function(){var e=this.wrapper.find(F+":not('[tabindex=-1]')"),t=e.first();if(this.options.navigateOnTab!==true){e.attr(E,-1);t.attr(E,0)}}});return p.ui.plugin(st),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("filemanager/commands.min",["kendo.core.min"],function(){var e=window.kendo.jQuery,t=void 0,f=window.kendo,r=e.extend,n=e.Deferred,i=f.Class,a=i.extend({init:function(e){this.options=e;this.filemanager=e.filemanager}}),o=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t._viewDataSource||t.dataSource,r=e._remove.bind(e);e._item=n._createNewModel();i.push({item:e._item.toJSON()}).fail(r);n.add(e._item)},_remove:function(){var e=this,t=e.filemanager,i=t._viewDataSource||t.dataSource;i.pushDestroy(e._item)}}),s=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.options.target,i=e.filemanager,n=i._commandStack,r=i._view.widgetComponent.dataItem(t);if(t&&r){n.push({target:t,item:r});e.filemanager._view.edit(t)}else e._renameTreeViewItem(t)},_renameTreeViewItem:function(t){var e=this,i=e.filemanager,n=i._commandStack,r=t.data("uid"),a=e.filemanager.treeView.widgetComponent.dataSource.getByUid(r),o=e.filemanager.dataSource.get(a.id);e.filemanager._prompt({type:"rename",defaultInput:o.name,target:t}).done(function(e){n.push({target:t,item:o});o.set("name",e)})}}),l=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.options.target,i=e.filemanager,n=i.getSelected(),r=e.filemanager._view.widgetComponent.dataItem(t),a;if(t&&t.is(".k-selected")&&n&&n.length)a=n;else if(t&&r)a=r;else if(t){var o=t.data("uid");var s=e.filemanager.treeView.widgetComponent.dataSource.getByUid(o);var l=e.filemanager.dataSource.get(s.id);a=l}i._confirm({type:"delete",target:t}).done(function(){e.removeItems(a)})},removeItems:function(e){var t=this;t._itemsToRemove=Array.isArray(e)?e:[e];t._removeItem()},_removeItem:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t.dataSource,r=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];if(r){i.push({item:r}).then(e._removeItem.bind(e),e._removeItem.bind(e));n.remove(r)}}}),d=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t.dataSource,n=t._commandStack,r=e.options.items,a=i.get(e.options.target),o=a.children;for(var s=0;s<r.length;s++){var l=i.get(r[s]).toJSON();l.fileManagerNewItem=true;n.push({item:l,target:a});o.add(l)}}}),u=a.extend({init:function(e){var t=this;a.fn.init.call(t,e);t._itemsToRemove=[]},exec:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t.dataSource,r=e.options.items,a=n.get(e.options.target),o=a.children,s=[];for(var l=0;l<r.length;l++){var d=n.get(r[l]);var u=d.toJSON();u.fileManagerNewItem=true;var c=i.push({item:d,target:a}).then(e._delete.bind(e));s.push(c);o.add(u)}f.whenAll(s).always(e._removeItem.bind(e))},_delete:function(e){var t=this;t._itemsToRemove.push(e.item)},_removeItem:function(){var e=this,t=e.filemanager,i=t._commandStack,n=t.dataSource,r=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];if(r){i.push({item:r}).then(e._removeItem.bind(e),e._removeItem.bind(e));n.remove(r)}}}),c=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager,n=i.defaultSortOption;r(n,{dir:t.dir,field:t.field});i._view.widgetComponent.dataSource.sort([i.folderSortOption,n])}}),p=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager,n={field:t.field,operator:t.operator,value:t.value};i._view.widgetComponent.dataSource.filter(n)}}),h=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,i=e.filemanager;i.view(t.value);i.resize(true)}}),m=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t[e.options.type];if(i)i.open();else window.console.warn(f.format("The {0} dialog is not available!",e.options.type))}}),g=a.extend({init:function(e){a.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,i=t[e.options.type],n=e.getResizable();if(i){i.toggle();if(n)t.wrapper.find(n.options.handle).toggle()}},getResizable:function(){var e=this,t=e.filemanager,i=e.options.type;if(!t._resizeDraggable)return;return t._resizeDraggable[i]}}),v=i.extend({init:function(){var e=this;e._stack={};e._keys=[]},push:function(e){var t=this,i=f.guid();t._keys.push(i);t._stack[i]={guid:i,data:e,deferred:n()};return t._stack[i].deferred},next:function(){var e=this,t=e.keys().splice(0,1),i=e._stack[t];return i},resolve:function(e){var t=this;delete t._stack[e.guid];e.deferred.resolve(e.data)},reject:function(e){var t=this;delete t._stack[e.guid];e.deferred.reject(e.data)},keys:function(){return this._keys},empty:function(){return this.keys().length===0}});return r(f.ui,{filemanager:{FileManagerCommand:a,CommandStack:v,commands:{CreateFolderCommand:o,RenameCommand:s,DeleteCommand:l,MoveCommand:u,CopyCommand:d,SortCommand:c,SearchCommand:p,ChangeViewCommand:h,OpenDialogCommand:m,TogglePaneCommand:g}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("filemanager/view.min",["kendo.listview.min","kendo.treeview.min"],function(){var u=window.kendo.jQuery,c=void 0,f=window.kendo,o=f.ui,r=f.Observable,p=u.extend,a=f.keys,s="navigate",i="select",t="expand",l="change",n="open",d="load",h="keydown",m="keydownAction",g=".kendoFileManagerViewComponent",v=[],_=null,e=function(e,t){o.filemanager.ViewComponents[e]=t},b=function(e){return o.filemanager.ViewComponents[e]||null},k=r.extend({init:function(e,t,i){var n=this;n.element=t;n.options=i;if(e)n.widgetComponent=new e(t,i);else throw new Error("The widget for the ViewComponent is not available! Please add the corresponding scripts!");r.fn.init.call(n)},_bindEvents:function(){this.widgetComponent.bind("dataBinding",this._binding.bind(this));this.widgetComponent.bind("dataBound",this._bound.bind(this))},_binding:function(e){if(this.trigger("dataBinding",e))e.preventDefault()},_bound:function(){this.trigger("dataBound")},_setDSOptions:function(e,t){if(!e.dataSource&&t)e.dataSource=t},_initDragAndDrop:function(e,t){var i=this;t=t||i.options.dropFilter;e=e||i.element;i.draggable=e.kendoDraggable({filter:t,hint:i._hint.bind(i),cursorOffset:{top:-10,left:-50},holdToDrag:true,ignore:"input, .k-focusable",hold:i._hold.bind(i)}).data("kendoDraggable");i.draggable.userEvents.minHold=150;i.droptarget=e.kendoDropTargetArea({filter:t,drop:i._onDrop.bind(i),dragenter:function(e){e.dropTarget.addClass("k-filemanager-drop-target")},dragleave:function(e){e.dropTarget.removeClass("k-filemanager-drop-target")}}).data("kendoDraggable")},_hold:function(e){var t=this,i=e.currentTarget;if(!i.is(".k-selected")){if(t.widgetComponent.selectable)t.widgetComponent.selectable.clear();t.widgetComponent.select(i)}if(t.widgetComponent.selectable)t.widgetComponent.selectable.userEvents.cancel()},_hint:function(e){var t=this,i=t.widgetComponent.dataItem(e),n=t.widgetComponent.select();_=t.widgetComponent;v=n;if(n.length>1)return f.format("<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1} {2}</span></div>","file",n.length,t.options.messages.items);return f.format("<div class='k-filemanager-drag-hint'><span class='k-icon k-i-{0}'></span> <span>{1}</span></div>",i.isDirectory?"folder":"file",i.name)},_onDrop:function(e){var t=this,i=t.widgetComponent.dataItem(e.dropTarget),n=i.id,r=[];if(!i.isDirectory)return;for(var a=0;a<v.length;a++){var o=_.dataItem(v[a]).id;r.push(o)}this.trigger("drop",{target:n,items:r})},getSelected:function(){throw new Error("Not Implemented!")},refresh:function(e){this.widgetComponent.setDataSource(e)},destroy:function(){f.destroy(this.element)}}),w=(p(f.ui.filemanager,{ViewComponent:k,ViewComponents:{},registerViewComponent:e,getViewComponent:b}),k.extend({init:function(e,t,i){var n=this,r=i.dataSource,a=i.messages;t=p({},n.defaultOptions,t,{messages:a});n._setDSOptions(t,r);t.kendoKeydown=t.kendoKeydown||n._kendoKeydown.bind(n);k.fn.init.call(this,o.ListView,e,t);n.listView=n.widgetComponent;n._bindEvents();if(i.draggable!==false&&!r.isLocalBinding)n._initDragAndDrop()},defaultOptions:{layout:"flex",flex:{direction:"row",wrap:"wrap"},selectable:f.support.mobileOS?"row":"multiple",template:"<div class='k-listview-item' title='#:name##:extension#'>"+"<div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div>"+"<div class='k-file-name file-name'>#:name##:extension#</div>"+"</div>",editTemplate:"<div class='k-listview-item'>"+"<div class='k-file-preview'><span class='k-file-icon k-icon k-i-#= !isDirectory ? kendo.getFileGroup(extension, true) : 'folder' #'></span></div>"+"<div class='k-file-name'><span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input type='text' class='k-input-inner' data-bind='value:name' name='name' required='required' /><span></div>"+"</div>",dropFilter:".k-listview-item",navigatable:true},_bindEvents:function(){var n=this,e=n.listView;e.bind(l,n._select.bind(n));e.element.on("dblclick"+g,n._dblClick.bind(n));e.element.on("mousedown"+g,".k-listview-item:not(.k-edit-item)",n._mousedown.bind(n));e.element.on(h+g,".k-edit-item",n._keydown.bind(n));e.element.on(h+g,n._keydownAction.bind(n));e.bind("edit",function(e){var t=e.sender;var i=e.item.find("input");i.on("blur",function(){var e=t._modelFromElement(t.editable.element).dirty;t._closeEditable();if(!e)n.trigger("cancel")})});e.bind("cancel",function(){n.trigger("cancel")});k.fn._bindEvents.call(this)},_select:function(){var e=this,t=e.getSelected();e.trigger(i,{entries:t})},_keydown:function(e){var t=this;if(e.keyCode===f.keys.ESC){t.listView._closeEditable();t.trigger("cancel")}},_keydownAction:function(e){var t=this,i=u(e.target).find(".k-focus");if(i.length&&!i.is(".k-edit-item"))t.trigger(m,{target:i,keyCode:e.keyCode})},_mousedown:function(e){var t=this,i=u(e.target).closest(".k-listview-item");if(e.which===3&&!i.is(".k-selected")){t.listView.selectable.clear();t.listView.select(i)}},_kendoKeydown:function(e){var t=this;if(e.keyCode===a.ENTER&&!e.preventKendoKeydown)t._handleEnterKey(e)},_handleEnterKey:function(e){var t=this,i=u(e.target),n=t.listView.current();if(t.widgetComponent.editable&&i.is("input"))i.trigger("blur");else if(!t.widgetComponent.editable)t._triggerOpen(n);e.preventKendoKeydown=true},_dblClick:function(e){var t=this,i=u(e.target).closest(".k-listview-item");t._triggerOpen(i)},_triggerOpen:function(e){var t=this;if(e.is(".k-edit-item"))return;var i=t.listView.dataItem(e);if(i)t.trigger(n,{entry:i})},addFolder:function(){this.listView.add()},edit:function(e){var t=this,i=t.listView.select();t.listView.edit(e||i)},getSelected:function(){var e=this,t=e.listView.select(),i=[];for(var n=0;n<t.length;n++){var r=e.listView.dataItem(t[n]);if(r)i.push(r)}return i},destroy:function(){this.listView.element.off(g);k.fn.destroy.call(this)}})),y=(o.filemanager.registerViewComponent("list",w),k.extend({init:function(e,t,i){var n=this,r=i.messages;t=p({},n.defaultOptions,t,{messages:r});k.fn.init.call(this,o.TreeView,e,t);n.treeView=n.widgetComponent;n._bindEvents();if(i.draggable!==false&&!i.isLocalBinding)n._initDragAndDrop()},defaultOptions:{dataTextField:"name",dropFilter:".k-item"},_refreshDataSource:function(e){var t=this,i=t.treeView,n=e.action,r=e.node,a=null,o=i.element,s=o.attr("aria-activedescendant"),l=e.items.filter(function(e){return e.isDirectory}).map(function(e){return p({},e.toJSON(),{id:e.id||f.guid(),hasChildren:e.hasChildren,items:[]})});if(r){a=i.findByUid(i.dataSource.get(r.id).uid);i._progress(a,false)}if(!l.length)return;if(n=="itemloaded"||a&&n==="sync"){a.find(".k-item").each(function(e,t){i.remove(t)});i.append(l,a);if(t._shouldFocus){i.current(a);i.focus()}}else if(n=="remove")this._remove(l[0].id);else if(n=="itemchange"){var d=i.dataSource.get(l[0].id);if(d)d.set(e.field,l[0][e.field]);else i.append(l[0],a)}else if(!i.dataSource.data().length)i.append(l);else if(n==="sync"||n===c&&!a){i.items().each(function(e,t){i.remove(t)});i.append(l);if(t._shouldFocus){i.current(i._nextVisible(u()));i.focus()}}if(!!s&&o.find("#"+s).length===0)o.removeAttr("aria-activedescendant")},_remove:function(e){var t=this,i=t.treeView,n=i.dataSource,r=n.get(e),a;if(r){a=i.findByUid(r.uid);i.remove(a)}},_bindEvents:function(){var e=this;e.treeView.bind(i,e._navigate.bind(e));e.treeView.bind(t,e._expand.bind(e));e.treeView.element.on(h,e._keydownAction.bind(e))},_keydownAction:function(e){var t=this,i=u(e.target).find(".k-focus").closest(".k-item");t.trigger(m,{target:i,keyCode:e.keyCode})},_expand:function(e){var t=this,i=t.treeView,n=i.dataItem(e.node);e.preventDefault();t.trigger(d,{entryId:n.id})},_navigate:function(e){var t=this,i=e.node,n=t.treeView.dataItem(i),r=n.id;e.preventDefault();t.trigger(s,{path:r,entry:n.toJSON()})},_hold:u.noop,getSelected:function(){var e=this,t=e.treeView.element.find(".k-selected").closest(".k-item"),i=e.treeView.dataItem(t);return i},refresh:function(e){var t=this,i=t.treeView,n=i.dataSource.get(e),r=n&&i.findByUid(n.uid);if(n&&r){i.element.find(".k-selected").removeClass("k-selected");r.find("> div .k-in").removeClass("k-hover").addClass("k-selected")}},reload:function(){this.treeView.dataSource.read()}}));if(o.filemanager.registerViewComponent("tree",y),f.ui.Grid){var x=k.extend({init:function(e,t,i){var n=this,r=i.dataSource,a=i.messages;t=p({},n.defaultOptions,t,{messages:a});n._setDSOptions(t,r);n._setupColumns(t,a);t.kendoKeydown=t.kendoKeydown||n._kendoKeydown.bind(n);k.fn.init.call(this,o.Grid,e,t);n.grid=n.widgetComponent;n._bindEvents();if(i.draggable!==false&&!r.isLocalBinding)n._initDragAndDrop()},defaultOptions:{selectable:f.support.mobileOS?"row":"multiple",editable:{mode:"inline",confirmation:false},sortable:true,dropFilter:"tr:not(.k-grid-edit-row)",navigatable:true},_setupColumns:function(e,t){if(!e.columns)e.columns=[{field:"name",title:t.nameField||"Name",template:function(e){var t=!e.isDirectory?f.getFileGroup(e.extension,true):"folder";var i="<div class='file-group-icon'>"+"<span class='k-icon k-i-"+t+"'></span>"+"</div>"+"<div class='file-name'>"+f.htmlEncode(e.name+e.extension)+"<div>";return i}},{field:"created",title:t.dateCreatedField,format:"{0:G}"},{field:"size",title:t.sizeField,template:function(e){if(e.size>0)return f.getFileSizeMessage(e.size);else return""}}]},_bindEvents:function(){var e=this,t=e.grid;t.bind(l,e._select.bind(e));t.table.on("dblclick"+g,e._dblClick.bind(e));t.table.on("mousedown"+g,"tr:not(.k-grid-edit-row)",e._mousedown.bind(e));t.table.on(h+g,".k-grid-edit-row",e._keydown.bind(e));t.table.on(h+g,e._keydownAction.bind(e));t.bind("edit",function(){e._toggleFocusable(true)});t.bind("cancel",function(){e.trigger("cancel")});t.saveRow=u.noop;k.fn._bindEvents.call(this)},_kendoKeydown:function(e){var t=this,i=t.grid.current(),n=i?i.closest("tr[data-uid]"):null;if(n&&e.keyCode===a.ENTER&&!e.preventKendoKeydown){t._triggerOpen(n);e.preventKendoKeydown=true}if(e.keyCode===a.F2)e.preventKendoKeydown=true},_keydownAction:function(e){var t=this,i=u(e.target).find(".k-focus").closest("tr");if(i.length&&!i.is(".k-grid-edit-row"))t.trigger(m,{target:i,keyCode:e.keyCode})},_keydown:function(e){var t=this,i=t.grid;if(!u(e.target).closest(".k-grid-edit-row").length)return;if(e.keyCode===f.keys.ENTER){setTimeout(function(){var e=t.grid._editContainer||u();e.find("input").trigger("blur");t._closeEditable()});t._tryCancel()}if(e.keyCode===f.keys.ESC){i.cancelChanges();t.trigger("cancel")}},_mousedown:function(e){var t=this,i=u(e.target).closest("tr[data-uid]");if(e.which===1&&t.grid.editable){setTimeout(function(){t._closeEditable()});t._tryCancel()}if(e.which===3&&!i.is(".k-selected")){t.grid.selectable.clear();t.grid.select(i)}},_tryCancel:function(){var e=this,t=e.grid,i;if(t.editable){i=t._editContainer;if(!i.find("input").val())t.cancelChanges()}setTimeout(function(){e._toggleFocusable(false)})},_toggleFocusable:function(e){var t=this,i=t.grid;i.table.find("tr,td").children().addBack().toggleClass("k-focusable",e)},_closeEditable:function(){var e=this,t;if(e.grid.editable&&!e.grid.editable.options.model.dirty){t=e.grid._editContainer;e.grid._destroyEditable();e.grid._displayRow(t);e.trigger("cancel")}},_select:function(){var e=this,t=e.getSelected();e.trigger(i,{entries:t})},_dblClick:function(e){var t=this,i=u(e.target).closest("tr[data-uid]");t._triggerOpen(i)},_triggerOpen:function(e){var t=this;if(e.is(".k-grid-edit-row"))return;var i=t.grid.dataItem(e);if(i)t.trigger(n,{entry:i})},getSelected:function(){var e=this,t=e.grid.select(),i=[];for(var n=0;n<t.length;n++)i.push(e.grid.dataItem(t[n]));return i},addFolder:function(){this.grid.addRow()},edit:function(e){var t=this,i=t.grid.select();t.grid.editRow(e||i)},destroy:function(){this.grid.table.off(g);this.grid.element.off(g);k.fn.destroy.call(this)}});o.filemanager.registerViewComponent("grid",x)}return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("filemanager/toolbar.min",["kendo.toolbar.min","kendo.switch.min"],function(){var s=window.kendo.jQuery,e=void 0,l=window.kendo,d=s.extend,n=l.ui.ToolBar,t=l.toolbar.Item,o=l.toolbar.TemplateItem,u="click",i="toggle",r="close",a="action",c="change",f=".fileManagerToolbar",p=n.extend({init:function(e,t){var i=this;i._extendOptions(t);n.fn.init.call(i,e,t);i._attachEvents()},events:n.fn.events.concat([a]),defaultTools:{createFolder:{type:"button",text:"New Folder",name:"createFolder",command:"CreateFolderCommand",rules:'{ "remote": true }'},upload:{type:"button",text:"Upload",name:"upload",command:"OpenDialogCommand",options:'{ "type": "uploadDialog" }',rules:'{ "remote": true }'},sortDirection:{type:"buttonGroup",text:"Sort Direction",name:"sortDirection",buttons:[{name:"sortDirectionAsc",icon:"sort-asc-sm",togglable:true,group:"sortDirection",command:"SortCommand",options:'{ "dir": "asc" }',selected:true},{name:"sortDirectionDesc",icon:"sort-desc-sm",togglable:true,group:"sortDirection",command:"SortCommand",options:'{ "dir": "desc" }'}]},sortField:{type:"splitButton",text:"Sort By",name:"sortField",command:"SortCommand",menuButtons:[{name:"nameField",text:"Name",options:'{"field": "name"}',command:"SortCommand"},{name:"typeField",text:"Type",options:'{"field": "extension"}',command:"SortCommand"},{name:"sizeField",text:"Size",options:'{"field": "size"}',command:"SortCommand"},{name:"dateCreatedField",text:"Date created",options:'{"field": "createdUtc"}',command:"SortCommand"},{name:"dateModifiedField",text:"Date modified",options:'{"field": "modifiedUtc"}',command:"SortCommand"}]},changeView:{type:"buttonGroup",text:"Change View",name:"changeView",buttons:[{name:"gridView",icon:"grid-layout",togglable:true,group:"changeView",command:"ChangeViewCommand",options:"grid"},{name:"listView",icon:"grid",togglable:true,group:"changeView",command:"ChangeViewCommand",options:"list"}]},spacer:{type:"spacer"},details:{type:"fileManagerDetailsToggle",text:"View Details",name:"details",overflow:"never",command:"TogglePaneCommand",options:'{ "type": "preview" }'},search:{type:"fileManagerSearch",text:"Search",name:"search",command:"SearchCommand",icon:"search",overflow:"never",options:'{ "field": "name", "operator": "startswith" }'}},_attachEvents:function(){var e=this;e.bind(i,e._click.bind(e));e.bind(r,e._click.bind(e));e.bind(u,e._click.bind(e));e.bind(c,e._change.bind(e))},_extendOptions:function(e){var t=this,i=e.items?e.items:Object.keys(t.defaultTools);t.options=e;t.options.items=t._extendToolsOptions(i)},_extendToolsOptions:function(e){var a=this,o=a.options.messages;if(!e.length)return;return e.map(function(e){var t=s.isPlainObject(e)&&Object.keys(e).length===1&&e.name,i,n,r;e=t?e.name:e;i=s.isPlainObject(e)?e:d({},a.defaultTools[e]);n=i.rules?JSON.parse(i.rules):{};r={"aria-label":o[i.name],title:o[i.name],"data-command":i.command,"data-options":i.options};if(i.type==="fileManagerDetailsToggle")delete r["aria-label"];l.deepExtend(i,{id:i.name+"-"+l.guid(),name:i.name,text:o[i.name],attributes:r,overflow:i.overflow});if(i.type==="buttonGroup"){delete i.attributes["aria-label"];i.buttons=i.buttons.map(a._mapButtonGroups.bind(a))}if(i.type==="splitButton")i.menuButtons=i.menuButtons.map(a._mapMenuButtons.bind(a));if(n.remote&&a.options.filemanager.dataSource.isLocalBinding)i.hidden=true;return i},a)},_mapButtonGroups:function(e){var t=this,i=t.options.messages;if(e.group==="changeView"&&e.options===t.options.filemanager.options.initialView)e.selected=true;return l.deepExtend(e,{attributes:d({},e.attributes,{"aria-label":i[e.name],title:i[e.name],"data-command":e.command,"data-options":e.options})})},_mapMenuButtons:function(e){var t=this,i=t.options.messages;return l.deepExtend(e,{text:i[e.name],attributes:d({},e.attributes,{"aria-label":i[e.name],title:i[e.name],"data-command":e.command,"data-options":e.options})})},_click:function(e){var t=s(e.target).data("command"),i=s(e.target).data("options");if(!t)return;this.action({command:t,options:i})},_change:function(e){var t=s(e.target).data("command"),i=s(e.target).data("options");i=d({},i,{value:s(e.target).val()});if(!t)return;this.action({command:t,options:i})},isToolEnabled:function(e){var t=this,i=t.options,n=false;for(var r=0;r<i.items.length;r++)if(i.items[r].name==e){n=true;break}return i.items[e]||n},action:function(e){this.trigger(a,e)},destroy:function(){if(this.fileManagerSearch)this.fileManagerSearch.destroy();n.fn.destroy.call(this)}}),h=o.extend({init:function(e,t){var i=this,n=s("<input class='k-input-inner' autocomplete='off' />"),r=s("<span class='k-input-icon k-icon k-i-search'/>"),a=s('<span class="k-searchbox k-input k-input-md k-rounded-md k-input-solid"></span>');i.input=n;i.icon=r;o.fn.init.call(this,a,e,t);i.options.type="fileManagerSearch";i.renderIcon();a.append(r).append(n);i.input.attr({placeholder:i.options.text,title:i.options.text});i._bindEvents();i.toolbar.fileManagerSearch=i},attributes:function(){if(this.options.attributes)this.input.attr(this.options.attributes)},renderIcon:function(){if(this.options.icon)this.icon.addClass("k-icon k-i-"+this.options.icon)},_bindEvents:function(){this._inputHandler=this._input.bind(this);this.input.on("input"+f,this._inputHandler)},_input:function(e){this.toolbar.trigger(c,{target:e.target})},destroy:function(){this.element.off(f)}}),m=(l.toolbar.registerComponent("fileManagerSearch",h),t.extend({init:function(e,t){var i=this,n=s("<div class='k-filemanager-details-toggle'></div>"),r=s("<label>"+e.text+"</label>"),a=s("<input title='"+e.text+"' />");i.element=n;i.input=a;i.label=r;i.options=e;i.toolbar=t;i.attributes();i.addUidAttr();i.addIdAttr();i.addOverflowAttr();i.element.append(i.label);i.element.append(i.input);i.input.attr("aria-label",e.text);i.switchInstance=new l.ui.Switch(i.input,{change:i._change.bind(i),messages:{checked:t.options.messages.detailsChecked,unchecked:t.options.messages.detailsUnchecked}});i.label.on(u+f,i._click.bind(i));i.toolbar.fileManagerDetailsToggle=i},_change:function(e){this.toolbar.trigger(c,{target:e.sender.wrapper.parent()})},_click:function(e){this.switchInstance.toggle();this.toolbar.trigger(c,{target:s(e.target).parent()})},destroy:function(){this.element.off(f)}}));return l.toolbar.registerComponent("fileManagerDetailsToggle",m),d(l.ui.filemanager,{ToolBar:p}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("filemanager/data.min",["kendo.data.min"],function(){var i=window.kendo.jQuery,e=void 0,r=window.kendo,t=i.extend,n=r.data,a=n.Node,o=n.HierarchicalDataSource,s=n.DataSource,l=(t(true,r.data,{schemas:{filemanager:{data:function(e){return e.items||e||[]},model:{id:"path",hasChildren:"hasDirectories",fields:{name:{editable:true,type:"string",defaultValue:"New Folder"},size:{editable:false,type:"number"},path:{editable:false,type:"string"},extension:{editable:false,type:"string"},isDirectory:{editable:false,defaultValue:true,type:"boolean"},hasDirectories:{editable:false,defaultValue:false,type:"boolean"},created:{type:"date",editable:false},createdUtc:{type:"date",editable:false},modified:{type:"date",editable:false},modifiedUtc:{type:"date",editable:false}}}}}}),a.define({init:function(e){var t=this,i=this.isDirectory;a.fn.init.call(this,e);if(typeof i==="string")i=r.getter(i);if(r.isFunction(i)){var n=i.call(t,t);if(n&&n.length===0)t.isDirectory=false;else t.isDirectory=!!n}if(t.isDirectory)t._initChildren()},_initChildren:function(){var i=this;var e,t,n;if(!(i.children instanceof r.data.FileManagerDataSource)){e=i.children=new r.data.FileManagerDataSource(i._childrenOptions);t=e.transport;n=t.parameterMap;t.parameterMap=function(e,t){if(t==="read"||t==="create")e.target=i.id;if(n)e=n.call(i,e,t);return e};e.parent=function(){return i};e.bind("change",function(e){e.node=e.node||i;i.trigger("change",e)});e.bind("error",function(e){var t=i.parent();if(t){e.node=e.node||i;t.trigger("error",e)}});i._updateChildrenField()}},isNew:function(){if(this.fileManagerNewItem){delete this.fileManagerNewItem;return true}return this.id===this._defaultId}})),d=o.extend({init:function(e){var t=l.define({children:e});if(e.filter&&!e.serverFiltering){this._hierarchicalFilter=e.filter;e.filter=null}s.fn.init.call(this,i.extend(true,{},{schema:{modelBase:t,model:t}},e));this.isLocalBinding=this.transport instanceof r.data.LocalTransport;this._attachBubbleHandlers()},insert:function(e,t){var i=this.parent();if(i&&i._initChildren){if(t&&t.isDirectory)i.hasDirectories=true;i.hasChildren=true;i._initChildren()}return s.fn.insert.call(this,e,t)},remove:function(e){var t=this,i=e.parentNode(),n=t,r;if(i&&i._initChildren)n=i.children;t._cleanDestroyed(e);r=s.fn.remove.call(n,e);if(i&&(n.data()&&!n.data().length))i.hasChildren=false;else if(i&&!this._hasDirectories(i))i.hasDirectories=false;return r},_cleanDestroyed:function(e){var t=this,i=t;if(e.parentNode&&e.parentNode()){e=e.parentNode();i=e.children;i._destroyed=[];t._cleanDestroyed(e)}else i._destroyed=[]},_hasDirectories:function(e){var t;if(!e.children.data())return false;t=e.children.data().filter(function(e){return e.isDirectory});return!!t.length}});return d.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data;if(i&&i._dataSource)return i._dataSource;t.data=i;return t instanceof d?t:new d(t)},r.observableFileManagerData=function(e){var t=d.create({data:e,schema:r.data.schemas.filemanager});t.fetch();t._data._dataSource=t;return t._data},t(r.data,{FileManagerDataSource:d,FileEntry:l}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("filemanager/contextmenu.min",["kendo.menu.min"],function(){var o=window.kendo.jQuery,e=void 0,t=window.kendo,n=o.extend,i=t.template,r=t.ui.ContextMenu,a="action",s=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);i._overrideTemplates();i._restrictDefaultItems();i._extendItems();i.bind("select",i._onSelect.bind(i));i.bind("open",i._onOpen.bind(i))},_overrideTemplates:function(){this.templates.sprite=i("#if(spriteCssClass) {#<span class='#= spriteCssClass #'></span>#}#")},_restrictDefaultItems:function(){var e=this;if(e.options.isLocalBinding)e.defaultItems={}},defaultItems:{rename:{text:"Rename",spriteCssClass:"k-icon k-i-edit",command:"RenameCommand"},delete:{text:"Delete",spriteCssClass:"k-icon k-i-delete",command:"DeleteCommand"}},events:r.fn.events.concat([a]),_extendItems:function(){var e=this,t=e.options.items,i,n;if(t&&t.length)for(var r=0;r<t.length;r++){i=t[r];n=o.isPlainObject(i)&&Object.keys(i).length===1&&i.name;if(n)i=i.name;if(o.isPlainObject(i)){e._extendItem(i);e.append(i)}else if(e.defaultItems[i]){i=e.defaultItems[i];e._extendItem(i);e.append(i)}}else for(var a in e.defaultItems){i=e.defaultItems[a];e._extendItem(i);e.append(i)}},_extendItem:function(e){var t=this,i=t.options.messages;n(e,{text:i[e.text],spriteCssClass:e.spriteCssClass||"",attr:{"data-command":e.command}})},_onSelect:function(e){var t=o(e.item).data("command");var i=o(e.target);if(!t)return;this.action({command:t,options:{target:i}})},_onOpen:function(e){var t=e.sender,i=t.options.items;if(!i&&o.isEmptyObject(this.defaultItems))e.preventDefault()},action:function(e){this.trigger(a,e)}});return n(t.ui.filemanager,{ContextMenu:s}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filemanager.min",["./filemanager/commands.min","./filemanager/view.min","./filemanager/toolbar.min","./filemanager/data.min","./filemanager/contextmenu.min","kendo.breadcrumb.min","kendo.upload.min","kendo.dialog.min","kendo.resizable.min"],function(){var e={id:"filemanager",name:"FileManager",category:"web",description:"The FileManager widget displays offers file management functionality.",depends:["core","data","listview","toolbar","breadcrumb","menu","treeview","upload","dialog","switch","resizable","selectable","editable"],features:[{id:"filemanager-grid-view",name:"GridView",description:"Support for GridView",depends:["grid"]}]},l=window.kendo.jQuery,a=void 0,o=kendo.ui,s=l.extend,d=l.isPlainObject,u=Array.isArray,n=o.DataBoundWidget,c=kendo.template,f=kendo._outerHeight,r="navigate",p="select",h="open",m="error",g="change",v="upload",_="success",b="close",k="hide",w="load",y="dataBinding",x="dataBound",C="drop",S="execute",T="command",I="keydownAction",D="cancel",E="tree",A=".",F={wrapper:"k-widget k-filemanager",header:"k-filemanager-header",navigation:"k-filemanager-navigation",contentContainer:"k-filemanager-content-container",content:"k-filemanager-content",preview:"k-filemanager-preview",toolbar:"k-filemanager-toolbar",treeview:"k-filemanager-treeview",breadcrumb:"k-filemanager-breadcrumb",view:"k-filemanager-view",grid:"k-filemanager-grid",list:"k-filemanager-listview",upload:"k-filemanager-upload",uploadDialog:"k-filemanager-upload-dialog",splitBar:"k-splitbar",splitBarHorizontal:"k-splitbar-horizontal k-splitbar-draggable-horizontal",splitBarHover:"k-splitbar-horizontal-hover",splitBarIcon:"k-icon k-resize-handle",splitBarNavigation:"k-filemanager-splitbar-navigation",splitBarPreview:"k-filemanager-splitbar-preview",resizable:"k-filemanager-resizable"},H={filePreview:"k-file-preview",fileInfo:"k-file-info",fileName:"k-file-name",fileMeta:"k-file-meta",metaLabel:"k-file-meta-label",metaValue:"k-file-meta-value",extension:"k-file-type",size:"k-file-size",created:"k-file-created",modified:"k-file-modified"},t,i,P,M,O=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i.options=kendo.deepExtend({},i.options,t);i.defaultSortOption={field:"name",dir:"asc"};i.folderSortOption={field:"isDirectory",dir:"desc"};i._commandStack=new o.filemanager.CommandStack;i._dataSource();i._wrapper();i._renderHeader();i._renderContentContainer();i._initContextMenu();i._renderNavigation();i._renderContent();i._renderPreview();i._initUploadDialog();i._resizable();i.resize();kendo.notify(i,kendo.ui)},options:{name:"FileManager",height:500,resizable:true,initialView:{grid:"grid",list:"list"}.list,toolbar:{resizable:true},contextMenu:{},upload:{},uploadUrl:"",views:{},breadcrumb:{},draggable:true,dialogs:{upload:{width:530},moveConfirm:{width:350,closable:true},deleteConfirm:{width:360,closable:true},renamePrompt:{width:350,closable:true}},previewPane:{metaFields:["extension","size","created","modified"],noFileTemplate:""+'<div class="#:styles.fileInfo#">'+'<div class="#:styles.filePreview#">'+'<span class="k-file-icon k-icon k-i-none"></span>'+"</div>"+'<span class="#:styles.fileName#" k-no-file-selected>#: messages.noFileSelected #</span>'+"</div>",singleFileTemplate:""+'<div class="#:styles.fileInfo#">'+'<div class="#:styles.filePreview#">'+'<span class="k-file-icon k-icon k-i-#: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension, true) : "folder" #"></span>'+"</div>"+'<span class="#:styles.fileName#">#:selection[0].name#</span>'+"#if(metaFields){#"+'<dl class="#:styles.fileMeta#">'+"#for(var i = 0; i < metaFields.length; i+=1){#"+"#var field = metaFields[i]#"+'<dt class="#:styles.metaLabel#">#:messages[field]#: </dt>'+'<dd class="#:styles.metaValue# #:styles[field]#">'+'#if(field == "size"){#'+" #:kendo.getFileSizeMessage(selection[0][field])#"+"#} else if(selection[0][field] instanceof Date) {#"+' #:kendo.toString(selection[0][field], "G")#'+'#} else if(field == "extension") {#'+' #: !selection[0].isDirectory ? kendo.getFileGroup(selection[0].extension) : "folder"#'+"#} else {#"+" #:selection[0][field]#"+"#}#"+"</dd>"+'<dd class="k-line-break"></dd>'+"# } #"+"</dl>"+"#}#"+"</div>",multipleFilesTemplate:""+'<div class="#:styles.fileInfo#">'+'<div class="#:styles.filePreview#">'+'<span class="k-file-icon k-icon k-i-file"></span>'+"</div>"+'<span class="#:styles.fileName#">'+"#:selection.length# "+"#:messages.items#"+"</span>"+"</div>"},messages:{toolbar:{createFolder:"New Folder",upload:"Upload",sortDirection:"Sort Direction",sortDirectionAsc:"Sort Direction Ascending",sortDirectionDesc:"Sort Direction Descending",sortField:"Sort By",nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",dateCreatedField:"Date Created",listView:"List View",gridView:"Grid View",search:"Search",details:"View Details",detailsChecked:"On",detailsUnchecked:"Off",delete:"Delete",rename:"Rename"},views:{nameField:"Name",sizeField:"File Size",typeField:"Type",dateModifiedField:"Date Modified",dateCreatedField:"Date Created",items:"items",listLabel:"FileManager ListView",gridLabel:"FileManager Grid",treeLabel:"FileManager TreeView"},dialogs:{upload:{title:"Upload Files",clear:"Clear List",done:"Done"},moveConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Do you want to move or copy?</p>",okText:"Copy",cancel:"Move",close:"close"},deleteConfirm:{title:"Confirm",content:"<p style='text-align: center;'>Are you sure you want to delete the selected file(s)?</br>You cannot undo this action.</p>",okText:"Delete",cancel:"Cancel",close:"close"},renamePrompt:{title:"Prompt",content:"<p style='text-align: center;'>Enter new name for the file.</p>",okText:"Rename",cancel:"Cancel",close:"close"}},previewPane:{noFileSelected:"No File Selected",extension:"Type",size:"Size",created:"Date Created",createdUtc:"Date Created UTC",modified:"Date Modified",modifiedUtc:"Date Modified UTC",items:"items"}}},events:[r,p,h,y,x,m,C,S,T],_dataSource:function(){var e=this,t=e.options,i=t.dataSource||{},n=e.folderSortOption,r=e.defaultSortOption,a;if(!(i instanceof kendo.data.FileManagerDataSource)){if(u(i))a={data:i,autoSync:false,sort:[n,r]};else a=s(true,i,{autoSync:false,sort:[n,r]});if(i&&d(i.schema))a.schema=i.schema;else if(d(kendo.data.schemas.filemanager))a.schema=kendo.data.schemas.filemanager}else a=i;if(e.dataSource&&e._errorHandler){e.dataSource.unbind(m,e._errorHandler);e.dataSource.unbind(g,e._changeHandler)}else{e._errorHandler=e._error.bind(e);e._changeHandler=e._change.bind(e)}e.dataSource=kendo.data.FileManagerDataSource.create(a).bind(m,e._errorHandler).bind(g,e._changeHandler)},_error:function(e){if(!this.trigger(m,e))window.console.warn("Error! The requested URL returned "+e.xhr.status+" - "+e.xhr.statusText)},_wrapper:function(){var e=this,t=e.options,i=t.width,n=t.height;e.wrapper=e.element.addClass(F.wrapper);if(i)e.wrapper.width(i);if(n)e.wrapper.height(n);e._resizeHandler=kendo.onResize(function(){e.resize(true)})},_renderHeader:function(){var e=this,t=e.options;if(t.toolbar)e.header=l("<div />").addClass(F.header);e.wrapper.append(e.header);if(t.toolbar){e._initToolbar();e.toolbar._tabIndex()}},_renderContentContainer:function(){var e=this,t=l("<div />").addClass(F.contentContainer);e.contentContainer=t;e.wrapper.append(e.contentContainer)},_initContextMenu:function(){var e=this,t=e.options,i=s({},t.contextMenu,{filemanager:e,messages:t.messages.toolbar,target:e.contentContainer,filter:"[data-uid]",action:e.executeCommand.bind(e),isLocalBinding:e.dataSource.isLocalBinding});if(t.contextMenu===false)return;e.contextMenu=new o.filemanager.ContextMenu("<ul></ul>",i);e.contextMenu.bind(h,e._cacheFocus.bind(e))},_renderNavigation:function(){var e=this;e.navigation=l("<div />").addClass(F.navigation);e.navigation.append(e._initTreeView().element);e.contentContainer.append(e.navigation)},_renderContent:function(){var e=this,t=e.options,i=e.toolbar;e.content=l("<div />").addClass(F.content);if(t.breadcrumb)e.content.append(e._initBreadcrumb().element);e.content.append(e._initView());if(!i||!i.isToolEnabled(i.defaultTools.upload.name))e.content.append(e._initUpload().wrapper.hide());e.contentContainer.append(e.content)},_renderPreview:function(){var e=this,t=e.options.previewPane;if(!t)return;e.preview=l("<div />").addClass(F.preview);e.previewContainer=l("<div />").addClass(F.previewContainer);e.preview.append(e.previewContainer);e._setPreviewPaneContent();e.contentContainer.append(e.preview.hide())},_setPreviewPaneContent:function(){var e=this,t=e.options,i=t.messages.previewPane,n=t.previewPane,r=e.getSelected(),a;if(!r){a=c(n.noFileTemplate)({styles:H,messages:i});e.previewContainer.html(a);return}a=r.length===1?n.singleFileTemplate:n.multipleFilesTemplate;a=c(a)({styles:H,messages:i,selection:r,metaFields:n.metaFields});e.previewContainer.html(a)},_initToolbar:function(){var e=this,t=e.options,i=l("<div />").addClass(F.toolbar),n=s({},t.toolbar,{filemanager:this,messages:t.messages.toolbar,action:e.executeCommand.bind(e)});e.header.append(i);e.toolbar=new o.filemanager.ToolBar(i,n);return e.toolbar},_initTreeView:function(){var e=this,t=l("<div />").addClass(F.treeview),i=e.options.views[E],n=s(true,{},{dataSource:e.options.dataSource,messages:e.options.messages.views,draggable:e.options.draggable,isLocalBinding:e.dataSource.isLocalBinding});e.treeView=new o.filemanager.ViewComponents[E](t,i,n);e.treeView.bind(r,e._navigate.bind(e)).bind(w,e._load.bind(e)).bind(C,e._drop.bind(e)).bind(I,e._keydownAction.bind(e));return e.treeView},_drop:function(e){var t=this;if(!t.trigger(C,e)&&e.items.indexOf(e.target)<0)t._confirm({type:"move",target:e.target}).done(function(){t.executeCommand({command:"CopyCommand",options:e})}).fail(function(){t.executeCommand({command:"MoveCommand",options:e})})},_keydownAction:function(e){var t=this,i=e.keyCode,n=kendo.keys;if(i===n.DELETE)t.executeCommand({command:"DeleteCommand",options:{target:e.target}});if(i===n.F2)t.executeCommand({command:"RenameCommand",options:{target:e.target}})},_confirm:function(e){var t=this,i=t.options.messages.dialogs[e.type+"Confirm"];var n=l("<div></div>").kendoConfirm(s({},{title:i.title,content:i.content,messages:i},t.options.dialogs[e.type+"Confirm"])).data("kendoConfirm");n.bind(h,t._cacheFocus.bind(t));n.bind(k,t._restoreFocus.bind(t,e.target));n.open();n.wrapper.removeClass("k-confirm");return n.result},_prompt:function(e){var t=this,i=this.options.messages.dialogs[e.type+"Prompt"];var n=l("<div></div>").kendoPrompt(s({},{title:i.title,content:i.content,messages:i,value:e.defaultInput},this.options.dialogs[e.type+"Prompt"])).data("kendoPrompt");n.bind(h,t._cacheFocus.bind(t));n.bind(b,t._restoreFocus.bind(t,e.target));n.open();n.wrapper.removeClass("k-prompt");return n.result},_cacheFocus:function(){var e=this,t=l(document.activeElement),i=e.view(),n=e.treeView.widgetComponent;if(e.contextMenu&&e.contextMenu.popup.visible())return;e.treeView._shouldFocus=false;if(n.current()&&n.current().find(".k-focus").length||t.hasClass(F.treeview)){e.treeView._shouldFocus=true;i._focusElement=t;return}i._focusElement=t.hasClass(F[e._viewType])?t:null},_restoreFocus:function(e){var t=this,i=t.view();if(!e)return;if(i._focusElement)i._focusElement.trigger("focus");else if(e.closest&&e.closest(":kendoFocusable").length)e.closest(":kendoFocusable").trigger("focus")},_initView:function(){var e=this,t=l("<div />").addClass(F.view),i=e.options.initialView;e.viewWrapper=t;e.viewWrapper.append(e.view(i));return t},_initBreadcrumb:function(){var e=this,t=e.options,i=l("<nav />").addClass(F.breadcrumb),n=s({},{items:[{type:"rootitem",text:""}],change:e._breadcrumbChange.bind(e)},t.breadcrumb);e.breadcrumb=new o.Breadcrumb(i,n);return e.breadcrumb},_breadcrumbChange:function(t){var e=t.sender.items().filter(function(e){return e.path===t.value.substring(1)}).shift();this._navigate({path:e?e.id:""})},_initUploadDialog:function(){var e=this,t=e.options,i=t.messages.dialogs.upload,n=l("<div />"),r=s({},{title:i.title,modal:true,visible:false,width:500,actions:[{text:i.clear,action:e._clearUploadFilesList.bind(e)},{text:i.done,primary:true}],messages:i},t.dialogs.upload),a;if(!e._shouldInitUpload())return;a=e._initUpload();e.uploadDialog=new o.Dialog(n,r);e.uploadDialog.wrapper.addClass(F.uploadDialog);e.uploadDialog.element.append(a.wrapper);e.uploadDialog.bind(h,e._toggleUploadDropZone.bind(e,""));e.uploadDialog.bind(b,e._toggleUploadDropZone.bind(e,e.viewWrapper));return e.uploadDialog},_shouldInitUpload:function(){var e=this,t=e.options,i=false;if((t.uploadUrl||t.upload.async&&t.upload.async.saveUrl)&&t.upload!==false)i=true;return i},_initUpload:function(){var e=this,t=e.options,i=l("<input type='file' name='file'/>").addClass(F.upload),n=s(true,{async:{autoUpload:true,saveUrl:t.uploadUrl},dropZone:e.viewWrapper},t.upload);e.upload=new o.Upload(i[0],n);e.upload.bind(v,e._sendUploadPathParameter.bind(e));e.upload.bind(_,e._success.bind(e));return e.upload},_sendUploadPathParameter:function(e){e.data=s(e.data,{path:this.path()})},_success:function(){this._view.widgetComponent.dataSource.read()},_clearUploadFilesList:function(){var e=this,t=e.upload;if(t)t.clearAllFiles()},_toggleUploadDropZone:function(e){var t=this,i=t.upload;if(i)i.setOptions({dropZone:e})},_binding:function(e){if(this.trigger(y,{source:"view",action:e.action,items:e.items,index:e.index}))e.preventDefault()},_bound:function(){if(this.options.previewPane)this._setPreviewPaneContent();this.trigger(x)},_createResizableSplitBar:function(e){var t=l("<div />").addClass(F.splitBar).addClass(F.splitBarHorizontal).addClass(e),i=l("<span />").addClass(F.splitBarIcon);t.append(i);t.hover(function(){l(this).toggleClass(F.splitBarHover)});return t},_initResizableNavigation:function(){var e=this,i=e.wrapper,t=e._createResizableSplitBar(F.splitBarNavigation),n=i.find(A+F.content),r=i.find(A+F.navigation),a,o;t.insertAfter(r);e._resizeDraggable.navigation=e.wrapper.find(t).end().kendoResizable({handle:A+F.splitBarNavigation,start:function(){a=n.width();o=r.width()},resize:function(e){var t=e.x.initialDelta;if(kendo.support.isRtl(i))t*=-1;if(o+t<-2||a-t<-2)return;r.width(o+t)}}).getKendoResizable()},_initResizablePreview:function(){var e=this,i=e.wrapper,t=e._createResizableSplitBar(F.splitBarPreview),n=i.find(A+F.content),r=i.find(A+F.preview),a,o;if(!e.options.previewPane)return;t.insertBefore(r).hide();e._resizeDraggable.preview=i.find(t).end().kendoResizable({handle:A+F.splitBarPreview,start:function(){a=n.width();o=r.width()},resize:function(e){var t=e.x.initialDelta;if(kendo.support.isRtl(i))t*=-1;if(o-t<-2||a+t<-2)return;r.width(o-t)}}).getKendoResizable()},_resizable:function(){var e=this,t=e.options;e._resizeDraggable={};if(!t.resizable)return;e.wrapper.addClass(F.resizable);e._initResizableNavigation();e._initResizablePreview()},view:function(e){var t=this,i=l('<div aria-label="'+t.options.messages.views[e+"Label"]+'"></div>'),n=t.options.views[e],r=s(true,{},{dataSource:t._viewDataSource||t.dataSource,messages:t.options.messages.views,draggable:t.options.draggable});if(e===a)return t._view;if(!o.filemanager.ViewComponents[e])throw new Error(kendo.format("There is no {0} ViewComponent registered!",e));if(t._view&&t._view.destroy){t._view.destroy();t.viewWrapper.empty()}t._viewType=e;t._view=new o.filemanager.ViewComponents[e](i,n,r);t._view.bind(p,t._select.bind(t));t._view.bind(h,t._open.bind(t));t._view.bind(y,t._binding.bind(t));t._view.bind(x,t._bound.bind(t));t._view.bind(C,t._drop.bind(t));t._view.bind(I,t._keydownAction.bind(t));t._view.bind(D,t._cancel.bind(t));t._view.element.addClass(F[e]);t.viewWrapper.removeClass(Object.keys(o.filemanager.ViewComponents).map(function(e){return F.view+"-"+e}).join(" ")).addClass(F.view+"-"+e);t.viewWrapper.append(t._view.element)},executeCommand:function(e){var t=e.command,i=s({filemanager:this},d(e.options)?e.options:{value:e.options}),n=new o.filemanager.commands[t](i);if(!this.trigger(S,e))return n.exec()},_navigate:function(e){var t=this,i=e.path;if(!t.trigger(r,{path:i}))t.navigate(i)},_load:function(e){var t=this.dataSource.get(e.entryId);t.load()},_select:function(e){if(this.options.previewPane)this._setPreviewPaneContent();this.trigger(p,{entries:e.entries})},_open:function(e){var t=this,i=e.entry;t.trigger(h,{entry:i});if(i.isDirectory)t._navigate({path:i.id})},_cancel:function(){var e=this,t=e._commandStack,i=t.next();t.reject(i);e.trigger(T,{status:"cancel",action:"itemchange",data:i.data})},_change:function(t){var i=this,n=i._commandStack,e=t.node?t.node.children:i.dataSource;if(i.trigger(y,{source:"tree",action:t.action,items:t.items,index:t.index}))return;i.treeView._refreshDataSource(t);if(t.action==="remove"||t.action==="itemchange"||t.action==="add")if(n.empty())e.sync();else{var r=n.next();e.sync().then(function(e){n.resolve(r);i.trigger(T,{status:"success",action:t.action,data:r.data,response:e})}).fail(function(e){n.reject(r);i.trigger(T,{status:"fail",action:t.action,data:r.data,response:e})})}if(t.action==="remove"&&i._viewDataSource&&i._viewDataSource.parent()&&t.items[0]===i._viewDataSource.parent())i._navigateToParent(t.items[0]);if(t.action=="itemchange"&&i._viewDataSource&&i._viewDataSource.parent()&&i.path().indexOf(t.items[0].id)>=0)i._navigateToParent(t.items[0]);if(t.action==="itemchange")t.items[0].loaded(false)},_navigateToParent:function(e){var t=this;var i=e.parentNode();var n=i?i.id:"";t._navigate({path:n})},_buildBreadcrumbPath:function(e){var t=this,i=t.breadcrumb,n=[];while(e){n.push({id:e.id,text:e.name,path:e.path});e=e.parentNode&&e.parentNode()}n.push({type:"rootItem",id:"",text:""});i.items(n.reverse())},_adjustDimensions:function(){var e=this,t=e.wrapper,i=A+F.grid,n=A+F.list,r=A+F.contentContainer,a=t.height(),o=0,s=0;if(e.toolbar)o=f(e.toolbar.wrapper);if(e.breadcrumb)s=f(e.breadcrumb.wrapper);if(e.options.height!=="auto"){t.find([i].join(",")).height(a-(o+s+1));t.find(n).parent().height(a-(o+s+1));t.find(r).height(a-o)}},_resize:function(){this._adjustDimensions();kendo.resize(this.element.children())},setDataSource:function(e){var t=this;t.options.dataSource=e;t._dataSource();if(t.toolbar){t.toolbar.destroy();t.header.empty();t._initToolbar();t.toolbar._tabIndex()}if(t.treeView){t.treeView.destroy();t.navigation.empty();t.navigation.append(t._initTreeView().element)}if(t._view)t.view(t._viewType||t.options.initialView);t._initContextMenu()},refresh:function(){var e=this,t=e._viewDataSource||e.dataSource;t.read()},getSize:function(){return kendo.dimensions(this.wrapper)},getSelected:function(){var e=this,t=e._view.getSelected(),i=e.treeView;if(t&&t.length)return t;var n=i.getSelected();if(n)return[e.dataSource.get(n.id)]},path:function(){return this._path||""},navigate:function(e){var t=this,i=t.dataSource,n=i.get(e.replace(/^\//,"")),r=t._view,a=t.treeView,o=t.breadcrumb,s=e===""||e==="/";if(!n&&!s){window.console.warn("Error! Could not navigate to the folder at the requested path("+e+"). Make sure that the parent folder of the target folder has already been loaded.");return}t._path=e;if(t.trigger(y,{source:"navigation",action:"rebind",items:[n]}))return;if(o)t._buildBreadcrumbPath(n);if(s){i.sort([t.folderSortOption,t.defaultSortOption]);t._viewDataSource=i;r.refresh(t._viewDataSource);a.treeView.select(l());if(t.options.previewPane)t._setPreviewPaneContent();return}if(n.loaded&&!n.loaded())n.load();if(r){t._viewDataSource=n.children;t._viewDataSource._sort=[t.folderSortOption,t.defaultSortOption];r.refresh(t._viewDataSource)}if(a)a.refresh(n.id);if(t.options.previewPane)t._setPreviewPaneContent()},items:function(){var e=this;return e.treeView.widgetComponent.items().add(e._view.widgetComponent.items())},destroy:function(){var e=this;n.fn.destroy.call(e);e.dataSource.unbind(m,e._errorHandler).unbind(g,e._changeHandler);if(e._resizeDraggable.navigation){e._resizeDraggable.navigation.destroy();e._resizeDraggable.navigation=null}if(e._resizeDraggable.preview){e._resizeDraggable.preview.destroy();e._resizeDraggable.preview=null}if(e.uploadDialog){e.uploadDialog.destroy();e.uploadDialog=null}if(e.upload){e.upload.destroy();e.upload=null}if(e.contextMenu){e.contextMenu.destroy();e.contextMenu=null}kendo.unbindResize(e._resizeHandler);e.dataSource=null;e._viewDataSource=null;kendo.destroy(e.element)}});return o.plugin(O),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.listbox.min",["kendo.draganddrop.min","kendo.data.min","kendo.selectable.min"],function(){var z={id:"listbox",name:"ListBox",category:"web",depends:["draganddrop","data","selectable"]},u=window.kendo.jQuery,n=void 0,o=window.kendo,r=o.attr,R,a=o.keys,N=o.template,L=o.ui.Widget,B=o.data.DataSource,s=o.ui.Selectable,V=o.ui.DataBoundWidget,e=o.Class,d=u.extend,t=u.noop,l="-",U=".",W=" ",j="#",c="kendoListBox",i=U+c,f="k-disabled",p="k-selected",h=".k-list-item:not(.k-disabled)",m=".k-list-ul:not(.k-disabled) >"+h,g="k-listbox-toolbar",q="li > a.k-button:not(.k-disabled)",v="k-focus",G="k-drag-clue",K="k-drop-hint",$="k-list-ul",Y=".k-list-ul",Q="click"+i,X="keydown"+i,J="blur"+i,Z=o._outerWidth,ee=o._outerHeight,_="change",te="dataBound",b="add",k="remove",w="reorder",y="moveUp",x="moveDown",C="transferTo",S="transferFrom",T="transferAllTo",I="transferAllFrom",D="k-ghost",ie="uid",E="id",A="tabindex",ne="command",re=-1,ae=1,oe="dragstart",se="drag",le="drop",de="dragend",ue="ul.k-list-ul>li.k-list-item",F="right",ce="bottom",fe=[g+l+"left",g+l+F,g+l+"top",g+l+ce];function H(e){var t=u.map(e,function(e){return u(e).index()});return t}function pe(e){return typeof e==="undefined"}function he(e){return e.clone().attr("class","").addClass(G)}function me(){return u("<li>").addClass(K)}var ge=V.extend({init:function(e,t){var i=this;L.fn.init.call(i,e,t);i._wrapper();i._list();i._ariaLabel(i._getList());e=i.element.attr("multiple","multiple").hide();if(e[0]&&!i.options.dataSource){i.options.dataTextField=i.options.dataTextField||"text";i.options.dataValueField=i.options.dataValueField||"value"}i._templates();i._selectable();i._dataSource();i._createToolbar();i._createDraggable();i._createNavigatable()},destroy:function(){var e=this;V.fn.destroy.call(e);if(!isNaN(e._listTabIndex)){e._getList().off();e._listTabIndex=null}e._unbindDataSource();e._destroySelectable();e._destroyToolbar();e.wrapper.off(i);if(e._target)e._target=null;if(e._draggable){e._draggable.destroy();e.placeholder=null}o.destroy(e.element)},setOptions:function(e){L.fn.setOptions.call(this,e);this._templates();this._dataSource()},events:[_,te,b,k,w,oe,se,le,de],options:{name:"ListBox",autoBind:true,template:"",dataTextField:"",dataValueField:"",selectable:"single",draggable:null,dropSources:[],connectWith:"",navigatable:true,toolbar:{position:F,tools:[]},messages:{tools:{remove:"Delete",moveUp:"Move Up",moveDown:"Move Down",transferTo:"Transfer To",transferFrom:"Transfer From",transferAllTo:"Transfer All To",transferAllFrom:"Transfer All From"}}},add:function(e){var t=this;var i=e&&e.length?e:[e];var n=i.length;var r=t._getList();var a;t._unbindDataSource();t._unbindDataChange();for(a=0;a<n;a++)t._addItem(i[a],r);t._bindDataChange();t._bindDataSource();t._syncElement()},_addItem:function(e,t){var i=this;var n=u(i.templates.itemTemplate({item:e,r:i.templates.itemContent}));i._setItemId(n,e.uid);n.appendTo(t);if(typeof e===typeof"")i.dataSource._data.push(e);else i.dataSource.add(e)},_addItemAt:function(e,t){var i=this;var n=u(i.templates.itemTemplate({item:e,r:i.templates.itemContent}));i._unbindDataSource();if(typeof e===typeof""){i._insertElementAt(n,t);i.dataSource._data.push(e)}else{i._setItemId(n,e.uid);i._insertElementAt(n,t);i.dataSource.add(e)}i._bindDataSource();i._syncElement()},_insertElementAt:function(e,t){var i=this;var n=i._getList();if(t>0)u(e).insertAfter(n.children().eq(t-1));else u(n).prepend(e)},_createNavigatable:function(){var e=this;var t=e.options;if(t.navigatable)e._getList().on(Q,h,e._click.bind(e)).on(X,e._keyDown.bind(e)).on(J,e._blur.bind(e))},_getTabIndex:function(){var e=this;var t;if(!isNaN(e._listTabIndex))return e._listTabIndex;t=e.element.attr(A);e._listTabIndex=!isNaN(t)?t:0;e.element.removeAttr(A);return e._listTabIndex},_blur:function(){if(this._target){this._target.removeClass(v);this._getList().removeAttr("aria-activedescendant")}this._target=null},_click:function(e){var t=this;var i=u(e.currentTarget);var n=t._target;var r=o._activeElement();var a=u.contains(t.wrapper[0],r);if(n)n.removeClass(v);t._target=i;i.addClass(v);t._getList().attr("aria-activedescendant",i.attr(E));if(t._getList()[0]!==o._activeElement()&&(!a||!Te(r)))t.focus()},_getNavigatableItem:function(e){var t=this;var i;if(!t._target)i=t.items().filter(h).first();else i=t._target;if(e===a.UP&&t._target)i=t._target.prevAll(h).first();if(e===a.DOWN&&t._target)i=t._target.nextAll(h).first();return i.length?i:null},_scrollIntoView:function(e){if(!e)return;if(e[0])e=e[0];var t=this._getList().parent()[0];var i=e.offsetTop;var n=t.scrollTop;var r=t.clientHeight;var a=i+e.offsetHeight;if(n>i)n=i;else if(a>n+r)n=a-r;t.scrollTop=n},_keyDown:function(e){var t=this;var i=e.keyCode;var n=t._getNavigatableItem(i);var r;if(t._target)t._target.removeClass(v);if(!(e.shiftKey&&!e.ctrlKey&&(i===a.DOWN||i===a.UP)))t._shiftSelecting=false;if(i==a.DELETE){t._executeCommand(k);if(t._target){t._target.removeClass(v);t._getList().removeAttr("aria-activedescendant");t._target=null}r=true}else if(i===a.DOWN||i===a.UP){if(!n){e.preventDefault();return}if(e.shiftKey&&!e.ctrlKey){if(!t._shiftSelecting){t.clearSelection();t._shiftSelecting=true}if(t._target&&n.hasClass("k-selected"))t._target.removeClass(p);else if(t.options.selectable=="single")t.select(n);else t.select(n.add(t._target));t.trigger(_)}else if(e.shiftKey&&e.ctrlKey){t._executeCommand(i===a.DOWN?x:y);t._scrollIntoView(t._target);e.preventDefault();return}else if(!e.shiftKey&&!e.ctrlKey){if(t.options.selectable==="multiple")t.clearSelection();t.select(n);t.trigger(_)}t._target=n;if(t._target){t._target.addClass(v);t._scrollIntoView(t._target);t._getList().attr("aria-activedescendant",t._target.attr(E))}else t._getList().removeAttr("aria-activedescendant");r=true}else if(i==a.SPACEBAR){if(e.ctrlKey&&t._target){if(t._target.hasClass(p))t._target.removeClass(p);else t.select(t._target);t.trigger(_)}else{t.clearSelection();t.select(t._target);t.trigger(_)}r=true}else if(e.ctrlKey&&i==a.RIGHT){if(e.shiftKey)t._executeCommand(T);else t._executeCommand(C);t._target=t.select().length?t.select():null;r=true}else if(e.ctrlKey&&i==a.LEFT){if(e.shiftKey)t._executeCommand(I);else t._executeCommand(S);r=true}if(r)e.preventDefault()},focus:function(){o.focusElement(this._getList())},_createDraggable:function(){var e=this;var t=e.options.draggable;var i;if(t){i=t.hint;if(!e.options.selectable)throw new Error("Dragging requires selection to be enabled");if(!i)i=he;e._draggable=new o.ui.Draggable(e.wrapper,{filter:t.filter?t.filter:ue,hint:o.isFunction(i)?i:u(i),dragstart:e._dragstart.bind(e),dragcancel:e._clear.bind(e),drag:e._drag.bind(e),dragend:e._dragend.bind(e)})}},_dragstart:function(e){var t=this;var i=t.draggedElement=e.currentTarget;var n=t.options.draggable.placeholder;var r=t.dataItem(i);var a={dataItems:r,items:u(i),draggableEvent:e};if(t.options.draggable.enabled===false){e.preventDefault();return}if(!n)n=me;t.placeholder=o.isFunction(n)?u(n.call(t,i)):u(n);if(i.is(U+f))e.preventDefault();else if(t.trigger(oe,a))e.preventDefault();else{t.clearSelection();t.select(i);i.addClass(D)}},_clear:function(){this.draggedElement.removeClass(D);this.placeholder.remove()},_findElementUnderCursor:function(e){var t=o.elementUnderCursor(e);var i=e.sender;if(u.contains(i.hint[0],t)||i.hint[0]===t){i.hint.hide();t=o.elementUnderCursor(e);i.hint.show()}return t},_findTarget:function(e){var t=this;var i=t._findElementUnderCursor(e);var n=u(i);var r=t._getList();var a;var o;if(u.contains(r[0],i)){a=t.items();i=n.is("li")?i:n.closest("li")[0];o=a.filter(i)[0]||a.has(i)[0];if(o){o=u(o);return!o.hasClass(f)?{element:o,listBox:t}:null}else return null}else if(r[0]==i||r.parent()[0]==i)return{element:u(r),appendToBottom:true,listBox:t};else return t._searchConnectedListBox(n)},_getElementCenter:function(e){var t=e.length?o.getOffset(e):null;if(t){t.top+=ee(e)/2;t.left+=Z(e)/2}return t},_searchConnectedListBox:function(e){var t;var i;var n;var r=e;var a;if(e.hasClass("k-list-scroller k-selectable"))a=e;else a=e.closest(".k-list-scroller.k-selectable");if(a.length)t=a.parent().find("[data-role='listbox']").getKendoListBox();else return null;if(t&&u.inArray(this.element[0].id,t.options.dropSources)!==-1){i=t.items();e=e.is("li")?e[0]:e.closest("li")[0];n=i.filter(e)[0]||i.has(e)[0];if(n){n=u(n);return!n.hasClass(f)?{element:n,listBox:t}:null}else if(!i.length||r.hasClass("k-list-scroller k-selectable")||r.hasClass("k-list-content"))return{element:t._getList(),listBox:t,appendToBottom:true};else return null}return null},_drag:function(e){var t=this;var i=t.draggedElement;var n=t._findTarget(e);var r={left:e.x.location,top:e.y.location};var a=t.dataItem(i);var o={dataItems:[a],items:u(i),draggableEvent:e};var s;var l;var d;if(t.trigger(se,o)){e.preventDefault();return}if(n){s=this._getElementCenter(n.element);l={left:Math.round(r.left-s.left),top:Math.round(r.top-s.top)};if(n.appendToBottom){t._movePlaceholder(n,null,i);return}if(l.top<0)d="prev";else if(l.top>0)d="next";if(d)if(n.element[0]!=t.placeholder[0])t._movePlaceholder(n,d,i)}else if(t.placeholder.parent().length)t.placeholder.remove()},_movePlaceholder:function(e,t,i){var n=this;var r=n.placeholder;var a=e.listBox.options.draggable;if(r.parent().length){n.placeholder.remove();if(a&&a.placeholder)n.placeholder=o.isFunction(a.placeholder)?u(a.placeholder.call(n,i)):u(a.placeholder);else n.placeholder=u(me.call(n,i))}if(!t)e.element.append(n.placeholder);else if(t==="prev")e.element.before(n.placeholder);else if(t==="next")e.element.after(n.placeholder)},_dragend:function(e){var t=this;var i=t.draggedElement;var n=t.items();var r=n.not(t.draggedElement).index(t.placeholder);var a=n.not(t.placeholder).index(t.draggedElement);var o=t.dataItem(i);var s={dataItems:[o],items:u(i)};var l=t.placeholder.closest(".k-widget.k-listbox").find("[data-role='listbox']").getKendoListBox();if(t.trigger(le,d({},s,{draggableEvent:e}))){e.preventDefault();this._clear();return}if(r>=0){if(r!==a&&!t.trigger(w,d({},s,{offset:r-a}))){i.removeClass(D);t.reorder(i,r)}}else if(l){if(!t.trigger(k,s))t.remove(u(i));if(!l.trigger(b,s))l._addItemAt(o,l.items().index(t.placeholder))}t._clear();t._draggable.dropped=true;t.trigger(de,d({},s,{draggableEvent:e}));t._updateToolbar();t._updateAllToolbars()},reorder:function(e,t){var i=this;var n=i.dataSource;var r=i.dataItem(e);var a=n.at(t);var o=i.items()[t];var s=u(e);if(r&&o&&a){i._removeElement(s);i._insertElementAt(s,t);i._updateToolbar()}},remove:function(e){var t=this;var i=t._getItems(e);var n=i.length;var r;t._unbindDataSource();t._unbindDataChange();for(r=0;r<n;r++)t._removeItem(u(i[r]));t._bindDataChange();t._bindDataSource();t._syncElement();t._updateToolbar();t._updateAllToolbars()},_removeItem:function(e){var t=this;var i=t.dataSource;var n=t.dataItem(e);var r=i.transport;if(!n||!i)return;if(typeof n===typeof""){var a=i._data;for(var o=0;o<a.length;o++)if(n===a[o]){a[o]=a[a.length-1];a.pop();break}}else{i.remove(n);if(r&&(r.destroy||(r.options||{}).destroy)&&(!n.isNew||!n.isNew()))i._destroyed.push(n)}t._removeElement(e)},_removeElement:function(e){o.destroy(e);u(e).off().remove()},dataItem:function(e){var t=r(ie);var i=u(e).attr(t)||u(e).closest("["+t+"]").attr(t);if(i)return this.dataSource.getByUid(i);else return u(e).find(".k-list-item-text").html()},_dataItems:function(e){var t=[];var i=u(e);var n=i.length;var r;for(r=0;r<n;r++)t.push(this.dataItem(i.eq(r)));return t},items:function(){var e=this._getList();return e.children()},select:function(e){var t=this;var i=t.selectable;var n;if(pe(e))return i.value();n=t.items().filter(e).filter(m);if(!i.options.multiple){i.clear();n=n.first()}return i.value(n)},clearSelection:function(){var e=this;var t=e.selectable;if(t)t.clear()},enable:function(e,t){var i=this;var n=pe(t)?true:!!t;var r=i._getItems(e);var a=r.length;var o;for(o=0;o<a;o++)i._enableItem(u(r[o]),n);i._updateAllToolbars()},_enableItem:function(e,t){var i=this;var n=i.dataItem(e);if(n)if(t)u(e).removeClass(f);else u(e).addClass(f).removeClass(p)},setDataSource:function(e){var t=this;t.options.dataSource=e;t._dataSource()},_dataSource:function(){var e=this;var t=e.options;var i=t.dataSource||{};i=Array.isArray(i)?{data:i}:i;i.select=e.element;i.fields=[{field:t.dataTextField},{field:t.dataValueField}];e._unbindDataSource();e.dataSource=B.create(i);e._bindDataSource();if(e.options.autoBind){e.wrapper.attr("aria-busy",true);e.dataSource.fetch()}},_bindDataChange:function(){var e=this.dataSource;if(e._data&&e._changeHandler){e._data.bind(_,e._changeHandler);e._data.trigger(_)}},_unbindDataChange:function(){var e=this.dataSource;if(e._data&&e._changeHandler)e._data.unbind(_,e._changeHandler)},_bindDataSource:function(){var e=this;var t=e.dataSource;e._dataChangeHandler=e.refresh.bind(e);if(t)t.bind(_,e._dataChangeHandler)},_unbindDataSource:function(){var e=this;var t=e.dataSource;if(t)t.unbind(_,e._dataChangeHandler)},_wrapper:function(){var e=this,t=e.element,i=t.parent("div.k-listbox");if(!i[0]){i=t.wrap('<div class="k-widget k-listbox" unselectable="on" />').parent();i[0].style.cssText=t[0].style.cssText;i[0].title=t[0].title;u('<div class="k-list-scroller"><div class="k-list k-list-md"><div class="k-list-content"></div></div></div>').insertBefore(t)}e.wrapper=i.addClass(t[0].className).css("display","");e._innerWrapper=u(i[0].firstChild)},_list:function(){var e=this,t=u("<ul class='"+$+"' role='listbox'></ul>"),i=e.options.selectable,n=s.parseOptions(i);if(n.multiple)t.attr("aria-multiselectable","true");t.appendTo(e.wrapper.find(".k-list-content"));if(e.options.navigatable)e._getList().attr(A,e._getTabIndex())},_templates:function(){var e=this;var t=this.options;var i;if(t.template&&typeof t.template=="string")i=o.template(t.template);else if(!t.template)i=o.template("${"+o.expr(t.dataTextField,"data")+"}",{useWithBlock:false});else i=t.template;e.templates={itemTemplate:o.template("# var item = data.item, r = data.r; # <li class='k-list-item' role='option' aria-selected='false'><span class='k-list-item-text'>#=r(item)#</span></li>",{useWithBlock:false}),itemContent:i,toolbar:"<div class='"+g+"'></div>"}},refresh:function(){var e=this;var t=e.dataSource.view();var i=e.templates.itemTemplate;var n="";for(var r=0;r<t.length;r++)n+=i({item:t[r],r:e.templates.itemContent});e._getList().html(n);e._setItemIds();e._createToolbar();e._syncElement();e._updateToolbar();e._updateAllToolbars();e.trigger(te);e.wrapper.attr("aria-busy",false)},_syncElement:function(){var e="";var t=this.dataSource.view();for(var i=0;i<t.length;i++)e+=this._option(t[i][this.options.dataValueField]||t[i],t[i][this.options.dataTextField]||t[i],true);this.element.html(e)},_option:function(e,t){var i="<option";if(e!==n){e+="";if(e.indexOf('"')!==-1)e=e.replace(/"/g,"&quot;");i+=' value="'+e+'"'}i+=" selected>";if(t!==n)i+=o.htmlEncode(t);return i+="</option>"},_setItemId:function(e,t){if(!e.length)return;e.attr(r(ie),t).attr(E,t)},_setItemIds:function(){var e=this;var t=e.items();var i=e.dataSource.view();var n=i.length;var r;for(r=0;r<n;r++)e._setItemId(t.eq(r),i[r].uid)},_selectable:function(){var e=this;var t=e.options.selectable;var i=s.parseOptions(t);e.selectable=new s(e._innerWrapper,{aria:true,selectedClass:"k-selected",multiple:i.multiple,filter:h,change:e._onSelect.bind(e)})},_onSelect:function(){var e=this;e._updateToolbar();e._updateAllToolbars();e.trigger(_)},_destroySelectable:function(){var e=this;if(e.selectable&&e.selectable.element){e.selectable.destroy();e.selectable=null}},_getList:function(){return this.wrapper.find(Y)},_getItems:function(e){return this.items().filter(e)},_createToolbar:function(){var e=this;var t=e.options.toolbar;var i=t.position||F;var n=i===ce?"insertAfter":"insertBefore";var r=t.tools||[];var a=e.options.messages;e._destroyToolbar();e.wrapper.removeClass(fe.join(W));if(r.length&&r.length>0){var o=u(e.templates.toolbar)[n](e._innerWrapper);e.toolbar=new M(o,d({},t,{listBox:e,messages:a}));e.wrapper.addClass(g+l+i)}},_destroyToolbar:function(){var e=this;if(e.toolbar){e.toolbar.destroy();e.toolbar=null}},_executeCommand:function(e){var t=this;var i=P.current.create(e,{listBox:t});if(i){i.execute();t._updateToolbar();t._updateAllToolbars()}},_updateToolbar:function(){var e=this.toolbar;if(e)e._updateToolStates()},_updateAllToolbars:function(){var e=u("select[data-role='listbox']");var t=e.length;var i;var n;for(n=0;n<t;n++){i=u(e[n]).data(c);if(i)i._updateToolbar()}}}),P=(o.ui.plugin(ge),e.extend({init:function(){this._commands=[]},register:function(e,t){this._commands.push({commandName:e,commandType:t})},create:function(e,t){var i=this._commands;var n=i.length;var r=e?e.toLowerCase():"";var a;var o;var s;for(s=0;s<n;s++){o=i[s];if(o.commandName.toLowerCase()===r){a=o;break}}if(a)return new a.commandType(t)}})),O=(P.current=new P,e.extend({init:function(e){var t=this;t.options=d({},t.options,e);t.listBox=t.options.listBox},options:{listBox:null},getItems:function(){return u(this.listBox.select())},execute:t,canExecute:t})),ve=O.extend({execute:function(){var e=this;var t=e.listBox;var i=e.getItems();if(!t.trigger(k,{dataItems:t._dataItems(i),items:i}))t.remove(i)},canExecute:function(){return this.listBox.select().length>0}}),_e=(P.current.register(k,ve),O.extend({execute:function(){var e=this;if(e.canExecute())e.moveItems()},canExecute:t,moveItems:function(){var e=this;var t=e.listBox;var i=e.options;var n=e.getItems();var r=i.offset;var a=H(n);var o=u.makeArray(n.sort(e.itemComparer));var s=i.moveAction;var l;if(!t.trigger(w,{dataItems:t._dataItems(o),items:u(o),offset:r}))while(o.length>0&&a.length>0){l=o[s]();t.reorder(l,a[s]()+r)}},options:{offset:0,moveAction:"pop"},itemComparer:function(e,t){var i=u(e).index();var n=u(t).index();if(i===n)return 0;else return i>n?1:-1}})),be=_e.extend({options:{offset:re,moveAction:"shift"},canExecute:function(){var e=this.getItems();var t=H(e);return t.length>0&&t[0]>0}}),ke=(P.current.register(y,be),_e.extend({options:{offset:ae,moveAction:"pop"},canExecute:function(){var e=this;var t=e.getItems();var i=H(t);return i.length>0&&u(i).last()[0]<e.listBox.items().length-1}})),we=(P.current.register(x,ke),O.extend({options:{filter:h},execute:function(){var e=this;var t=e.getSourceListBox();var i=e.getItems().filter(e.options.filter);var n=t?t._dataItems(i):[];var r=e.getDestinationListBox();var a=e.getUpdatedSelection(i);if(r&&i.length>0){if(!r.trigger(b,{dataItems:n,items:i}))r.add(n);if(!t.trigger(k,{dataItems:n,items:i})){t.remove(i);e.updateSelection(a)}}},getUpdatedSelection:function(e){if(e.length!==1)return null;var t=this;var i=t.options.filter;var n=t.getSourceListBox();var r=n?n.items().filter(i).last():null;var a=u(e).filter(r).length>0;var o=a?u(e).prevAll(i)[0]:u(e).nextAll(i)[0];if(o)return o;else return null},updateSelection:function(e){var t=this.getSourceListBox();if(t&&e){t.select(u(e));t.selectable.trigger(_);t._scrollIntoView(e)}},getSourceListBox:t,getDestinationListBox:t})),ye=we.extend({canExecute:function(){var e=this.getSourceListBox();return e?e.select().length>0:false},getSourceListBox:function(){return this.listBox},getDestinationListBox:function(){var e=this.getSourceListBox();return e&&e.options.connectWith?u(j+e.options.connectWith).data(c):null},getItems:function(){var e=this.getSourceListBox();return e?u(e.select()):u()}}),xe=(P.current.register(C,ye),we.extend({canExecute:function(){var e=this.getSourceListBox();return e?e.select().length>0:false},getSourceListBox:function(){var e=this.getDestinationListBox();return e&&e.options.connectWith?u(j+e.options.connectWith).data(c):null},getDestinationListBox:function(){return this.listBox},getItems:function(){var e=this.getSourceListBox();return e?u(e.select()):u()}})),Ce=(P.current.register(S,xe),ye.extend({canExecute:function(){var e=this.getSourceListBox();return e?e.wrapper.find(m).length>0:false},getItems:function(){var e=this.getSourceListBox();return e?e.items():u()},getUpdatedSelection:t,updateSelection:t})),Se=(P.current.register(T,Ce),xe.extend({canExecute:function(){var e=this.getSourceListBox();return e?e.wrapper.find(m).length>0:false},getItems:function(){var e=this.getSourceListBox();return e?e.items():u()},getUpdatedSelection:t,updateSelection:t})),M=(P.current.register(I,Se),e.extend({init:function(e,t){var i=this;i.element=u(e).addClass(g);i.options=d({},i.options,t);i.listBox=i.options.listBox;i._initTemplates();i._createTools();i._updateToolStates();i._attachEventHandlers()},destroy:function(){var e=this;e._detachEventHandlers();o.destroy(e.element);e.element.remove();e.element=null},options:{position:F,tools:[]},_initTemplates:function(){this.templates={tool:N("<li>"+"<a href='\\\\#' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'>"+"<span class='k-button-icon k-icon #= iconClass #'></span>"+"</a>"+"</li>")}},_createTools:function(){var e=this;var t=e.options.tools;var i=t.length;var n=e.options.messages.tools;var r=e._createToolList();var a;var o;for(o=0;o<i;o++){a=d({},M.defaultTools[t[o]],{text:n[t[o]]});if(a)r.append(u(e.templates.tool(a)))}e.element.append(r)},_createToolList:function(){return u("<ul class='k-reset' />")},_attachEventHandlers:function(){var e=this;e.element.on(Q,q,e._onToolClick.bind(e))},_detachEventHandlers:function(){this.element.off(i).find("*").off(i)},_onToolClick:function(e){e.preventDefault();this._executeToolCommand(u(e.currentTarget).data(ne))},_executeToolCommand:function(e){var t=this;var i=t.listBox;if(i)i._executeCommand(e)},_updateToolStates:function(){var e=this;var t=e.options.tools;var i=t.length;var n;for(n=0;n<i;n++)e._updateToolState(t[n])},_updateToolState:function(e){var t=this;var i=P.current.create(e,{listBox:t.listBox});var n=t.element.find("[data-command='"+e+"']");var r=n[0];if(r&&i&&i.canExecute)if(i.canExecute())n.removeClass(f).removeAttr(A);else n.addClass(f).attr(A,"-1")}}));function Te(e){return u(e).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist")}return M.defaultTools={remove:{command:k,iconClass:"k-i-x"},moveUp:{command:y,iconClass:"k-i-arrow-60-up"},moveDown:{command:x,iconClass:"k-i-arrow-60-down"},transferTo:{command:C,iconClass:"k-i-arrow-60-right"},transferFrom:{command:S,iconClass:"k-i-arrow-60-left"},transferAllTo:{command:T,iconClass:"k-i-arrow-double-60-right"},transferAllFrom:{command:I,iconClass:"k-i-arrow-double-60-left"}},d(ge,{ToolBar:M}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.multiselect.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.chip.min","kendo.html.chiplist.min","kendo.html.button.min"],function(){var z={id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list","html.chip","html.chiplist","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},p=window.kendo.jQuery,h=void 0,m=window.kendo,e=m.ui,a=e.List,s=m.html,g=p.extend({A:65},m.keys),d=m._activeElement,R=m.data.ObservableArray,o="id",v=".k-chip",_="accept",b="filter",l="rebind",t="open",i="close",n="change",N="progress",u="select",k="deselect",c="aria-disabled",f="aria-readonly",r="aria-expanded",w="aria-hidden",y="aria-activedescendant",x="aria-busy",C="k-focus",S="k-selected",T="k-hidden",I="k-hover",D="k-disabled",E="k-no-click",A="disabled",F="readonly",L="off",H=".kendoMultiSelect",P="click"+H,B="keydown"+H,O="mouseenter"+H,V="mouseleave"+H,U=O+" "+V,W=/"/g,M=Array.isArray,j=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],q=a.extend({init:function(e,t){var i=this,n,r;i.ns=H;a.fn.init.call(i,e,t);i._optionsMap={};i._customOptions={};i._wrapper();i._tagList();i._input();i._textContainer();i._loader();i._clearButton();i._arrowButton();i._tabindex(i.input);e=i.element.attr("multiple","multiple").hide();t=i.options;if(!t.placeholder)t.placeholder=e.data("placeholder");n=e.attr(o);if(!n)n=m.guid();if(n){i._tagID=n+"_tag_active";n=n+"_taglist";i.tagList.attr(o,n)}i._initialOpen=true;i._aria();i._dataSource();i._ignoreCase();i._popup();i._tagTemplate();i.requireValueMapper(i.options);i._initList();i._reset();i._enable();i._placeholder();if(t.autoBind)i.dataSource.fetch();else if(t.value)i._preselect(t.value);r=p(i.element).parents("fieldset").is(":disabled");if(r)i.enable(false);m.notify(i);i._toggleCloseVisibility();i._applyCssClasses()},options:{name:"MultiSelect",tagMode:"multiple",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found.",downArrow:"select"},enforceMinLength:false,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:false,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,autoWidth:false,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},events:[t,i,n,u,k,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e;this._state="";this._dataSource();this.persistTagList=false;this.listView.setDataSource(this.dataSource);if(this.options.autoBind)this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);a.fn.setOptions.call(this,e);this.listView.setOptions(t);this._accessors();this._aria();this._tagTemplate();this._placeholder();this._clearButton();this._arrowButton()},currentTag:function(e){var t=this;if(e!==h){if(t._currentTag){t._currentTag.removeClass(C).removeAttr(o);t._currentTag.find(".k-chip-action").attr(w,true);t.input.removeAttr(y)}if(e){e.addClass(C).attr(o,t._tagID);e.find(".k-chip-action").removeAttr(w);t.input.attr(y,t._tagID)}t._currentTag=e}else return t._currentTag},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy);clearTimeout(e._typingTimeout);e.wrapper.off(t);e.tagList.off(t);e.input.off(t);e._clear.off(t);a.fn.destroy.call(e)},_aria:function(){var e=this,t=e.ul[0].id,i=this.options.filter==="none"?"none":"list",n=e.tagList.attr(o);e.input.attr({role:"combobox","aria-expanded":false,"aria-controls":t,"aria-autocomplete":i,"aria-describedby":n});e._ariaLabel(e._focused)},_activateItem:function(){if(this.popup.visible())a.fn._activateItem.call(this);this.currentTag(null)},_listOptions:function(e){var t=this;var i=a.fn._listOptions.call(t,p.extend(e,{selectedItemChange:t._selectedItemChange.bind(t),selectable:"multiple"}));var n=this.options.itemTemplate||this.options.template;var r=i.itemTemplate||n||i.template;if(!r)r="#:"+m.expr(i.dataTextField,"data")+"#";i.template=r;return i},_setListValue:function(){a.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var t=this.dataSource.flatView();var i=this._optionsMap;var n=this._value;if(this._state===l)this._state="";for(var r=0;r<e.added.length;r++)if(i[n(e.added[r].dataItem)]===h){this._render(t);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t=e.items;var i;var n;for(n=0;n<t.length;n++){i=t[n];this.tagList.children(v).eq(i.index).children("span").first().html(this.tagTextTemplate(i.item))}},_wrapperMousedown:function(e){var t=this;var i=e.target.nodeName.toLowerCase()!=="input";var n=p(e.target);var r=n.closest(".k-multiselect-toggle-button, .k-chip").children(".k-i-arrow-s")[0];var a=n.closest(".k-i-x, .k-i-x-circle")[0];if(i&&!(a&&m.support.mobileOS)&&e.cancelable)e.preventDefault();if(!a)if(r&&t.popup.visible())t.toggle(false);else{if(t.input[0]!==d()&&i)t.input.trigger("focus");if(t.options.minLength===1&&!t.popup.visible())t.open()}},_inputFocus:function(){this._placeholder(false,true);this.wrapper.addClass(C)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout);e.wrapper.removeClass(C);e._placeholder(!e.listView.selectedDataItems()[0],true);e.close();if(e._state===b){e._state=_;e.listView.skipUpdate(true)}if(e.listView.bound()&&e.listView.isFiltered()){e.persistTagList=true;e._clearFilter()}e.element.trigger("blur")},_removeTag:function(e,t){var i=this;var n=i._state;var r=e.index();var a=i.listView;var o=a.value()[r];var s=i.listView.selectedDataItems()[r];var l=i._customOptions[o];var d=a.element[0].children;var u;var c;if(i.trigger(k,{dataItem:s,item:e})){i._close();return}if(l===h&&(n===_||n===b))l=i._optionsMap[o];var f=function(){i.currentTag(null);if(t)i._change();i._close()};if(l===h&&a.select().length){i.persistTagList=false;a.select(a.select()[r]).done(f)}else{u=i.element[0].children[l];if(u)u.selected=false;a.removeAt(r);if(a._removedAddedIndexes)a._removedAddedIndexes.splice(r,1);c=d[l];if(c)d[l].classList.remove("k-selected");if(i.options.tagMode!=="single")e.remove();else i._updateTagListHTML();f()}},_tagListClick:function(e){e.preventDefault();e.stopPropagation();var t=p(e.currentTarget);if(t.is(".k-i-x-circle"))this._removeTag(t.closest(v),true)},_clearValue:function(){var i=this;if(i.options.tagMode==="single")i._clearSingleTagValue();else i.tagList.children(v).each(function(e,t){i._removeTag(p(t),false)});i.input.val("");i._search();i._change();i.focus();i._hideClear();if(i._state===b)i._state=_},_clearSingleTagValue:function(){var e=this;var t=e.dataItems();var i=e.tagList.children(v);var n=e.persistTagList;for(var r=0;r<t.length;r+=1)if(e.trigger(k,{dataItem:t[r],item:i.first()})){e._close();return}if(n)e.persistTagList=false;e.listView.value([]);e.persistTagList=n},_focusHandler:function(){var e=this.input;var t=d();var i=e[0]===t;if(!i)this.input.trigger("focus")},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t.wrapper.off(H),a=t.tagList.off(H),o=t.input.off(H);if(!n&&!i){r.removeClass(D).removeClass(E).on(U,t._toggleHover).on("mousedown"+H+" touchend"+H,t._wrapperMousedown.bind(t)).on(P,t._focusHandler.bind(t));t.input.on(B,t._keydown.bind(t)).on("paste"+H,t._search.bind(t)).on("input"+H,t._search.bind(t)).on("focus"+H,t._inputFocus.bind(t)).on("focusout"+H,t._inputFocusout.bind(t));t._clear.on(P+" touchend"+H,t._clearValue.bind(t));o.prop(A,false).prop(F,false).attr(c,false).attr(f,false);t.element.prop(A,false);a.on(O,v,function(){p(this).addClass(I)}).on(V,v,function(){p(this).removeClass(I)}).on(P+" touchend"+H,".k-chip .k-icon",t._tagListClick.bind(t))}else{r.toggleClass(D,i).toggleClass(E,n);o.attr(A,i).attr(F,n).attr(c,i).attr(f,n);t.element.prop(A,i)}},_close:function(){var e=this;if(e.options.autoClose)e.close();else e.popup.position()},_filterSource:function(e,t){if(!t)t=this._retrieveData;this._retrieveData=false;a.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null;this.input.removeAttr(y);this.popup.close()},open:function(){var e=this,t=e.input.val().toLowerCase(),i=e.listView.dataSource.filter(),n;if(i&&i.filters.length>0)n=(i.filters[0].value||"").toString().toLowerCase();if(e._request)e._retrieveData=false;if(e._retrieveData||!e.listView.bound()||e._state===_&&t!==n){e._open=true;e._state=l;e.listView.skipUpdate(true);e.persistTagList=e._initialOpen&&!e.listView.bound()?false:true;e._filterSource();e._focusItem()}else if(e._allowOpening()){if(e._initialOpen&&!e.options.autoBind&&!e.options.virtual&&e.options.value&&!p.isPlainObject(e.options.value[0]))e.value(e.value()||e._initialValues);e.popup._hovered=true;e._initialOpen=false;e.popup.open();e._focusItem()}},toggle:function(e){e=e!==h?e:!this.popup.visible();this[e?t:i]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this;var t=e.dataSource.flatView();e._render(t);e._renderFooter();e._renderNoData();e._toggleNoData(!t.length);e._resizePopup();if(e._open){e._open=false;e.toggle(e._allowOpening())}e.popup.position();e._updateItemFocus();if(e._touchScroller)e._touchScroller.reset();e._hideBusy();e.trigger("dataBound")},_updateItemFocus:function(){var e=this,t=e.dataSource.flatView(),i=e.listView.skip(),n=i===h||i===0;if(t.length&&n)if(!e.options.highlightFirst)e.listView.focus(-1);else e.listView.focusFirst()},_inputValue:function(){var e=this;var t=e.input.val();if(e.options.placeholder===t)t="";return t},value:function(e){var t=this;var i=t.listView;var n=i.value().slice();var r=t.options.maxSelectedItems;var a=i.bound()&&i.isFiltered();if(e===h)return n;t.persistTagList=false;t.requireValueMapper(t.options,e);e=t._normalizeValues(e);if(r!==null&&e.length>r)e=e.slice(0,r);if(a)t._clearFilter();i.value(e);t._old=t._valueBeforeCascade=e.slice();if(!a)t._fetchData();t._toggleCloseVisibility()},_preselect:function(e,t){var i=this;if(!M(e)&&!(e instanceof m.data.ObservableArray))e=[e];if(p.isPlainObject(e[0])||e[0]instanceof m.data.ObservableObject||!i.options.dataValueField){i.dataSource.data(e);i.value(t||i._initialValues);i._retrieveData=true}},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];if(i)i.selected=t},_fetchData:function(){var e=this;var t=!!e.dataSource.view().length;var i=e.listView.value().length===0;if(i||e._request)return;if(e._retrieveData||!e._fetch&&!t){e._fetch=true;e._retrieveData=false;e.dataSource.read().done(function(){e._fetch=false})}},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{};n=M(n)?{data:n}:n;n.select=t;n.fields=[{field:i.dataTextField},{field:i.dataValueField}];if(e.dataSource&&e._refreshHandler)e._unbindDataSource();else{e._progressHandler=e._showBusy.bind(e);e._errorHandler=e._hideBusy.bind(e)}e.dataSource=m.data.DataSource.create(n).bind(N,e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?p("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(e._initialValues);e._placeholder()})};e._form=n.on("reset",e._resetHandler)}},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(e){var t=this;if(e===null)e=[];else if(e&&p.isPlainObject(e))e=[t._value(e)];else if(e&&p.isPlainObject(e[0]))e=p.map(e,function(e){return t._value(e)});else if(!M(e)&&!(e instanceof R))e=[e];else if(M(e))e=e.slice();return e},_change:function(){var e=this,t=e.value();if(!G(t,e._old)){e._old=t.slice();e.trigger(n);e.element.trigger(n)}e.popup.position();e._toggleCloseVisibility()},_click:function(e){var t=this;var i=e.item;e.preventDefault();t._select(i).done(function(){t._activeItem=i;t._change();t._close()})},_getActiveItem:function(){return this._activeItem||p(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(e){var i=this;var t=e.keyCode;var n=i._currentTag;var r=i.listView;var a=i.input.val();var o=m.support.isRtl(i.wrapper);var s=i.popup.visible();var l=0;var d;if(t!==g.ENTER)this._multipleSelection=false;if(t===g.DOWN){e.preventDefault();if(!s){i.open();if(!r.focus())r.focusFirst();return}if(r.focus()){if(!i._activeItem&&e.shiftKey){i._activeItem=r.focus();l=-1}d=r.getElementIndex(i._getActiveItem().first());r.focusNext();if(!r.focus())r.focusLast();else if(e.shiftKey&&!i.options.virtual){this._multipleSelection=true;i._selectRange(d,r.getElementIndex(r.focus().first())+l)}}else r.focusFirst()}else if(t===g.UP){if(s){if(!i._activeItem&&e.shiftKey){i._activeItem=r.focus();l=1}d=r.getElementIndex(i._getActiveItem().first());r.focusPrev();if(!r.focus())i.close();else if(e.shiftKey&&!i.options.virtual){this._multipleSelection=true;i._selectRange(d,r.getElementIndex(r.focus().first())+l)}}e.preventDefault()}else if(t===g.LEFT&&!o||t===g.RIGHT&&o){if(!a){n=n?n.prev(v):i.tagList.children(v).last();if(n[0])i.currentTag(n)}}else if(t===g.RIGHT&&!o||t===g.LEFT&&o){if(!a&&n){n=n.next(v);i.currentTag(n[0]?n:null)}}else if(e.ctrlKey&&!e.altKey&&t===g.A&&s&&!i.options.virtual){this._multipleSelection=true;if(this._getSelectedIndices().length===r.items().length)i._activeItem=null;if(r.items().length)i._selectRange(0,r.items().length-1)}else if(t===g.ENTER&&s){if(!r.focus())return;e.preventDefault();if(this._multipleSelection){this._multipleSelection=false;if(r.focus().hasClass(S)){i._close();return}}i._select(r.focus()).done(function(){i._change();i._close()})}else if(t===g.SPACEBAR&&e.ctrlKey&&s){if(i._activeItem&&r.focus()&&r.focus()[0]===i._activeItem[0])i._activeItem=null;if(!p(r.focus()).hasClass(S))i._activeItem=r.focus();i._select(r.focus()).done(function(){i._change()});e.preventDefault()}else if(t===g.SPACEBAR&&e.shiftKey&&s&&!i.options.virtual){var u=r.getElementIndex(i._getActiveItem());var c=r.getElementIndex(r.focus());if(u!==h&&c!==h)i._selectRange(u,c);e.preventDefault()}else if(t===g.ESC){if(s)e.preventDefault();else{i.tagList.children(v).each(function(e,t){i._removeTag(p(t),false)});i._change()}i.close()}else if(t===g.HOME){if(s)if(!r.focus())i.close();else{if(e.ctrlKey&&e.shiftKey&&!i.options.virtual)i._selectRange(r.getElementIndex(r.focus()[0]),0);r.focusFirst()}else if(!a){n=i.tagList.children(v).first()[0];if(n)i.currentTag(p(n))}}else if(t===g.END){if(s)if(!r.focus())i.close();else{if(e.ctrlKey&&e.shiftKey&&!i.options.virtual)i._selectRange(r.getElementIndex(r.focus()[0]),r.element.children().length-1);r.focusLast()}else if(!a){n=i.tagList.children(v).last()[0];if(n)i.currentTag(p(n))}}else if((t===g.DELETE||t===g.BACKSPACE)&&!a){i._state=_;if(i.options.tagMode==="single"){i._clearSingleTagValue();i._change();i._close();return}if(t===g.BACKSPACE&&!n)n=i.tagList.children(v).last();if(n&&n[0])i._removeTag(n,true)}else if(i.popup.visible()&&(t===g.PAGEDOWN||t===g.PAGEUP)){e.preventDefault();var f=t===g.PAGEDOWN?1:-1;r.scrollWith(f*r.screenHeight())}else{clearTimeout(i._typingTimeout);i._search()}},_hideBusy:function(){var e=this;clearTimeout(e._busy);e.input.attr(x,false);e._loading.addClass(T);e._request=false;e._busy=null;e._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr(x,true);this._loading.removeClass(T);this._hideClear()},_showBusy:function(){var e=this;e._request=true;if(e._busy)return;e._busy=setTimeout(e._showBusyHandler.bind(e),100)},_placeholder:function(e,t){var i=this;var n=i.input;var r=d();var a=i.options.placeholder;var o=n.val();var s=n[0]===r;var l=o.length;if(!s||i.options.autoClose||o===a){l=0;o=""}if(e===h){e=false;if(n[0]!==r)e=!i.listView.selectedDataItems()[0]}i._prev=o;n.toggleClass("k-readonly",e).val(e?a:o);if(s&&!t)m.caret(n[0],l,l)},_option:function(e,t,i){var n="<option";if(e!==h){e+="";if(e.indexOf('"')!==-1)e=e.replace(W,"&quot;");n+=' value="'+e+'"'}if(i)n+=" selected";n+=">";if(t!==h)n+=m.htmlEncode(t);return n+="</option>"},_render:function(e){var t=this.listView.selectedDataItems();var i=this.listView.value();var n=e.length;var r;var a="";var o;var s;var l;if(i.length!==t.length)t=this._buildSelectedItems(i);var d={};var u={};for(l=0;l<n;l++){o=e[l];s=this._value(o);r=this._selectedItemIndex(s,t);if(r!==-1)t.splice(r,1);u[s]=l;a+=this._option(s,this._text(o),r!==-1)}if(t.length)for(l=0;l<t.length;l++){o=t[l];s=this._value(o);d[s]=n;u[s]=n;n+=1;a+=this._option(s,this._text(o),true)}this._customOptions=d;this._optionsMap=u;this.element.html(a)},_buildSelectedItems:function(e){var t=this.options.dataValueField;var i=this.options.dataTextField;var n=[];var r;for(var a=0;a<e.length;a++){r={};r[t]=e[a];r[i]=e[a];n.push(r)}return n},_selectedItemIndex:function(e,t){var i=this._value;var n=0;for(;n<t.length;n++)if(e===i(t[n]))return n;return-1},_search:function(){var t=this;clearTimeout(t._typingTimeout);t._typingTimeout=setTimeout(function(){var e=t._inputValue();if(t._prev!==e){t._prev=e;t.search(e);t._toggleCloseVisibility()}},t.options.delay)},_toggleCloseVisibility:function(){if(this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder)this._showClear();else this._hideClear()},_allowOpening:function(){return this._allowSelection()&&a.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return e===null||e>this.listView.value().length},_angularTagItems:function(e){var t=this;t.angular(e,function(){return{elements:t.tagList[0].children,data:p.map(t.dataItems(),function(e){return{dataItem:e}})}})},updatePersistTagList:function(e,t){if(this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length)this.persistTagList=false;else{this.listView._removedAddedIndexes=this._old.slice();this.persistTagList={added:e,removed:t}}},_selectValue:function(e,t){var i=this;var n=i.dataSource.total();var r=i.tagList;var a=i._value;var o;var s;var l;if(this.persistTagList){this.updatePersistTagList(e,t);return}i._angularTagItems("cleanup");if(i.options.tagMode==="multiple"){for(l=t.length-1;l>-1;l--){o=t[l];if(r.children(v).length){r[0].removeChild(r[0].children[o.position]);i._setOption(a(o.dataItem),false)}}for(l=0;l<e.length;l++){s=e[l];i.input.before(i.tagTemplate(s.dataItem));i._setOption(a(s.dataItem),true)}}else{if(!i._maxTotal||i._maxTotal<n)i._maxTotal=n;this._updateTagListHTML();for(l=t.length-1;l>-1;l--)i._setOption(a(t[l].dataItem),false);for(l=0;l<e.length;l++)i._setOption(a(e[l].dataItem),true)}i._angularTagItems("compile");i._placeholder()},_updateTagListHTML:function(){var e=this;var t=e.value();var i=e.dataSource.total();var n=e.tagList;n.children(v).each(function(e,t){p(t).remove()});if(t.length)e.input.before(e.tagTemplate({values:t,dataItems:e.dataItems(),maxTotal:e._maxTotal,currentTotal:i}))},_select:function(e){var t=p.Deferred().resolve();if(!e)return t;var i=this;var n=i.listView;var r=n.dataItemByIndex(n.getElementIndex(e));var a=e.hasClass("k-selected");if(i._state===l)i._state="";if(!i._allowSelection()&&!a)return t;if(i.trigger(a?k:u,{dataItem:r,item:e})){i._close();return t}i.persistTagList=false;return n.select(e).done(function(){i._placeholder();if(i._state===b){i._state=_;n.skipUpdate(true)}})},_selectRange:function(e,t){var r=this;var a=this.listView;var i=this.options.maxSelectedItems;var n=this._getSelectedIndices().slice();var o=[];var s;var l=function(e){a.select(e).done(function(){e.forEach(function(e){var t=a.dataItemByIndex(e);var i=a.element.children()[e];var n=p(i).hasClass("k-selected");r.trigger(n?u:k,{dataItem:t,item:p(i)})});r._change()})};if(n.length-1===t-e)return l(n);if(e<t)for(s=e;s<=t;s++)o.push(s);else for(s=e;s>=t;s--)o.push(s);if(i!==null&&o.length>i)o=o.slice(0,i);for(s=0;s<o.length;s++){var d=o[s];if(this._getSelectedIndices().indexOf(d)==-1)n.push(d);else n.splice(n.indexOf(d),1)}if(!n.length)return;r.persistTagList=false;return l(n)},_input:function(){var e=this;var t=e.element;var i=t[0].accessKey;var n=e.tagList.children("input.k-input-inner");if(!n[0])n=p('<input class="k-input-inner" />').appendTo(e.tagList);t.removeAttr("accesskey");e._focused=e.input=n.attr({autocomplete:L,title:t[0].title});if(i)e._focused.attr("accesskey",i)},_tagList:function(){var e=this,t=e.options,i=e.wrapper.children(".k-input-values");if(!i[0])i=p(s.renderChipList('<div unselectable="on" class="k-input-values k-selection-multiple" />',p.extend({},t))).appendTo(e.wrapper);e.tagList=i},_tagTemplate:function(){var t=this;var i=t.options;var n=i.tagTemplate;var e=i.dataSource;var r=i.tagMode==="multiple";var a=i.messages.singleTag;var o;if(t.element[0].length&&!e){i.dataTextField=i.dataTextField||"text";i.dataValueField=i.dataValueField||"value"}o=r?m.template("#:"+m.expr(i.dataTextField,"data")+"#",{useWithBlock:false}):m.template("#:values.length# "+a);t.tagTextTemplate=n=n?m.template(n):o;t.tagTemplate=function(e){return s.renderChip('<span unselectable="on">'+"</span>",p.extend({},i,{fillMode:"solid",rounded:"medium",themeColor:"base",text:n(e),attr:{unselectable:"on"},removable:r,removableAttr:{unselectable:"on","aria-hidden":true,"aria-label":t.options.messages.deleteTag,title:t.options.messages.deleteTag},icon:!r?"arrow-s":"",iconAttr:{unselectable:"on","aria-hidden":true,"aria-label":"open"}}))}},_loader:function(){this._loading=p('<span class="k-icon k-i-loading k-input-loading-icon '+T+'"></span>').insertAfter(this.tagList)},_clearButton:function(){a.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.tagList);this.wrapper.addClass("k-multiselect-clearable")}},_arrowButton:function(){var e=this.options.messages.downArrow,t=p(s.renderButton('<button type="button" aria-label="'+e+'" class="k-input-button k-multiselect-toggle-button"></button>',p.extend({},this.options,{icon:"arrow-s"})));if(this._arrow){this._arrow.remove();this._arrow=null}if(this.options.downArrow){this._arrow=t.attr({tabIndex:-1});this._arrow.appendTo(this.wrapper)}},_textContainer:function(){var e=m.getComputedStyles(this.input[0],j);e.position="absolute";e.visibility="hidden";e.top=-3333;e.left=-3333;this._span=p("<span/>").css(e).appendTo(this.wrapper)},_wrapper:function(){var e=this,t=e.element,i=t.parent("span.k-multiselect");if(!i[0]){i=t.wrap('<span class="k-multiselect k-input" unselectable="on" />').parent();i[0].style.cssText=t[0].style.cssText}e.wrapper=i.addClass(t[0].className).removeClass("input-validation-error").css("display","")},_closeHandler:function(e){if(this.trigger(i))e.preventDefault();else{this.input.attr(r,false);this.ul.attr(w,true)}},_openHandler:function(e){this._adjustListWidth();if(this.trigger(t))e.preventDefault();else{this.input.attr(r,true);this.ul.attr(w,false)}}});function G(e,t){var i;if(e===null&&t!==null||e!==null&&t===null)return false;i=e.length;if(i!==t.length)return false;while(i--)if(e[i]!==t[i])return false;return true}return e.plugin(q),m.cssProperties.registerPrefix("MultiSelect","k-input-"),m.cssProperties.registerValues("MultiSelect",[{prop:"rounded",values:m.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.panelbar.min",["kendo.data.min"],function(){var e={id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core","data","data.odata"]},p=window.kendo.jQuery,f=void 0,l=window.kendo,c=l.ui,r=l.keys,h=p.extend,n=p.each,o=Array.isArray,a=l.template,s=c.Widget,d=l.data.HierarchicalDataSource,N=/^(ul|a|div)$/i,u=".kendoPanelBar",L="img",B="href",V="k-last",m="k-link",g="."+m,v="error",_=".k-item",t,b=".k-group"+":visible",U="k-image",W="k-first",k="change",j="expand",q="select",w="click",y="k-content",G="activate",x="collapse",K="dataBound",$="mouseenter",Y="mouseleave",Q="contentLoad",X="undefined",C="k-active",S="> .k-panel",T="> .k-content",J="string",Z="k-focus",I="k-disabled",D="k-selected",E="."+D,A="k-highlight",i=_+":not(.k-disabled)",ee="> "+i+" > "+g+", .k-panel > "+i+" > "+g,te=_+".k-disabled > .k-link",ie="> li > "+E+", .k-panel > li > "+E,ne="aria-disabled",F="aria-expanded",H="aria-hidden",P="aria-selected",O=":visible",re=":empty",ae="single",M={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},oe,z={aria:function(e){var t="";if(e.items||e.content||e.contentUrl||e.expanded)t+=F+"='"+(e.expanded?"true":"false")+"' ";if(e.enabled===false)t+=ne+"='true'";return t},wrapperCssClass:function(e,t){var i="k-item",n=t.index;i+=e.firstLevel?" k-panelbar-header":" k-panelbar-item";if(t.enabled===false)i+=" "+I;else if(t.expanded===true)i+=" "+C;if(n===0)i+=" k-first";if(n==e.length-1)i+=" k-last";if(t.cssClass)i+=" "+t.cssClass;if(t.level)i+=" k-level-"+t.level();return i},textClass:function(e){var t=m;if(e.selected)t+=" "+D;return t},textAttributes:function(e){return e?" href='"+e+"'":""},arrowClass:function(e){var t="k-icon";t+=e.expanded?" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up":" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down";return t},text:function(e){return e.encoded===false?e.text:l.htmlEncode(e.text)},groupAttributes:function(e){return e.expanded!==true?" style='display:none'":""},ariaHidden:function(e){return e.expanded!==true},groupCssClass:function(){return"k-panelbar-group k-group k-panel"},contentAttributes:function(e){return e.item.expanded!==true?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}};function R(e){e=p(e);e.filter(".k-first:not(:first-child)").removeClass(W);e.filter(".k-last:not(:last-child)").removeClass(V);e.filter(":first-child").addClass(W);e.filter(":last-child").addClass(V)}function se(e){e=p(e);e.addClass("k-level-"+e.parentsUntil(".k-panelbar","ul").length)}function le(e){var t=e,i=e.children("ul"),n=t.children(".k-link").children(".k-icon");if(e.hasClass("k-panelbar"))return;if(!n.length&&i.length)n=p("<span class='k-icon' />").appendTo(t);else if(!i.length||!i.children().length){n.remove();i.remove()}}oe=function(e){return e.children("span").children(".k-icon")};var de=l.ui.DataBoundWidget.extend({init:function(e,t){var i=this,n,r;if(o(t))t={dataSource:t};r=t&&!!t.dataSource;s.fn.init.call(i,e,t);e=i.wrapper=i.element.addClass("k-panelbar");t=i.options;if(e[0].id)i._itemId=e[0].id+"_pb_active";i._tabindex();i._accessors();i._dataSource();i._templates();i._initData(r);i._updateClasses();i._animations(t);e.on(w+u,ee,i._click.bind(i)).on($+u+" "+Y+u,ee,i._toggleHover).on(w+u,te,false).on(w+u,".k-request-retry",i._retryRequest.bind(i)).on("keydown"+u,i._keydown.bind(i)).on("focus"+u,function(){var e=i.select();i._current(e[0]?e:i._first())}).on("blur"+u,function(){i._current(null)}).attr("role","tree");n=e.find("li."+C+" > ."+y);if(n[0])i.expand(n.parent(),false);if(!t.dataSource)i._angularCompile();l.notify(i)},events:[j,x,q,G,k,v,K,Q],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:true,loadOnDemand:true,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var e=this;e.angular("compile",function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]}})},_angularCompileElements:function(e,t){var i=this;i.angular("compile",function(){return{elements:e,data:p.map(t,function(e){return[{dataItem:e}]})}})},_angularCleanup:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element.children("li")}})},destroy:function(){s.fn.destroy.call(this);this.element.off(u);this._angularCleanup();l.destroy(this.element)},_initData:function(e){var t=this;if(e){t.element.empty();if(t.options.autoBind){t._progress(true);t.dataSource.fetch()}}},_templates:function(){var e=this,t=e.options,i=e._fieldAccessor.bind(e);if(t.template&&typeof t.template==J)t.template=a(t.template);else if(!t.template)t.template=a("# var text = "+i("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"<span class='k-panelbar-item-text'>#= text #</span>"+"# } else { #"+"<span class='k-panelbar-item-text'>#: text #</span>"+"# } #");e.templates={content:a("<div class='k-panelbar-content k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:a("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:a("# var url = "+i("url")+"(item); #"+"# var imageUrl = "+i("imageUrl")+"(item); #"+"# var spriteCssClass = "+i("spriteCssClass")+"(item); #"+"# var contentUrl = contentUrl(item); #"+"# var tag = url||contentUrl ? 'a' : 'span'; #"+"<#= tag # class='#= textClass(item) #' #= contentUrl ##= textAttributes(url) #>"+"# if (imageUrl) { #"+"<img class='k-panelbar-item-icon k-image' alt='' src='#= imageUrl #' />"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #'></span>"+"# } #"+"#= data.panelBar.options.template(data) #"+"#= arrow(data) #"+"</#= tag #>"),item:a("<li role='treeitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+l.attr("uid")+"='#= item.uid #'>"+"#= itemWrapper(data) #"+"# if (item.items && item.items.length > 0) { #"+"#= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),loading:a("<li class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</li>"),retry:a("<li class='k-item'>"+"#: data.messages.requestFailed # "+"<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button>"+"</li>"),arrow:a("<span class='#= arrowClass(item) #'></span>"),empty:a("")}},setOptions:function(e){var t=this.options.animation;this._animations(e);e.animation=h(true,t,e.animation);if("dataSource"in e)this.setDataSource(e.dataSource);s.fn.setOptions.call(this,e)},expand:function(r,a){var o=this,s={};r=this.element.find(r);if(o._animating&&r.find("ul").is(":visible")){o.one("complete",function(){setTimeout(function(){o.expand(r)})});return}o._animating=true;a=a!==false;r.each(function(e,t){t=p(t);var i=r.children(".k-group,.k-content");if(!i.length)i=o._addGroupElement(r);var n=i.add(t.find(T));if(!t.hasClass(I)&&n.length>0){if(o.options.expandMode==ae&&o._collapseAllExpanded(t))return o;r.find("."+A).removeClass(A);t.addClass(A);if(!a){s=o.options.animation;o.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!o._triggerEvent(j,t))o._toggleItem(t,false,false);if(!a)o.options.animation=s}});return o},collapse:function(e,n){var r=this,a={};r._animating=true;n=n!==false;e=r.element.find(e);e.each(function(e,t){t=p(t);var i=t.find(S).add(t.find(T));if(!t.hasClass(I)&&i.is(O)){t.removeClass(A);if(!n){a=r.options.animation;r.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!r._triggerEvent(x,t))r._toggleItem(t,true);if(!n)r.options.animation=a}});return r},updateArrow:function(e){var t=this;e=p(e);e.children(g).children(".k-panelbar-collapse, .k-panelbar-expand").remove();e.filter(function(){var e=t.dataItem(this);if(!e)return p(this).find(".k-panel").length>0||p(this).find(".k-content").length>0;return e.hasChildren||e.content||e.contentUrl}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var e=p(this),t=e.parent();e.append("<span class='k-icon "+(t.hasClass(C)?" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up":" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down")+"'/>")})},_accessors:function(){var e=this,t=e.options,i,n,r,a=e.element;for(i in M){n=t[M[i]];r=a.attr(l.attr(i+"-field"));if(!n&&r)n=r;if(!n)n=i;if(!o(n))n=[n];t[M[i]]=n}},_progress:function(e,t){var i=this.element;var n=this.templates.loading({messages:this.options.messages});if(arguments.length==1){t=e;if(t)i.html(n);else i.empty()}else oe(e).toggleClass("k-i-loading",t).removeClass("k-i-refresh")},_refreshRoot:function(e){var i=this;var t=i.element;var n={firstLevel:true,expanded:true,length:t.children().length};this.element.empty();var r=p.map(e,function(e,t){if(typeof e==="string")return p(e);else{e.items=[];return p(i.renderItem({group:n,item:h(e,{index:t})}))}});this.element.append(r);var a=this.element.children(".k-item");for(var o=0;o<e.length;o++)this.trigger("itemChange",{item:a.eq(o).find(".k-link").first(),data:e[o],ns:c});this._angularCompileElements(r,e)},_refreshChildren:function(e,t){var i,n,r;t.children(".k-group").empty();var a=e.children.data();if(!a.length){le(t);n=t.children(".k-group").children("li");this._angularCompileElements(n,a)}else{this.append(e.children,t);if(this.options.loadOnDemand)this._toggleGroup(t.children(".k-group"),false);n=t.children(".k-group").children("li");for(i=0;i<n.length;i++){r=n.eq(i);this.trigger("itemChange",{item:r.find(".k-link").first(),data:this.dataItem(r),ns:c})}}},findByUid:function(e){var t=this.element.find(".k-item");var i=l.attr("uid");var n;for(var r=0;r<t.length;r++)if(t[r].getAttribute(i)==e){n=t[r];break}return p(n)},refresh:function(e){var t=this.options;var i=e.node;var n=e.action;var r=e.items;var a=this.wrapper;var o=t.loadOnDemand;if(e.field){if(!r[0]||!r[0].level)return;return this._updateItems(r,e.field)}if(i){a=this.findByUid(i.uid);this._progress(a,false)}if(n=="add")this._appendItems(e.index,r,a);else if(n=="remove")this.remove(this.findByUid(r[0].uid));else if(n=="itemchange")this._updateItems(r);else if(n=="itemloaded")this._refreshChildren(i,a);else this._refreshRoot(r);if(n!="remove")for(var s=0;s<r.length;s++)if(!o||r[s].expanded){var l=r[s];if(this._hasChildItems(l))l.load()}this.trigger(K,{node:i?a:f})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid);var i=this.templates.retry({messages:this.options.messages});if(t){this._progress(t,false);this._expanded(t,false);oe(t).addClass("k-i-refresh");e.node.loaded(false)}else{this._progress(false);this.element.html(i)}},_retryRequest:function(e){e.preventDefault();this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(e){var t=this.options;t.dataSource=e;this._dataSource();if(this.options.autoBind){this._progress(true);this.dataSource.fetch()}},_bindDataSource:function(){this._refreshHandler=this.refresh.bind(this);this._errorHandler=this._error.bind(this);this.dataSource.bind(k,this._refreshHandler);this.dataSource.bind(v,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;if(e){e.unbind(k,this._refreshHandler);e.unbind(v,this._errorHandler)}},_fieldAccessor:function(e){var t=this.options[M[e]]||[],i=t.length,n="(function(item) {";if(i===0)n+="return item['"+e+"'];";else{n+="var levels = ["+p.map(t,function(e){return"function(d){ return "+l.expr(e)+"}"}).join(",")+"];";n+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else";n+="{return levels["+i+"-1](item)}"}n+="})";return n},_dataSource:function(){var e=this,t=e.options,i=t.dataSource;if(!i)return;i=o(i)?{data:i}:i;e._unbindDataSource();if(!i.fields)i.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}];e.dataSource=d.create(i);e._bindDataSource()},_appendItems:function(e,t,i){var n=this,r,a;if(i.hasClass("k-panelbar")){r=i.children("li");a=i}else{a=i.children(".k-group");if(!a.length)a=n._addGroupElement(i);r=a.children("li")}var o={firstLevel:i.hasClass("k-panelbar"),expanded:true,length:r.length};var s=p.map(t,function(e,t){if(typeof e==="string")return p(e);else return p(n.renderItem({group:o,item:h(e,{index:t})}))});if(typeof e==X)e=r.length;for(var l=0;l<s.length;l++)if(r.length===0||e===0)a.append(s[l]);else s[l].insertAfter(r[e-1]);n._angularCompileElements(s,t);if(n.dataItem(i)){n.dataItem(i).hasChildren=true;n.updateArrow(i)}},_updateItems:function(e,t){var i=this;var n,r,a,o;var s={panelBar:i.options,item:o,group:{}};var l=t!="expanded";if(t=="selected")if(e[0][t]){var d=i.findByUid(e[0].uid);if(!d.hasClass(I))i.select(d,true)}else i.clearSelection();else{var u=p.map(e,function(e){return i.findByUid(e.uid)});if(l)i.angular("cleanup",function(){return{elements:u}});for(n=0;n<e.length;n++){s.item=o=e[n];s.panelBar=i;a=u[n];r=a.parent();if(l){s.group={firstLevel:r.hasClass("k-panelbar"),expanded:a.parent().hasClass(C),length:a.children().length};a.children(".k-link").remove();a.prepend(i.templates.itemWrapper(h(s,{arrow:o.hasChildren||o.content||o.contentUrl?i.templates.arrow:i.templates.empty},z)))}if(t=="expanded")i._toggleItem(a,!o[t],o[t]?"true":true);else if(t=="enabled"){i.enable(a,o[t]);if(!o[t])if(o.selected)o.set("selected",false)}if(a.length)this.trigger("itemChange",{item:a.find(".k-link").first(),data:o,ns:c})}if(l)i.angular("compile",function(){return{elements:u,data:p.map(e,function(e){return[{dataItem:e}]})}})}},_toggleDisabled:function(e,t){e=this.element.find(e);e.toggleClass(I,!t).attr(ne,!t)},dataItem:function(e){var t=p(e).closest(_).attr(l.attr("uid")),i=this.dataSource;return i&&i.getByUid(t)},select:function(e,i){var n=this;if(e===f)return n.element.find(ie).parent();e=n.element.find(e);if(!e.length)this._updateSelected(e);else e.each(function(){var e=p(this),t=e.children(g);if(e.hasClass(I))return n;n._updateSelected(t,i)});return n},clearSelection:function(){this.select(p())},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},disable:function(e){this._toggleDisabled(e,false);return this},append:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.length?t.find(S):null);n(i.items,function(){i.group.append(this);R(this);se(this)});this.updateArrow(t);R(i.group.find(".k-first, .k-last"));i.group.height("auto");return this},insertBefore:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());n(i.items,function(){t.before(this);R(this);se(this)});R(t);i.group.height("auto");return this},insertAfter:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());n(i.items,function(){t.after(this);R(this);se(this)});R(t);i.group.height("auto");return this},remove:function(e){e=this.element.find(e);var t=this,i=e.parentsUntil(t.element,_),n=e.parent("ul");e.remove();if(n&&!n.hasClass("k-panelbar")&&!n.children(_).length)n.remove();if(i.length){i=i.eq(0);t.updateArrow(i);R(i)}return t},reload:function(e){var t=this;e=t.element.find(e);e.each(function(){var e=p(this);t._ajaxRequest(e,e.children("."+y),!e.is(O))})},_first:function(){return this.element.children(i).first()},_last:function(){var e=this.element.children(i).last(),t=e.children(b);if(t[0])return t.children(i).last();return e},_current:function(e){var t=this,i=t._focused,n=t._itemId;if(e===f)return i;t.element.removeAttr("aria-activedescendant");if(i&&i.length){if(i[0].id===n)i.removeAttr("id");i.children(g).removeClass(Z)}if(p(e).length){n=e[0].id||n;e.attr("id",n).children(g).addClass(Z);t.element.attr("aria-activedescendant",n)}t._focused=e},_keydown:function(e){var t=this,i=e.keyCode,n=t._current();if(e.target!=e.currentTarget)return;if(i==r.DOWN||i==r.RIGHT){t._current(t._nextItem(n));e.preventDefault()}else if(i==r.UP||i==r.LEFT){t._current(t._prevItem(n));e.preventDefault()}else if(i==r.ENTER||i==r.SPACEBAR){t._click(e);e.preventDefault()}else if(i==r.HOME){t._current(t._first());e.preventDefault()}else if(i==r.END){t._current(t._last());e.preventDefault()}},_nextItem:function(e){if(!e)return this._first();var t=e.children(b),i=e.nextAll(":visible").first();if(t[0])i=t.children("."+W);if(!i[0])i=e.parent(b).parent(_).next();if(!i[0])i=this._first();return i},_prevItem:function(e){if(!e)return this._last();var t=e.prevAll(":visible").first(),i;if(!t[0]){t=e.parent(b).parent(_);if(!t[0])t=this._last()}else{i=t;while(i[0]){i=i.children(b).children("."+V);if(i[0])t=i}}return t},_insert:function(e,t,i){var n=this,r,a=p.isPlainObject(e),o=t&&t[0],s;if(!o)i=n.element;s={firstLevel:i.hasClass("k-panelbar"),expanded:p(t).hasClass(C),length:i.children().length};if(o&&!i.length)i=p(n.renderGroup({group:s,options:n.options})).appendTo(t);if(a||Array.isArray(e)||e instanceof d){if(e instanceof d)e=e.data();r=p.map(a?[e]:e,function(e,t){if(typeof e==="string")return p(e);else return p(n.renderItem({group:s,item:h(e,{index:t})}))});if(o){var l=n.dataItem(t);if(l){l.hasChildren=true;t.attr(F,l.expanded).not("."+C).children("ul").attr(H,!l.expanded)}else t.attr(F,false)}}else{if(typeof e=="string"&&e.charAt(0)!="<")r=n.element.find(e);else r=p(e);n._updateItemsClasses(r)}if(!e.length)e=[e];n._angularCompileElements(r,e);return{items:r,group:i}},_toggleHover:function(e){var t=p(e.currentTarget);if(!t.parents("li."+I).length)t.toggleClass("k-hover",e.type==$)},_updateClasses:function(){var e=this,t,i,n,r,a;t=e.element.find("li > ul").not(function(){return p(this).parentsUntil(".k-panelbar","div").length}).addClass("k-panelbar-group k-group k-panel").attr("role","group");r=t.parent();a=e.dataItem(r);n=a&&a.expanded||false;t.parent().not("["+F+"]").attr(F,n).not("."+C).children("ul").attr(H,!n).hide();i=e.element.add(t).children();e._updateItemsClasses(i);e.updateArrow(i);R(i)},_updateItemsClasses:function(e){var t=e.length,i=0;for(;i<t;i++)this._updateItemClasses(e[i],i)},_updateItemClasses:function(e,t){var i=this._selected,n=this.options.contentUrls,r=n&&n[t],a=this.element[0],o,s;e=p(e).addClass("k-item").attr("role","treeitem");if(l.support.browser.msie)e.css("list-style-position","inside").css("list-style-position","");e.children(L).addClass(U);s=e.children("a").addClass(m);if(s[0]){s.attr("href",r);s.children(L).addClass(U)}e.filter("li[disabled]").addClass("k-disabled").attr(ne,true).prop("disabled",false);e.children("div").addClass(y+" k-panelbar-content").attr(H,true).hide().parent().attr(F,false);s=e.children(E);if(s[0]){if(i)i.removeAttr(P).children(E).removeClass(D);s.addClass(D);this._selected=e.attr(P,true)}if(!e.children(g)[0]){o="<span class='"+m+"'><span class='k-panelbar-item-text'></span></span>";if(n&&n[t]&&e[0].parentNode==a)o='<a class="k-link" href="'+n[t]+'"></a>';e.contents().filter(function(){return!this.nodeName.match(N)&&!(this.nodeType==3&&!l.trim(this.nodeValue.trim))}).wrapAll(o)}if(e.parent(".k-panelbar")[0])e.addClass("k-panelbar-header");else e.addClass("k-panelbar-item");if(!/k\-level\-\d+/i.test(e.attr("class")))e.addClass("k-level-"+e.parentsUntil(this.element,"ul").length)},_click:function(e){var t=this,i=e.type==w?p(e.target):t._current().children(g),n=t.element,r,a,o,s;if(i.parents("li."+I).length)return;if(i.closest(".k-panelbar")[0]!=n[0])return;if(i.is(":kendoFocusable")&&!i.hasClass(m))return;var l=i.closest(g),d=l.closest(_);t._updateSelected(l);var u=d.children(".k-group,.k-content");var c=this.dataItem(d);if(!u.length&&(t.options.loadOnDemand&&c&&c.hasChildren||this._hasChildItems(d)||d.content||d.contentUrl))u=t._addGroupElement(d);a=d.find(S).add(d.find(T));o=l.attr(B);s=o&&(o.charAt(o.length-1)=="#"||o.indexOf("#"+t.element[0].id+"-")!=-1);r=!!(s||a.length);if(a.data("animating")&&r){e.preventDefault();return}if(t._triggerEvent(q,d))r=true;if(r===false)return;if(t.options.expandMode==ae)if(t._collapseAllExpanded(d)&&r){e.preventDefault();return}if(a.length){var f=a.is(O);if(!t._triggerEvent(!f?j:x,d))r=t._toggleItem(d,f)}if(r)e.preventDefault()},_hasChildItems:function(e){return e.items&&e.items.length>0||e.hasChildren},_toggleItem:function(e,t,i){var n=this,r=e.find(S),a=e.find(g),o=a.attr(B),s,l,d=n.dataItem(e),u=!t;var c=d&&d.loaded();if(d&&!i&&d.expanded!==u){d.set("expanded",u);s=d.hasChildren||!!d.content||!!d.contentUrl;return s}if(d&&(!i||i==="true")&&!c&&!d.content&&!d.contentUrl){if(n.options.loadOnDemand)this._progress(e,true);e.children(".k-group,.k-content").remove();s=d.hasChildren;d.load()}else if(r.length){this._toggleGroup(r,t);s=true}else{l=e.children("."+y);if(l.length){s=true;if(!l.is(re)||o===f)n._toggleGroup(l,t);else n._ajaxRequest(e,l,t)}}return s},_toggleGroup:function(e,t){var i=this,n=i.options.animation,r=n.expand,a=n.collapse&&"effects"in n.collapse,o=h({},n.expand,n.collapse);if(!a)o=h(o,{reverse:true});if(e.is(O)!=t){i._animating=false;return}e.attr(H,!!t);e.parent().attr(F,!t).toggleClass(C,!t).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-chevron-up",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-chevron-down",t).toggleClass("k-panelbar-expand",t);if(t){r=h(o,{hide:true});r.complete=function(){i._animationCallback()}}else r=h({complete:function(e){i._triggerEvent(G,e.closest(_));i._animationCallback()}},r);e.toggle(0).kendoStop(true,true).kendoAnimate(r)},_animationCallback:function(){var e=this;e.trigger("complete");e._animating=false},_addGroupElement:function(e){var t=p('<ul role="group" aria-hidden="true" class="k-panelbar-group k-group k-panel" style="display:none"></ul>');e.append(t);return t},_collapseAllExpanded:function(e){var n=this,t,i=false;var r=e.find(S).add(e.find(T));if(r.is(O))i=true;if(!(r.is(O)||r.length===0)){t=e.siblings();t.find(S).add(t.find(T)).filter(function(){return p(this).is(O)}).each(function(e,t){t=p(t);i=n._triggerEvent(x,t.closest(_));if(!i)n._toggleGroup(t,true)});n.one("complete",function(){setTimeout(function(){t.each(function(e,t){var i=n.dataItem(t);if(i)i.set("expanded",false)})})})}return i},_ajaxRequest:function(n,r,a){var o=this,i=n.find(".k-panelbar-collapse, .k-panelbar-expand"),e=n.find(g),t=setTimeout(function(){i.addClass("k-i-loading")},100),s={},l=e.attr(B);p.ajax({type:"GET",cache:false,url:l,dataType:"html",data:s,error:function(e,t){i.removeClass("k-i-loading");if(o.trigger(v,{xhr:e,status:t}))this.complete()},complete:function(){clearTimeout(t);i.removeClass("k-i-loading")},success:function(e){function t(){return{elements:r.get()}}try{o.angular("cleanup",t);r.html(e);o.angular("compile",t)}catch(e){var i=window.console;if(i&&i.error)i.error(e.name+": "+e.message+" in "+l);this.error(this.xhr,"error")}o._toggleGroup(r,a);o.trigger(Q,{item:n[0],contentElement:r[0]})}})},_triggerEvent:function(e,t){var i=this;return i.trigger(e,{item:t[0]})},_updateSelected:function(e,t){var i=this,n=i.element,r=e.parent(_),a=i._selected,o=i.dataItem(r);if(a)a.removeAttr(P);i._selected=r.attr(P,true);n.find(ie).removeClass(D);n.find("> ."+A+", .k-panel > ."+A).removeClass(A);e.addClass(D);e.parentsUntil(n,_).filter(":has(.k-link)").addClass(A);i._current(r[0]?r:null);if(o)o.set("selected",true);if(!t)i.trigger(k)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}},renderItem:function(e){var t=this;e=h({panelBar:t,group:{}},e);var i=t.templates.empty,n=e.item;return t.templates.item(h(e,{itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:t._hasChildItems(n)||n.content||n.contentUrl?t.templates.arrow:i,subGroup:!e.loadOnDemand||n.expanded?t.renderGroup:i},z))},renderGroup:function(e){var t=this;var i=t.templates||e.panelBar.templates;return i.group(h({renderItems:function(e){var t="",i=0,n=e.items,r=n?n.length:0,a=h({length:r},e.group);for(;i<r;i++)t+=e.panelBar.renderItem(h(e,{group:a,item:h({index:i},n[i])}));return t}},e,z))},renderContent:function(e){return e.panelBar.templates.content(h(e,z))}});return l.ui.plugin(de),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.splitter.min",["kendo.resizable.min"],function(){var z={id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]},b=window.kendo.jQuery,r=void 0,k=window.kendo,e=k.ui,d=k.keys,n=b.extend,a=e.Widget,t=/^\d+(\.\d+)?px$/i,i=/^\d+(\.\d+)?%$/i,o=".kendoSplitter",u="expand",c="collapse",s="contentLoad",l="error",R,w="layoutChange",y="horizontal",f="vertical",p="mouseenter",h="click",x="pane",m="mouseleave",g="k-focus",v="k-"+x,C="."+v,_="tabindex",S="aria-valuemin",T="aria-valuemax",I="aria-valuenow",D="aria-controls",E="aria-label",N="aria-labelledby",L="aria-orientation";function A(e){return i.test(e)}function F(e){return t.test(e)||/^\d+$/.test(e)}function H(e){return!A(e)&&!F(e)}function P(e,t){var i=parseInt(e,10);if(A(e))i=Math.floor(i*t/100);return i}function O(r,a){return function(e,t){var i=this.element.find(e).data(x);if(arguments.length==1)return i[r];i[r]=t;if(a){var n=this.element.data("kendo"+this.options.name);n.resize(true)}}}var B=a.extend({init:function(e,t){var i=this,n;a.fn.init.call(i,e,t);i.wrapper=i.element;if(i.options.orientation)n=i.options.orientation.toLowerCase()!=f;i.orientation=n?y:f;i._dimension=n?"width":"height";i._keys={decrease:n?d.LEFT:d.UP,increase:n?d.RIGHT:d.DOWN};i._resizeStep=10;i._marker=k.guid().substring(0,8);i._initPanes();i.resizing=new M(i);i.element.triggerHandler("init"+o)},events:[u,c,s,l,"resize",w],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var t=this,e=t.options.orientation;t.element.children(".k-splitbar-draggable-"+e).on("keydown"+o,t._keydown.bind(t)).on("mousedown"+o,function(e){e.currentTarget.focus()}).on("focus"+o,function(e){b(e.currentTarget).addClass(g)}).on("blur"+o,function(e){b(e.currentTarget).removeClass(g);if(t.resizing)t.resizing.end()}).on(p+o,function(){b(this).addClass("k-splitbar-"+t.orientation+"-hover")}).on(m+o,function(){b(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).on("mousedown"+o,t._addOverlays.bind(t)).end().children(".k-splitbar").on("dblclick"+o,t._togglePane.bind(t)).children(".k-collapse-next, .k-collapse-prev").on(h+o,t._arrowClick(c)).end().children(".k-expand-next, .k-expand-prev").on(h+o,t._arrowClick(u)).end().end();b(window).on("resize"+o+t._marker,t.resize.bind(t,false));b(document).on("mouseup"+o+t._marker,t._removeOverlays.bind(t))},_detachEvents:function(){var e=this;e.element.children(".k-splitbar-draggable-"+e.orientation).off(o).end().children(".k-splitbar").off("dblclick"+o).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(o);b(window).off(o+e._marker);b(document).off(o+e._marker)},options:{name:"Splitter",orientation:y,panes:[]},destroy:function(){a.fn.destroy.call(this);this._detachEvents();if(this.resizing)this.resizing.destroy();k.destroy(this.element);this.wrapper=this.element=null},_keydown:function(e){var t=this,i=e.keyCode,n=t.resizing,r=b(e.currentTarget),a=t._keys,o=i===a.increase,s=i===a.decrease,l;if(o||s){if(e.ctrlKey){l=r[s?"next":"prev"]();if(n&&n.isResizing())n.end();if(!l[t._dimension]())t._triggerAction(u,l);else t._triggerAction(c,r[s?"prev":"next"]())}else if(n)n.move((s?-1:1)*t._resizeStep,r);e.preventDefault()}else if(i===d.HOME){l=r.prev();t.collapse(l);e.preventDefault()}else if(i===d.END){l=r.prev();t.expand(l);e.preventDefault()}else if(i===d.ENTER&&n){n.end();e.preventDefault()}},_initPanes:function(){var i=this.options.panes||[];var n=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(e,t){if(t.nodeName.toLowerCase()!="script")n._initPane(t,i[e])});this.resize()},_initPane:function(e,t){e=b(e).attr("role","group").addClass(v);e.data(x,t?t:{}).toggleClass("k-scrollable",t?t.scrollable!==false:true);this.ajaxRequest(e)},ajaxRequest:function(i,e,t){var n=this,r;i=n.element.find(i);r=i.data(x);e=e||r.contentUrl;if(e){i.append("<span class='k-icon k-i-loading k-pane-loading' />");if(k.isLocalUrl(e))jQuery.ajax({url:e,data:t||{},type:"GET",dataType:"html",success:function(e){n.angular("cleanup",function(){return{elements:i.get()}});i.html(e);n.angular("compile",function(){return{elements:i.get()}});n.trigger(s,{pane:i[0]})},error:function(e,t){n.trigger(l,{pane:i[0],status:t,xhr:e})}});else i.removeClass("k-scrollable").html("<iframe src='"+e+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>")}},_triggerAction:function(e,t){var i=t.data(x);var n=i.collapsed&&e==u||!i.collapsed&&e==c;if(!i.collapsible)return;if(n&&!this.trigger(e,{pane:t[0]}))this[e](t[0])},_togglePane:function(e){var t=this,i=b(e.target),n;if(i.closest(".k-splitter")[0]!=t.element[0])return;n=i.children(".k-icon:not(.k-resize-handle)");if(n.length!==1)return;if(n.is(".k-collapse-prev"))t._triggerAction(c,i.prev());else if(n.is(".k-collapse-next"))t._triggerAction(c,i.next());else if(n.is(".k-expand-prev"))t._triggerAction(u,i.prev());else if(n.is(".k-expand-next"))t._triggerAction(u,i.next())},_arrowClick:function(n){var r=this;return function(e){var t=b(e.target),i;if(t.closest(".k-splitter")[0]!=r.element[0])return;if(t.is(".k-"+n+"-prev"))i=t.parent().prev();else i=t.parent().next();r._triggerAction(n,i)}},_updateSplitBar:function(e,t,i,n){var r=function(e,t){return t?"<div class='k-icon "+e+"'></div>":""},a=this.orientation,o=t.resizable!==false&&i.resizable!==false,s=t.collapsible,l=t.collapsed,d=i.collapsible,u=i.collapsed,c=n.attr("id");if(!c){c=k.guid();n.attr("id",c)}e.addClass("k-splitbar k-splitbar-"+a).attr("role","separator").attr(S,"0").attr(T,"100").attr(D,c).removeClass("k-splitbar-"+a+"-hover").toggleClass("k-splitbar-draggable-"+a,o&&!l&&!u).toggleClass("k-splitbar-static-"+a,!o&&!s&&!d).html(r("k-collapse-prev k-i-arrow-60-up",s&&!l&&!u&&a==f)+r("k-collapse-prev k-i-arrow-60-left",s&&!l&&!u&&a==y)+r("k-expand-prev k-i-arrow-60-down",s&&l&&!u&&a==f)+r("k-expand-prev k-i-arrow-60-right",s&&l&&!u&&a==y)+r("k-resize-handle k-i-hbar",o&&a==f)+r("k-resize-handle k-i-vbar",o&&a==y)+r("k-collapse-next k-i-arrow-60-down",d&&!u&&!l&&a==f)+r("k-collapse-next k-i-arrow-60-right",d&&!u&&!l&&a==y)+r("k-expand-next k-i-arrow-60-up",d&&u&&!l&&a==f)+r("k-expand-next k-i-arrow-60-left",d&&u&&!l&&a==y));if(t.labelId)e.attr(N,t.labelId);else if(t.label)e.attr(E,t.label);if(a==y)e.attr(L,f);if(!o&&!s&&!d)e.removeAttr(_)},_updateSplitBars:function(){var r=this;this.element.children(".k-splitbar").each(function(){var e=b(this),t=e.prevAll(C).first(),i=t.data(x),n=e.nextAll(C).first().data(x);if(!n)return;r._updateSplitBar(e,i,n,t)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){if(!this.element)return b();return this.element.children(C)},_resetAriaValueNow:function(e,t){var i,n,r,a;for(i=0;i<e.length;i++){a=t[i]+t[i+1]||1;r=Math.round(t[i]/a*100);n=e[i];n.setAttribute(I,r)}},_resize:function(){var e=this,t=e.element,i=t.children(C),n=e.orientation==y,r=t.children(".k-splitbar"),a=r.length,o=n?"width":"height",s=t[o](),l=[];e.wrapper.addClass("k-splitter-resizing");if(a===0){a=i.length-1;i.slice(0,a).after("<div tabindex='0' class='k-splitbar' data-marker='"+e._marker+"' />");e._updateSplitBars();r=t.children(".k-splitbar")}else e._updateSplitBars();r.each(function(){s-=this[n?"offsetWidth":"offsetHeight"]});var d=0,u=0,c=b();i.css({position:"absolute",top:0})[o](function(){var e=b(this),t=e.data(x)||{},i;e.removeClass("k-collapsed");if(t.collapsed){i=t.collapsedSize?P(t.collapsedSize,s):0;e.css("overflow","hidden").addClass("k-collapsed")}else if(H(t.size)){c=c.add(this);l.push(false);return}else i=P(t.size,s);u++;d+=i;l.push(i);return i});s-=d;var f=c.length,p=Math.floor(s/f);c.slice(0,f-1).css(o,p).end().eq(f-1).css(o,s-(f-1)*p);l.forEach(function(e,t){if(e===false)l[t]=p});e._resetAriaValueNow(r,l);var h=0,m=n?"height":"width",g=n?"left":"top",v=n?"offsetWidth":"offsetHeight";if(f===0){var _=i.filter(function(){return!(b(this).data(x)||{}).collapsed}).last();_[o](s+_[0][v])}t.children().css(m,t[m]()).each(function(e,t){if(t.tagName.toLowerCase()!="script"){t.style[g]=Math.floor(h)+"px";h+=t[v]}});e._detachEvents();e._attachEvents();e.wrapper.removeClass("k-splitter-resizing");k.resize(i);e.trigger(w)},toggle:function(e,t){var i=this,n;e=i.element.find(e);n=e.data(x);if(!t&&!n.collapsible)return;if(arguments.length==1)t=n.collapsed===r?false:n.collapsed;n.collapsed=!t;if(n.collapsed)e.css("overflow","hidden");else e.css("overflow","");i.resize(true)},collapse:function(e){this.toggle(e,false)},expand:function(e){this.toggle(e,true)},_addPane:function(e,t,i){var n=this;if(i.length){n.options.panes.splice(t,0,e);n._initPane(i,e);n._removeSplitBars();n.resize(true)}return i},append:function(e){e=e||{};var t=this,i=b("<div />").appendTo(t.element);return t._addPane(e,t.options.panes.length,i)},insertBefore:function(e,t){t=b(t);e=e||{};var i=this,n=i.wrapper.children(".k-pane").index(t),r=b("<div />").insertBefore(b(t));return i._addPane(e,n,r)},insertAfter:function(e,t){t=b(t);e=e||{};var i=this,n=i.wrapper.children(".k-pane").index(t),r=b("<div />").insertAfter(b(t));return i._addPane(e,n+1,r)},remove:function(e){var i=this;e=i.wrapper.find(e);if(e.length){k.destroy(e);e.each(function(e,t){i.options.panes.splice(i.wrapper.children(".k-pane").index(t),1);b(t).remove()});i._removeSplitBars();if(i.options.panes.length)i.resize(true)}return i},size:O("size",true),min:O("min"),max:O("max")}),V=(e.plugin(B),{sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"}),U={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function M(e){var t=this,i=e.orientation;t.owner=e;t._element=e.element;t.orientation=i;n(t,i===y?U:V);t._resizable=new k.ui.Resizable(e.element,{orientation:i,handle:".k-splitbar-draggable-"+i+"[data-marker="+e._marker+"]",hint:t._createHint.bind(t),start:t._start.bind(t),max:t._max.bind(t),min:t._min.bind(t),invalidClass:"k-restricted-size-"+i,resizeend:t._stop.bind(t)})}return M.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){if(!this.pressed){this.press(t);this.pressed=true}if(!this._resizable.target)this._resizable.press(t);this._resizable.move(e)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(e){var t=this;return b("<div class='k-ghost-splitbar k-ghost-splitbar-"+t.orientation+"' />").css(t.alternateSizingProperty,e[t.alternateSizingProperty]())},_start:function(e){var t=this,i=b(e.currentTarget),n=i.prev(),r=i.next(),a=n.data(x),o=r.data(x),s=parseInt(n[0].style[t.positioningProperty],10),l=parseInt(r[0].style[t.positioningProperty],10)+r[0][t.sizingDomProperty]-i[0][t.sizingDomProperty],d=parseInt(t._element.css(t.sizingProperty),10),u=function(e){var t=parseInt(e,10);return(F(e)?t:d*t/100)||0},c=u(a.min),f=u(a.max)||l-s,p=u(o.min),h=u(o.max)||l-s;t.previousPane=n;t.nextPane=r;t._maxPosition=Math.min(l-p,s+f);t._minPosition=Math.max(s+c,l-h)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(e){var t=this,i=b(e.currentTarget),n=t.owner;n._panes().children(".k-splitter-overlay").remove();if(e.keyCode!==k.keys.ESC){var r=e.position,a=i.prev(),o=i.next(),s=a.data(x),l=o.data(x),d=r-parseInt(a[0].style[t.positioningProperty],10),u=parseInt(o[0].style[t.positioningProperty],10)+o[0][t.sizingDomProperty]-r-i[0][t.sizingDomProperty],c=t._element.children(C).filter(function(){return H(b(this).data(x).size)}).length;if(!H(s.size)||c>1){if(H(s.size))c--;s.size=d+"px"}if(!H(l.size)||c>1)l.size=u+"px";n.resize(true)}return false}},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.tooltip.min",["kendo.core.min","kendo.popup.min","kendo.fx.min"],function(){var e={id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"],features:[{id:"tooltip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},u=window.kendo.jQuery,n=void 0,d=window.kendo,r=d.ui.Widget,a=d.ui.Popup,o=d.isFunction,s=u.isPlainObject,l=u.extend,c=u(document),f=d.isLocalUrl,p="_tb_active",h="aria-describedby",m="show",g="hide",v="error",_="contentLoad",b="requestStart",k="k-content-frame",w='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">'+'<div class="k-tooltip-content"></div>'+'#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#'+'#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#'+"</div>",y=d.template("<iframe frameborder='0' class='"+k+"' src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),x=".kendoTooltip",C={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},S={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},T={bottom:"n",top:"s",left:"e",right:"w",center:"n"},I={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},t=function(e){return e.target.data(d.ns+"title")};function D(e){while(e.length){if(i(e))break;e=e.parent()}}function i(e){var t=e.data(d.ns+"title");if(t){e.attr("title",t);e.removeData(d.ns+"title");return true}}function E(e){var t=e.attr("title");if(t){e.data(d.ns+"title",t);e.attr("title","");return true}}function A(e){while(e.length&&!e.is("body")){if(E(e))break;e=e.parent()}}var F=r.extend({init:function(e,t){var i=this,n;r.fn.init.call(i,e,t);n=i.options.position.match(/left|right/)?"horizontal":"vertical";i.dimensions=I[n];if(d.support.touch&&this._isShownOnMouseEnter())i.element.on(d.support.mousedown+x,i.options.filter,i._showOn.bind(i));i.element.on(i.options.showOn+x,i.options.filter,i._showOn.bind(i))},options:{name:"TooltipBase",filter:"",offset:0,showAfter:100,hideAfter:100,callout:true,position:"bottom",showOn:"mouseenter",animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:true}}},destroy:function(){var e=this.popup;if(e){e.element.off(x);e.destroy()}clearTimeout(this.timeout);r.fn.destroy.call(this)},hide:function(){if(this.popup)this.popup.close()},show:function(e){e=e||this.element;this._saveTitle(e);this._show(e)},target:function(){if(this.popup)return this.popup.options.anchor;return null},_showOn:function(e){var t=this;var i=u(e.currentTarget);if(t._isShownOnClick()&&!t._isShownOnMouseEnter())t._show(i);else if(t._isShownOnFocus()){t._saveTitle(i);t._show(i)}else{clearTimeout(t.timeout);t.timeout=setTimeout(function(){t._show(i)},t.options.showAfter)}},_isShownOnFocus:function(){return this.options.showOn&&this.options.showOn.match(/focus/)},_isShownOnMouseEnter:function(){return this.options.showOn&&this.options.showOn.match(/mouseenter/)},_isShownOnClick:function(){return this.options.showOn&&this.options.showOn.match(/click/)},_positionCallout:function(){var e=this,t=e.options.position,i=e.dimensions,n=i.offset,r=e.popup,a=r.options.anchor,o=u(a).offset(),s=u(r.element).offset(),l=T[r.flipped?S[t]:t],d=o[n]-s[n]+u(a)[i.size]()/2;e._offset(t,e.options.offset);e.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+l).css(n,d)},_offset:function(e,t,i){var n=this,r=e=="top"||e=="left",a=n.popup.flipped,o=r&&a||!r&&!a?1:-1,s=r?"margin-"+e:"margin-"+S[e],l=(i||d._outerWidth(n.arrow))/2+t;n.popup.wrapper.css(s,l*o+"px")},_addDescribedBy:function(){var e=this,t=e.popup.options.anchor,i=t[0].id||e.element[0].id||d.guid(),n=[];if(t.attr(h))n.push(t.attr(h));if(i){n.push(i+p);t.attr(h,n.join(" "));e.popup.element.attr("id",i+p)}},_removeDescribedBy:function(e){var t=this.popup.element.attr("id"),i=e.attr(h),n,r,a;if(!i)return;n=i.split(" ");if(n&&n.length>0)r=n.filter(function(e){return e!==t});if(r&&r.length>0){a=r.join(" ");e.attr(h,a)}else e.removeAttr(h)},_openPopup:function(){if(!this.popup)return;this.popup._hovered=true;this.popup.open()}}),H=(d.ui.plugin(F),F.extend({init:function(e,t){var i=this,n;F.fn.init.call(i,e,t);n=i.options.position.match(/left|right/)?"horizontal":"vertical";i.dimensions=I[n];i._documentKeyDownHandler=i._documentKeyDown.bind(i);if(this._isShownOnMouseEnter()||this._isShownOnClick())i.element.on("mouseenter"+x,i.options.filter,i._mouseenter.bind(i));if(this.options.autoHide&&this._isShownOnMouseEnter())i.element.on("mouseleave"+x,i.options.filter,i._mouseleave.bind(i));if(this.options.autoHide&&this._isShownOnFocus())i.element.on("blur"+x,i.options.filter,i._blur.bind(i));if(d.support.touch)i.element.on(d.support.mousedown+x,i.options.filter,i._mouseenter.bind(i))},options:{name:"Tooltip",filter:"",content:t,showAfter:100,callout:true,offset:0,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:true}}},events:[m,g,_,v,b],_mouseenter:function(e){A(u(e.currentTarget))},_saveTitle:function(e){A(e)},_appendContent:function(e){var t=this,i=t.options.content,n=t.content,r=t.options.iframe,a;if(s(i)&&i.url){if(!("iframe"in t.options))r=!f(i.url);t.trigger(b,{options:i,target:e});if(!r){n.empty();d.ui.progress(n,true);t._ajaxRequest(i)}else{n.hide();a=n.find("."+k)[0];if(a)a.src=i.url||a.src;else n.html(y({content:i}));n.find("."+k).off("load"+x).on("load"+x,function(){t.trigger(_);n.show()})}}else if(i&&o(i)){i=i({sender:this,target:e});n.html(i||"")}else n.html(i);t.angular("compile",function(){return{elements:n}})},_ajaxRequest:function(e){var i=this,t=function(e){d.ui.progress(i.content,false);i.content.html(e);if(d._outerHeight(i.popup.element)>d._outerHeight(i.popup.wrapper)){i.popup.wrapper.css("height",d._outerHeight(i.popup.element)+"px");i.popup.position();i._positionCallout()}i.trigger(_)};jQuery.ajax(l({type:"GET",dataType:"html",cache:false,error:function(e,t){d.ui.progress(i.content,false);i.trigger(v,{status:t,xhr:e})},success:t.bind(i)},e))},_documentKeyDown:function(e){if(e.keyCode===d.keys.ESC)this.hide()},refresh:function(){var e=this,t=e.popup;if(t&&t.options.anchor)e._appendContent(t.options.anchor)},_show:function(e){var t=this,i=t.target();if(!t.popup)t._initPopup();if(i&&i[0]!=e[0]){t.popup.close();t.popup.element.kendoStop(true,true)}if(!i||i[0]!=e[0]){t._appendContent(e);t.popup.options.anchor=e}t.popup.one("deactivate",function(){D(e);t._removeDescribedBy(e);this.element.removeAttr("id").attr("aria-hidden",true);c.off("keydown"+x,t._documentKeyDownHandler)});t._openPopup()},_initPopup:function(){var e=this,t=e.options,i=u(d.template(w)({callout:t.callout&&t.position!=="center",dir:T[t.position],autoHide:t.autoHide}));e.popup=new a(i,l({autosize:true,activate:function(){e._addDescribedBy();if(t.callout)e._positionCallout();else e._offset(e.options.position,e.options.offset);this.element.removeAttr("aria-hidden");c.on("keydown"+x,e._documentKeyDownHandler);e.trigger(m);e.popup._hovered=n},close:function(){e.trigger(g)},copyAnchorStyles:false,animation:t.animation},C[t.position]));i.css({width:t.width,height:t.height});e.content=i.find(".k-tooltip-content");e.arrow=i.find(".k-callout");if(t.autoHide&&this._isShownOnMouseEnter())i.on("mouseleave"+x,e._mouseleave.bind(e));else i.on("click"+x,".k-tooltip-button",e._closeButtonClick.bind(e))},_closeButtonClick:function(e){e.preventDefault();this.hide()},_mouseleave:function(e){var t=this;clearTimeout(t.timeout);t.timeout=setTimeout(function(){t._closePopup(e.currentTarget)},t.options.hideAfter)},_blur:function(e){this._closePopup(e.currentTarget)},_closePopup:function(e){if(this.popup&&!this.popup._hovered)this.popup.close();else D(u(e))},destroy:function(){this.element.off(x);c.off("keydown"+x,this._documentKeyDownHandler);F.fn.destroy.call(this)}}));return d.ui.plugin(H),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.touch.min",["kendo.core.min","kendo.userevents.min"],function(){var e={id:"touch",name:"Touch",category:"mobile",description:"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). ",depends:["core","userevents"]},t=window.kendo.jQuery,i=void 0,a=window.kendo,o=a.ui.Widget,s=Math.abs,r=20,n=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);t=i.options;e=i.element;i.wrapper=e;function n(t){return function(e){i._triggerTouch(t,e)}}function r(t){return function(e){i.trigger(t,{touches:e.touches,distance:e.distance,center:e.center,event:e.event})}}i.events=new a.UserEvents(e,{filter:t.filter,surface:t.surface,minHold:t.minHold,multiTouch:t.multiTouch,allowSelection:true,fastTap:t.fastTap,press:n("touchstart"),hold:n("hold"),tap:i._tap.bind(i),gesturestart:r("gesturestart"),gesturechange:r("gesturechange"),gestureend:r("gestureend")});if(t.enableSwipe){i.events.bind("start",i._swipestart.bind(i));i.events.bind("move",i._swipemove.bind(i))}else{i.events.bind("start",i._dragstart.bind(i));i.events.bind("move",n("drag"));i.events.bind("end",n("dragend"))}a.notify(i)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,fastTap:false,filter:null,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},destroy:function(){o.fn.destroy.call(this);this.events.destroy()},_triggerTouch:function(e,t){if(this.trigger(e,{touch:t.touch,event:t.event}))t.preventDefault()},_tap:function(e){var t=this,i=t.lastTap,n=e.touch;if(i&&n.endTime-i.endTime<t.options.doubleTapTimeout&&a.touchDelta(n,i).distance<r){t._triggerTouch("doubletap",e);t.lastTap=null}else{t._triggerTouch("tap",e);t.lastTap=n}},_dragstart:function(e){this._triggerTouch("dragstart",e)},_swipestart:function(e){if(s(e.x.velocity)*2>=s(e.y.velocity))e.sender.capture()},_swipemove:function(e){var t=this,i=t.options,n=e.touch,r=e.event.timeStamp-n.startTime,a=n.x.initialDelta>0?"right":"left";if(s(n.x.initialDelta)>=i.minXDelta&&s(n.y.initialDelta)<i.maxYDelta&&r<i.maxDuration){t.trigger("swipe",{direction:a,touch:e.touch});n.cancel()}}});return a.ui.plugin(n),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.stepper.min",["kendo.core.min","kendo.progressbar.min"],function(){var e={id:"stepper",name:"Stepper",category:"web",description:"The Stepper widget displays navigation steps.",depends:["core","progressbar"]},s=window.kendo.jQuery,l=void 0,d=window.kendo,n=d.ui.Widget,u=d.keys,c=s.extend,t=".kendoStepper",i="click",a="activate",o="select",r="keydown",f="focusout",p=".",h=" ",m="vertical",g="tabindex",v="aria-current",_="aria-disabled",b="aria-invalid",k="aria-hidden",w={step:"k-step",firstStep:"k-step-first",lastStep:"k-step-last",doneStep:"k-step-done",successStep:"k-step-success",errorStep:"k-step-error",currentStep:"k-step-current",focusStep:"k-step-focus",disabledStep:"k-step-disabled",stepLink:"k-step-link",stepIndicator:"k-step-indicator",stepLabel:"k-step-label"},y={widget:"k-widget k-stepper",stepperLinear:"k-stepper-linear",stepList:"k-step-list",stepListHorizontal:"k-step-list-horizontal",stepListVertical:"k-step-list-vertical"},x=d.Class.extend({init:function(e){this.options=c({},this.options,e);this._render()},options:{label:"",icon:"",successIcon:"",iconTemplate:"",enabled:true,error:false,selected:false,isFirstStep:false,isLastStep:false,indicatorVisible:true,labelVisible:true,index:0,previous:false,selectable:true},_indicatorTemplate:'<span class="k-step-indicator" aria-hidden="true">'+"#if(successIcon && previous && !error) {#"+'<span class="k-step-indicator-icon k-icon k-i-#: successIcon #"></span>'+"#} else if(icon) {#"+'<span class="k-step-indicator-icon k-icon k-i-#: icon #"></span>'+"#} else if(previous && !error) {#"+'<span class="k-step-indicator-icon k-icon k-i-check"></span>'+"#} else {#"+'<span class="k-step-indicator-text">#: index + 1 #</span>'+"#}#"+"</span>",_labelTemplate:'<span class="k-step-label">'+'<span class="k-step-text">'+"#: label #"+"</span>"+" "+"#if(error || (!indicatorVisible && !error && previous)) {#"+'<span class="k-icon'+"#if(previous && !error){# k-i-check#}#"+"#if(error){# k-i-warning#}#"+'" aria-hidden="true"></span>'+"#}#"+"</span>",deselect:function(){this.options.selected=false;this._link();this._stepClasses()},enable:function(e){if(this.options.enabled!==e){this.options.enabled=e;this.options.selectable=e;this._link();this._stepClasses()}},select:function(){this.options.selected=true;this._link();this._stepClasses()},getEnabled:function(){return this.options.enabled},getIndex:function(){return this.options.index},setPrevious:function(e){this.options.previous=e;this._link();this._stepClasses()},getSelectable:function(){return this.options.selectable},getSelected:function(){return this.options.selected},setValid:function(e){if(this.options.error===e){this.options.error=!e;this._link();this._stepClasses()}},_indicator:function(){var e=this.options,t;if(!!e.iconTemplate){t=s("<span>").addClass(w.stepIndicator).attr(k,"true");t.append(d.template(e.iconTemplate)(e))}else t=d.template(this._indicatorTemplate)(e);this.element.find(p+w.stepLink).append(t)},_label:function(){var e=d.template(this._labelTemplate)(this.options);this.element.find(p+w.stepLink).append(e)},_link:function(){var e=this.options;this.element.find(p+w.stepLink).empty();this._linkAttributes();if(e.indicatorVisible)this._indicator();if(e.labelVisible)this._label()},_linkAttributes:function(){var e=this.options,t=this.element.find(p+w.stepLink);t.removeAttr(_+h+b+h+v+h+g);if(!e.selected)t.attr(g,"-1");else t.attr(v,"true");if(!e.enabled||!e.selectable)t.attr(_,"true");if(e.error)t.attr(b,"true")},_render:function(){var e=s("<a href='#'>").addClass(w.stepLink).attr("title",this.options.label);this.element=s("<li>").append(e);this._link();this._stepClasses()},_stepClasses:function(){var e=this.options,t=w.step;if(e.isFirstStep)t+=h+w.firstStep;if(e.isLastStep)t+=h+w.lastStep;if(!e.enabled)t+=h+w.disabledStep;if(e.error)t+=h+w.errorStep;if(e.previous){t+=h+w.doneStep;if(!e.error)t+=h+w.successStep}else if(e.selected){t+=h+w.currentStep;t+=h+w.focusStep}this.element.removeClass().addClass(t)}}),C=n.extend({init:function(e,t){var i=this;t=t||{};n.fn.init.call(i,e,t);i._indicatorAndLabel();i._wrapper();if(t.steps&&t.steps.length){i._processSteps(t.steps);i._progressBar()}i._attachEvents();i._resizeHandler=d.onResize(function(){i.resize()})},options:{orientation:"horizontal",linear:true,indicator:true,label:true,selectOnFocus:false,steps:null,name:"Stepper"},events:[a,o,"kendoKeydown"],destroy:function(){var e=this;if(e.progressBar)n.fn.destroy.call(e.progressBar);n.fn.destroy.call(e);d.unbindResize(e._resizeHandler);e.wrapper.off(t)},setOptions:function(e){var t=this;n.fn.setOptions.call(t,e);if(t.progressBar)n.fn.destroy.call(t.progressBar);t._indicatorAndLabel();t._addStepList();if(t.options.steps&&t.options.steps.length){t._processSteps(t.options.steps);t._progressBar()}},enable:function(i){var e=this.steps(),n=this.options.steps;var t=function(e,t){e.enable(i);n[t]=e.options};if(i)this.wrapper.removeAttr(_);else this.wrapper.attr(_,"true");this.progressBar.enable(i);e.forEach(t)},insertAt:function(e,t){var i=this.options.steps,n;var r=function(e){if(e.selected)n=e};if(!t||isNaN(e))return;if(e<0)e=i.length+e;if(e<0)return;if(!i)i=[];if(i.length===0||e>=i.length)e=i.length;i.forEach(r);if(t.selected===true)n.selected=false;i.splice(e,0,t);this._createSteps();this._renderSteps();this._resetProgressBar();this._calculateDimensions()},next:function(){if(!this._steps||this._steps.length<=1)return;var e=this.selectedStep;var t=e.getIndex();if(t+1===this._steps.length)return;else this._select(t+1)},previous:function(){if(!this._steps||this._steps.length<=1)return;var e=this.selectedStep;var t=e.getIndex();if(t===0)return;else this._select(t-1)},removeAt:function(e){var t=this.options.steps,i,n,r;if(isNaN(e)||!t||t.length<2||e>=t.length)return;if(e<0)e=t.length+e;if(e<0)return;i=t.splice(e,1)[0];if(i.selected===true&&t.length>0){if(e>0)r=e-1;else r=0;n=t[r];if(typeof n==="string"){n={label:n};t[r]=n}n.selected=true;n.previous=false}this._createSteps();this._renderSteps();this._resetProgressBar();this._calculateDimensions()},resize:function(){this._calculateDimensions()},select:function(e){var t=this;if(e===l||e===null||isNaN(e))return t.selectedStep;if(e>=t._steps.length||e<0)return;e=Number(e);t._select(e)},steps:function(e){if(e===l)return this._steps;this._processSteps(e);this._resetProgressBar();this._calculateDimensions()},_processSteps:function(e){var t=this,i;var n=function(e){if(e.selected)i=e};e.forEach(n);if(!i){if(typeof e[0]==="string")e[0]={label:e[0]};e[0].selected=true}t.options.steps=e;t._createSteps();t._renderSteps()},_addStepList:function(){var e=this;e.wrapper.empty().append(s("<ol />").addClass(y.stepList));e._stepList=e.wrapper.find(p+y.stepList);if(e.options.orientation===m)e._stepList.addClass(y.stepListVertical);else e._stepList.addClass(y.stepListHorizontal)},_attachEvents:function(){var e=this;e.wrapper.on(i+t,p+w.step,e._selectClickHandler.bind(e)).on(i+t,e._wrapperClickHandler.bind(e)).on(f+t,e._focusout.bind(e)).on(r+t,e,e._keydown.bind(e))},_calculateDimensions:function(){var e=this.options.orientation,t=this._steps.length,i=this._stepList,n=i.find(p+w.step),r=i.width()/t,a=i.height()/t,o=this.progressBar.element,s="margin-left",l={};if(e===m){n.css("max-height",100/t+"%");o.css({"margin-top":-1*(i.height()-16),height:a*(t-1)})}else{n.css("max-width",100/t+"%");if(d.support.isRtl(this.wrapper))s="margin-right";l[s]=r/2;l.width=r*(t-1);o.css(l)}},_createStep:function(e,t,i){var n=this,r=t===0,a=n.options,o=a.indicator,s=a.label;e=c({},e,{enabled:e.enabled===false?false:true});e=c({},e,{isFirstStep:r,isLastStep:i,indicatorVisible:o,labelVisible:s,index:t});return new x(e)},_createSteps:function(){var e=this,t=e.options.steps,i=false,n,r,a,o;e._steps=[];for(r=0;r<t.length;r++){o=t[r];if(typeof o==="string")o={label:o};if(o!==l){a=r===t.length-1;if(o.selected)i=true;else o=e._selectablePreviousState(o,i,r);n=e._createStep(o,r,a);e._steps.push(n);if(n.getSelected())e.selectedStep=n}}},_indicatorAndLabel:function(){if(!this.options.indicator&&!this.options.label){this.options.indicator=true;this.options.label=true}},_focusout:function(e){var t=this;if(!t.wrapper.get(0).contains(e.relatedTarget))setTimeout(function(){t._leaveStepper()})},_focusStep:function(e){var t=this.wrapper.find(p+w.focusStep),i=this.wrapper.find(p+w.stepLink);if(e.length>0){t.removeClass(w.focusStep);i.attr(g,"-1");e.find(p+w.stepLink).removeAttr(g)[0].focus()}},_focusNextStep:function(){var e=s(document.activeElement).closest(p+w.step),t=e.next();this._focusStep(t)},_focusPreviousStep:function(){var e=s(document.activeElement).closest(p+w.step),t=e.prev();this._focusStep(t)},_focusFirstStep:function(){var e=this.wrapper,t=e.find(p+w.firstStep);this._focusStep(t)},_focusLastStep:function(){var e=this.wrapper,t=e.find(p+w.lastStep);this._focusStep(t)},_keydown:function(e){var t=this,i=e.keyCode,n=s(document.activeElement).closest(p+w.step),r=n.index(),a=t.steps().length;if(i===u.TAB){if(e.shiftKey&&r>0){e.preventDefault();t._tabKey(e,-1)}else if(!e.shiftKey&&r<a-1){e.preventDefault();t._tabKey(e,+1)}}else if(i>34&&i<41){e.preventDefault();t._navKeys(e)}else if(i===u.ENTER||i===u.SPACEBAR){e.preventDefault();t._selectHandler(e,s(document.activeElement).closest(p+w.step))}else e.preventDefault()},_leaveStepper:function(){var e=this.wrapper.find(p+w.currentStep),t=this.wrapper.find(p+w.stepLink);t.removeClass(w.focusStep).attr(g,"-1");e.addClass(w.focusStep);e.find(p+w.stepLink).removeAttr(g)},_navKeys:function(e){var t=this.options.selectOnFocus;if(t)this._navKeysSelect(e);else this._navKeysFocus(e)},_navKeysFocus:function(e){var t=e.keyCode,i=d.support.isRtl(this.wrapper),n=this.options.orientation;switch(t){case u.DOWN:if(i&&n!==m)this._focusPreviousStep();else this._focusNextStep();break;case u.RIGHT:if(i)this._focusPreviousStep();else this._focusNextStep();break;case u.UP:if(i&&n!==m)this._focusNextStep();else this._focusPreviousStep();break;case u.LEFT:if(i)this._focusNextStep();else this._focusPreviousStep();break;case u.HOME:this._focusFirstStep();break;case u.END:this._focusLastStep();break}},_navKeysSelect:function(e){var t=e.keyCode,i=s(document.activeElement).closest(p+w.step).index(),n=d.support.isRtl(this.wrapper),r=this.steps(),a=this.options.orientation,o;switch(t){case u.DOWN:if(n&&a!==m)o=r[i-1];else o=r[i+1];break;case u.RIGHT:if(n)o=r[i-1];else o=r[i+1];break;case u.UP:if(n&&a!==m)o=r[i+1];else o=r[i-1];break;case u.LEFT:if(n)o=r[i+1];else o=r[i-1];break;case u.HOME:o=r[0];break;case u.END:o=r[r.length-1];break}if(o){this._focusStep(o.element);this._selectHandlerOnKey(e,o.element)}},_progressBar:function(){var e=this.wrapper,t=this._progressOptions();this.progressBar=s("<div>").kendoProgressBar(t).getKendoProgressBar();this.progressBar.element.addClass("k-pos-absolute k-overflow-hidden");this.progressBar.element.css("position","absolute");this._calculateDimensions();e.append(this.progressBar.element)},_progressOptions:function(){var e=this.options,t=e.orientation,i=e.steps,n,r;if(!i||i.length===0)return;else n=i.length;r={max:n-1,value:this.select().getIndex(),orientation:t,showStatus:false};if(t===m)r.reverse=true;return r},_resetProgressBar:function(){var e=this.progressBar,t;if(!e)return;t=this._progressOptions();e.setOptions(t)},_renderSteps:function(){var e=this._steps,t=this._stepList,i,n;t.empty();for(n=0;n<e.length;n++){i=e[n];t.append(i.element)}},_resetStep:function(e,t,i){var n=this._steps[e];if(e===t){n.options.previous=false;n.options.selected=true}else if((i||e>t)&&(!i||e<t)){n.options.selected=false;n.options.previous=i}if(this.options.linear&&(e<t-1||e>t+1))n.options.selectable=false;else n.options.selectable=true;n._link();n._stepClasses();this.options.steps[e]=n.options},_select:function(e){var t=this.options,i=t.linear,n=this.select(),r=n.getIndex(),a=t.steps,o=this._steps[e],s,l,d,u;if(!o||!o.getEnabled())return;if(e>r){s=true;if(i){d=Math.max(r-1,0);u=Math.min(e+1,a.length-1)}else{d=r;u=e}}else{s=false;if(i){d=Math.max(e-1,0);u=Math.min(r+1,a.length-1)}else{d=e;u=r}}for(l=d;l<=u;l++)this._resetStep(l,e,s);this.selectedStep=o;this.progressBar.value(e)},_selectablePreviousState:function(e,t,i){var n=this.options.steps,r=this.options.linear;if(!t){e.previous=true;if(r&&!n[i+1].selected)e.selectable=false;else e.selectable=true}else if(r&&!n[i-1].selected)e.selectable=false;else e.selectable=true;return e},_selectClickHandler:function(e){var t=s(e.target).closest(p+w.step);e.preventDefault();this._preventWrapperClick=true;this._selectHandler(e,t)},_selectHandler:function(e,t){var i=this,n=i._steps[t.index()],r=this.select();if(!n||n.getIndex()===r.getIndex()||!n.getEnabled()||!n.getSelectable()){i._focusStep(r.element);return}if(!i.trigger(o,{sender:i,originalEvent:e,step:n})){i._select(n.getIndex());t.find(p+w.stepLink)[0].focus();i.trigger(a,{sender:i,originalEvent:e,step:n})}},_selectHandlerOnKey:function(e,t){var i=this,n=i._steps[t.index()];if(!n.getEnabled()||!n.getSelectable())return;if(!i.trigger(o,{sender:i,originalEvent:e,step:n})){i._select(n.getIndex());t.find(p+w.stepLink)[0].focus();i.trigger(a,{sender:i,originalEvent:e,step:n})}},_tabKey:function(e,t){var i=this.options.selectOnFocus,n=s(document.activeElement).closest(p+w.step),r=n.index(),a=s(n.parent().find(p+w.step)[r+t]);this._focusStep(a);if(i)this._selectHandlerOnKey(e,a)},_wrapper:function(){var e=this,t=e.element;e.wrapper=t;e.wrapper.addClass(y.widget);if(e.options.linear)e.wrapper.addClass(y.stepperLinear);this._addStepList()},_wrapperClickHandler:function(e){var t=this.select();if(!this._preventWrapperClick){e.preventDefault();this._focusStep(t.element)}else this._preventWrapperClick=false}});return d.stepper={Step:x},d.ui.plugin(C),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filter.min",["kendo.core.min","kendo.buttongroup.min"],function(){var e={id:"filter",name:"Filter",category:"web",depends:["core","buttongroup"]},n={number:"<input id='#=id#' type='text' aria-label='#=field#' title='#=field#' data-#=ns#role='numerictextbox' data-#=ns#bind='value: value'/>",string:"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input id='#=id#' type='text' aria-label='#=field#' title='#=field#' class='k-input-inner' data-#=ns#bind='value: value'/></span>",boolean:"<input id='#=id#' class='k-checkbox k-checkbox-md k-rounded-md' aria-label='#=field#' data-#=ns#role='checkbox' data-#=ns#bind='checked: value' type='checkbox'>",date:"<input id='#=id#' type='text' aria-label='#=field#' title='#=field#' data-#=ns#role='datepicker' data-#=ns#bind='value: value'/>"},r={number:0,boolean:false,string:"",date:""},i="<select data-#=ns#bind='value: operator' title='#=operatorsLabel#' data-#=ns#role='dropdownlist'>"+"#for(var op in operators){#"+"<option value='#=op#'>#=operators[op].text || operators[op]#</option>"+"#}#"+"</select>",t="<div data-#=ns#bind='value: logic' data-#=ns#role='filterbuttongroup'>"+"#for(var op in operators){#"+"<span value='#=op#'>#=operators[op]#</span>"+"#}#"+"</div>",a="<ul class='k-filter-container'>"+"<li class='k-filter-group-main'></li>"+"</ul>",o="<div class='k-filter-toolbar'>"+"<div role='toolbar' aria-label='#=mainFilterLogicLabel#' class='k-toolbar' id='#=uid#'>"+"<div class='k-filter-toolbar-item'>"+t+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' role='button' aria-disabled='false' title='#=addExpression#' aria-label='#=addExpression#' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-filter-add-expression'>"+"</span>"+"</button>"+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' role='button' aria-disabled='false' title='#=addGroup#' aria-label='#=addGroup#' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-filter-add-group'>"+"</span>"+"</button>"+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-close'>"+"</span>"+"</button>"+"</div>"+"</div>"+"</div>",s="<li class='k-filter-item'>"+"<div class='k-filter-toolbar'>"+"<div role='toolbar' aria-label='#=filterLogicLabel#' class='k-toolbar'>"+"<div class='k-filter-toolbar-item'>"+t+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' role='button' title='#=addExpression#' aria-label='#=addExpression#' aria-disabled='false' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-filter-add-expression'>"+"</span>"+"</button>"+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button' role='button' title='#=addGroup#' aria-label='#=addGroup#' aria-disabled='false' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-filter-add-group'>"+"</span>"+"</button>"+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-close'>"+"</span>"+"</button>"+"</div>"+"</div>"+"</div>"+"</li>",l="<li class='k-filter-item'>"+"<div class='k-filter-toolbar'>"+"<div role='group' aria-label='#=filterExpressionLabel#' class='k-toolbar' id='#=uid#'>"+"<div class='k-filter-toolbar-item k-filter-field'>"+"<select data-#=ns#bind='value: field' title='#=fieldsLabel#' class='k-filter-dropdown' data-auto-width='true' data-#=ns#role='dropdownlist'>"+"#for(var current in fields){#"+"<option value='#=fields[current].name#'>#=fields[current].label#</option>"+"#}#"+"</select>"+"</div>"+"<div class='k-filter-toolbar-item k-filter-operator'>"+"</div>"+"<div class='k-filter-toolbar-item k-filter-value'>"+"</div>"+"<div class='k-filter-toolbar-item'>"+"<button data-role='button' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'>"+"<span class='k-button-icon k-icon k-i-close'>"+"</span>"+"</button>"+"</div>"+"</div>"+"</div>"+"</li>",d=window.kendo.jQuery,u=window.kendo,c=u.ui,f=c.Widget,p=c.ButtonGroup,h="change",m=".kendoFilter",g="Is equal to",v="Is not equal to",_=p.extend({init:function(e,t){var i=this;p.fn.init.call(i,e,t)},options:{name:"FilterButtonGroup"},value:function(e){if(e===undefined)return this._value;this._value=e;p.fn.select.call(this,this.wrapper.find("[value='"+e+"']")[0]);this.trigger(h)},select:function(e){if(e!==-1)this.value(d(e).attr("value"))}}),b=f.extend({init:function(e,t){var i=this;var n;f.fn.init.call(i,e,t);i.element=d(e).addClass("k-widget k-filter");i.dataSource=t.dataSource;i.operators=d.extend(i.options.operators,t.operators);i._getFieldsInfo();i._modelChangeHandler=i._modelChange.bind(i);i._renderMain();if(t.expression)i._addExpressionTree(i.filterModel);i._renderApplyButton();if(i.options.expressionPreview){if(!i._previewContainer)i._previewContainer=d('<div class="k-filter-preview"></div>').insertAfter(i.element.children().eq(0));n=i._createPreview(i.filterModel.toJSON());i._previewContainer.html(n)}i._attachEvents();i.hasCustomOperators()},events:[h],options:{name:"Filter",dataSource:null,expression:null,applyButton:false,fields:[],mainLogic:"and",messages:{and:"And",or:"Or",apply:"Apply",close:"Close",addExpression:"Add Expression",fields:"Fields",filterExpressionLabel:"filter expression",filterLogicLabel:"filter logic",mainFilterLogicLabel:"main filter logic",operators:"Operators",addGroup:"Add Group"},operators:{string:{eq:g,neq:v,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:g,neq:v,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:g,neq:v,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},boolean:{eq:g,neq:v}}},applyFilter:function(){var e=this.filterModel.toJSON();if(this._hasCustomOperators)this._mapOperators(e);if(this._hasFieldsFilter(e.filters||[])){this._removeEmptyGroups(e.filters);this.dataSource.filter(e)}else this.dataSource.filter({})},destroy:function(){this.element.off(m);u.destroy(this.element.find(".k-filter-group-main"));this._previewContainer=null;this._applyButton=null;this._modelChangeHandler=null;f.fn.destroy.call(this)},setOptions:function(e){u.deepExtend(this.options,e);this.destroy();this.element.empty();this.init(this.element,this.options)},getOptions:function(){var e=d.extend(true,{},this.options);delete e.dataSource;e.expression=this.filterModel.toJSON();return e},_addExpressionTree:function(e){if(e.filters){var t=this.element.find("[id="+e.uid+"]");for(var i=0;i<e.filters.length;i++){if(e.filters[i].logic)this._addGroup(t,e.filters[i]);else this._addExpression(t,e.filters[i]);if(e.filters[i].filters)this._addExpressionTree(e.filters[i])}}},_attachEvents:function(){var r=this;r.element.on("click"+m,"button.k-button",function(e){e.preventDefault();var t=d(e.currentTarget);var i=t.find("span");var n=(i.length?i:t).attr("class").split("-").pop();if(n=="close")r._removeExpression(t.closest(".k-toolbar"));else if(n=="expression")r._addExpression(t.closest(".k-toolbar"));else if(n=="group")r._addGroup(t.closest(".k-toolbar"));else if(n=="apply")r.applyFilter()})},_addExpression:function(e,t){var i=this;var n=e.attr("id");var r=e.closest(".k-filter-toolbar").next("ul.k-filter-lines");var a=t?i._fields[t.field]:i._defaultField;var o;var s="";if(t)o=t;else{o=w(i.filterModel,n);if(!o.filters)o.set("filters",[]);o=i._addNewModel(o.filters,a)}if(!r.length)r=d("<ul class='k-filter-lines'></ul>").appendTo(e.closest("li"));s=d(u.template(l)({fields:i._fields,operators:i.operators[a.type],close:i.options.messages.close,fieldsLabel:i.options.messages.fields,uid:o.uid,ns:u.ns,filterExpressionLabel:i.options.messages.filterExpressionLabel})).appendTo(r);i._addExpressionControls(s.find(".k-toolbar"),a,o);if(!t)i._expressionChange()},_addExpressionControls:function(e,t,i){var n=e.find(".k-filter-toolbar-item");var r=n.eq(1);var a=n.eq(2);u.destroy(r);u.destroy(a);r.empty();a.empty();this._appendOperators(r,t);this._appendEditor(a,t);this._bindModel(e,i);this._showHideEditor(e,i)},_appendOperators:function(e,t){d(u.template(i)({operators:t.operators&&t.operators[t.type]?t.operators[t.type]:this.operators[t.type],operatorsLabel:this.options.messages.operators,ns:u.ns})).appendTo(e)},_appendEditor:function(e,t){if(u.isFunction(t.editor))t.editor(e,d.extend(true,{},{field:t.name}));else d(u.template(t.editor)({ns:u.ns,field:t.name,id:u.guid()})).appendTo(e)},_addNewModel:function(e,t){var i;var n=t.type;var r=t.operators;var a;if(!r)r=this.options.operators;a=Object.keys(r[n])[0];e.push({field:t.name});i=e[e.length-1];i.set("value",t.defaultValue);i.set("operator",a);return i},_addGroup:function(e,t){var i=this;var n=i.filterModel;var r=e.attr("id");var a=e.closest(".k-filter-toolbar").next("ul.k-filter-lines");var o;if(t)n=t;else{n=w(n,r);if(!n.filters)n.set("filters",[]);n.filters.push({logic:i.options.mainLogic});n=n.filters[n.filters.length-1]}if(!a.length)a=d("<ul class='k-filter-lines'></ul>").appendTo(e.closest("li"));o=d(u.template(s)({operators:{and:i.options.messages.and,or:i.options.messages.or},addExpression:i.options.messages.addExpression,addGroup:i.options.messages.addGroup,close:i.options.messages.close,ns:u.ns,filterLogicLabel:i.options.messages.filterLogicLabel})).appendTo(a);i._bindModel(o.find(".k-toolbar"),n);if(!t)i._expressionChange()},_bindModel:function(e,t){e.attr("id",t.uid);t.bind("change",this._modelChangeHandler);u.bind(e,t);e.parent().attr(u.attr("stop"),true)},_createPreview:function(e){var t="";var i=false;var n=this._hasFieldsFilter(e.filters||[]);var r="";var a;var o;if(!e.filters||!e.filters.length||!n)return"";t+='<span class="k-filter-preview-bracket">(</span>';for(var s=0;s<e.filters.length;s++){a=e.filters[s];if(a.filters){r=this._createPreview(a);if(r){if(i)t+='<span class="k-filter-preview-operator"> '+e.logic.toLocaleUpperCase()+" </span>";i=true}t+=r}if(a.field){o=this._fields[a.field];if(i)t+='<span class="k-filter-preview-operator"> '+e.logic.toLocaleUpperCase()+" </span>";i=true;t+='<span class="k-filter-preview-field">'+o.label+"</span>";t+='<span class="k-filter-preview-criteria"> '+this._getOperatorText(a.field,a.operator);if(a.operator.indexOf("is")<0){t+=" </span>";t+="<span class='k-filter-preview-value'>'"+u.htmlEncode(o.previewFormat?u.toString(a.value,o.previewFormat):a.value)+"'</span>"}else t+="</span>"}}t+='<span class="k-filter-preview-bracket">)</span>';return t},_expressionChange:function(){var e=this;var t=e.filterModel.toJSON();var i="";if(e.options.expressionPreview){i=e._createPreview(t);e._previewContainer.html(i)}e.trigger(h,{expression:t})},_getOperatorText:function(e,t){var i=this._fields[e].type;var n=this._fields[e].operators;if(!n)n=this.options.operators;return n[i][t].text||n[i][t]},_addField:function(e,t){var i=this;e=d.extend(true,{},{name:e.name||t,editor:e.editorTemplate||n[e.type||"string"],defaultValue:e.defaultValue||e.defaultValue===false||e.defaultValue===0?e.defaultValue:r[e.type||"string"],type:e.type||"string",label:e.label||e.name||t,operators:e.operators,previewFormat:e.previewFormat});i._fields[e.name]=e;if(!i._defaultField)i._defaultField=e},_getFieldsInfo:function(){var e=this;var t=e.options.fields.length?e.options.fields:(e.options.dataSource.options.schema.model||{}).fields;var i;e._fields={};if(Array.isArray(t))for(var n=0;n<t.length;n++){i=t[n];e._addField(i)}else for(var r in t){i=t[r];e._addField(i,r)}},_hasFieldsFilter:function(e,t){t=!!t;for(var i=0;i<e.length;i++){if(e[i].filters)t=this._hasFieldsFilter(e[i].filters,t);if(e[i].field)return true}return t},_removeEmptyGroups:function(e){if(!e)return;for(var t=e.length-1;t>=0;t--){if(e[t].logic&&!e[t].filters||e[t].filters&&!this._hasFieldsFilter(e[t].filters)){e.splice(t,1);continue}if(e[t].filters)this._removeEmptyGroups(e[t].filters)}},_modelChange:function(e){var t=this;var i=t.element.find("[id="+e.sender.uid+"]");t._showHideEditor(i,e.sender);if(e.field!=="field"){if(e.field!=="filters")t._expressionChange();return}var n=e.sender.field;var r=e.sender.parent();var a=t._fields[n];var o=t._addNewModel(r,a);e.sender.unbind("change",t._modelChangeHandler);r.remove(e.sender);t._addExpressionControls(i,a,o);t._expressionChange()},_renderMain:function(){var e=this;d(a).appendTo(e.element);if(e.options.expression)e.filterModel=u.observable(e.options.expression);else e.filterModel=u.observable({logic:e.options.mainLogic});d(u.template(o)({operators:{and:e.options.messages.and,or:e.options.messages.or},addExpression:e.options.messages.addExpression,addGroup:e.options.messages.addGroup,close:e.options.messages.close,uid:e.filterModel.uid,ns:u.ns,mainFilterLogicLabel:e.options.messages.mainFilterLogicLabel})).appendTo(e.element.find("li").first());e._bindModel(e.element.find(".k-toolbar").first(),e.filterModel)},_removeExpression:function(e){var t=this;var i=e.attr("id");var n=e.closest("li");var r=n.hasClass("k-filter-group-main");var a;var o;if(r){n=n.find(".k-filter-lines");if(t.filterModel.filters){t.filterModel.filters.empty();delete t.filterModel.filters}}else{o=w(t.filterModel,i);a=o.parent();o.unbind("change",t._modelChangeHandler);a.remove(o);if(!a.length)delete a.parent().filters;if(!n.siblings().length)n=n.parent()}u.destroy(n);n.remove();t._expressionChange()},_renderApplyButton:function(){var e=this;if(!e.options.applyButton)return;if(!e._applyButton)e._applyButton=d(u.format('<button type="button" aria-label="{0}" title="{0}" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-filter-apply">{0}</button>',e.options.messages.apply)).appendTo(e.element)},_showHideEditor:function(e,t){if(t.logic)return;var i=t.operator;var n=e.find(".k-filter-toolbar-item").eq(2);if(i=="isnull"||i=="isnotnull"||i=="isempty"||i=="isnotempty"||i=="isnullorempty"||i=="isnotnullorempty")n.hide();else n.show()},_mapOperators:function(e){var r=this;if(e.filters)e.filters.forEach(function(e){if(e.filters)r._mapOperators(e);else{var t;var i=r._fields[e.field];var n=i.type;if(i.operators&&i.operators[n][e.operator])t=i.operators[n][e.operator];else t=r.operators[n][e.operator];if(t)e.operator=t.handler||e.operator}})},hasCustomOperators:function(){var e=d.extend(true,{},this.operators);for(var t in this._fields)e=d.extend(true,{},e,this._fields[t].operators);this._hasCustomOperators=k(e)}});function k(e){for(var t in e){var i=e[t];if(i.handler&&typeof i.handler==="function"||typeof i==="object"&&i!==null&&k(i))return true}return false}function w(e,t){if(e.uid===t)return e;if(e.filters)for(var i=0;i<e.filters.length;i++){var n=w(e.filters[i],t);if(n)return n}}return c.plugin(b),c.plugin(_),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.custom.min",["./kendo.button.min","./kendo.buttongroup.min","./kendo.combobox.min","./kendo.dateinput.min","./kendo.datepicker.min","./kendo.datetimepicker.min","./kendo.dropdowntree.min","./kendo.grid.min","./kendo.editor.min","./kendo.filemanager.min","./kendo.listbox.min","./kendo.listview.min","./kendo.menu.min","./kendo.multiselect.min","./kendo.panelbar.min","./kendo.slider.min","./kendo.splitter.min","./kendo.tabstrip.min","./kendo.tooltip.min","./kendo.treeview.min","./kendo.upload.min","./kendo.window.min","./kendo.touch.min","./kendo.autocomplete.min","./kendo.stepper.min","./kendo.filter.min"],function(){"bundle all";return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.custom.min.js.map
